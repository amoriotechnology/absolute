if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("AdsAssetFeedChangeBlockerDialogDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{blockerActionData:b.data}}};b=a;f["default"]=b}),66);
__d("AdsAssetFeedSetChangeBlockerActionDataAction",["AdsAssetFeedChangeBlockerDialogDataProvider","AdsAssetFeedChangeBlockerDialogDataReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAssetFeedChangeBlockerDialogDataReducerPlugin"),b("AdsAssetFeedChangeBlockerDialogDataProvider"),{},"")]},function(){return[]},"ADS_ASSET_FEED.SET_CHANGE_BLOCKER_ACTION");e.exports=a}),null);
__d("AdsSFSetSelectedItemsFromAdgroupSpecReducerPlugin",["AdsAssetFeedFieldUtils","AdsCreativeOptimizationToolsPlugins","AdsImageIDClasses","AdsImageInfoStore","AdsImageSelectorV2Types","AdsPlacementAssetTargetingRuleUtils","AdsSFMediaPickerDataProvider","AdsSFMediaPickerReopeningUtils","AdsVideoSelectionHeaderTabTypes","ApiDynamicCreativeOptimizationTypes","Laminar","immutable"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b;if(((b=a.creative)==null?void 0:(b=b.asset_feed_spec)==null?void 0:b.optimization_type)===c("ApiDynamicCreativeOptimizationTypes").PLACEMENT){var e;b=d("AdsPlacementAssetTargetingRuleUtils").getDefaultTargetRuleLabel(a,"image_label");return{imageHash:(e=d("AdsAssetFeedFieldUtils").getAssetEntryForLabel((e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.images,b,"hash"))==null?void 0:e.fieldValue,imageURL:(e=d("AdsAssetFeedFieldUtils").getAssetEntryForLabel((e=a.creative)==null?void 0:(e=e.asset_feed_spec)==null?void 0:e.images,b,"url"))==null?void 0:e.fieldValue}}else{return{imageHash:(b=a.creative)==null?void 0:(e=b.object_story_spec)==null?void 0:(b=e.link_data)==null?void 0:b.image_hash,imageURL:(e=a.creative)==null?void 0:(b=e.object_story_spec)==null?void 0:(a=b.link_data)==null?void 0:a.picture}}}function i(a,b){var c=a.imageHash;a=a.imageURL;if(c!=null)return d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(b,c);else if(a!=null)return d("AdsImageIDClasses").AdsImageID.fromExternalURL(a);return null}function j(a,b,c){a=h(a);a=i(a,b);if(a==null)return null;b=c(a).map(function(a){return a.getTyped()});c={type:"image",id:a};a=babelHelpers["extends"]({},c,{asset:b,crops:null,trimmingParams:null});return{baseAssetID:c,baseAsset:a}}function k(a,b){a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.images;if(a==null)return null;a=a.find(function(a){a=a.get("adlabels")||c("immutable").List();return a instanceof c("immutable").List?a.some(function(a){return a.get("name")===b}):!1});a=a==null?void 0:a.get("image_crops");return a instanceof c("immutable").Map?a.toJS():null}function l(a,b,c,e){var f,g;b=d("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable(b,"image_label");f=(f=d("AdsAssetFeedFieldUtils").getAssetEntryForLabel((f=a.creative)==null?void 0:(f=f.asset_feed_spec)==null?void 0:f.images,b,"hash"))==null?void 0:f.fieldValue;g=(g=d("AdsAssetFeedFieldUtils").getAssetEntryForLabel((g=a.creative)==null?void 0:(g=g.asset_feed_spec)==null?void 0:g.images,b,"url"))==null?void 0:g.fieldValue;f=i({imageHash:f,imageURL:g},c);if(f==null)return null;g=k(a,b);c=e(f).map(function(a){return a.getTyped()});return{type:"image",id:f,asset:c,crops:g,trimmingParams:null}}function m(a,b,e,f){var g;e=d("AdsSFMediaPickerReopeningUtils").getAspectRatio2ClosestMatchingCustomizationRuleIdx(a,e);e=e.aspectRatio2ClosestMatchingCustomizationRuleIdx;var h=(g=(g=a.creative)==null?void 0:(g=g.asset_feed_spec)==null?void 0:g.asset_customization_rules)!=null?g:c("immutable").List([]),i=new Map();e.forEach(function(c){var d=c.aspectRatio;c=c.idx;c=h.get(c);c=l(a,c,b,f);c!=null&&i.set(d,c)});return c("immutable").Map(i)}function n(a){var b=new Map();c("AdsCreativeOptimizationToolsPlugins").getList().forEach(function(c){var d=c.getAppliedChangeSetFromAdgroup(a);d!=null&&b.set(c.key,d)});return c("immutable").Map(b)}a={reduce:d("Laminar").withFluxSelectors({getImage:c("AdsImageInfoStore").getFullSizeSelector},function(a,b,e){a=e.getImage;e=j(b.adgroup,b.accountID,a);if(e==null)return c("AdsSFMediaPickerDataProvider").getInitialState();var f=e.baseAsset;e=e.baseAssetID;a=m(b.adgroup,b.accountID,b.groupsByAspectRatio,a);var g=n(b.adgroup);return{croppingChangeSets:a,isManualCrops:!1,optimizationChangeSets:g,selectedBaseAsset:f,selectedBaseAssetID:e,targetAspectRatio:null,imagePickerSource:d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,videoPickerSource:c("AdsVideoSelectionHeaderTabTypes").ACCOUNT,currentStep:b.currentStep,optimizationStepSeen:!0,isReopened:!0,page:null,hasCachedData:!1}})};b=a;g["default"]=b}),98);
__d("AdsSFSetSelectedItemsFromAdgroupSpecAction",["AdsSFMediaPickerDataProvider","AdsSFSetSelectedItemsFromAdgroupSpecReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsSFSetSelectedItemsFromAdgroupSpecReducerPlugin"),b("AdsSFMediaPickerDataProvider"),{},"")]},function(){return[]},"AdsSFSetSelectedItemsFromAdgroupSpecActionPlugin");e.exports=a}),null);
__d("AdsUEditorAdgroupEditCarteSegmentAction",["Laminar","ifRequired_FOR_LAMINAR_CODEGEN"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsUEditorAdgroupEditCarteSegmentReducerPlugin",function(a){return b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsCFAdgroupDataProvider",function(c){return b("Laminar").__createReducer(a,c,{},"")})})]},function(){return[]},"ADS_EDIT_CARTE_SEGMENT");e.exports=a}),null);
__d("AdsBaseDataStore",["AdsDataAtom","Cache","FluxStore","LoadObject","abstractMethod","adsCreateStoreThunkSelector","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this,c("AdsDataAtom"))||this;b.$AdsBaseDataStore1=new(c("Cache"))();b.$AdsBaseDataStore2=new Set();b.getSelector=c("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(b),b.get.bind(babelHelpers.assertThisInitialized(b)));b.getAllSelector=c("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(b),b.getAll.bind(babelHelpers.assertThisInitialized(b)));return b}var d=b.prototype;d.getDataManager=function(){c("abstractMethod")("AdsBaseDataStore","getDataManager");return c("nullthrows")(null)};d.get=function(a){return(a=this.getAll([a]).get(a))!=null?a:c("LoadObject").empty()};d.getCached=function(a){return(a=this.getAllCached([a]).get(a))!=null?a:c("LoadObject").empty()};d.getAll=function(a){var b=this.__updateLoading(a);b.length>0&&this.getDataManager().loadAll(b);return this.getAllCached(a)};d.getAllCached=function(a){return this.$AdsBaseDataStore1.getAll(a,c("LoadObject").empty())};d.getTimeout=function(){return null};d.__clearCache=function(){this.$AdsBaseDataStore1.clear()};d.__cacheContains=function(a){return this.$AdsBaseDataStore1.has(a)};d.__delete=function(a){this.$AdsBaseDataStore1.set(a,this.getCached(a).deleting()),this.getDataManager()["delete"](a),this.__emitChange()};d.__updateLoading=function(a){var b=this,d=[];a.forEach(function(a){var e=b.$AdsBaseDataStore1.get(a);e||(b.$AdsBaseDataStore1.set(a,c("LoadObject").loading()),d.push(a))});return d};d.__updatePendingWrite=function(a){};d.__invalidate=function(a){return this.$AdsBaseDataStore1.has(a)?this.$AdsBaseDataStore1["delete"](a):!1};d.__invalidateAll=function(a){var b=this,c=!1;a.forEach(function(a){a=b.__invalidate(a);c=c||a});return c};d.__invalidateAllErrors=function(){var a=this,b=!1,c=this.getAllCached(Array.from(this.$AdsBaseDataStore2.values()));c.forEach(function(c,d){if(c.hasError()){c=a.__invalidate(d);b=c||b;a.$AdsBaseDataStore2["delete"](d)}});return b};d.__handleDataLoaded=function(a){var b=this;a&&a.size>0&&a.forEach(function(a,d){a=c("LoadObject").withValue(a);b.$AdsBaseDataStore2.add(d);b.$AdsBaseDataStore1.set(d,a,null,b.getTimeout())});this.__emitChange()};d.__handleError=function(a){var b=this;a&&a.size>0&&(a.forEach(function(a,d){var e=b.getCached(d);a=c("LoadObject").withError(a);e.hasValue()&&(a=a.setValue(e.getValueEnforcing()));b.$AdsBaseDataStore2.add(d);b.$AdsBaseDataStore1.set(d,a,null,b.getTimeout())}),this.__emitChange())};return b}(c("FluxStore"));a.__moduleID=f.id;g["default"]=a}),98);
__d("AdsBulkCheckboxInput.react",["invariant","AdsMixedValue","AdsUniformValue","FDSCheckboxInput.react","FDSFormUtils","SUIThreeStateCheckboxInput.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a){d.props.onValueChange(new(c("AdsUniformValue"))(a))},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.render=function(){var a;this.props.selectedValue instanceof c("AdsUniformValue")?a=this.props.selectedValue.getValue()?c("SUIThreeStateCheckboxInput.react").CHECKBOX_STATES.CHECKED:c("SUIThreeStateCheckboxInput.react").CHECKBOX_STATES.UNCHECKED:this.props.selectedValue instanceof c("AdsMixedValue")?a=c("SUIThreeStateCheckboxInput.react").CHECKBOX_STATES.PARTIAL:h(0,26,this.props.selectedValue);return i.jsx("div",{className:c("stylex")(this.props.xstyle),children:i.jsx(c("FDSCheckboxInput.react"),{"data-testid":void 0,description:this.props.helpText,isDisabled:!!this.props.disabled,label:this.props.label,value:d("FDSFormUtils").mapCheckboxState(a),onChange:this.$1})})};return b}(i.Component);g["default"]=a}),98);
__d("AdsAssetFeedChangeBlockerTypes",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({EDITING_CHANGE_LINK_POST_FORMAT:"",EDITING_CHANGE_MEDIA_FORMAT:"",UEDITOR_ADD_CANVAS:"",UEDITOR_CHANGE_CTA_TYPE:"",UEDITOR_CHANGE_LINK_TYPE:"",UEDITOR_OVERRIDE_PLACEMENT_CUSTOMIZATIONS:"",UEDITOR_OVERRIDE_PLACEMENT_CUSTOMIZATIONS_MEDIA_PICKER:"",UEDITOR_REMOVE_LINK:"",UEDITOR_REMOVE_LINK_DLO_DISABLE:"",UEDITOR_REMOVE_LINK_DLO:"",UEDITOR_REMOVE_MULTI_TEXT:"",UEDITOR_ADD_LINK_DLO:"",UEDITOR_RESTORE_VARIANTS:"",UEDITOR_ADD_POLITICAL_AD_WITH_AUTOMATIC_TRANSLATION:"",UEDITOR_TURN_ON_DYNAMIC_CROP:"",UEDITOR_TURN_ON_DYNAMIC_CAROUSEL:"",UEDITOR_REMOVE_MAP_CARD:"",UEDITOR_REMOVE_MULTI_TEXT_AND_MAP_CARD:"",UEDITOR_REMOVE_PAC_CUSTOMIZATION_CANVAS:"",UEDITOR_UNSUPPORTED_CTA:""});g.AdsAssetFeedChangeBlockerActionTypes=a}),98);
__d("adsPACgetAssetGroupsByAsset",["AdsPlacementAssetUtils","adsPlacementCustomizationGetDefaultMediaAdlabel","immutable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.customizationData;var b=c("adsPlacementCustomizationGetDefaultMediaAdlabel")(a);return a.reduce(function(a,c){var e=c.assets.media;c=c.placements;return a.set((a=e.adlabel)!=null?a:b,d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(c))},c("immutable").Map())}g["default"]=a}),98);
__d("adsUEditorAdLabelToMediaFormatMapSelector",["adsCreateSelector","adsUEditorPlacementCustomizationDataValueSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationDataValueSelector")],function(a){a=((a==null?void 0:a.customizationData)||c("immutable").List()).reduce(function(a,b){b=b.assets.media;b.adlabel!=null&&a.push([b.adlabel,b.format]);return a},[]);return c("immutable").Map(a)},{equal:c("immutable").is,name:f.id+".adsUEditorAdLabelToMediaFormatMapSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationPlacementsSelector",["AdsPlacementAssetUtils","adsCreateSelector","adsUEditorPlacementCustomizationDataSelector","areEqual","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").List();a=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationDataSelector")],function(a){a=a.hasValue()?a.getValueEnforcing():null;return(a=a==null?void 0:a.derivedValues.assetGroups)!=null?a:h},{equal:c("areEqual"),name:f.id+".selectAllAssetGroups"});b=c("adsCreateSelector")([a],function(a){return d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(a)},{name:f.id+".adsUEditorPlacementCustomizationPlacementsSelector"});e=b;g["default"]=e}),98);
__d("AdsUEditorPacerCustomizationDataSelectors",["AdsAspectRatioTypeStrings","AdsAssetGroupStrings","AdsMediaAspectRatioUtils","adsCreateSelector","adsPACgetAssetGroupsByAsset","adsPlacementGetSelectedAssetGroupsByAspectRatio","adsUEditorAccountSelector","adsUEditorAdLabelToMediaFormatMapSelector","adsUEditorAdgroupImageEligibleAspectRatiosSelector","adsUEditorPACSupportedAssetGroupsSelector","adsUEditorPlacementCustomizationDataSelector","adsUEditorPlacementCustomizationPlacementsSelector","areEqual","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map(),i=c("immutable").Map(),j=c("immutable").List();a=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationDataSelector")],function(a){return a.hasValue()?a.getValueEnforcing():null},{equal:c("areEqual"),name:f.id+".selectPacData"});b=c("adsCreateSelector")([a],function(a){return(a==null?void 0:a.customizationData)||j},{equal:c("areEqual"),name:f.id+".selectCustomizationData"});e=c("adsCreateSelector")([a],function(a){return a!=null?c("adsPACgetAssetGroupsByAsset")(a):h},{equal:c("areEqual"),name:f.id+".selectAssetGroupsByAssetLabel"});var k=c("adsCreateSelector")([b],function(a){return c("immutable").Map(a.map(function(a){var b;return[(b=a.assets)==null?void 0:(b=b.media)==null?void 0:b.adlabel,a.assets]}))},{equal:c("areEqual"),name:f.id+".selectCustomizationDataAssetByLabel"});a=c("adsCreateSelector")([a],function(a){return(a==null?void 0:a.derivedValues.mediaAssets)||i},{equal:c("areEqual"),name:f.id+".selectMediaAssetByLabel"});var l=c("adsCreateSelector")([b],function(a){return a.some(function(a){return!a.isDefault})},{equal:c("areEqual"),name:f.id+".adsUEditorPacerCustomizationExistsSelector"}),m=c("adsCreateSelector")([e],function(a){return a.valueSeq().toList().flatten()},{equal:c("areEqual"),name:f.id+".adsUEditorPacerAssetGroupsSelector"});k=c("adsCreateSelector")([e,c("adsUEditorPACSupportedAssetGroupsSelector"),c("adsUEditorAdLabelToMediaFormatMapSelector"),k],function(a,b,d,e){return c("immutable").Map(a.flatMap(function(a,c){return a.map(function(a){var f,g,h=e.get(c);f=(f=h.media)==null?void 0:f.isCustomized;g=((g=h.bodies)==null?void 0:g.isCustomized)||((g=h.description)==null?void 0:g.isCustomized)||((g=h.headline)==null?void 0:g.isCustomized)||!1;h=(h=(h=h.url)==null?void 0:h.isCustomized)!=null?h:!1;var i=f||g||h;return[a,{assetLabel:c,hasEdit:i,hasMediaEdit:f,hasTextEdit:g,hasUrlEdit:h,isPACSupportedPlacement:b.includes(a),mediaFormat:d.get(c)}]})}))},{equal:c("areEqual"),name:f.id+".adsUEditorPacerAssetGroupInfoMapSelector"});var n=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationPlacementsSelector"),c("adsUEditorAdgroupImageEligibleAspectRatiosSelector")],function(a,b){return c("adsPlacementGetSelectedAssetGroupsByAspectRatio")(a,b,"image")},{equal:function(a,b){return a.size===b.size&&a.every(function(a,d){return c("areEqual")(a,b.get(d))})},name:f.id+".adsUEditorPacerSelectImageAssetGroupsByAspectRatio"}),o=c("adsCreateSelector")([n,c("adsUEditorAccountSelector")],function(a,b){return a.map(function(a,c){return{aspectRatio:c,assetGroups:a.toArray(),subTitle:d("AdsAspectRatioTypeStrings").getAspectRatioTypeNameWithRatio(c),title:d("AdsAssetGroupStrings").getAssetGroupsTitle(a,b.capabilities)}})},{name:f.id+".adsUEditorPacerAspectRatioPlacementGroupMapSelector"});function p(a,b,d){a=a.assets.media.adlabel;b=a!=null?b.get(a):j;return c("immutable").List(b).map(function(a){return d.get(a)}).filter(Boolean).groupBy(function(a){return a}).map(function(a){return a.count()})}b=c("adsCreateSelector")([b,e,o],function(a,b,e){var f=a.find(function(a){return!a.assets.media.isCustomized}),g=c("immutable").Map(e.flatMap(function(a){var b=a.aspectRatio;a=a.assetGroups;return a.map(function(a){return[a,b]})})),h=c("immutable").Map();a.forEach(function(a){var c=p(a,b,g);c.forEach(function(b,c){var d=h.get(c);(d==null||d.placementCount<b)&&(h=h.set(c,{customization:a,placementCount:b}))})});return h.mapEntries(function(a){var b=a[0];a=a[1];var c=a.customization;a=a.placementCount;return!c.isDefault&&a===1&&e.get(b).assetGroups.length>1?[b,f]:[b,c]}).sortBy(function(a,b){return b},function(a,b){return d("AdsMediaAspectRatioUtils").getDefaultAspectRatioPriority(a)-d("AdsMediaAspectRatioUtils").getDefaultAspectRatioPriority(b)})},{equal:c("areEqual"),name:f.id+".adsUEditorPacerAspectRatioCustomizationDataMapSelector"});e=c("adsCreateSelector")([b,a,c("adsUEditorAdLabelToMediaFormatMapSelector")],function(a,b,c){return a.map(function(a){var d=a==null?void 0:a.assets.media.adlabel,e=d!=null?b.get(d):null;return{asset:e,assetLabel:d,isDefault:a==null?void 0:a.isDefault,mediaFormat:d!=null?c.get(d):null}})},{equal:c("areEqual"),name:f.id+".adsUEditorPacerAspectRatioInfoMapSelector"});g.adsUEditorPacerCustomizationExistsSelector=l;g.adsUEditorPacerAssetGroupsSelector=m;g.adsUEditorPacerAssetGroupInfoMapSelector=k;g.adsUEditorPacerSelectImageAssetGroupsByAspectRatio=n;g.adsUEditorPacerAspectRatioPlacementGroupMapSelector=o;g.adsUEditorPacerAspectRatioCustomizationDataMapSelector=b;g.adsUEditorPacerAspectRatioInfoMapSelector=e}),98);
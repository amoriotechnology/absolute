if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("MessengerDesktopAppLinks",[],(function(a,b,c,d,e,f){e.exports={macOSX:"/messenger/desktop/downloadV2/?platform=mac",windows:"/messenger/desktop/downloadV2/?platform=win",download:"https://messenger.com/desktop/#startDownload"}}),null);
__d("XMessengerAdsClickToDirectTrustSignalsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/click_to_direct_trust_signals/",{ig_fbid_v2:{type:"FBID",required:!0}})}),null);
__d("AdsMessengerClickToDirectTrustSignalsDataManager",["AsyncRequest","Promise","XMessengerAdsClickToDirectTrustSignalsController","err"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var d=a.prototype;d.getIgBusinessResponsiveness=function(a){var d=c("XMessengerAdsClickToDirectTrustSignalsController").getURIBuilder().setFBID("ig_fbid_v2",a).getURI();return new(b("Promise"))(function(a,b){new(c("AsyncRequest"))().setURI(d).setHandler(function(d){d=d.payload;d.error?b(c("err")(d.error)):a(d.responsiveness)}).setErrorHandler(function(a){b(a)}).send()})};return a}();d=new a();g["default"]=d}),98);
__d("AdsClickToDirectTrustSignalsDataProviderPlugin",["AdsMessengerClickToDirectTrustSignalsDataManager","LoadObjectMap","promiseDone","promiseLoadObjects"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return c("LoadObjectMap").create(function(b){var d=new Map();b.forEach(function(a){return d.set(a,c("AdsMessengerClickToDirectTrustSignalsDataManager").getIgBusinessResponsiveness(a))});c("promiseDone")(c("promiseLoadObjects")(d),function(b){a(function(a){return a.merge(b)})})})}};b=a;g["default"]=b}),98);
__d("AdsClickToDirectTrustSignalsDataProvider",["AdsClickToDirectTrustSignalsDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsClickToDirectTrustSignalsDataProviderPlugin"),"AdsClickToDirectTrustSignalsDataProviderPlugin")}),null);
__d("AdsMessengerLeadGenDefaultSwitchBackDataProviderPlugin",["immutable"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:c("immutable").Set()};b=a;g["default"]=b}),98);
__d("AdsMessengerLeadGenDefaultSwitchBackDataProvider",["AdsMessengerLeadGenDefaultSwitchBackDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerLeadGenDefaultSwitchBackDataProviderPlugin"),"AdsMessengerLeadGenDefaultSwitchBackDataProviderPlugin")}),null);
__d("AdsMessengerLeadGenDefaultSwitchBackDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=a;b.adgroupIDs.forEach(function(a){c=c.add(a)});return c}};b=a;f["default"]=b}),66);
__d("AdsMessengerLeadGenDefaultSwitchBackAction",["AdsMessengerLeadGenDefaultSwitchBackDataProvider","AdsMessengerLeadGenDefaultSwitchBackDataReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerLeadGenDefaultSwitchBackDataReducerPlugin"),b("AdsMessengerLeadGenDefaultSwitchBackDataProvider"),{},"")]},function(){return[]},"AdsMessengerLeadGenDefaultSwitchBackActionPlugin");e.exports=a}),null);
__d("XMessengerAdsLeadGenHOPSettingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/lead_gen_hop_app/",{page_id:{type:"FBID",required:!0}})}),null);
__d("AdsMessengerLeadGenHOPEligibilityDataManager",["AsyncTypedRequest","Promise","XMessengerAdsLeadGenHOPSettingController"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var d=a.prototype;d.getHOPData=function(a){var d=c("XMessengerAdsLeadGenHOPSettingController").getURIBuilder().setFBID("page_id",a).getURI();return new(b("Promise"))(function(a,b){try{var e=new(c("AsyncTypedRequest"))(d).promisePayload();a(e)}catch(a){b(a)}})};return a}();d=new a();g["default"]=d}),98);
__d("AdsMessengerLeadGenHOPEligibilityDataProviderPlugin",["AdsMessengerLeadGenHOPEligibilityDataManager","LoadObject","LoadObjectMap","promiseDone","promiseLoadObjects"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a(function(a){return a.set(b.pageID,c("LoadObject").withValue(b.leadGenHOPAppData))})}a={initialState:function(a){return c("LoadObjectMap").create(function(b){var d=new Map();b.forEach(function(a){return d.set(a,c("AdsMessengerLeadGenHOPEligibilityDataManager").getHOPData(a))});c("promiseDone")(c("promiseLoadObjects")(d),function(b){b.forEach(function(b,c){b.hasValue()&&h(a,{pageID:c,leadGenHOPAppData:b.getValueEnforcing()})})})})}};b=a;g["default"]=b}),98);
__d("AdsMessengerLeadGenHOPEligibilityDataProvider",["AdsMessengerLeadGenHOPEligibilityDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerLeadGenHOPEligibilityDataProviderPlugin"),"AdsMessengerLeadGenHOPEligibilityDataProviderPlugin")}),null);
__d("XMessengerAdsLeadGenWarningLowLeadsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/commerce/messenger_monetization/lead_gen_warning_low_leads/",{page_id:{type:"FBID",required:!0},ad_account_id:{type:"FBID",required:!0}})}),null);
__d("AdsMessengerLeadGenInLGObjectiveWarningLowLeadsDataManager",["AsyncTypedRequest","Promise","XMessengerAdsLeadGenWarningLowLeadsController"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var d=a.prototype;d.getEligibility=function(a,d){var e=c("XMessengerAdsLeadGenWarningLowLeadsController").getURIBuilder().setFBID("page_id",a).setFBID("ad_account_id",d).getURI();return new(b("Promise"))(function(a,b){new(c("AsyncTypedRequest"))().setURI(e).setHandler(function(c){c=c.payload;c.error?b(c.error):a(c)}).setErrorHandler(function(a){b(a)}).send()})};return a}();d=new a();g["default"]=d}),98);
__d("AdsMessengerLeadGenInLGObjectiveWarningLowLeadsDataProviderPlugin",["AdsMessengerLeadGenInLGObjectiveWarningLowLeadsDataManager","LoadObjectMap","promiseDone","promiseLoadObjects"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return c("LoadObjectMap").createKeyed(function(b){var d=new Map();b.forEach(function(a){return d.set(a,c("AdsMessengerLeadGenInLGObjectiveWarningLowLeadsDataManager").getEligibility(a.pageID,a.accountID))});c("promiseDone")(c("promiseLoadObjects")(d),function(b){a(function(a){return a.merge(b)})})},function(a){return a.accountID+"_"+a.pageID})}};b=a;g["default"]=b}),98);
__d("AdsMessengerLeadGenInLGObjectiveWarningLowLeadsDataProvider",["AdsMessengerLeadGenInLGObjectiveWarningLowLeadsDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerLeadGenInLGObjectiveWarningLowLeadsDataProviderPlugin"),"AdsMessengerLeadGenInLGObjectiveWarningLowLeadsDataProviderPlugin")}),null);
__d("AdsMessengerLeadGenSeenDefaultingDataProviderPlugin",["immutable"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:c("immutable").Map()};b=a;g["default"]=b}),98);
__d("AdsMessengerLeadGenSeenDefaultingDataProvider",["AdsMessengerLeadGenSeenDefaultingDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerLeadGenSeenDefaultingDataProviderPlugin"),"AdsMessengerLeadGenSeenDefaultingDataProviderPlugin")}),null);
__d("AdsMessengerLeadGenSeenDefaultingDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=a;b.adgroupIDs.forEach(function(a){c=c.set(a,!0)});return c}};b=a;f["default"]=b}),66);
__d("AdsMessengerLeadGenSeenDefaultingAction",["AdsMessengerLeadGenSeenDefaultingDataProvider","AdsMessengerLeadGenSeenDefaultingDataReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerLeadGenSeenDefaultingDataReducerPlugin"),b("AdsMessengerLeadGenSeenDefaultingDataProvider"),{},"")]},function(){return[]},"AdsMessengerLeadGenSeenDefaultingActionPlugin");e.exports=a}),null);
__d("AdsMessengerOrdersDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{isOrdersSwitchEnabled:!1}};b=a;f["default"]=b}),66);
__d("AdsMessengerOrdersDataProvider",["AdsMessengerOrdersDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerOrdersDataProviderPlugin"),"AdsMessengerOrdersDataProviderPlugin")}),null);
__d("AdsMessengerOrdersSwitchToggleReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{isOrdersSwitchEnabled:b.isOrdersEnabled})}};b=a;f["default"]=b}),66);
__d("AdsMessengerOrdersSwitchToggleAction",["AdsMessengerOrdersDataProvider","AdsMessengerOrdersSwitchToggleReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerOrdersSwitchToggleReducerPlugin"),b("AdsMessengerOrdersDataProvider"),{},"")]},function(){return[]},"AdsMessengerOrdersSwitchToggleActionPlugin");e.exports=a}),null);
__d("AdsMessengerPACreationStateAdditionalQuestionItemsReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{additionalQuestionItems:b.additionalQuestionItems})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateAdditionalQuestionItemsAction",["AdsMessengerPACreationStateAdditionalQuestionItemsReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateAdditionalQuestionItemsReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_ADDITIONAL_QUESTION_ITEMS");e.exports=a}),null);
__d("AdsMessengerPACreationStateConfirmationAttachmentReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{confirmationAttachment:b.attachment})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateConfirmationAttachmentAction",["AdsMessengerPACreationStateConfirmationAttachmentReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateConfirmationAttachmentReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_CONFIRMATION_ATTACHMENT");e.exports=a}),null);
__d("AdsMessengerPACreationStateConfirmationCTAReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{confirmationCTA:b.confirmationCTA})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateConfirmationCTAAction",["AdsMessengerPACreationStateConfirmationCTAReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateConfirmationCTAReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_CONFIRMATION_CTA");e.exports=a}),null);
__d("AdsMessengerPACreationStateConfirmationMessageReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{confirmationMessage:b.confirmationMessage})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateConfirmationMessageAction",["AdsMessengerPACreationStateConfirmationMessageReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateConfirmationMessageReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_CONFIRMATION_MESSAGE");e.exports=a}),null);
__d("AdsMessengerPACreationStateCustomInvalidTextFieldsReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{customInvalidTextFields:b.customInvalidTextFields})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateCustomInvalidTextFieldsAction",["AdsMessengerPACreationStateCustomInvalidTextFieldsReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateCustomInvalidTextFieldsReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_CUSTOM_INVALID_TEXT_FIELDS");e.exports=a}),null);
__d("AdsMessengerPACreationStateDisqualifyMessageReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{disqualifyMessage:b.disqualifyMessage})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateDisqualifyMessageAction",["AdsMessengerPACreationStateDisqualifyMessageReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateDisqualifyMessageReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_DISQUALIFY_MESSAGE");e.exports=a}),null);
__d("AdsMessengerPACreationStateHopAppSettingReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{hopAppSetting:b.hopAppSetting})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateHopAppSettingAction",["AdsMessengerPACreationStateHopAppSettingReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateHopAppSettingReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_HOP_APP_SETTING");e.exports=a}),null);
__d("AdsMessengerPACreationStateIntroMessageReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{introMessage:b.introMessage})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateIntroMessageAction",["AdsMessengerPACreationStateIntroMessageReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateIntroMessageReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_INTRO_MESSAGE");e.exports=a}),null);
__d("AdsMessengerPACreationStatePrivacyURLReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{privacyURL:b.privacyURL})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStatePrivacyURLAction",["AdsMessengerPACreationStatePrivacyURLReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStatePrivacyURLReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_PRIVACY_URL");e.exports=a}),null);
__d("AdsMessengerPACreationStateQuestionItemsReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{questionItems:b.questionItems})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateQuestionItemsAction",["AdsMessengerPACreationStateQuestionItemsReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateQuestionItemsReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_QUESTION_ITEMS");e.exports=a}),null);
__d("AdsMessengerPACreationStateLeadSubmissionMessageReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{questionsCompleteMessage:b.questionsCompleteMessage})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateQuestionsCompleteMessageAction",["AdsMessengerPACreationStateLeadSubmissionMessageReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateLeadSubmissionMessageReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_QUESTIONS_COMPLETE_MESSAGE");e.exports=a}),null);
__d("AdsMessengerPACreationStateReminderTextReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{reminderText:b.reminderText})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateReminderTextAction",["AdsMessengerPACreationStateReminderTextReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateReminderTextReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_REMINDER_TEXT");e.exports=a}),null);
__d("AdsMessengerPACreationStateStopQuestionMessageReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{stopQuestionMessage:b.stopQuestionMessage})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPACreationStateStopQuestionMessageAction",["AdsMessengerPACreationStateStopQuestionMessageReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPACreationStateStopQuestionMessageReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_CREATION_STATE_STOP_QUESTION_MESSAGE");e.exports=a}),null);
__d("AdsMessengerPAExpandErrorSectionsReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){b.errorSections.forEach(function(b){return a.expandedSectionIDs.add(b)});return a}};b=a;f["default"]=b}),66);
__d("AdsMessengerPAExpandErrorSectionsAction",["AdsMessengerPAExpandErrorSectionsReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPAExpandErrorSectionsReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_EXPAND_ERROR_SECTIONS");e.exports=a}),null);
__d("AdsMessengerPAExpandedSectionIDsReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){var c=a.expandedSectionIDs;b=b.expandedSectionID;c.has(b)?c["delete"](b):(c.clear(),c.add(b));return babelHelpers["extends"]({},a,{expandedSectionIDs:c})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPAExpandedSectionIDsAction",["AdsMessengerPAExpandedSectionIDsReducerPlugin","AdsMessengerPartialAutomatedCreationStateDataProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPAExpandedSectionIDsReducerPlugin"),b("AdsMessengerPartialAutomatedCreationStateDataProvider"),{},"")]},function(){return[]},"ADS_MESSENGER_PA_EXPANDED_SECTION_IDS");e.exports=a}),null);
__d("AdsMessengerPhoneNumberDataProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{isPhoneNumberSwitchEnabled:!1,phoneNumberView:null,rawPhoneNumber:null}};b=a;f["default"]=b}),66);
__d("AdsMessengerPhoneNumberDataProvider",["AdsMessengerPhoneNumberDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerPhoneNumberDataProviderPlugin"),"AdsMessengerPhoneNumberDataProviderPlugin")}),null);
__d("AdsMessengerPhoneNumberSwitchToggleReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{isPhoneNumberSwitchEnabled:b.isPhoneNumberEnabled})}};b=a;f["default"]=b}),66);
__d("AdsMessengerPhoneNumberSwitchToggleAction",["AdsMessengerPhoneNumberDataProvider","AdsMessengerPhoneNumberSwitchToggleReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPhoneNumberSwitchToggleReducerPlugin"),b("AdsMessengerPhoneNumberDataProvider"),{},"")]},function(){return[]},"AdsMessengerPhoneNumberSwitchToggleActionPlugin");e.exports=a}),null);
__d("AdsMessengerPhoneNumberUpdateReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return{phoneNumberView:b.phoneNumberView,rawPhoneNumber:b.rawPhoneNumber,isPhoneNumberSwitchEnabled:(b=b.isPhoneNumberEnabled)!=null?b:a.isPhoneNumberSwitchEnabled}}};b=a;f["default"]=b}),66);
__d("AdsMessengerPhoneNumberUpdateAction",["AdsMessengerPhoneNumberDataProvider","AdsMessengerPhoneNumberUpdateReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsMessengerPhoneNumberUpdateReducerPlugin"),b("AdsMessengerPhoneNumberDataProvider"),{},"")]},function(){return[]},"AdsMessengerPhoneNumberUpdateActionPlugin");e.exports=a}),null);
__d("AdsMessengerSavedResponseIndexProviderPlugin",[],(function(a,b,c,d,e,f){"use strict";a={initialState:{}};b=a;f["default"]=b}),66);
__d("AdsMessengerSavedResponseIndexProvider",["AdsMessengerSavedResponseIndexProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsMessengerSavedResponseIndexProviderPlugin"),"AdsMessengerSavedResponseIndexProviderPlugin")}),null);
__d("AdsUEditorAdgroupSavedResponseIndexReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,(a={},a[b.contentEditorTab]=b.index,a))}};b=a;f["default"]=b}),66);
__d("AdsMessengerSetSavedResponseIndexAction",["AdsMessengerSavedResponseIndexProvider","AdsUEditorAdgroupSavedResponseIndexReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsUEditorAdgroupSavedResponseIndexReducerPlugin"),b("AdsMessengerSavedResponseIndexProvider"),{},"")]},function(){return[]},"AdsMessengerSetSavedResponseIndexActionPlugin");e.exports=a}),null);
__d("AdsMessengerVideoPreviewFetchErrorDataAction",["Laminar","ifRequired_FOR_LAMINAR_CODEGEN"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsMessengerVideoCreationPerfScenariosLoggerPlugins",function(a){return b("Laminar").__createLogger("AdsMessengerVideoCreationPerfScenariosLoggerPlugins.AdsMessengerVideoPreviewFetchFailLoggerPlugin",a.AdsMessengerVideoPreviewFetchFailLoggerPlugin,{},["AdsManagerPerfScenarioRegistry"])})]},"MESSENGER.VIDEO_PREVIEW_FETCH_ERROR");e.exports=a}),null);
__d("AdsMessengerVideoPreviewFetchSuccessDataAction",["Laminar","ifRequired_FOR_LAMINAR_CODEGEN"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsMessengerVideoCreationPerfScenariosLoggerPlugins",function(a){return b("Laminar").__createLogger("AdsMessengerVideoCreationPerfScenariosLoggerPlugins.AdsMessengerVideoPreviewFetchSucceedLoggerPlugin",a.AdsMessengerVideoPreviewFetchSucceedLoggerPlugin,{},["AdsManagerPerfScenarioRegistry"])})]},"MESSENGER.VIDEO_PREVIEW_FETCH_SUCCESS");e.exports=a}),null);
__d("AdsMessengerVideoUploadErrorDataAction",["Laminar","ifRequired_FOR_LAMINAR_CODEGEN"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsMessengerVideoCreationPerfScenariosLoggerPlugins",function(a){return b("Laminar").__createLogger("AdsMessengerVideoCreationPerfScenariosLoggerPlugins.AdsMessengerVideoUploadFailLoggerPlugin",a.AdsMessengerVideoUploadFailLoggerPlugin,{},["AdsManagerPerfScenarioRegistry"])}),b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsMessengerVideoUploadErrorDataActionLoggerPlugin",function(a){return b("Laminar").__createLogger("AdsMessengerVideoUploadErrorDataActionLoggerPlugin",a,{},["AdsMgmtRegistry"])})]},"MESSENGER.VIDEO_UPLOAD_ERROR");e.exports=a}),null);
__d("AdsMessengerVideoUploadResetDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"MESSENGER.VIDEO_UPLOAD_RESET");e.exports=a}),null);
__d("AdsMessengerVideoUploadResetDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"MESSENGER.VIDEO_UPLOAD_RESET"}}),null);
__d("AdsMessengerVideoUploadStartDataAction",["Laminar","ifRequired_FOR_LAMINAR_CODEGEN"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsMessengerVideoCreationPerfScenariosLoggerPlugins",function(a){return b("Laminar").__createLogger("AdsMessengerVideoCreationPerfScenariosLoggerPlugins.AdsMessengerVideoCreationStartLoggerPlugin",a.AdsMessengerVideoCreationStartLoggerPlugin,{},["AdsManagerPerfScenarioRegistry"])}),b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsMessengerVideoUploadStartDataActionLoggerPlugin",function(a){return b("Laminar").__createLogger("AdsMessengerVideoUploadStartDataActionLoggerPlugin",a,{},["AdsMgmtRegistry"])})]},"MESSENGER.VIDEO_UPLOAD_START");e.exports=a}),null);
__d("AdsMessengerVideoUploadSuccessDataAction",["Laminar","ifRequired_FOR_LAMINAR_CODEGEN"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsMessengerVideoCreationPerfScenariosLoggerPlugins",function(a){return b("Laminar").__createLogger("AdsMessengerVideoCreationPerfScenariosLoggerPlugins.AdsMessengerVideoUploadSucceedLoggerPlugin",a.AdsMessengerVideoUploadSucceedLoggerPlugin,{},["AdsManagerPerfScenarioRegistry"])}),b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsMessengerVideoUploadSuccessDataActionLoggerPlugin",function(a){return b("Laminar").__createLogger("AdsMessengerVideoUploadSuccessDataActionLoggerPlugin",a,{},["AdsMgmtRegistry"])})]},"MESSENGER.VIDEO_UPLOAD_SUCCESS");e.exports=a}),null);
__d("LSInsertOrUpdatePinnedThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(82).put({threadKey:a[0],pinnedTimestamp:a[1]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSOptimisticallyInsertOrUpdatePinnedThread",["LSInsertOrUpdatePinnedThread","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSInsertOrUpdatePinnedThread"),a[0],a[1])},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("pinned_timestamp",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"pin_thread",[0,158],d[1],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MessengerProfileLinkTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerProfileLinkLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAction=function(a){this.$1.action=a;return this};c.setDomain=function(a){this.$1.domain=a;return this};c.setLinkLocation=function(a){this.$1.link_location=a;return this};c.setTargetID=function(a){this.$1.target_id=a;return this};return a}();c={action:!0,domain:!0,link_location:!0,target_id:!0};f["default"]=a}),66);
__d("MessengerWebViewReactionsTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:MessengerWebViewReactionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEmojiGroup=function(a){this.$1.emoji_group=a;return this};c.setEmojiGroupCount=function(a){this.$1.emoji_group_count=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setMid=function(a){this.$1.mid=a;return this};c.setSenderID=function(a){this.$1.sender_id=a;return this};return a}();c={emoji_group:!0,emoji_group_count:!0,event:!0,mid:!0,sender_id:!0};f["default"]=a}),66);
__d("WorkChatActivityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:WorkChatActivityLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAppID=function(a){this.$1.app_id=a;return this};c.setAppVersion=function(a){this.$1.app_version=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setHscrollPosition=function(a){this.$1.hscroll_position=a;return this};c.setMessageID=function(a){this.$1.message_id=a;return this};c.setThreadIds=function(a){this.$1.thread_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={app_id:!0,app_version:!0,event:!0,group_id:!0,hscroll_position:!0,message_id:!0,thread_ids:!0};f["default"]=a}),66);
__d("WorkDoNotDisturbSettingsTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:WorkDoNotDisturbSettingsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEvent=function(a){this.$1.event=a;return this};c.setOption=function(a){this.$1.option=a;return this};c.setSource=function(a){this.$1.source=a;return this};return a}();c={event:!0,option:!0,source:!0};f["default"]=a}),66);
__d("MessengerStoriesRingPresenceMessageQueryContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5294846010547771"}),null);
__d("MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql",["MessengerStoriesRingPresenceMessageQueryContainerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"threadFBID"}],c=[{kind:"Variable",name:"id",variableName:"threadFBID"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",selections:[{alias:null,args:c,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MessengerStoriesRingPresenceMontageQueryContainer_messageThread"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",selections:[{alias:null,args:c,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"montage_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},d],storageKey:null},d],storageKey:null}]},params:{id:b("MessengerStoriesRingPresenceMessageQueryContainerQuery_facebookRelayOperation"),metadata:{},name:"MessengerStoriesRingPresenceMessageQueryContainerQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MessengerUserProfileLocationUtilsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5227786023908613"}),null);
__d("MessengerUserProfileLocationUtilsQuery.graphql",["MessengerUserProfileLocationUtilsQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MessengerUserProfileLocationUtilsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MessengerUserProfileLocationUtilsQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MessengerUserProfileLocationUtilsQuery_facebookRelayOperation"),metadata:{},name:"MessengerUserProfileLocationUtilsQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MessengerThreadSharedMediaAfterQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5790835707609499"}),null);
__d("MessengerThreadSharedMediaAfterQuery.graphql",["MessengerThreadSharedMediaAfterQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"after"},c={defaultValue:null,kind:"LocalArgument",name:"first"},d={defaultValue:null,kind:"LocalArgument",name:"id"},e=[{kind:"Variable",name:"id",variableName:"id"}],f=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},k={alias:null,args:[{kind:"Literal",name:"height",value:250},{kind:"Literal",name:"width",value:250}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[j],storageKey:"image(height:250,width:250)"},l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},n=[l,m,j],o={alias:"image1",args:[{kind:"Literal",name:"height",value:960},{kind:"Literal",name:"width",value:960}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:"image(height:960,width:960)"};n={alias:"image2",args:[{kind:"Literal",name:"height",value:2048},{kind:"Literal",name:"width",value:2048}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:"image(height:2048,width:2048)"};var p={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null};m={kind:"InlineFragment",selections:[i,k,o,n,p,{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[h,m,l,q,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:[m,l,j],storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},j],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[q,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null}],type:"MessageImage",abstractKey:null};l={kind:"InlineFragment",selections:[i,k,o,n,p],type:"MessageVideo",abstractKey:null};j={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};q={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null};i={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"MessengerThreadSharedMediaAfterQuery",selections:[{alias:null,args:e,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:f,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[g,h],type:"Node",abstractKey:"__isNode"},m,l],storageKey:null},j],storageKey:null},q,i],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[d,a,c],kind:"Operation",name:"MessengerThreadSharedMediaAfterQuery",selections:[{alias:null,args:e,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:f,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,{kind:"InlineFragment",selections:[h],type:"Node",abstractKey:"__isNode"},m,l],storageKey:null},j],storageKey:null},q,i],storageKey:null},h],storageKey:null}]},params:{id:b("MessengerThreadSharedMediaAfterQuery_facebookRelayOperation"),metadata:{},name:"MessengerThreadSharedMediaAfterQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MessengerThreadSharedMediaBeforeQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5521225694595550"}),null);
__d("MessengerThreadSharedMediaBeforeQuery.graphql",["MessengerThreadSharedMediaBeforeQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"before"},c={defaultValue:null,kind:"LocalArgument",name:"id"},d={defaultValue:null,kind:"LocalArgument",name:"last"},e=[{kind:"Variable",name:"id",variableName:"id"}],f=[{kind:"Variable",name:"before",variableName:"before"},{kind:"Variable",name:"last",variableName:"last"},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},k={alias:null,args:[{kind:"Literal",name:"height",value:250},{kind:"Literal",name:"width",value:250}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[j],storageKey:"image(height:250,width:250)"},l={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},n=[l,m,j],o={alias:"image1",args:[{kind:"Literal",name:"height",value:960},{kind:"Literal",name:"width",value:960}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:"image(height:960,width:960)"};n={alias:"image2",args:[{kind:"Literal",name:"height",value:2048},{kind:"Literal",name:"width",value:2048}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:n,storageKey:"image(height:2048,width:2048)"};var p={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null};m={kind:"InlineFragment",selections:[i,k,o,n,p,{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[h,m,l,q,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:[m,l,j],storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},j],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[q,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null}],type:"MessageImage",abstractKey:null};l={kind:"InlineFragment",selections:[i,k,o,n,p],type:"MessageVideo",abstractKey:null};j={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};q={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null};i={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"MessengerThreadSharedMediaBeforeQuery",selections:[{alias:null,args:e,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:f,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[g,h],type:"Node",abstractKey:"__isNode"},m,l],storageKey:null},j],storageKey:null},q,i],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,d],kind:"Operation",name:"MessengerThreadSharedMediaBeforeQuery",selections:[{alias:null,args:e,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:f,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,{kind:"InlineFragment",selections:[h],type:"Node",abstractKey:"__isNode"},m,l],storageKey:null},j],storageKey:null},q,i],storageKey:null},h],storageKey:null}]},params:{id:b("MessengerThreadSharedMediaBeforeQuery_facebookRelayOperation"),metadata:{},name:"MessengerThreadSharedMediaBeforeQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MessengerThreadSharedMediaFindQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5055502461178218"}),null);
__d("MessengerThreadSharedMediaFindQuery.graphql",["MessengerThreadSharedMediaFindQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"id"},c={defaultValue:null,kind:"LocalArgument",name:"messageID"},d={defaultValue:null,kind:"LocalArgument",name:"photoID"},e=[{kind:"Variable",name:"id",variableName:"id"}],f=[{kind:"Variable",name:"find",variableName:"photoID"},{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},m=[j,k,l],n={alias:"image1",args:[{kind:"Literal",name:"height",value:960},{kind:"Literal",name:"width",value:960}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:960,width:960)"};m={alias:"image2",args:[{kind:"Literal",name:"height",value:2048},{kind:"Literal",name:"width",value:2048}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:2048,width:2048)"};var o={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null};k={kind:"InlineFragment",selections:[i,n,m,o,{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[h,k,j,p,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:[k,j,l],storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},l],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[p,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null}],type:"MessageImage",abstractKey:null};j={kind:"InlineFragment",selections:[i,n,m,o],type:"MessageVideo",abstractKey:null};l={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};p={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null};i={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"MessengerThreadSharedMediaFindQuery",selections:[{alias:null,args:e,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:f,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[g,h],type:"Node",abstractKey:"__isNode"},k,j],storageKey:null},l],storageKey:null},p,i],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"MessengerThreadSharedMediaFindQuery",selections:[{alias:null,args:e,concreteType:"MessageThread",kind:"LinkedField",name:"message_thread",plural:!1,selections:[{alias:null,args:f,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,{kind:"InlineFragment",selections:[h],type:"Node",abstractKey:"__isNode"},k,j],storageKey:null},l],storageKey:null},p,i],storageKey:null},h],storageKey:null}]},params:{id:b("MessengerThreadSharedMediaFindQuery_facebookRelayOperation"),metadata:{},name:"MessengerThreadSharedMediaFindQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("StickersPackInTrayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5223801097675931"}),null);
__d("StickersPackInTrayQuery.graphql",["StickersPackInTrayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"stickerInterface"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:[{kind:"Literal",name:"first",value:1e4},{kind:"Variable",name:"interface",variableName:"stickerInterface"}],concreteType:"PacksInTrayConnection",kind:"LinkedField",name:"tray_packs",plural:!1,selections:[{alias:null,args:null,concreteType:"PacksInTrayEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"node",plural:!1,selections:[c],storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StickersPackInTrayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"StickerStore",kind:"LinkedField",name:"sticker_store",plural:!1,selections:[d],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StickersPackInTrayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"StickerStore",kind:"LinkedField",name:"sticker_store",plural:!1,selections:[d,c],storageKey:null}],storageKey:null}]},params:{id:b("StickersPackInTrayQuery_facebookRelayOperation"),metadata:{},name:"StickersPackInTrayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("StickersStoreDialogPackDetailQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4899766743449802"}),null);
__d("StickersStoreDialogPackDetailQuery.graphql",["StickersStoreDialogPackDetailQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"packID"},c={defaultValue:null,kind:"LocalArgument",name:"previewWidth"},d={defaultValue:null,kind:"LocalArgument",name:"profileSize"},e=[{kind:"Variable",name:"id",variableName:"packID"}],f={alias:null,args:null,kind:"ScalarField",name:"is_ghost_pack",storageKey:null},g=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"StickersStoreDialogPackDetailQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[f,{args:[{kind:"Variable",name:"packID",variableName:"packID"},{kind:"Variable",name:"previewWidth",variableName:"previewWidth"},{kind:"Variable",name:"profileSize",variableName:"profileSize"}],kind:"FragmentSpread",name:"StickersStoreDetailView_stickerPack"}],type:"StickerPack",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"StickersStoreDialogPackDetailQuery",selections:[{alias:null,args:e,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_image",plural:!1,selections:g,storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:100}],concreteType:"Image",kind:"LinkedField",name:"preview_image",plural:!1,selections:g,storageKey:"preview_image(height:100)"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"copyrights",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_download",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"in_sticker_tray",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_purchased",storageKey:null}],type:"StickerPack",abstractKey:null}],storageKey:null}]},params:{id:b("StickersStoreDialogPackDetailQuery_facebookRelayOperation"),metadata:{},name:"StickersStoreDialogPackDetailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("StickersStoreDialogStoreQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4889856381134053"}),null);
__d("StickersStoreDialogStoreQuery.graphql",["StickersStoreDialogStoreQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"size"}],c=[{kind:"Variable",name:"first",variableName:"count"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StickersStoreDialogStoreQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"size",variableName:"size"}],kind:"FragmentSpread",name:"StickersStoreView_packList"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StickersStoreDialogStoreQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"StickerStore",kind:"LinkedField",name:"sticker_store",plural:!1,selections:[{alias:null,args:c,concreteType:"AvailableStickerPacksConnection",kind:"LinkedField",name:"available_packs",plural:!1,selections:[{alias:null,args:null,concreteType:"AvailableStickerPacksEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"node",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"is_composer_capable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_messenger_capable",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail_image",plural:!1,selections:e,storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:8}],concreteType:"StickersInPackConnection",kind:"LinkedField",name:"stickers",plural:!1,selections:[{alias:null,args:null,concreteType:"StickersInPackEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"height",variableName:"size"},{kind:"Variable",name:"width",variableName:"size"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:e,storageKey:null},d],storageKey:null}],storageKey:null}],storageKey:"stickers(first:8)"},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_download",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"in_sticker_tray",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_purchased",storageKey:null},f],storageKey:null},f,{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:c,filters:null,handle:"connection",key:"StickersStoreView_available_packs",kind:"LinkedHandle",name:"available_packs"},d],storageKey:null}],storageKey:null}]},params:{id:b("StickersStoreDialogStoreQuery_facebookRelayOperation"),metadata:{},name:"StickersStoreDialogStoreQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("XOfferGenBarcodeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/offers/v2/gen_barcode/",{barcode_type:{type:"String",required:!0},barcode_value:{type:"String",required:!0}})}),null);
__d("XOfferGetUniqueCodesFileStatusController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/offers/v2/get_unique_codes_file_status/",{unique_code_file_id:{type:"FBID",required:!0}})}),null);
__d("XOfferStoreUniqueCodesFileController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/offers/v2/store_unique_codes_file/",{type:{type:"String",required:!0},barcode_type:{type:"String"},ad_account_id:{type:"FBID"}})}),null);
__d("AdsCampaignOfferDataLoader",["AsyncRequest","Promise","XOfferGenBarcodeController","XOfferGetUniqueCodesFileStatusController","XOfferStoreUniqueCodesFileController","XOfferUniqueCodesTemplateFileController"],(function(a,b,c,d,e,f,g){"use strict";function a(a,d,e){var f=c("XOfferGenBarcodeController").getURIBuilder().setString("barcode_type",d).setString("barcode_value",e).getURI();return new(b("Promise"))(function(a,b){new(c("AsyncRequest"))().setURI(f).setMethod("POST").setHandler(a).setErrorHandler(b).send()})}function d(a){var d=c("XOfferUniqueCodesTemplateFileController").getURIBuilder().setString("file_type",a).getURI();return new(b("Promise"))(function(a,b){new(c("AsyncRequest"))().setURI(d).setReadOnly(!0).setMethod("GET").setHandler(a).setErrorHandler(b).send()})}function e(a,d,e,f){var g=c("XOfferStoreUniqueCodesFileController").getURIBuilder().setString("type",e).setString("barcode_type",f).setFBID("ad_account_id",a).getURI(),h=new FormData();h.append("file",d);return new(b("Promise"))(function(a,b){new(c("AsyncRequest"))().setURI(g).setRawData(h).setMethod("POST").setHandler(a).setErrorHandler(b).send()})}function f(a){var d=c("XOfferGetUniqueCodesFileStatusController").getURIBuilder().setFBID("unique_code_file_id",a).getURI();return new(b("Promise"))(function(a,b){new(c("AsyncRequest"))().setURI(d).setReadOnly(!0).setMethod("GET").setHandler(a).setErrorHandler(b).send()})}g.generateBarcodeImage=a;g.generateTemplateURL=d;g.uploadUniqueCodesFile=e;g.getUniqueCodesFileUploadStatus=f}),98);
__d("JSONArea",["Arbiter","CSS","DOM","DOMQuery","Event","Parent","TextMetrics","Vector","getOrCreateDOMID","isScalar"],(function(a,b,c,d,e,f){var g={string:['"','"'],number:["",""],"boolean":["",""],array:["Array [","]"],object:["Object {","}"],nullval:["<",">"]},h=[],i={},j=!1,k=null,l={},m=1,n=function(){return m++},o=function(a){return l[parseInt(a.getAttribute("data-meta"),10)]},p=function(a,b){var c;a.getAttribute("data-meta")||(c=n(),a.setAttribute("data-meta",c));l[parseInt(a.getAttribute("data-meta"),10)]=b},q=function a(c,d,e,f){c!==""&&e!=null?(e!==""&&(e+=","),e+=c):e="";var h=t(d);c==null&&(c=h);var i="",j=typeof c==="string";j&&c!==""&&f&&(i=b("DOM").create("input",{type:"text","data-sigil":"prop-name-editor",value:'"'+c+'"'},""),p(i,{route:e}),c=b("DOM").create("span",{"data-sigil":"prop-name"},'"'+c+'"'),p(c,{route:e}),b("CSS").addClass(c,"prop-name-display"));typeof c==="number"&&(c=b("DOM").create("span",{className:"array-position"},c.toString()));j=c!==""?b("DOM").create("span",{className:"separator"},":"):"";c=b("DOM").create("div",{"data-sigil":i?"prop-name-container":""},c);i&&b("DOM").appendContent(c,i);j&&b("DOM").appendContent(c,j);b("CSS").addClass(c,"prop-name-container");var k=[];k.push(b("DOM").create("div",{className:"delimiter"},g[h][0]));if(b("isScalar")(d))k.push(b("DOM").create("span",{className:"primitive"},d.toString()));else if(d===null)k.push(b("DOM").create("span",{className:"nullval"},"null"));else if(Array.isArray(d))for(var i=0;i<d.length;i++)k.push(a(i,d[i],e,f));else Object.keys(d).sort().forEach(function(b){k.push(a(b,d[b],e,f))});k.push(b("DOM").create("div",{className:"delimiter"},g[h][1]));j=b("DOM").create("div",{"data-sigil":"value-display"},k);b("CSS").addClass(j,"value-display");i="";if(f){d==null?d="null":d=y(JSON.stringify(d));var l=b("DOM").create("textarea",{"data-sigil":"value-editor"},d);p(l,{route:e});b("CSS").addClass(l,"value-editor");i=b("DOM").create("div",{"data-sigil":"value-editor-controls"},l)}l=b("DOM").create("div",{className:"json-node"},[c,b("DOM").create("div",{className:"value-block value-"+h},[j,i])]);p(l,{route:e});b("CSS").addClass(l,"node");return l},r=function(a){a.value=JSON.stringify(x(a)),a.blur()},s=function(a){var b=o(a).route;b=b.split(",");a.value=JSON.stringify(b.pop());a.blur()},t=function(a){if(a===null)return"nullval";else if(b("isScalar")(a))return typeof a;else if(Array.isArray(a))return"array";else return"object"},u=function(a){b("CSS").addClass(a,"editing-name");a=b("DOM").scry(a,"input")[0];a.focus();k&&k.destroy();k=new(b("TextMetrics"))(a);w(a);return a},v=function(a){j&&b("CSS").removeClass(j,"editing");b("CSS").addClass(a,"editing-value");a=b("DOMQuery").scry(a,"textarea.value-editor");a=a[a.length-1];a.focus();a.value=a.value;k&&k.destroy();k=new(b("TextMetrics"))(a);w(a);return a},w=function(a){var c=b("Vector").getElementDimensions(a),d=k.measure();c.x=Math.max(16,d.width);c.y=Math.max(20,d.height);c.setElementDimensions(a)},x=function(a){var b=o(a);if(b.route==null)throw new Error("Attempting to access the node value of an element with no route.");a=B(a,"editable-json-container");if(!a)throw new Error("JSONEditorLib: The json-container element for the element "+a+" could not be found.");a=o(a);a=a.json;b=b.route.split(",");for(var c=0;c<b.length;c++)b[c]!==""&&(a=a[b[c]]);return a},y=function(a,b){b===void 0&&(b=2);var c=new Array(b+1).join(" ");a=a.toString().split("");var d="",e=!1,f=!1;for(var g=0;g<a.length;g++){var h=a[g];!e&&(h=="["||h=="{")?(a[g]=h+"\n",d+=c,a[g]+=d):!e&&(h=="]"||h=="}")?(d=d.substr(b),a[g]="\n"+d+h):h=='"'&&!f?e=!e:h==","&&!e?a[g]=h+"\n"+d:h==":"&&!e?a[g]=": ":h=="\n"&&(a[g]="\\n");f=h=="\\"&&!f}return a.join("")},z=function(a){if(a.getAttribute("data-sigil")==="prop-name-editor"){var b=a.value;try{JSON.parse("{ "+b+":1 }")}catch(a){return!1}}else{b=a.value.replace(/\n/g," ");try{JSON.parse('{ "_$" : '+b+"}")}catch(a){return!1}}return!0},A=function(a){if(!z(a))return!1;var c=o(a).route,d=B(a,"editable-json-container"),e=o(d).json,f=e;if(c!==""){var g=c.split(","),h=g.length,j=g[h-1];for(var k=0;k<h-1;++k)f=f[g[k]]}if(a.getAttribute("data-sigil")==="prop-name-editor"){k=a.value.replace(/\"(.*)\"/,"$1");j!=k&&(f[k]=f[j],delete f[j])}else{g=a.value.replace(/\n/g,"");g=JSON.parse(g);c!==""?f[j]=g:e=g}h=d.parentNode;k=JSON.stringify(e);a=b("DOM").find(i[h.id],"textarea.jsonFormField");a.value=a.innerText=k;c=b("DOM").find(h.parentNode,'div[data-sigil="jsonarea-container"]');b("Arbiter").inform("JSONArea.save",{target:i[h.id],display_element_id:h.id,str_value:k,container:c,json:e});new D(i[h.id],e,h)},B=function(a,b){while(a&&a.getAttribute){if(a.getAttribute("data-sigil")===b)return a;a=a.parentNode}return null},C=function(a){b("Event").listen(a,"click",function(c){if(j)return;var d=c.getTarget(),a=b("Parent").byClass(d,"json-node");if(!a)return;d=b("Parent").byClass(d,"prop-name-container")?u(a):v(a);j=a;b("Event").listen(d,"blur",function(a){A(a.getTarget()),j=!1,c.kill()})}),b("Event").listen(a,"keydown",function(a){var b=a.getTarget(),c=b.getAttribute("data-sigil");if(c!=="value-editor"&&c!=="prop-name-editor")return;a.keyCode===27&&(c==="prop-name-editor"?s(b):r(b),a.kill());if(document.selection)return!1;if(a.keyCode===9&&b.nodeName==="TEXTAREA"&&b.selectionStart){c=b.selectionStart;var d=b.selectionEnd,e=b.value.substring(0,c);d=b.value.substring(d);b.value=e+"  "+d;b.setSelectionRange(c+2,c+2);a.kill()}}),b("Event").listen(a,"keypress",function(a){var c=a.getTarget(),d=c.getAttribute("data-sigil");if(d!=="prop-name-editor"&&d!=="value-editor")return;setTimeout(function(){var d=b("Parent").byClass(c,"prop-name-editor");if(d&&a.keyCode==13){A(d);a.kill();return}w(c)},50)})},D=function(a,c,d,e){if(h.indexOf(a)!==-1)return;var f="json-container";c=c||a.innerText;var g=["json-container"],j=a.firstChild.nodeName==="TEXTAREA";if(j){f="editable-"+f;g.push("editable");g.push("cleafix");if(!d){d=b("DOM").create("div",{"data-sigil":"raw-json"});var k=b("getOrCreateDOMID")(d);a.parentNode.insertBefore(d,a);i[k]=a;b("CSS").hide(a)}a=d}h.push(a);if(e){k="Large amount of JSON, click to activate editor";d=b("DOM").create("a",{},k);b("CSS").addClass(d,"largeJson")}else d=q("",c,"",j);k={json:c};a.id&&(k.id=a.id);var l=b("DOM").create("div",{"data-sigil":f},d);p(l,k);for(var f=0;f<g.length;f++)b("CSS").addClass(l,g[f]);b("DOM").setContent(a,l);e?b("Event").listen(d,"click",function(){var a=q("",c,"",j);b("DOM").setContent(l,a);j&&C(l)}):j&&C(l);this.clearRenderedElements=function(){h=[]}};D.tidyPlainText=y;e.exports=D}),null);
__d("JSONError",["cx","CSS","DOM","Event","Parent","XUIErrorDialogImpl"],(function(a,b,c,d,e,f,g,h){"use strict";var i="_1tp7",j="uiContextualLayerParent",k=null;function a(a){if(!k)return;var b=null,c=null,e=a.type;switch(e){case"focusout":c=null;break;case"focusin":c=a.getTarget();break;case"mouseover":b=a.getTarget();break}e=b instanceof Node?d("Parent").byClass(b,j)||d("Parent").byClass(b,i):null;a=c instanceof Node?d("Parent").byClass(c,j)||d("Parent").byClass(c,i):null;e||a?k.show():k.hide()}c("Event").listen(document.documentElement,"focusout",a);c("Event").listen(document.documentElement,"focusin",a);c("Event").listen(document.documentElement,"mouseover",a);function b(a,b){var e=d("XUIErrorDialogImpl").getNewDialog(),f=e.dialog;e=e.dialogMessageNode;k=f;d("CSS").addClass(a,i);c("DOM").setContent(e,b);f.setContext(a).setPosition("right").show()}function e(a){d("CSS").removeClass(a,i),k&&k.hide()}g.set=b;g.clear=e}),98);
__d("JSONError.react",["JSONError","ReactDOM","prop-types","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.componentDidMount=function(){this.props.JSONError!=null&&d("JSONError").set(d("ReactDOM").findDOMNode(this),this.props.JSONError)};c.componentDidUpdate=function(){this.props.JSONError?(d("JSONError").clear(d("ReactDOM").findDOMNode(this)),d("JSONError").set(d("ReactDOM").findDOMNode(this),this.props.JSONError)):d("JSONError").clear(d("ReactDOM").findDOMNode(this))};c.componentWillUnmount=function(){d("JSONError").clear(d("ReactDOM").findDOMNode(this))};c.render=function(){return h.Children.only(this.props.children)};return b}(h.Component);a.propTypes={JSONError:c("prop-types").any};g["default"]=a}),98);
__d("createStateContainer",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=function(c){babelHelpers.inheritsLoose(b,c);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=c.call.apply(c,[this].concat(f))||this,d.$1=!1,d.state={state:a},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.componentDidMount=function(){this.$1=!0};d.componentWillUnmount=function(){this.$1=!1};d.render=function(){var a=this;return this.props.children(this.state.state,function(b){a.$1&&a.setState({state:b})})};return b}(h.Component);return b}g["default"]=a}),98);
__d("makeExpandableContent",["cx","joinClasses","react","useContentRect"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return function(b){var d=b.children,e=b.className;b=b.isExpanded;var f=c("useContentRect")(),g=f[0];f=f[1];g=(g=g==null?void 0:g.height)!=null?g:null;return i.jsx("div",{"aria-hidden":!b,className:c("joinClasses")(e,"_6vig",b?null:a.isCollapsed,b?a.isExpanded:null),style:{height:b?g:0},children:i.jsx("div",{ref:f,children:i.jsx("div",{className:a.content,children:d})})})}}g["default"]=a}),98);
__d("InternJSONArea.react",["cx","CSS","Event","FDSButton.react","JSONArea","JSONError.react","ReactDOM","ShimButton.react","XUITextInput.react","createStateContainer","isScalar","joinClasses","makeExpandableContent","react"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=function(a,b,c){b===void 0&&(b=2);c===void 0&&(c=1);var d=new Array(b+1).join(" ");a=a.toString().split("");var e="",f=!1,g=!1,h=!1,i=0;for(var j=0;j<a.length;j++){var k=a[j];!f&&(k=="["||k=="{")?(a[j]=k+"\n",e+=d,a[j]+=e,g=k=="[",i=0):!f&&(k=="]"||k=="}")?(e=e.substr(b),a[j]="\n"+e+k,g=!1):k=='"'&&!h?f=!f:k==","&&!f?g?++i>=c&&(a[j]=k+"\n"+e,i=0):a[j]=k+"\n"+e:k==":"&&!f?a[j]=": ":k=="\n"&&(a[j]="\\n");h=k=="\\"&&!h}return a.join("")},k={string:['"','"'],number:["",""],"boolean":["",""],array:["Array [","]"],object:["Object {","}"],nullval:["<",">"]},l={string:['"','"'],number:["",""],"boolean":["",""],array:["[","]"],object:["{","}"],nullval:["",""]};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={json:c.props.json,elementsPerRow:c.props.elementsPerRow,editingPath:"",editingText:"",error:null,rawFormat:c.props.rawFormat,width:0,height:0},c.$2=function(a){c.setState({rawFormat:!c.state.rawFormat})},c.$12=function(){var a=c.$17(c.state.editingText);c.$18(a,!0)},c.$11=function(a){a=a.target.value;c.setState({editingText:a})},c.$8=function(){c.$19(c.state.editingText,!0),c.props.onBlur&&c.props.onBlur()},c.$7=function(a){c.setState({editingText:a.target.value}),c.props.updateOnChange&&c.$19(a.target.value,!1)},c.$9=function(a){a.keyCode==13&&a.shiftKey&&c.$8(),a.stopPropagation()},c.$13=function(a){a.keyCode==13&&a.shiftKey&&c.$12()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.UNSAFE_componentWillReceiveProps=function(a){this.setState({json:a.json})};e.componentDidUpdate=function(){this.refs&&(this.refs.valueEditor&&d("ReactDOM").findDOMNode(this.refs.valueEditor).focus(),this.refs.propEditor&&d("ReactDOM").findDOMNode(this.refs.propEditor).focus())};e.render=function(){var a;this.state.rawFormat?a=i.jsx("pre",{className:"_3yhh",children:j(JSON.stringify(this.state.json),2,this.state.elementsPerRow)}):a=this.$1("",this.state.json,"");var b=null;this.props.canToggleFormat&&(b=i.jsx(c("ShimButton.react"),{className:"_3yhm",onClick:this.$2,children:this.$3()}));return i.jsxs("div",{className:c("joinClasses")(this.props.className,"json-container _2kbd"+(this.props.readonly?"":" _2kbe")+" clearfix"),children:[b,a]})};e.$3=function(){var a;this.state.rawFormat?a="json format: raw":a="json format: pretty";this.props.readonly&&(a+=", read-only");return a};e.$1=function(a,b,d){b===void 0&&(b=null);var e="",f="_";a!==""&&(f=d+a,typeof a==="string"&&(e=i.jsx("span",{className:"separator",children:":"})));d=this.$4(b);var g=f+":value",h=null;if(g!=this.state.editingPath)h=this.$5(b,f);else{g={width:this.state.width+"px",height:this.state.height+"px"};h=i.jsx(c("JSONError.react"),{JSONError:this.state.error,children:i.jsx("textarea",{onClick:this.$6,onChange:this.$7,onBlur:this.$8,onKeyDown:this.$9,className:"_4vp8"+(this.state.error?" _4kgw":""),style:g,ref:"valueEditor",value:this.state.editingText},"valueEditor")})}return i.jsxs("div",{className:"json-node node",children:[i.jsxs("div",{className:"prop-name-container",children:[this.$10(a,f),e]}),i.jsx("div",{className:"value-block value-"+d,children:h})]},f)};e.$10=function(a,b){b=b+":prop";var d=a;if(a==="")return"";b==this.state.editingPath?d=i.jsx(c("XUITextInput.react"),{type:"text",onClick:this.$6,onChange:this.$11,onBlur:this.$12,onKeyDown:this.$13,ref:"propEditor",value:this.state.editingText},"prop-name-editor"):typeof a==="string"?d=i.jsx("span",{className:"prop-name-display",onClick:this.$14.bind(this,b,a),role:"presentation",children:'"'+a+'"'},"prop-name"):typeof a==="number"&&(d=i.jsx("span",{className:"array-position",children:this.props.showTypeAnnotations?a.toString():""},"prop-name"));return d};e.$5=function(a,b){var d=this,e=b+":value",f=c("JSONArea").tidyPlainText(JSON.stringify(a),4),g=this.$4(a),h=[];switch(g){case"object":if(this.props.allowComplexObjects)Object.keys(a).forEach(function(c){h.push(d.$1(c,a[c],b))});else for(var j in a)h.push(this.$1(j,a[j],b));break;case"array":for(var j=0;j<a.length;j++)h.push(this.$1(j,a[j],b));break;case"nullval":h.push(i.jsx("span",{className:"nullval",children:"null"},b));break;default:h.push(i.jsx("span",{className:"primitive",children:a.toString()},b))}if(this.props.collapsibleKeys.length>0)for(var j=0;j<this.props.collapsibleKeys.length;j++){var k=this.props.collapsibleKeys[j];k=typeof k==="string"?b==="_"+k:k.test(b);if(k&&g!=="nullval"){k=function(){var a=c("createStateContainer")(!0),b=c("makeExpandableContent")({content:"content",isCollapsed:"isCollapsed",isExpanded:"isExpanded"});return{v:i.jsx(a,{children:function(a,j){return i.jsxs("div",{className:"value-display",onClick:d.$14.bind(d,e,f),role:"presentation",children:[i.jsx(c("FDSButton.react"),{label:"See More",onClick:function(){return j(!a)}}),i.jsxs(b,{isExpanded:!a,children:[d.$15(g),h,d.$16(g)]})]})}})}}();if(typeof k==="object")return k.v}}return i.jsxs("div",{className:"value-display",onClick:this.$14.bind(this,e,f),role:"presentation",children:[this.$15(g),h,this.$16(g)]})};e.$15=function(a){return i.jsx("div",{className:"delimiter",children:this.props.showTypeAnnotations?k[a][0]:l[a][0]})};e.$16=function(a){return i.jsx("div",{className:"delimiter",children:this.props.showTypeAnnotations?k[a][1]:l[a][1]})};e.$14=function(a,b,e){if(this.props.readonly)return;c("Event").kill(e);var f=this.props.minWidth,g=this.props.minHeight;e=e.target;while(!d("CSS").hasClass(e,"value-display")&&e.parentNode)e=e.parentNode;d("CSS").hasClass(e,"value-display")&&(f=e.offsetWidth,g=e.offsetHeight);this.setState({editingPath:a,editingText:b,error:null,width:Math.max(f,this.props.minWidth),height:Math.max(g,this.props.minHeight)})};e.$6=function(a){c("Event").kill(a)};e.$19=function(a,b){try{if(a){var c=JSON.parse(a);c=this.$17(c);this.$18(c,b)}else this.props.updateOnEmpty&&this.$18(null,b);if(this.props.disableEmpty&&a===""){c=new Error("Empty JSON");this.setState({error:c.message});this.props.onInvalidInput!=null&&this.props.onInvalidInput(c)}}catch(b){(this.state.editingPath!=="_:value"||a)&&this.setState({error:b.message}),this.props.onInvalidInput&&this.props.onInvalidInput(b)}};e.$20=function(a){var b=0;if(c("isScalar")(a)||a===null)return 1;else if(Array.isArray(a))for(var d=0;d<a.length;d++)b+=this.$20(a[d]);else for(var d in a)b+=this.$20(a[d]);return b};e.$17=function(a){return this.$21("","",this.state.json,a)};e.$21=function(a,b,d,e){var f=this.state.editingPath,g="_";b!==""&&(g=a+b);if(f==g+":value")return e;if(c("isScalar")(d)||d===null)return d;else if(Array.isArray(d)){a=[];for(var b=0;b<d.length;b++)a[b]=this.$21(g,b,d[b],e);return a}else{b={};for(var a in d){var h=g+a+":prop";h=h==f?e:a;typeof h==="string"&&(b[h]=this.$21(g,a,d[a],e))}return b}};e.$4=function(a){if(a===null)return"nullval";else if(c("isScalar")(a))return typeof a;else if(Array.isArray(a))return"array";else return"object"};e.$18=function(a,b){b?this.setState({json:a,editingPath:"",error:null}):this.setState({json:a,error:null}),this.props.onUpdate&&this.props.onUpdate(a)};return b}(i.Component);a.defaultProps={elementsPerRow:1,readonly:!1,showTypeAnnotations:!0,styled:!0,updateOnChange:!1,updateOnEmpty:!1,minWidth:150,minHeight:50,canToggleFormat:!1,allowComplexObjects:!1,rawFormat:!1,collapsibleKeys:[]};g["default"]=a}),98);
__d("AdsJSONBlobField.react",["cx","AdsLabeledField.react","AdsMessengerVisualEditorUtils","InternJSONArea.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){c.props.onChange(a)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a;return i.jsx(c("AdsLabeledField.react"),{label:this.props.label,children:i.jsx("div",{className:"_4s7e",children:i.jsx(c("InternJSONArea.react"),{disableEmpty:this.props.disableEmpty,json:(a=this.props.value)!=null?a:d("AdsMessengerVisualEditorUtils").getDefaultJSON(),readonly:this.props.isEditDisabled===!0,showTypeAnnotations:!1,updateOnChange:!0,onInvalidInput:this.props.onInvalidInput,onUpdate:this.$1})})})};return b}(i.Component);g["default"]=a}),98);
__d("AdsMessengerContentEditorTabs",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({VISUAL:"visual",JSON:"json",STANDARD_TEMPLATE:"standard_template",CUSTOM_TEMPLATE:"custom_template",USE_EXISTING:"use_existing",CREATE_NEW:"create_new"});f["default"]=a}),66);
__d("AdsMessengerErrorSpecType",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({TITLE:"title",ICE_BREAKERS:"ice_breakers",IMAGE_HASH:"image_hash",ATTACHMENT_ID:"attachment_id",TEXT:"text",BUTTON_TITLE:"button_title",BUTTON_URL:"button_url",PAYLOAD:"payload",QUICK_REPLY:"quick_reply",VIDEO_API:"video_api",WELCOME_MESSAGE_TEXT:"welcome_message_text",CUSTOM_TEMPLATE_NAME:"custom_template_name"});f["default"]=a}),66);
__d("AdsMessengerPhoneNumberDataManager",["AdsMessengerJSONPaths","AdsMessengerPhoneNumberSwitchToggleAction","AdsMessengerPhoneNumberUpdateAction","LoadObject","PhoneNumber","PhoneNumberError","PhoneNumberView","getByPath","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h="(?<=([^0-9p{Sc}]))([0-9\\.() \\-]+)([0-9])(?![0-9@])";a=function(){function a(){}var b=a.prototype;b.validatePhoneNumber=function(a,b,d){b===void 0&&(b=!0);var e=new(c("PhoneNumberView"))().changeFragment(a);c("promiseDone")(e.promiseWithNumber(),function(e){var f,g=c("LoadObject").withValue(e),h=e.xuiError==null;f=(f=e.phoneNumber)==null?void 0:f.getURI();d(h&&f!=null?c("PhoneNumber").getRawNumberFromTelURI(f):null);if(!h&&!b)return;c("AdsMessengerPhoneNumberUpdateAction").dispatch({rawPhoneNumber:a,phoneNumberView:h?g:g.setError(new(c("PhoneNumberError"))(e.xuiError))},{line:"49",module:"AdsMessengerPhoneNumberDataManager.js"})})};b.parsePhoneNumberFromJSON=function(a){if(a==null)return;try{a=c("getByPath")(JSON.parse(a),c("AdsMessengerJSONPaths").PHONE_NUMBER);if(a==null){this.clearPhoneNumber();return}var b=function(a){c("AdsMessengerPhoneNumberSwitchToggleAction").dispatch({isPhoneNumberEnabled:a!=null},{line:"76",module:"AdsMessengerPhoneNumberDataManager.js"})};this.validatePhoneNumber(a,!0,b)}catch(a){this.clearPhoneNumber()}};b.clearPhoneNumber=function(){c("AdsMessengerPhoneNumberUpdateAction").dispatch({rawPhoneNumber:null,phoneNumberView:c("LoadObject").withValue(new(c("PhoneNumberView"))()),isPhoneNumberEnabled:!0},{line:"93",module:"AdsMessengerPhoneNumberDataManager.js"})};b.getPhoneNumberFromAdText=function(a){if(a==null)return null;a=a.match(h);return a==null||a.length===0?null:a[0]};return a}();b=new a();g["default"]=b}),98);
__d("adsMessengerDataModelGetProductInfo",["AdsImageIDUtils","AdsMessengerJSONPaths","adsMessengerDataModelSetProductInfo","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{name:c("getByPath")(a,c("AdsMessengerJSONPaths").PRODUCT_INFO.NAME),price:c("getByPath")(a,c("AdsMessengerJSONPaths").PRODUCT_INFO.PRICE),description:c("getByPath")(a,c("AdsMessengerJSONPaths").PRODUCT_INFO.DESCRIPTION),image_hash:c("getByPath")(a,c("AdsMessengerJSONPaths").PRODUCT_INFO.IMAGE_HASH)}}function b(a,b){switch(b){case d("adsMessengerDataModelSetProductInfo").ProductInfoField.Name:return c("getByPath")(a,c("AdsMessengerJSONPaths").PRODUCT_INFO.NAME);case d("adsMessengerDataModelSetProductInfo").ProductInfoField.Price:return c("getByPath")(a,c("AdsMessengerJSONPaths").PRODUCT_INFO.PRICE);case d("adsMessengerDataModelSetProductInfo").ProductInfoField.Description:return c("getByPath")(a,c("AdsMessengerJSONPaths").PRODUCT_INFO.DESCRIPTION);case d("adsMessengerDataModelSetProductInfo").ProductInfoField.Image:return c("getByPath")(a,c("AdsMessengerJSONPaths").PRODUCT_INFO.IMAGE_HASH)}}function e(a){if(a==null||a==="")return null;a=a&&a.split(":");var b=a&&a[0];a=a&&a[1];if(!a||!b)return null;b=b.trim();a=a.trim();return d("AdsImageIDUtils").getImageID({accountID:b,hash:a})}g.adsMessengerDataModelGetProductInfo=a;g.adsMessengerDataModelGetProductInfoField=b;g.convertImageHashToImageId=e}),98);
__d("adsMessengerDataModelClone",["mergeDeepInto"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={};c("mergeDeepInto")(b,a);return b}g["default"]=a}),98);
__d("adsMessengerDataModelSetProductInfo",["$InternalEnum","AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetProductInfo","setByPath"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum").Mirrored(["Name","Price","Description","Image"]);function a(a,b,e){var f=null;switch(b){case h.Name:f=c("AdsMessengerJSONPaths").PRODUCT_INFO.NAME;break;case h.Price:f=c("AdsMessengerJSONPaths").PRODUCT_INFO.PRICE;break;case h.Description:f=c("AdsMessengerJSONPaths").PRODUCT_INFO.DESCRIPTION;break;case h.Image:f=c("AdsMessengerJSONPaths").PRODUCT_INFO.IMAGE_HASH;break}b=d("adsMessengerDataModelGetProductInfo").adsMessengerDataModelGetProductInfoField(a,b);if(e===b||f===null)return a;c("setByPath")(a,["user_edit"],!0);b=c("adsMessengerDataModelClone")(a);c("setByPath")(b,f,e);return b}function e(a,b){if(a.length===0)return null;a=a[0];if(a.hash!=null)b=b+":"+a.hash;else return null;return b}g.ProductInfoField=h;g.adsMessengerDataModelSetProductInfoField=a;g.convertLegacyImagesToImageHash=e}),98);
__d("AdsMessengerProductInfoDataManager",["AdsMessengerOrdersSwitchToggleAction","adsMessengerDataModelGetProductInfo","adsMessengerDataModelSetProductInfo"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.toggleProductInfoSection=function(a){c("AdsMessengerOrdersSwitchToggleAction").dispatch({isOrdersEnabled:a},{line:"24",module:"AdsMessengerProductInfoDataManager.js"})};b.validateNameHasError=function(a){return a==null||a.length===0};b.validateImageHasError=function(a){return a==null};b.validatePriceHasError=function(a){return a===0};b.validateProductInfoHasError=function(a){var b,c=d("adsMessengerDataModelGetProductInfo").adsMessengerDataModelGetProductInfoField(a,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Name);c=this.validateNameHasError(c);b=parseFloat((b=d("adsMessengerDataModelGetProductInfo").adsMessengerDataModelGetProductInfoField(a,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Price))!=null?b:"0");b=this.validatePriceHasError(b);a=d("adsMessengerDataModelGetProductInfo").convertImageHashToImageId(d("adsMessengerDataModelGetProductInfo").adsMessengerDataModelGetProductInfoField(a,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Image));a=this.validateImageHasError(a);return c||b||a};return a}();b=new a();g["default"]=b}),98);
__d("XMessengerVideoPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/ads/video/fetch/",{video_key:{type:"String",required:!0}})}),null);
__d("AdsMessengerVideoPreviewDataManager",["AdsMessengerVideoPreviewFetchErrorDataAction","AdsMessengerVideoPreviewFetchSuccessDataAction","AsyncRequest","XMessengerVideoPreviewController"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.getVideoPreview=function(a){var b=c("XMessengerVideoPreviewController").getURIBuilder().setString("video_key",a).getURI();b=new(c("AsyncRequest"))().setURI(b).setAllowCrossOrigin(!0).setErrorHandler(function(b){c("AdsMessengerVideoPreviewFetchErrorDataAction").dispatch({data:{key:a,error:b}},{line:"26",module:"AdsMessengerVideoPreviewDataManager.js"})}).setHandler(function(b){c("AdsMessengerVideoPreviewFetchSuccessDataAction").dispatch({data:{key:a,url:b.payload.url}},{line:"31",module:"AdsMessengerVideoPreviewDataManager.js"})});b.send()};return a}();b=new a();g["default"]=b}),98);
__d("XMessengerVisualEditorVideoUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messenger/ads/visual_editor/video/",{})}),null);
__d("AdsMessengerVideoUploader",["AdsMessengerVideoUploadErrorDataAction","AdsMessengerVideoUploadSuccessDataAction","AsyncRequest","XMessengerVisualEditorVideoUploadController"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.uploadVideoWithVideoIDMap=function(a,b,c){var d=this,e=new FileReader();e.readAsDataURL(a);e.onloadend=function(){var a=new FormData(),f=e.result&&e.result.split(",");f=f&&f[1];a.append("video_string",f);a.append("async_response","true");a.append("page_id",b);a.append("videox_id",c);d.$1(a)}};b.$1=function(a){var b=c("XMessengerVisualEditorVideoUploadController").getURIBuilder().getURI();b=new(c("AsyncRequest"))().setURI(b).setRawData(a).setStatusElement(null).setAllowCrossOrigin(!0).setErrorHandler(function(a){return c("AdsMessengerVideoUploadErrorDataAction").dispatch({error:a},{line:"56",module:"AdsMessengerVideoUploader.js"})}).setHandler(function(a){c("AdsMessengerVideoUploadSuccessDataAction").dispatch({videoID:a.payload.video_fbid},{line:"62",module:"AdsMessengerVideoUploader.js"})});b.send()};return a}();b=new a();g["default"]=b}),98);
__d("AdsMessengerVideoUploadDataManager",["AdsAccountStore","AdsMessengerVideoUploadErrorDataAction","AdsMessengerVideoUploader","AdsVideoUploadEvents","AdsVideoUploader","VideoUploadFile","WebApiApplication"],(function(a,b,c,d,e,f,g){"use strict";var h="visual_editor";function i(a,b){a=b!=null&&JSON.stringify(b);c("AdsMessengerVideoUploadErrorDataAction").dispatch({error:new Error(a)},{line:"24",module:"AdsMessengerVideoUploadDataManager.js"})}a=function(){function a(){}var b=a.prototype;b.uploadVideo=function(a,b){b=this.getVideoUploader(a,b);a=c("VideoUploadFile").fromFile(a);b.uploadMessengerVideo(a)};b.getVideoUploader=function(a,b){var e=new(c("AdsVideoUploader"))(c("AdsAccountStore").getSelectedAccountIDX(),d("WebApiApplication").getAccessToken(),h);e.subscribe(c("AdsVideoUploadEvents").UPLOAD_ERROR,i);e.subscribe(c("AdsVideoUploadEvents").UPLOAD_SUCCESS,function(a,b){return function(d,e){c("AdsMessengerVideoUploader").uploadVideoWithVideoIDMap(a,b,e)}}(a,b));return e};return a}();b=new a();g["default"]=b}),98);
__d("AdsMessengerVideoPreviewStore",["AdsDataAtom","AdsMessengerVideoPreviewDataManager","AdsMessengerVideoPreviewFetchErrorDataActionFlux","AdsMessengerVideoPreviewFetchSuccessDataActionFlux","FluxLoadObjectStore"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.__getActionTypes=function(){return[this.getActionTypeStartLoad(),d("AdsMessengerVideoPreviewFetchErrorDataActionFlux").actionType,d("AdsMessengerVideoPreviewFetchSuccessDataActionFlux").actionType]};e.reduce=function(a,b){b=b.action;var c=b.data&&b.data.key;switch(b.actionType){case d("AdsMessengerVideoPreviewFetchSuccessDataActionFlux").actionType:var e=b.data.url;return this.__handleOne(a,c,{url:e});case d("AdsMessengerVideoPreviewFetchErrorDataActionFlux").actionType:e=b.data.error;return this.__handleOne(a,c,{error:e});default:return a}};e.__load=function(a){a&&c("AdsMessengerVideoPreviewDataManager").getVideoPreview(a)};return b}(c("FluxLoadObjectStore"));a.__moduleID=f.id;b=new a(c("AdsDataAtom"));g["default"]=b}),98);
__d("AdsMessengerVideoStore",["AdsDataAtom","AdsMessengerVideoUploadDataManager","AdsMessengerVideoUploadErrorDataActionFlux","AdsMessengerVideoUploadResetDataActionFlux","AdsMessengerVideoUploadStartDataActionFlux","AdsMessengerVideoUploadSuccessDataActionFlux","FluxReduceStore","LoadObject"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,c("AdsDataAtom"))||this}var e=b.prototype;e.getInitialState=function(){return c("LoadObject").empty()};e.__getActionTypes=function(){return[d("AdsMessengerVideoUploadErrorDataActionFlux").actionType,d("AdsMessengerVideoUploadResetDataActionFlux").actionType,d("AdsMessengerVideoUploadStartDataActionFlux").actionType,d("AdsMessengerVideoUploadSuccessDataActionFlux").actionType]};e.reduce=function(a,b){b=b.action;switch(b.actionType){case d("AdsMessengerVideoUploadResetDataActionFlux").actionType:return c("LoadObject").empty();case d("AdsMessengerVideoUploadStartDataActionFlux").actionType:this.$AdsMessengerVideoStore1(b.videoFile,b.pageID);return c("LoadObject").loading();case d("AdsMessengerVideoUploadSuccessDataActionFlux").actionType:return c("LoadObject").withValue({videoID:b.videoID});case d("AdsMessengerVideoUploadErrorDataActionFlux").actionType:return c("LoadObject").withError(new Error(JSON.stringify(this.$AdsMessengerVideoStore2(b.error.message))));default:return a}};e.$AdsMessengerVideoStore2=function(a){a=JSON.parse(a);a=a&&a.message;a=a&&JSON.parse(a);a=a&&a.error;var b;a&&(b={error_code:a.error_subcode,error_title:a.error_user_title,error_message:a.error_user_msg});return{video_api:b}};e.$AdsMessengerVideoStore1=function(a,b){a&&b&&c("AdsMessengerVideoUploadDataManager").uploadVideo(a,b)};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a();g["default"]=b}),98);
__d("adsMessengerDataModelSetLandingScreenType",["AdsMessengerJSONPaths","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("setByPath")(a,c("AdsMessengerJSONPaths").LANDING_SCREEN_TYPE,b);return a}g["default"]=a}),98);
__d("MessageTemplateClickToMessageSection.react",["fbt","AdCampaignDestination","AdsInlineErrorMessageWithLogging.react","AdsInterfacesLogger","AdsMessengerConstants","AdsMessengerContentEditorTabs","AdsMessengerMarketingMessagesUtils","AdsMessengerPhoneNumberDataManager","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorLoggerEvents","AdsMessengerVisualEditorUtils","GeoSpinner.react","InstagramLeadGenMessageTemplateSection.react","MessageTemplateEditSectionContainer.react","adsMessengerDataModelSetLandingScreenType","getByPath","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useState,m=d("AdsMessengerVisualEditorUtils").getDefaultWelcomeMessageTemplateName();function a(a){r=l(r());var b=r[0],e=r[1];r=l(m);var f=r[0],g=r[1],o=j(function(){return a.isExistingTemplatesListLoading?[]:a.existingTemplatesList.filter(function(b){try{var d=JSON.parse(b.page_welcome_message_body);if(!d.template_id||d.template_id!==b.id)return!1;return a.selectedTemplateID===b.id?!0:c("getByPath")(d,["is_visible"])!==!1}catch(a){return!1}})},[a.isExistingTemplatesListLoading,a.existingTemplatesList,a.selectedTemplateID]),p=a.onJSONChange;r=j(function(h){if(h===b)return;e(h);var f=o();if(h===c("AdsMessengerContentEditorTabs").JSON)p(d("AdsMessengerVisualEditorUtils").getDefaultJSON());else if(h===c("AdsMessengerContentEditorTabs").CREATE_NEW){var i=d("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(a.pageID,a.destinationType);d("AdsMessengerMarketingMessagesUtils").hasMarketingMessagesParams()&&(i=d("AdsMessengerVisualEditorUtils").getDefaultMarketingMessagesJSON());a.isLeadGenObjective?p(babelHelpers["extends"]({},i,{landing_screen_type:c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW})):p(i);g(m);c("AdsMessengerPhoneNumberDataManager").clearPhoneNumber()}else if(a.isGetStartedEnabled){i=d("AdsMessengerVisualEditorUtils").getStandardGetStartedTemplateDefaultJSON(a.pageID,a.destinationType);p(c("adsMessengerDataModelSetLandingScreenType")(i,c("AdsMessengerVisualEditorLandingScreenType").GET_STARTED))}else if(!a.isExistingTemplatesListLoading&&f.length>0){i=f[0];try{f=JSON.parse(i.page_welcome_message_body);p(f);c("AdsMessengerPhoneNumberDataManager").parsePhoneNumberFromJSON(i.page_welcome_message_body)}catch(a){}}if(h===c("AdsMessengerContentEditorTabs").USE_EXISTING){c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_SELECT_USE_EXISTING_TAB,data:(f={},f.campaign_destination_type=a.destinationType,f)})}if(h===c("AdsMessengerContentEditorTabs").CREATE_NEW){c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_SELECT_CREATE_NEW_TAB,data:(i={},i.campaign_destination_type=a.destinationType,i)})}},[o,p,a.destinationType,a.isExistingTemplatesListLoading,a.isGetStartedEnabled,a.isLeadGenObjective,a.pageID,b]);k(function(){(a.landingScreenType===c("AdsMessengerVisualEditorLandingScreenType").GET_STARTED||a.selectedTemplate!=null)&&b!==c("AdsMessengerContentEditorTabs").USE_EXISTING?e(c("AdsMessengerContentEditorTabs").USE_EXISTING):a.selectedTemplateID==null&&a.landingScreenType!==c("AdsMessengerVisualEditorLandingScreenType").GET_STARTED&&b!==c("AdsMessengerContentEditorTabs").CREATE_NEW&&e(c("AdsMessengerContentEditorTabs").CREATE_NEW)},[a.landingScreenType,a.selectedTemplate,b,a.selectedTemplateID]);function q(a){a=a.trimLeft();if(a.length>d("AdsMessengerConstants").MAX_TEMPLATE_LENGTH)return;g(a)}function r(){return a.selectedTemplateID!=null||a.landingScreenType===c("AdsMessengerVisualEditorLandingScreenType").GET_STARTED?c("AdsMessengerContentEditorTabs").USE_EXISTING:c("AdsMessengerContentEditorTabs").CREATE_NEW}function s(){var b=a.selectedTemplate?a.selectedTemplate.template_name+" "+h._("Copy").toString():m;b.length<d("AdsMessengerConstants").MAX_TEMPLATE_LENGTH?g(b):g(m)}function t(){var b=a.selectedTemplate?a.selectedTemplate.template_name:m;g(b)}if(a.pageID==null)return i.jsx("div",{className:"x1gryazu xkrivgy x78zum5 x6s0dn4",children:i.jsx(c("GeoSpinner.react"),{})});var u=o();return a.destinationType===c("AdCampaignDestination").LEAD_FROM_IG_DIRECT?i.jsx(c("InstagramLeadGenMessageTemplateSection.react"),{account:a.account,campaignGroupIDs:a.campaignGroupIDs,campaignIDs:a.campaignIDs,editorType:b,eligibleLeadFormsList:a.eligibleLeadFormsList,existingTemplatesList:u,isCBO:a.isCBO,isExistingTemplatesListLoading:a.isExistingTemplatesListLoading,isLeadGenWarningEligible:a.isLeadGenWarningEligible,isUnifiedCreation:a.isUnifiedCreation,objective:a.objective,pageID:a.pageID,selectedTemplate:a.selectedTemplate,welcomeMessage:a.welcomeMessage,onJSONChange:a.onJSONChange,onTabChange:r}):i.jsxs("div",{"data-testid":void 0,children:[i.jsx(n,{error:a.inlineError}),i.jsx(c("MessageTemplateEditSectionContainer.react"),{account:a.account,accountID:a.accountID,adgroupIDs:a.adgroupIDs,campaignGroupIDs:a.campaignGroupIDs,campaignIDs:a.campaignIDs,composerState:a.composerState,defaultToConversations:a.defaultToConversations,destinationType:a.destinationType,editorType:b,eligibleLeadFormsList:a.eligibleLeadFormsList,errorSpec:a.errorSpec,existingTemplatesList:u,hasDefaultSwitchBack:a.hasDefaultSwitchBack,isCBO:a.isCBO,isExistingPost:a.isExistingPost,isExistingTemplatesListLoading:a.isExistingTemplatesListLoading,isGetStartedEnabled:a.isGetStartedEnabled&&!a.isLeadGenObjective,isInThreadMultiphotoCarousel:a.isInThreadMultiphotoCarousel,isLeadGenObjective:a.isLeadGenObjective,isLeadGenWarningEligible:a.isLeadGenWarningEligible,isUnifiedCreation:a.isUnifiedCreation,isVideoLoading:a.isVideoLoading,landingScreenType:a.landingScreenType,objectStoryID:a.objectStoryID,objective:a.objective,ordersData:a.ordersData,page:a.page,pageID:a.pageID,pageName:a.pageName,phoneNumberData:a.phoneNumberData,selectedTemplate:a.selectedTemplate,selectedTemplateID:a.selectedTemplateID,shouldShowMarketingMessageNotice:a.shouldShowMarketingMessageNotice,showLeadGenUpsell:a.showLeadGenUpsell,templateName:f,videoURL:a.videoURL,welcomeMessage:a.welcomeMessage,onClickDuplicate:s,onClickEdit:t,onJSONChange:a.onJSONChange,onTabChange:r,onTemplateNameChange:q})]})}a.displayName=a.name+" [from "+f.id+"]";function n(a){a=a.error;return a==null?null:i.jsx(c("AdsInlineErrorMessageWithLogging.react"),{error:a,margin:"_3-97",variant:"info"})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("adsMessengerDataModelGetVideoID",["AdsMessengerJSONPaths","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("getByPath")(a,c("AdsMessengerJSONPaths").VIDEO_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ATTACHMENT_ID);return a?String(a):null}g["default"]=a}),98);
__d("adsMessengerDataModelSetVideo",["AdsMessengerJSONPaths","adsMessengerDataModelClone","getByPath","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("AdsMessengerJSONPaths").VIDEO_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ATTACHMENT_ID,e=c("getByPath")(a,d);if(e==null){a.video_format.message.attachment.payload={attachment_id:String(b)||""};return a}e=c("adsMessengerDataModelClone")(a);c("setByPath")(e,d,b);return e}g["default"]=a}),98);
__d("MessageTemplateClickToMessageSectionContainer.react",["AdCampaignDestination","AdsAPIOptimizationGoals","AdsBulkValueUtils","AdsFluxContainer","AdsInterfacesLogger","AdsMessengerLeadGenSeenDefaultingAction","AdsMessengerMarketingMessagesUtils","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorLoggerEvents","AdsMessengerVisualEditorUtils","AdsUEditorAdgroupExistingPostCTACommonSelectors","AdsUEditorAdgroupSetExistingPostPageWelcomeMessageDataAction","AdsUEditorAdgroupSetPageWelcomeMessageDataAction","AdsUEditorAdgroupUnsetPageWelcomeMessageDataAction","AdsUEditorContextType","AdsUEditorHostIDs","AdsUEditorMessengerContentEditorSelectors","AdsUEditorUnifiedCreationUtils","MessageTemplateClickToMessageSection.react","MessengerAdsPartialAutomatedStateManager","adsMessengerDataModelGetVideoID","adsMessengerDataModelSetVideo","adsUEditorAdObjectsForSelectedAdgroupsSelector","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=6;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(a,b){d("MessengerAdsPartialAutomatedStateManager").maybeUpdateOptimization(e.state.isAutobid,JSON.stringify(a),e.state.optimizationGoal,e.state.optimizationParams,e.props.destinationType,b);if(e.state.isExistingPost)c("AdsUEditorAdgroupSetExistingPostPageWelcomeMessageDataAction").dispatch({hostID:c("AdsUEditorHostIDs").EDITING,adgroupIDs:e.state.adgroupIDs,pageWelcomeMessage:JSON.stringify(a)},{line:"343",module:"MessageTemplateClickToMessageSectionContainer.react.js"});else{b=a!==null&&!Object.prototype.hasOwnProperty.call(a,"template_id")&&Object.prototype.hasOwnProperty.call(a,"user_edit")&&a.user_edit!==!0&&e.props.destinationType===c("AdCampaignDestination").WHATSAPP;b?c("AdsUEditorAdgroupUnsetPageWelcomeMessageDataAction").dispatch({hostID:c("AdsUEditorHostIDs").EDITING,adgroupIDs:e.state.adgroupIDs},{line:"357",module:"MessageTemplateClickToMessageSectionContainer.react.js"}):c("AdsUEditorAdgroupSetPageWelcomeMessageDataAction").dispatch({hostID:c("AdsUEditorHostIDs").EDITING,adgroupIDs:e.state.adgroupIDs,pageWelcomeMessage:JSON.stringify(a)},{line:"361",module:"MessageTemplateClickToMessageSectionContainer.react.js"})}},b)||babelHelpers.assertThisInitialized(e)}b.getStores=function(a,b){a=b.adgroupEditorContext;b=b.campaignEditorContext;return[].concat(d("AdsUEditorMessengerContentEditorSelectors").adsUEditorMessengerExperienceEditorSelector.getStores(a||b),c("adsUEditorAdObjectsForSelectedAdgroupsSelector").getStores(a||b),d("AdsUEditorAdgroupExistingPostCTACommonSelectors").inThreadMultiphotoCarouselSourceSelector.getStores(a||b))};b.calculateState=function(a,b,e){a=e.adgroupEditorContext;b=e.campaignEditorContext;e=c("adsUEditorAdObjectsForSelectedAdgroupsSelector")(a||b);var f=d("AdsUEditorMessengerContentEditorSelectors").adsUEditorMessengerExperienceEditorSelector(a||b);e=e!=null&&e.length===1?(e=e[0].adgroup.creative)==null?void 0:e.object_story_id:null;a=d("AdsUEditorAdgroupExistingPostCTACommonSelectors").inThreadMultiphotoCarouselSourceSelector(a||b);b=a.hasValueWithoutError()?a.getValue():null;a=(b==null?void 0:b.showInThreadMultiphotoCarousel)===!0;b=!d("AdsMessengerMarketingMessagesUtils").hasMarketingMessagesParams();return babelHelpers["extends"]({objectStoryID:e,isInThreadMultiphotoCarousel:a,shouldShowMarketingMessageNotice:b},f)};var e=b.prototype;e.componentDidUpdate=function(){if(this.state.welcomeMessage==null)return;var a=null;try{a=JSON.parse(this.state.welcomeMessage)}catch(a){return}a&&this.state.videoID!=null&&this.state.videoID!==""&&this.state.videoID!==0&&this.state.videoID!==c("adsMessengerDataModelGetVideoID")(a)&&this.$1(c("adsMessengerDataModelSetVideo")(a,this.state.videoID));var b=d("AdsBulkValueUtils").getUniformValueOrDefault(this.state.optimizationParams.isNewCampaign,!1)?!0:this.state.optimizationGoal===c("AdsAPIOptimizationGoals").LEAD_GENERATION;this.props.defaultToConversations!==!0&&b&&(this.props.destinationType===c("AdCampaignDestination").MESSENGER||d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithMessenger(this.props.destinationType))&&(this.state.isLeadGenDefaultingEligible&&(this.$1(babelHelpers["extends"]({},a,{landing_screen_type:c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW})),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_MSG_OBJECTIVE_DEFAULTED}),c("AdsMessengerLeadGenSeenDefaultingAction").dispatch({adgroupIDs:this.state.adgroupIDs},{line:"236",module:"MessageTemplateClickToMessageSectionContainer.react.js"})));d("MessengerAdsPartialAutomatedStateManager").maybeUpdateOptimization(this.state.isAutobid,this.state.welcomeMessage,this.state.optimizationGoal,this.state.optimizationParams,this.props.destinationType)};e.componentDidMount=function(){d("AdsMessengerMarketingMessagesUtils").hasMarketingMessagesParams()&&this.$1(d("AdsMessengerVisualEditorUtils").getDefaultMarketingMessagesJSON()),this.state.isExistingPost?c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_EP_VE_RENDERED}):c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_VE_RENDERED,data:{objective:this.state.objective}})};e.render=function(){var a=(this.state.pageID!=null?this.state.pageID:"")+"-"+this.state.isExistingPost.toString();return h.jsx(c("MessageTemplateClickToMessageSection.react"),{account:this.state.optimizationParams.account,accountID:this.state.accountID,adgroupIDs:this.state.adgroupIDs,campaignGroupIDs:this.state.campaignGroupIDs,campaignIDs:this.state.campaignIDs,composerState:this.state.composerState,context:this.context,defaultToConversations:this.props.defaultToConversations,destinationType:this.props.destinationType,eligibleLeadFormsList:this.state.eligibleLeadFormsList||[],errorSpec:this.state.errorSpec,existingTemplatesList:this.state.customTemplatesList||[],hasDefaultSwitchBack:this.state.hasDefaultSwitchBack,inlineError:this.state.inlineError,isCBO:this.state.isCBO,isExistingPost:this.state.isExistingPost,isExistingTemplatesListLoading:this.state.isCustomTemplatesListLoading,isGetStartedEnabled:this.state.isGetStartedEnabled,isInThreadMultiphotoCarousel:this.state.isInThreadMultiphotoCarousel,isLeadGenObjective:this.state.isLeadGenObjective,isLeadGenWarningEligible:this.state.isLeadGenWarningEligible,isUnifiedCreation:this.state.isUnifiedCreation,isVideoLoading:this.state.isVideoLoading,landingScreenType:this.state.landingScreenType,objectStoryID:this.state.objectStoryID,objective:this.state.objective,ordersData:this.state.ordersData,page:this.state.page,pageID:this.state.pageID,pageName:this.state.pageName,phoneNumberData:this.state.phoneNumberData,selectedTemplate:this.state.selectedTemplate,selectedTemplateID:this.state.selectedTemplateID,shouldShowMarketingMessageNotice:this.state.shouldShowMarketingMessageNotice,showLeadGenUpsell:this.props.destinationType===c("AdCampaignDestination").MESSENGER&&this.state.isLeadGenDefaultingEligible&&this.props.defaultToConversations!==!0,videoURL:this.state.videoURL,welcomeMessage:this.state.welcomeMessage,onJSONChange:this.$1},a)};return b}(h.Component);b.contextTypes=babelHelpers["extends"]({},c("AdsUEditorContextType").adgroup,c("AdsUEditorContextType").campaign);e=c("AdsFluxContainer").create(b,{withProps:!0,withContext:!0,name:f.id});g.messages_obj_impression_cap=a;g.MessageTemplateClickToMessageSectionContainerWrapper=e}),98);
__d("MessageTemplateConvertLeadFormsRadioSection.react",["fbt","ix","AdsInterfacesLogger","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorUtils","AdsUEditorAdgroupSetPageWelcomeMessageDataAction","DateTime","GeoButton.react","GeoRadioList.react","GeoRadioListItem.react","GeoScrollableArea.react","Image.react","MessengerAdsPartialAutomatedDialogContainer.react","MessengerAdsPartialAutomatedFormDataManager","geoMargin","isStringNullOrEmpty","react","stylex","useJSON"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState,o={scrollableArea:{maxHeight:"x1iuus0c"}},p="Converted Chat "+c("DateTime").localNow().format("m-d-y"),q="-converted";function a(a){var b=n(!1),e=b[0],f=b[1];b=n(!1);var g=b[0],r=b[1],s=m(a.selectedTab),t=c("useJSON")(a.welcomeMessage);b=a.eligibleLeadFormsList.length===0?null:a.eligibleLeadFormsList[0];if(!c("isStringNullOrEmpty")(a.welcomeMessage)&&a.shouldAutoConvert){var u=t.original_lead_form_id,v=a.eligibleLeadFormsList.filter(function(a){return a.id===u});v.length>0&&(b=v[0])}v=n(b);var w=v[0],x=v[1];b=n(w==null?p:(w==null?void 0:w.name)+q);v=b[0];var y=b[1],z=k(function(){f(!0),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CONVERT_LEAD_FORMS_CONVERT_TO_CHAT,data:{objective:a.objective,message:w==null?void 0:w.id}})},[a.objective,w]),A=function(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CONVERT_LEAD_FORMS_PREVIEW_BUTTON_CLICKED,data:{objective:a.objective,message:w==null?void 0:w.id}});var b=a.pageID;if(b==null||a.convertedStepListState==null){r(a.convertedStepListState==null);return}d("MessengerAdsPartialAutomatedFormDataManager").generatePreview(b,a.convertedStepListState.introMessage,a.convertedStepListState.questionItems,a.convertedStepListState.confirmationMessage,a.convertedStepListState.additionalQuestionItems,a.convertedStepListState.questionsCompleteMessage,a.convertedStepListState.disqualifyMessage,a.convertedStepListState.followUpMessage,a.convertedStepListState.reminderText,c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW,a.account,a.convertedStepListState.privacyURL,a.convertedStepListState.stopQuestionMessage,!0,null,null,a.onPreviewSuccess)},B=k(function(e,f){var b=t.original_lead_form_id;if(b===f)return;b=a.adgroupIDs;if(b==null)return;var g=d("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(a.pageID),h=a.hostID;g.landing_screen_type=c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW;g.ctm_lead_gen_template_id=e;g.is_visible=!1;g.original_lead_form_id=f;c("AdsUEditorAdgroupSetPageWelcomeMessageDataAction").dispatch({hostID:h,adgroupIDs:b,pageWelcomeMessage:JSON.stringify(g)},{line:"187",module:"MessageTemplateConvertLeadFormsRadioSection.react.js"})},[a.adgroupIDs,a.hostID,a.pageID,t.original_lead_form_id]);l(function(){var b=!0,e=a.pageID;if(w==null||e==null)return;var f=a.onConvertedStepListStateChange;f(null);d("MessengerAdsPartialAutomatedFormDataManager").convertLeadForm(e,String(w.id),function(h,i){if(s.current!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CONVERT_FORM||!b)return;a.shouldAutoConvert&&B(h,String(w.id));d("MessengerAdsPartialAutomatedFormDataManager").fetchAndLoadLeadGenTemplate(h,a.account,{convertedLeadFormID:w.id,showConvertFormsCard:i>0,onConvertFormSuccess:function(b){f(b),g&&(r(!1),d("MessengerAdsPartialAutomatedFormDataManager").generatePreview(e,b.introMessage,b.questionItems,b.confirmationMessage,b.additionalQuestionItems,b.questionsCompleteMessage,b.disqualifyMessage,b.followUpMessage,b.reminderText,c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW,a.account,b.privacyURL,b.stopQuestionMessage,!0,null,null,a.onPreviewSuccess))}})});return function(){b=!1}},[g,a.adgroupIDs,a.pageID,a.account,a.accountID,a.onPreviewSuccess,w,a.onConvertedStepListStateChange,B,a.shouldAutoConvert]);function C(b){if(b==null)return;x(b);y(w==null?p:(b==null?void 0:b.name)+q);c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CONVERT_LEAD_FORMS_SELECT_FORM,data:{objective:a.objective,message:b.id}})}var D=a.shouldAutoConvert?d("AdsMessengerConstants").DUPLICATE:h._("Convert to chat"),E=a.shouldAutoConvert?j.jsx(c("Image.react"),{src:i("422636")}):j.jsx(c("Image.react"),{src:i("363753")});return j.jsxs("div",{className:c("stylex")(c("geoMargin").vert8),children:[j.jsx(c("GeoScrollableArea.react"),{direction:"vertical",xstyle:o.scrollableArea,children:a.eligibleLeadFormsList.map(function(a){return j.jsxs("div",{className:c("stylex")(c("geoMargin").vert4),children:[j.jsx(c("GeoRadioList.react"),{isLabelHidden:!0,label:"Convert Forms",value:w,onChange:C,children:j.jsx(c("GeoRadioListItem.react"),{label:a.name,value:a},a.id)}),a.id===(w==null?void 0:w.id)&&j.jsxs("div",{style:{display:"inline"},children:[j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:E,label:D,xstyle:[c("geoMargin").end8,c("geoMargin").top4],onClick:z}),j.jsx(c("GeoButton.react"),{icon:j.jsx(c("Image.react"),{src:i("363444")}),label:d("AdsMessengerConstants").PREVIEW,xstyle:c("geoMargin").top4,onClick:A})]})]},a.id)})}),j.jsx(c("MessengerAdsPartialAutomatedDialogContainer.react"),{convertedStepListState:a.convertedStepListState,isShown:e,selectedTemplateName:v,shouldAutoConvert:a.shouldAutoConvert,onToggle:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageTemplateConvertLeadFormsRadioSectionContainer.react",["AdsFluxHooks","AdsUEditorHooks","MessageTemplateConvertLeadFormsRadioSection.react","adsCreateSelector","adsUEditorSelectedAdgroupIDsSelector","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupIDsSelector")],function(a){return{adgroupIDs:a}},{name:f.id+".AdsMessengerPartialAutomatedConvertFormsSelector"});function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(i);b=b.state;var e=d("AdsUEditorHooks").useUEditorAdgroupContext();return h.jsx(c("MessageTemplateConvertLeadFormsRadioSection.react"),{account:a.account,accountID:a.accountID,adgroupIDs:b.adgroupIDs,convertedStepListState:a.convertedStepListState,eligibleLeadFormsList:a.eligibleLeadFormsList,hostID:e.hostID,objective:a.objective,pageID:a.pageID,selectedTab:a.selectedTab,shouldAutoConvert:a.shouldAutoConvert,welcomeMessage:a.welcomeMessage,onConvertedStepListStateChange:a.onConvertedStepListStateChange,onPreviewSuccess:a.onPreviewSuccess})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("StartConversationsTemplateCancelDialog.react",["fbt","GeoButton.react","GeoModal.react","GeoModalFooter.react","GeoModalHeader.react","GeoSection.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(c("GeoModal.react"),{footer:i.jsx(c("GeoModalFooter.react"),{primaryButton:i.jsx(c("GeoButton.react"),{label:h._("Leave"),variant:"primary",onClick:a.onDiscardChangesToTemplate}),secondaryButton:i.jsx(c("GeoButton.react"),{label:h._("Continue editing"),variant:"default",onClick:a.onContinueEditing})}),header:i.jsx(c("GeoModalHeader.react"),{heading:h._("Leave without saving changes?")}),isShown:a.shown,width:450,onHide:a.onContinueEditing,children:i.jsx(c("GeoSection.react"),{children:h._("If you leave, any changes you've made to your welcome message won't be saved.")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageTemplateCreateNewStartConversationsSection.react",["ix","AdsInterfacesLogger","AdsMessengerConstants","AdsMessengerContentEditorTabs","AdsMessengerVisualEditorLoggerEvents","AdsMessengerVisualEditorUtils","GeoButton.react","Image.react","StartConversationsTemplateCancelDialog.react","StartConversationsTemplateDialog.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={isCloseDialogShown:!1,oldWelcomeMessage:e.props.welcomeMessage,showDialog:!1},e.$6=function(){e.setState({showDialog:!0,oldWelcomeMessage:e.props.welcomeMessage})},e.$1=function(){var a;c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_CLICK_CREATE_MESSAGE_TEMPLATE,data:(a={},a.campaign_destination_type=e.props.destinationType,a)});e.$6()},e.$2=function(){if(e.state.oldWelcomeMessage===e.props.welcomeMessage){e.setState({showDialog:!1});return}e.setState({isCloseDialogShown:!0})},e.$3=function(){e.setState({showDialog:!1})},e.$5=function(){e.setState({isCloseDialogShown:!1,showDialog:!1});var a=e.state.oldWelcomeMessage;try{a=JSON.parse(a)}catch(b){a=d("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(e.props.pageID,e.props.destinationType)}e.props.onJSONChange(a)},e.$4=function(){e.setState({isCloseDialogShown:!1})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){return i.jsxs("div",{children:[this.props.editorType!==c("AdsMessengerContentEditorTabs").USE_EXISTING&&i.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:i.jsx(c("Image.react"),{src:h("477824")}),label:d("AdsMessengerConstants").EDIT,onClick:this.$1}),this.state.showDialog&&i.jsxs(i.Fragment,{children:[i.jsx(c("StartConversationsTemplateDialog.react"),{account:this.props.account,accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,composerState:this.props.composerState,destinationType:this.props.destinationType,editorTab:this.props.editorType,errorSpec:this.props.errorSpec,isExistingPost:this.props.isExistingPost,isUnifiedCreation:this.props.isUnifiedCreation,isVideoLoading:this.props.isVideoLoading,objectStoryID:this.props.objectStoryID,objective:this.props.objective,ordersData:this.props.ordersData,page:this.props.page,pageID:this.props.pageID,pageName:this.props.pageName,phoneNumberData:this.props.phoneNumberData,shown:this.state.showDialog,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessageJSON:d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(this.props.pageID,this.props.welcomeMessage,this.props.destinationType),onClose:this.$2,onHide:this.$3,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange}),i.jsx(c("StartConversationsTemplateCancelDialog.react"),{shown:this.state.isCloseDialogShown,onContinueEditing:this.$4,onDiscardChangesToTemplate:this.$5})]})]})};return b}(i.Component);g["default"]=a}),98);
__d("AdsODAXSwitchOptimizationGoalGuidanceNotice.react",["fbt","AdsStaticGuidanceCard.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx(c("AdsStaticGuidanceCard.react"),{ccCardProps:{category:"ACTIVE_FEEDBACK",messageID:"",textData:[{type:"PARAGRAPH",data:{text:h._("Your optimization has been switched from conversations to link clicks, since automated chat is only available with link clicks.")}}],hideXout:!0}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageTemplatePreviewFAQSection.react",["AdsInterfacesLogger","AdsMessengerConstants","AdsMessengerVisualEditorLoggerEvents","AdsMessengerVisualEditorUtils","TextWithEntitiesTruncated.react","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useState;function k(a,b,e){return h.jsx("div",{className:"x13faqbe x1f6kntn x12nagc",children:c("isStringNullOrEmpty")(a)?d("AdsMessengerConstants").EMPTY_ICEBREAKER_RESPONSE:h.jsx(c("TextWithEntitiesTruncated.react"),{maxLength:b?d("AdsMessengerConstants").ICE_BREAKER_RESPONSE_MAX_LENGTH:d("AdsMessengerConstants").TRUNCATION_MAX_LENGTH,ranges:[],text:a,truncationStyle:"ellipsis-only"})},c("isStringNullOrEmpty")(a)?e.toString():a+e.toString())}k.displayName=k.name+" [from "+f.id+"]";function l(a,b){a=b?a:a.slice(0,1);return h.jsx("ol",{className:"xkhd6sd",children:a.map(function(a,c){return h.jsx("li",{children:[k(a.title,b,c),k(a.response,b,c)]},"icebreaker_item"+c.toString())})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=j(!1),e=b[0],f=b[1],g=a.destinationType;b=d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(a.pageID,a.welcomeMessage,g);a=((a=b.text_format)==null?void 0:(a=a.message)==null?void 0:a.text)||"";b=((b=b.text_format)==null?void 0:(b=b.message)==null?void 0:b.ice_breakers)||[];var m=i(function(){var a;c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTX_CLICK_MESSAGE_TEMPLATE_SEE_MORE_OR_LESS,data:(a={},a.campaign_destination_type=g,a.is_enabled=e,a)});f(!e)},[g,e]);return h.jsxs("div",{className:"x1e56ztr xurb0ha xwib8y2 x1sxyh0 x1y1aw1k xgk8upj x1qt0ttw xnhgr82 x1a2cdl4 xydt3hl",children:[h.jsx("div",{className:"x13faqbe x117nqv4 x1f6kntn x12nagc",children:d("AdsMessengerConstants").GREETING}),k(a,e,-1),h.jsx("div",{className:"x13faqbe x117nqv4 x1f6kntn x12nagc",children:d("AdsMessengerConstants").QUESTIONS_AND_RESPONSES}),h.jsx("div",{className:"x9otpla x1swvt13",children:l(b,e)}),b.length>1&&h.jsx("div",{className:"x1ypdohk x1tmljpc","data-testid":void 0,role:"link",tabIndex:0,onClick:m,children:e?d("AdsMessengerConstants").SEE_LESS:d("AdsMessengerConstants").SEE_MORE})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageTemplatePreviewFAQSectionContainer.react",["AdsFluxContainer","MessageTemplatePreviewFAQSection.react","PagesReplyComposerStore","PagesReplyComposerTextUtilities","adsCreateSelector","adsStoreToSelector","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a="MessengerJSONPreview";var i=c("adsCreateSelector")([c("adsStoreToSelector")(c("PagesReplyComposerStore").getByKey(a))],function(a){return{composerState:a}},{name:f.id+".stateSelector"});b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getStores=function(){return i.getStores()};b.calculateState=function(){return i()};var e=b.prototype;e.render=function(){return h.jsx(c("MessageTemplatePreviewFAQSection.react"),{destinationType:this.props.destinationType,pageID:this.props.pageID,welcomeMessage:this.$1(this.props.welcomeMessage)})};e.$1=function(a){return d("PagesReplyComposerTextUtilities").processMessage(a||"",this.state.composerState.supportedMacros)};return b}(h.Component);e=c("AdsFluxContainer").create(b,{name:f.id});g["default"]=e}),98);
__d("MessengerAdsPartialAutomatedStrings",["fbt","ix","AdsLeadGenFormEditorConstants","AdsLearnMore.react","AdsMessengerPartialAutomatedCreationTypes","DateTime","Image.react","MessengerAdsPartialAutomatedConstants","MessengerAdsPartialAutomatedQuestionStrings","formatDate","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=12;function a(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE:return h._("Intro");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS:return h._("Questions");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE:return h._("Completion message");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.ADDITIONAL_QUESTIONS:return h._("Follow-up questions");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS_COMPLETE_MESSAGE:return h._("Questions complete");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE:return h._("Disqualification message");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.REMINDER:return h._("Reminder");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY:return h._("Privacy Policy");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.GREETING:return h._("Greeting");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.STOP_QUESTION_MESSAGE:return h._("Confirmation to pause questions");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.FIELD_IDS:return h._("Edit field IDs");default:return""}}function b(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE:return h._("Let people know why they should complete your form.");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE:return h._("Thank people for their answers and let them know what happens next. You can find your new lead in Ads Manager, your Page's publishing tool or in your CRM.");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE:return h._("Send people a different message if you disqualify an answer.");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY:return h._("Since you will be collecting customer information, you need to include a link to your business' privacy policy.");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.REMINDER:return h._("Send an automated message to people who haven't finished your questions within 5 minutes. {=Learn more}",[h._param("=Learn more",j.jsx(c("AdsLearnMore.react"),{cmsID:"2398917563501477"}))]);case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.TEMPLATE_NAME:return h._("You can save this setup as a template for future campaigns.");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.STOP_QUESTION_MESSAGE:return h._("A Pause questions option lets people end this automated chat at any time. Let them know they've paused questions and what they can do next.");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.FIELD_IDS:return h._("Customize fields IDs to connect with your CRM.");default:return""}}function e(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE:return h._("Enter your intro message");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE:return h._("Enter your completion message");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE:return h._("Enter your disqualification message");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.REMINDER:return h._("Enter your reminder message");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.TEMPLATE_NAME:return h._("Give your template a name");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.STOP_QUESTION_MESSAGE:return h._("Enter your confirmation to pause questions message");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS_COMPLETE_MESSAGE:return h._("Enter your message for when people finish all questions");default:return""}}function f(a){var b=d("AdsLeadGenFormEditorConstants").CMS_PII_MAP;switch(a){case"FULL_ADDRESS":return b.STREET_ADDRESS;case"ZIP_CODE":return b.POST_CODE;case"CITY":return b.CITY;case"STATE":return b.STATE;case"COUNTRY":return b.COUNTRY;case"EMAIL":return b.EMAIL;case"PHONE":return b.PHONE;case"JOB_TITLE":return b.JOB_TITLE;case"COMPANY_NAME":return b.COMPANY_NAME;case"GENDER":return b.GENDER;case"DOB":return b.DOB;case"FULL_NAME":return b.FULL_NAME;case"FIRST_NAME":return b.FIRST_NAME;case"LAST_NAME":return b.LAST_NAME;default:return null}}function l(a,b,c){var e=h._("Custom question");switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE:case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE:b=b==null?void 0:b.answers;if(b&&b.length>0&&(c===!0||b[0].nextStep!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.DISQUALIFY_MESSAGE&&b[0].value!=="")){c=b.length;var f=[],g=0;for(var b=b,i=Array.isArray(b),j=0,b=i?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var l;if(i){if(j>=b.length)break;l=b[j++]}else{j=b.next();if(j.done)break;l=j.value}l=l;if(g+l.value.length>k){var m=c-f.length;if(f.length>0){f.push(m.toString()+"+");break}}l.value.length>0&&(f.push(l.value),g+=l.value.length)}return f}if(a===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE)return[h._("Messenger call permission")];else return[e];case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CUSTOM:return[e];case"FULL_ADDRESS":return[h._("Full address")];case"STREET_ADDRESS":return[h._("Street Address")];case"ZIP_CODE":return[h._("ZIP code")];case"POST_CODE":return[h._("Post code")];case"CITY":return[h._("City")];case"STATE":return[h._("State")];case"PROVINCE":return[h._("Province")];case"COUNTRY":return[h._("Country")];case"EMAIL":return[h._("Email")];case"PHONE":return[h._("Phone number")];case"JOB_TITLE":return[h._("Job title")];case"COMPANY_NAME":return[h._("Company name")];case"GENDER":return[h._("Gender")];case"RELATIONSHIP_STATUS":return[h._("Relationship Status")];case"MARITAL_STATUS":return[h._("Marital Status")];case"MILITARY_STATUS":return[h._("Military Status")];case"DOB":return[h._("Date of birth")];case"FULL_NAME":return[h._("Full name")];case"FIRST_NAME":return[h._("First name")];case"LAST_NAME":return[h._("Last name")];case"WORK_EMAIL":return[h._("Work email")]}return[""]}function m(a,b){return{answerType:a||d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE,optionsFormat:b||"text"}}function n(a,b){b===void 0&&(b=!1);var c=a.answerType;a=a.optionsFormat;if(a==="carousel")return h._("Carousel");else if(c===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CUSTOM&&b)return h._("Text");return l(c)[0]}function o(a,b){b===void 0&&(b=!1);switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.CONFIRMATION_MESSAGE:return b?h._("Lead complete"):h._("Completion");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.DISQUALIFY_MESSAGE:return h._("Disqualification");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.NEXT_QUESTION:return h._("Next question")}}function p(a,b){b===void 0&&(b=!1);switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.CONFIRMATION_MESSAGE:return b?h._("People who choose this answer go to the lead complete message."):h._("People who choose this answer go directly to the completion message.");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.DISQUALIFY_MESSAGE:return h._("People who choose this answer go directly to the disqualification message. They do not count as leads.");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.NEXT_QUESTION:return h._("People who choose this answer go to the next question.")}}function q(a,b){switch(a){case"GENDER":return j.jsx(c("Image.react"),{src:i("481918")});case"PHONE":return j.jsx(c("Image.react"),{src:i("558160")});case"FULL_ADDRESS":return j.jsx(c("Image.react"),{src:i("481941")});case"CITY":return j.jsx(c("Image.react"),{src:i("481941")});case"STATE":return j.jsx(c("Image.react"),{src:i("481941")});case"PROVINCE":return j.jsx(c("Image.react"),{src:i("481941")});case"ZIP_CODE":return j.jsx(c("Image.react"),{src:i("481941")});case"COUNTRY":return j.jsx(c("Image.react"),{src:i("481941")});case"EMAIL":return j.jsx(c("Image.react"),{src:i("495078")});case"JOB_TITLE":return j.jsx(c("Image.react"),{src:i("481904")});case"COMPANY_NAME":return j.jsx(c("Image.react"),{src:i("881985")});case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE:return j.jsx(c("Image.react"),{src:i("867348")});case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CUSTOM:return j.jsx(c("Image.react"),{src:i("486061")});case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE:return b==="carousel"?j.jsx(c("Image.react"),{src:i("481797")}):j.jsx(c("Image.react"),{src:i("486061")});default:return null}}function r(a,b){switch(a){case"GENDER":return j.jsx(c("Image.react"),{src:i("491838")});case"PHONE":return j.jsx(c("Image.react"),{src:i("588631")});case"FULL_ADDRESS":return j.jsx(c("Image.react"),{src:i("502007")});case"CITY":return j.jsx(c("Image.react"),{src:i("502007")});case"STATE":return j.jsx(c("Image.react"),{src:i("502007")});case"PROVINCE":return j.jsx(c("Image.react"),{src:i("502007")});case"ZIP_CODE":return j.jsx(c("Image.react"),{src:i("502007")});case"COUNTRY":return j.jsx(c("Image.react"),{src:i("502007")});case"EMAIL":return j.jsx(c("Image.react"),{src:i("518142")});case"JOB_TITLE":return j.jsx(c("Image.react"),{src:i("599568")});case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE:return j.jsx(c("Image.react"),{src:i("266476")});case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CUSTOM:return j.jsx(c("Image.react"),{src:i("486062")});case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE:return b==="carousel"?j.jsx(c("Image.react"),{src:i("615780")}):j.jsx(c("Image.react"),{src:i("486062")});default:return null}}function s(a){return a.split(" ").join("_").toLowerCase()}function t(a){return h._("Generate leads {date}",[h._param("date",c("formatDate")(c("DateTime").now(a.timezone_id).getUnixTimestampSeconds(),"m-d-y"))]).toString()}function u(a,b){b===void 0&&(b=!1);return{additionalQuestionItems:[],confirmationAttachment:d("MessengerAdsPartialAutomatedConstants").DEFAULT_CONFIRMATION_ATTACHMENT,confirmationCTA:d("MessengerAdsPartialAutomatedConstants").DEFAULT_CTM_LEAD_GEN_CTA_SPEC,confirmationMessage:b?d("MessengerAdsPartialAutomatedQuestionStrings").getMediaTextMessage(d("MessengerAdsPartialAutomatedConstants").POST_LEAD_DEFAULT_LEAD_COMPLETE_MESSAGE):d("MessengerAdsPartialAutomatedConstants").DEFAULT_PERSONALIZED_CONFIRMATION_MESSAGE_CTM_LEAD_GEN,customInvalidTextFields:{isCustomOn:!1,phoneText:d("MessengerAdsPartialAutomatedConstants").DEFAULT_PHONE_VALIDATION_MESSAGE.toString(),emailText:d("MessengerAdsPartialAutomatedConstants").DEFAULT_EMAIL_VALIDATION_MESSAGE.toString(),multipleChoiceText:d("MessengerAdsPartialAutomatedConstants").DEFAULT_MULTIPLE_CHOICE_VALIDATION_MESSAGE.toString(),workEmailText:d("MessengerAdsPartialAutomatedConstants").DEFAULT_EMAIL_VALIDATION_MESSAGE.toString()},disqualifyMessage:d("MessengerAdsPartialAutomatedConstants").DEFAULT_DISQUALIFY_MESSAGE_CTM_LEAD_GEN.toString(),hopAppSetting:{toggle:!1,appID:null,summary:null},introMessage:d("MessengerAdsPartialAutomatedConstants").DEFAULT_PERSONALIZED_INTRO_MESSAGE_CTM_LEAD_GEN,privacyURL:null,questionItems:d("MessengerAdsPartialAutomatedQuestionStrings").getCTMLeadGenQuestions(a),questionsCompleteMessage:d("MessengerAdsPartialAutomatedConstants").POST_LEAD_DEFAULT_QUESTIONS_COMPLETE_MESSAGE.toString(),reminderText:d("MessengerAdsPartialAutomatedConstants").DEFAULT_CTM_LEAD_GEN_REMINDER_TEXT.toString(),showConvertFormsCard:!1,stopQuestionMessage:d("MessengerAdsPartialAutomatedConstants").DEFAULT_STOP_QUESTION_MESSAGE_CTM_LEAD_GEN.toString(),expandedSectionIDs:new Set()}}function v(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.NONE:return h._("None");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.CTA_BUTTON:return h._("Call-to-action button");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.COMPLETION_OFFER:return h._("Completion offer")}}function w(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.NONE:return null;case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.CTA_BUTTON:return h._("Add a button for people to visit your call to action when they finish answering your questions.");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.COMPLETION_OFFER:return h._("Send a promo code for people to use after they finish answering your questions.")}}function x(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.CALL_BUSINESS:return h._("Call business");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.DOWNLOAD:return h._("Download");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.NO_BUTTON:return h._("No button");case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.VIEW_WEBSITE:return h._("View website")}}function y(a){switch(a){case"FULL_NAME":return h._("Skip asking for full names and automatically receive them from people's profiles.");case"FIRST_NAME":return h._("Skip asking for first names and automatically receive them from people's profiles.");case"LAST_NAME":return h._("Skip asking for last names and automatically receive them from people's profiles.");default:return h._("Skip asking for names and automatically receive them from people's profiles.")}}function z(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE:return h._("Switch to phone number question");case"PHONE":return h._("Switch to call preference question");default:return null}}function A(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.ONE_CODE:return h._("One code");case d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.UNIQUE_CODE:return h._("Unique codes")}}function B(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.TEXT_CODE:return h._("Text");case d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.QR_CODE:return h._("QR code");case d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.BAR_CODE:return h._("Bar code")}}function C(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.ONE_CODE:return h._("Offer the same code to everyone.");case d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.UNIQUE_CODE:return h._("Provide a different code to each person.")}}function D(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.TEXT_CODE:return h._("Can be used online or in stores");case d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.QR_CODE:return h._("Can only be used in stores");case d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.BAR_CODE:return h._("Can only be used in stores")}}g.getHeaderName=a;g.getSectionDescription=b;g.getSectionPlaceholder=e;g.getQuestionCMSID=f;g.getAnswerTypeName=l;g.getAnswerSpec=m;g.getQuestionName=n;g.getGoToOptionName=o;g.getGoToOptionDescription=p;g.getEnabledQuestionTypeIcon=q;g.getDisabledQuestionTypeIcon=r;g.getPlaceholderFieldID=s;g.getDefaultTemplateName=t;g.getDefaultCTMLeadGenForm=u;g.getCompletionMessageAttachmentLabel=v;g.getCompletionMessageAttachmentDescription=w;g.getCTAButtonText=x;g.getNameQuestionInfoCardText=y;g.getSwitchQuestionItemLabel=z;g.getPromotionCodeTypeLabel=A;g.getPromotionCodeFormatLabel=B;g.getPromotionCodeTypeDescription=C;g.getPromotionCodeFormatDescription=D}),98);
__d("MessengerAdsPartialAutomatedCreation.react",["fbt","ix","AdsInterfacesLogger","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationStateDataAction","AdsMessengerPartialAutomatedLoggerEvents","Bootloader","CometPlaceholder.react","DateTime","GeoButton.react","GeoSpinner.react","Image.react","JSResource","MessengerAdsPartialAutomatedStrings","adsAccountQE","emptyFunction","lazyLoadComponent","memoize","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("memoize")(function(){c("Bootloader").loadModules(["MessengerAdsPartialAutomatedDialogContainer.react"],c("emptyFunction"),"MessengerAdsPartialAutomatedCreation.react")}),l=c("lazyLoadComponent")(c("JSResource")("MessengerAdsPartialAutomatedDialogContainer.react").__setRef("MessengerAdsPartialAutomatedCreation.react"));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={showDialog:!1},e.$1=function(a){a.stopPropagation();c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_CLICK_LEAD_GEN_CREATE_CHAT,data:{objective:e.props.objective}});a=(a=c("adsAccountQE")._(e.props.account,"1ZOyRhlVt:2Tr52mj2BKg",{},{log:!1}))!=null?a:!1;a=d("MessengerAdsPartialAutomatedStrings").getDefaultCTMLeadGenForm(e.props.account,a);c("AdsMessengerPartialAutomatedCreationStateDataAction").dispatch(a,{line:"139",module:"MessengerAdsPartialAutomatedCreation.react.js"});e.$3(!0)},e.$3=function(a){e.setState({showDialog:a})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){k()};e.render=function(){return j.jsxs("div",{children:[j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:j.jsx(c("Image.react"),{src:i("378286")}),label:this.props.customLabel!=null?this.props.customLabel:this.props.isUnifiedCreation?d("AdsMessengerConstants").CREATE:d("AdsMessengerConstants").CREATE_CHAT,variant:"default",onClick:this.$1}),this.$2()]})};e.$2=function(){var a=h._("Automated chat").toString()+" "+c("DateTime").localNow().format("m-d-y");return j.jsx(c("CometPlaceholder.react"),{fallback:j.jsx(c("GeoSpinner.react"),{}),children:j.jsx(l,{convertedStepListState:this.props.convertedStepListState,isCreateNew:!0,isShown:this.state.showDialog,selectedTemplateName:a,shouldAutoConvert:this.props.shouldAutoConvert,onToggle:this.$3})})};return b}(j.Component);g["default"]=a}),98);
__d("MessageTemplateCreateNewRadioSection.react",["fbt","ix","AdCampaignDestination","AdsAPIObjectives","AdsIntelligentBlueTip.react","AdsIntelligentInlineNux.react","AdsInterfacesLogger","AdsLearnMore.react","AdsMessengerConstants","AdsMessengerMarketingMessagesUtils","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerVisualEditorLoggerEvents","AdsODAXSwitchOptimizationGoalGuidanceNotice.react","AdsODAXUtils","AdsUEditorUnifiedCreationUtils","ClickToMessageFeatureGating","ClickToMessageGuidanceCards.react","GeoButton.react","GeoHintActionButton.react","GeoHintText.react","GeoPopover.react","GeoRadioList.react","GeoRadioListItem.react","Image.react","MessageTemplatePreviewFAQSectionContainer.react","MessengerAdsPartialAutomatedCreation.react","emptyFunction","geoMargin","justknobx","react","stylex","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useRef,m=c("uniqueID")(),n={createButton:{paddingEnd:"x1sxyh0"},inline:{display:"xt0psk2"},newChatButtons:{paddingTop:"xz9dl7a",paddingStart:"x1xfsgkm"},previewBox:{marginEnd:"x1gja9t",marginStart:"x8vdgqj",marginBottom:"x1wsgfga",marginTop:"x1xmf6yo"},toolTip:{position:"x10l6tqk",start:"xjv5w6k",top:"x1eu8d0j",zIndex:"x1n327nk"},radioList:{position:"x1n2onr6"}};function a(a){var b=a.onClickEdit,e=a.destinationType,g=k(function(){var a;c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_CLICK_CREATE_MESSAGE_TEMPLATE,data:(a={},a.campaign_destination_type=e,a)});b()},[b,e]),o=l(null),p=j.jsxs("div",{className:c("stylex")(n.newChatButtons),children:[j.jsxs("div",{className:c("stylex")(n.createButton,n.inline),children:[j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:j.jsx(c("Image.react"),{src:i("477824")}),id:m,label:d("AdsMessengerConstants").EDIT,onClick:g}),a.isInThreadMultiphotoCarousel&&j.jsx(c("AdsIntelligentBlueTip.react"),{contextNodeID:m,messageID:"in_thread_multiphoto_carousel_l1"})]}),j.jsx("div",{className:c("stylex")(n.inline),children:j.jsx(c("GeoButton.react"),{icon:j.jsx(c("Image.react"),{src:i("505615")}),label:d("AdsMessengerConstants").PREVIEW,onClick:a.onClickPreview})})]}),q=j.jsx("div",{className:c("stylex")(n.newChatButtons),children:j.jsx(c("MessengerAdsPartialAutomatedCreation.react"),{account:a.account,isUnifiedCreation:a.isUnifiedCreation,objective:a.objective,shouldAutoConvert:a.shouldAutoConvert})});function r(b,e){var f="",g="",k="",l=null,m=null,r=null,s,t=d("AdsMessengerMarketingMessagesUtils").getMarketingMessagesNavigationLink(a.pageID),u=d("AdsUEditorUnifiedCreationUtils").isMultiDestination(a.destinationType);switch(b){case d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CREATE_NEW:f=h._("Suggest prompts for people to tap to encourage them to start conversations with your business.");g=h._("Start conversations");l=a.selectorValue===b&&p;k="messenger-create-new-option";m=a.selectorValue===b&&a.destinationType!==c("AdCampaignDestination").MESSENGER&&j.jsx("div",{className:c("stylex")(n.previewBox),children:j.jsx(c("MessageTemplatePreviewFAQSectionContainer.react"),{destinationType:a.destinationType,pageID:a.pageID,welcomeMessage:a.welcomeMessage})});break;case d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.MARKETING_MESSAGES:f=h._("Ask people to opt in to marketing messages so you can send them updates and promotions.");g=h._("Opt-in request");l=a.selectorValue===b&&p;s=j.jsx("div",{className:c("stylex")(n.toolTip),ref:o,children:j.jsx(c("Image.react"),{src:i("1462226")})});r=e===!0?j.jsxs("div",{children:[s,j.jsx(c("GeoPopover.react"),{action:j.jsx(c("GeoHintActionButton.react"),{href:t,label:h._("Set up"),onClick:c("emptyFunction")}),content:[j.jsx(c("GeoHintText.react"),{children:h._("To create an ad using this template, set up an opt-in request in Marketing messages in Meta Business Suite.")},"text")],"data-testid":void 0,heading:h._("Create an opt-in request"),triggerRef:o})]}):null;k="messenger-marketing-messages-option";break;case d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.JSON:f=a.isUnifiedCreation?a.objective===d("AdsAPIObjectives").OUTCOME_LEADS?h._("Use JSON to customize your message template."):h._("Customize your own template with JSON code in our code editor."):h._("Customize the experience people see in Messenger after they click on your ad.");g=u?h._("Advanced setup \u00b7 Messenger only"):h._("Advanced setup");l=a.selectorValue===b&&p;k="messenger-json-option";break;case d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CTM_LEAD_GEN:f=a.objective===d("AdsAPIObjectives").OUTCOME_LEADS?h._("Ask questions to get info from people interested in your business"):a.objective===d("AdsAPIObjectives").OUTCOME_ENGAGEMENT?h._("Collect information from people interested in your business and continue the conversation in Messenger. {=Learn more}",[h._param("=Learn more",j.jsx(c("AdsLearnMore.react"),{cmsID:"734075733714274"}))]):h._("Collect information from people interested in your business and continue the conversation with qualified leads directly in Messenger. {=Learn more}",[h._param("=Learn more",j.jsx(c("AdsLearnMore.react"),{cmsID:"734075733714274"}))]);g=a.objective===d("AdsAPIObjectives").OUTCOME_ENGAGEMENT||d("AdsAPIObjectives").OUTCOME_LEADS?h._("Automated chat"):u?h._("Generate leads \u00b7 Messenger only"):h._("Generate leads");l=a.selectorValue===b&&q;k="messenger-leads-option";break;case d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.FOLLOW_UP:break}return j.jsxs("div",{className:c("stylex")(c("geoMargin").bottom12,n.radioList),children:[j.jsx(c("GeoRadioList.react"),{isLabelHidden:!0,label:b,value:a.selectorValue,onChange:a.onSelectorChange,children:j.jsx(c("GeoRadioListItem.react"),{"data-testid":void 0,description:f,isDisabled:e,label:g,value:b},b)}),r,m,l,b===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CTM_LEAD_GEN&&a.showLeadGenUpsell&&j.jsx("div",{className:c("stylex")(c("geoMargin").top12),children:j.jsx(c("AdsIntelligentInlineNux.react"),{messageGroup:"CREATION_AND_EDITING_L1",messageID:"messenger_setup_lead_gen_nux"})}),b===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CTM_LEAD_GEN&&a.showAutomateNotice&&j.jsx("div",{className:c("stylex")(c("geoMargin").top16),children:j.jsx(c("AdsODAXSwitchOptimizationGoalGuidanceNotice.react"),{})})]})}r.displayName=r.name+" [from "+f.id+"]";g=d("AdsUEditorUnifiedCreationUtils").isMultiDestination(a.destinationType);var s=g&&a.selectorValue===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CTM_LEAD_GEN;g=g&&a.selectorValue===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.JSON;var t=!c("justknobx")._("212")&&a.objective===d("AdsAPIObjectives").OUTCOME_ENGAGEMENT&&a.destinationType!=null&&d("AdsODAXUtils").MESSAGING_APP_DESTINATION_TYPES.has(a.destinationType),u=a.destinationType===c("AdCampaignDestination").MESSENGER;u=u&&d("ClickToMessageFeatureGating").isInCtmMarketingMessagesGK(a.account);return j.jsxs("div",{className:c("stylex")(c("geoMargin").vert8),children:[a.objective!==d("AdsAPIObjectives").OUTCOME_LEADS&&r(d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CREATE_NEW),a.objective!==d("AdsAPIObjectives").OUTCOME_SALES&&j.jsxs("div",{"data-testid":void 0,children:[r(d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CTM_LEAD_GEN,t),s&&j.jsx(d("ClickToMessageGuidanceCards.react").ClickToMessengerOnlyGuidanceCard,{account:a.account,destinationType:a.destinationType,isLeadGen:!0})]}),u?r(d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.MARKETING_MESSAGES,a.shouldShowMarketingMessageNotice):null,r(d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.JSON),g&&j.jsx(d("ClickToMessageGuidanceCards.react").ClickToMessengerOnlyGuidanceCard,{account:a.account,destinationType:a.destinationType,isLeadGen:!1})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageTemplateEditSection.react",["fbt","AdsAPIObjectives","AdsInterfacesLogger","AdsLearnMore.react","AdsMessengerConstants","AdsMessengerContentEditorTabs","AdsMessengerLeadGenDefaultSwitchBackAction","AdsMessengerPartialAutomatedCreationStateDataAction","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerPhoneNumberDataManager","AdsMessengerUtils","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorLoggerEvents","AdsMessengerVisualEditorUtils","GeoBaseText.react","GeoSelector.react","GeoSelectorItem.react","GeoTab.react","GeoTabGroup.react","MarketingMessagesTemplateDialog.react","MessageTemplateCreateNewRadioSection.react","MessageTemplateUseExistingSection.react","MessengerAdsPartialAutomatedStrings","StartConversationsTemplateCancelDialog.react","StartConversationsTemplateDialog.react","geoMargin","killswitch","react","stylex","useBoolean","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useState,m={editorTabs:{borderBottom:"x13rgm9e",paddingEnd:"xn6708d",paddingStart:"x1ye3gou"}};function a(a){var b=l(!1),e=b[0],f=b[1];b=l(a.welcomeMessage);var g=b[0],n=b[1];b=l(d("AdsMessengerVisualEditorUtils").getCreateNewSelectorType(a.landingScreenType,a.pageID,a.welcomeMessage));var o=b[0],p=b[1];b=l(!1);var q=b[0],r=b[1];b=l(!1);var s=b[0],t=b[1],u=c("usePrevious")(a.landingScreenType);b=c("useBoolean")(!1);var v=b.set;b=b.value;var w=function(b){return j(function(){var d;c("AdsInterfacesLogger").log({eventName:"ctx_click_preview_in_messenger",data:(d={},d.campaign_destination_type=a.destinationType,d.is_enabled=b,d)});a.onClickPreview()},[b])};k(function(){u!==a.landingScreenType&&p(d("AdsMessengerVisualEditorUtils").getCreateNewSelectorType(a.landingScreenType,a.pageID,a.welcomeMessage))},[u,a.landingScreenType,a.pageID,a.welcomeMessage]);function x(a){o===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.MARKETING_MESSAGES?t(a):r(a)}function y(){x(!0),n(a.welcomeMessage)}function z(){c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_CANCEL_MESSAGE_TEMPLATE}),g===a.welcomeMessage?(x(!1),c("AdsMessengerPhoneNumberDataManager").clearPhoneNumber()):f(!0)}function A(){f(!1);x(!1);var b=g,e;try{e=JSON.parse(b)}catch(b){e=d("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(a.pageID,a.destinationType)}a.onJSONChange(e);c("AdsMessengerPhoneNumberDataManager").parsePhoneNumberFromJSON(b)}function B(b){if(b===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.JSON)a.onJSONChange(d("AdsMessengerVisualEditorUtils").getDefaultJSON(),v),c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_ADVANCED_JSON_SETUP,data:{objective:a.objective}});else if(b===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CREATE_NEW)a.onJSONChange(d("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(a.pageID,a.destinationType),v),a.onTemplateNameChange(d("AdsMessengerVisualEditorUtils").getDefaultWelcomeMessageTemplateName()),c("AdsMessengerPhoneNumberDataManager").clearPhoneNumber(),c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_SELECT_CUSTOM_WELCOME_MESSAGE});else if(b===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CTM_LEAD_GEN){c("AdsMessengerPartialAutomatedCreationStateDataAction").dispatch(d("MessengerAdsPartialAutomatedStrings").getDefaultCTMLeadGenForm(),{line:"246",module:"MessageTemplateEditSection.react.js"});var e=d("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(a.pageID,a.destinationType);a.onJSONChange(babelHelpers["extends"]({},e,{landing_screen_type:c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW}),v);c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_SELECT_LEAD_GEN,data:{objective:a.objective}})}else b===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.MARKETING_MESSAGES&&(a.onJSONChange(d("AdsMessengerVisualEditorUtils").getDefaultMarketingMessagesJSON(),v),c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_SELECT_CUSTOM_MARKETING_MESSAGE,data:{objective:a.objective}}));b!==d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CTM_LEAD_GEN&&a.hasDefaultSwitchBack===!1&&!c("killswitch")("CTM_LEAD_GEN_DEFAULT_IMPRESSION_CAPPING_MESSAGES")&&(c("AdsMessengerLeadGenDefaultSwitchBackAction").dispatch({adgroupIDs:a.adgroupIDs},{line:"286",module:"MessageTemplateEditSection.react.js"}),d("AdsMessengerUtils").bumpCount(a.accountID,c("AdsAPIObjectives").MESSAGES));p(b)}b=i.jsxs(i.Fragment,{children:[i.jsx(c("MessageTemplateCreateNewRadioSection.react"),{account:a.account,destinationType:a.destinationType,isInThreadMultiphotoCarousel:a.isInThreadMultiphotoCarousel,isUnifiedCreation:a.isUnifiedCreation,objective:a.objective,pageID:a.pageID,selectorValue:o,shouldAutoConvert:a.shouldAutoConvert,shouldShowMarketingMessageNotice:a.shouldShowMarketingMessageNotice,showAutomateNotice:b,showLeadGenUpsell:a.showLeadGenUpsell,welcomeMessage:a.welcomeMessage,onClickEdit:y,onClickPreview:w(!0),onSelectorChange:B}),q&&i.jsxs(i.Fragment,{children:[i.jsx(c("StartConversationsTemplateDialog.react"),{account:a.account,accountID:a.accountID,adgroupIDs:a.adgroupIDs,composerState:a.composerState,destinationType:a.destinationType,editorTab:a.editorType,errorSpec:a.errorSpec,isExistingPost:a.isExistingPost,isUnifiedCreation:a.isUnifiedCreation,isVideoLoading:a.isVideoLoading,objectStoryID:a.objectStoryID,objective:a.objective,ordersData:a.ordersData,page:a.page,pageID:a.pageID,pageName:a.pageName,phoneNumberData:a.phoneNumberData,shown:q,templateName:a.templateName,videoURL:a.videoURL,welcomeMessageJSON:d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(a.pageID,a.welcomeMessage),onClose:z,onHide:function(){x(!1)},onJSONChange:a.onJSONChange,onTabChange:a.onTabChange,onTemplateNameChange:a.onTemplateNameChange}),i.jsx(c("StartConversationsTemplateCancelDialog.react"),{shown:e,onContinueEditing:function(){f(!1)},onDiscardChangesToTemplate:A})]}),s&&i.jsxs(i.Fragment,{children:[i.jsx(c("MarketingMessagesTemplateDialog.react"),{adgroupIDs:a.adgroupIDs,objectStoryID:a.objectStoryID,pageID:a.pageID,pageName:a.pageName,welcomeMessageJSON:d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(a.pageID,a.welcomeMessage),onClickClose:z,onHide:function(){x(!1)},onJSONChange:a.onJSONChange}),i.jsx(c("StartConversationsTemplateCancelDialog.react"),{shown:e,onContinueEditing:function(){f(!1)},onDiscardChangesToTemplate:A})]})]});y=i.jsxs(i.Fragment,{children:[!a.isUnifiedCreation&&i.jsx(c("GeoBaseText.react"),{color:"value",display:"block",isDisabled:!0,size:"value",xstyle:c("geoMargin").bottom8,children:h._("Use, edit or duplicate an existing template you've already created. {=Learn more}",[h._param("=Learn more",i.jsx(c("AdsLearnMore.react"),{cmsID:"2244140929249292"}))])}),a.existingTemplatesList.length===0&&a.isGetStartedEnabled===!1&&i.jsx(c("GeoBaseText.react"),{color:"value",display:"block",isDisabled:!0,size:"value",xstyle:c("geoMargin").bottom12,children:h._("You haven't saved any templates yet. When you save a template, it will be shown here to use in future campaigns.")}),i.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",weight:"bold",xstyle:c("geoMargin").bottom4,children:d("AdsMessengerConstants").SELECT_TEMPLATE}),i.jsx(c("MessageTemplateUseExistingSection.react"),{account:a.account,accountID:a.accountID,adgroupIDs:a.adgroupIDs,composerState:a.composerState,destinationType:a.destinationType,editorType:a.editorType,errorSpec:a.errorSpec,existingTemplatesList:a.existingTemplatesList,isExistingPost:a.isExistingPost,isGetStartedEnabled:a.isGetStartedEnabled,isInThreadMultiphotoCarousel:a.isInThreadMultiphotoCarousel,isTabStyle:!0,isUnifiedCreation:a.isUnifiedCreation,isVideoLoading:a.isVideoLoading,landingScreenType:a.landingScreenType,objectStoryID:a.objectStoryID,objective:a.objective,ordersData:a.ordersData,page:a.page,pageID:a.pageID,pageName:a.pageName,phoneNumberData:a.phoneNumberData,selectedTemplate:a.selectedTemplate,selectedTemplateID:a.selectedTemplateID,shouldAutoConvert:a.shouldAutoConvert,templateName:a.templateName,videoURL:a.videoURL,welcomeMessage:a.welcomeMessage,onClickDuplicate:a.onClickDuplicate,onClickEdit:a.onClickEdit,onClickPreview:w(!1),onJSONChange:a.onJSONChange,onSelectedRowIndexChange:a.onSelectedRowIndexChange,onTabChange:a.onTabChange,onTemplateNameChange:a.onTemplateNameChange})]});B=a.isUnifiedCreation?i.jsxs(c("GeoSelector.react"),{"data-testid":void 0,isLabelHidden:!0,label:"New or Existing",value:a.editorType,onChange:a.onTabChange,children:[i.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,label:d("AdsMessengerConstants").CREATE_NEW_LABEL,value:c("AdsMessengerContentEditorTabs").CREATE_NEW}),i.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,label:d("AdsMessengerConstants").USE_EXISTING_LABEL,value:c("AdsMessengerContentEditorTabs").USE_EXISTING})]}):i.jsxs(c("GeoTabGroup.react"),{value:a.editorType,onChange:a.onTabChange,children:[i.jsx(c("GeoTab.react"),{label:d("AdsMessengerConstants").CREATE_NEW_LABEL,value:c("AdsMessengerContentEditorTabs").CREATE_NEW}),i.jsx(c("GeoTab.react"),{label:d("AdsMessengerConstants").USE_EXISTING_LABEL,value:c("AdsMessengerContentEditorTabs").USE_EXISTING})]});return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:c("stylex")(!a.isUnifiedCreation&&m.editorTabs,c("geoMargin").bottom12),children:B}),a.editorType===c("AdsMessengerContentEditorTabs").CREATE_NEW&&b,a.editorType===c("AdsMessengerContentEditorTabs").USE_EXISTING&&y]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedLowLeadsWarning.react",["fbt","AdsEditorActions","AdsEditorLogging","AdsEditorSessionTypes","AdsInterfacesLogger","AdsMessengerPartialAutomatedLoggerEvents","AdsObjectTypes","AdsStaticGuidanceCard.react","adsMessengerDataModelGetTemplateIDForCTMLeadGen","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=function(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_BUDGET_EDIT_CLICK}),a.isCBO?d("AdsEditorActions").navigateToLevels({editorType:d("AdsObjectTypes").CAMPAIGN_GROUP,initialIDs:a.campaignGroupIDs,selectedIDs:a.campaignGroupIDs,sessionType:c("AdsEditorSessionTypes").EDIT,source:d("AdsEditorLogging").sources.EDITOR_EDIT_LINK}):d("AdsEditorActions").navigateToLevels({editorType:d("AdsObjectTypes").CAMPAIGN,initialIDs:a.campaignIDs,selectedIDs:a.campaignIDs,sessionType:c("AdsEditorSessionTypes").EDIT,source:d("AdsEditorLogging").sources.EDITOR_EDIT_LINK})},e;try{e=c("adsMessengerDataModelGetTemplateIDForCTMLeadGen")(JSON.parse(a.welcomeMessage))!=null}catch(a){e=!1}return a.isLeadGenWarningEligible&&e?i.jsx(c("AdsStaticGuidanceCard.react"),{ccCardProps:{category:"WARNING",header:a.isCBO?h._("Your ad campaign may get 0 - 2 leads per week"):h._("Your ad set may get 0 - 2 leads per week"),messageID:"ctm_lead_gen_warning_potential_low_leads",textData:[{type:"PARAGRAPH",data:{text:h._("Increasing your budget or expanding your audience may increase the likelihood of getting leads.")}}],ctaData:[{type:"LINK",data:{onCallToAction:b,text:h._("Edit budget & audience")}}]}}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageTemplateEditSectionContainer.react",["fbt","AdsInterfacesLogger","AdsLearnMore.react","AdsMessengerContentEditorTabs","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerPhoneNumberDataManager","AdsMessengerUtils","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorUtils","AdsUEditorUnifiedCreationUtils","GeoBaseText.react","GeoRadioList.react","GeoRadioListItem.react","GeoSpinner.react","MessageTemplateCreateNewStartConversationsSection.react","MessageTemplateEditSection.react","MessageTemplateEditSectionLeadGenObjectiveRadios.react","MessageTemplateEditSectionLeadGenObjectiveTabs.react","MessageTemplatePreviewFAQSectionContainer.react","MessageTemplateUseExistingSection.react","MessengerAdsPartialAutomatedCreation.react","MessengerAdsPartialAutomatedFormDataManager","MessengerAdsPartialAutomatedLowLeadsWarning.react","adsAccountGK","adsMessengerDataModelGetTemplateIDForCTMLeadGen","adsMessengerDataModelSetLandingScreenType","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={spinner:{alignItems:"x6s0dn4",display:"x78zum5",marginEnd:"xkrivgy",marginStart:"x1gryazu"},createChatButton:{marginBottom:"xod5an3",marginStart:"x8vdgqj"}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={showPreviewSuccessDialog:!1},e.$1=function(){if(!!e.props.errorSpec||e.props.pageID==null)return;var a=d("AdsMessengerUtils").getLandingScreenType(e.props.welcomeMessage);a===c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW?d("MessengerAdsPartialAutomatedFormDataManager").sendCTMLeadGenPreview(e.props.welcomeMessage,e.props.pageID==null?"":e.props.pageID,e.$2,function(){}):d("AdsMessengerVisualEditorUtils").getJSONSend(d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(e.props.pageID,e.props.welcomeMessage,e.props.destinationType),e.props.pageID==null?"":e.props.pageID,function(){},e.$2,function(){},e.props.objectStoryID)},e.$4=function(){e.setState({showPreviewSuccessDialog:!1})},e.$2=function(){e.setState({showPreviewSuccessDialog:!0})},e.$3=function(a){if(a==null)return;if(a===c("AdsMessengerVisualEditorLandingScreenType").GET_STARTED){var b=d("AdsMessengerVisualEditorUtils").getStandardGetStartedTemplateDefaultJSON(e.props.pageID,e.props.destinationType);e.props.onJSONChange(c("adsMessengerDataModelSetLandingScreenType")(b,c("AdsMessengerVisualEditorLandingScreenType").GET_STARTED))}try{e.props.onJSONChange(JSON.parse(a));c("AdsMessengerPhoneNumberDataManager").parsePhoneNumberFromJSON(a);b=d("AdsMessengerUtils").getLandingScreenType(a);b=b===c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW;if(!b)return;b=c("adsMessengerDataModelGetTemplateIDForCTMLeadGen")(JSON.parse(a));d("MessengerAdsPartialAutomatedFormDataManager").fetchAndLoadLeadGenTemplate(String(b),e.props.account);c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_SELECT_EXISTING_LEAD_GEN,data:{objective:e.props.objective}})}catch(a){}},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){c("AdsMessengerPhoneNumberDataManager").parsePhoneNumberFromJSON(this.props.welcomeMessage)};e.render=function(){if(this.props.pageID==null||this.props.isExistingTemplatesListLoading)return i.jsx("div",{className:c("stylex")(j.spinner),children:i.jsx(c("GeoSpinner.react"),{})});var a=c("adsAccountGK")._(this.props.account,"50NiVRnza");if(this.props.isLeadGenObjective){var b=c("adsAccountGK")._(this.props.account,"23pjNQ3Vs");if(b)return i.jsxs(i.Fragment,{children:[i.jsx(c("MessageTemplateEditSectionLeadGenObjectiveRadios.react"),{account:this.props.account,accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,campaignGroupIDs:this.props.campaignGroupIDs,campaignIDs:this.props.campaignIDs,composerState:this.props.composerState,destinationType:this.props.destinationType,editorType:this.props.editorType,eligibleLeadFormsList:this.props.eligibleLeadFormsList,errorSpec:this.props.errorSpec,existingTemplatesList:this.props.existingTemplatesList,isCBO:this.props.isCBO,isExistingPost:this.props.isExistingPost,isGetStartedEnabled:this.props.isGetStartedEnabled,isInThreadMultiphotoCarousel:this.props.isInThreadMultiphotoCarousel,isLeadGenWarningEligible:this.props.isLeadGenWarningEligible,isUnifiedCreation:this.props.isUnifiedCreation,isVideoLoading:this.props.isVideoLoading,landingScreenType:this.props.landingScreenType,objectStoryID:this.props.objectStoryID,objective:this.props.objective,ordersData:this.props.ordersData,page:this.props.page,pageID:this.props.pageID,pageName:this.props.pageName,phoneNumberData:this.props.phoneNumberData,selectedTemplate:this.props.selectedTemplate,selectedTemplateID:this.props.selectedTemplateID,shouldAutoConvert:a,shouldShowMarketingMessageNotice:this.props.shouldShowMarketingMessageNotice,showLeadGenUpsell:this.props.showLeadGenUpsell,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onClickDuplicate:this.props.onClickDuplicate,onClickEdit:this.props.onClickEdit,onClickPreview:this.$1,onJSONChange:this.props.onJSONChange,onPreviewSuccess:this.$2,onSelectedRowIndexChange:this.$3,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange}),d("AdsMessengerVisualEditorUtils").showMessengerPreviewSuccessDialog(this.state.showPreviewSuccessDialog,this.props.pageName,this.$4)]})}if(this.props.isLeadGenObjective&&this.props.eligibleLeadFormsList.length>0)return i.jsxs(i.Fragment,{children:[i.jsx(c("MessageTemplateEditSectionLeadGenObjectiveTabs.react"),{account:this.props.account,accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,campaignGroupIDs:this.props.campaignGroupIDs,campaignIDs:this.props.campaignIDs,composerState:this.props.composerState,destinationType:this.props.destinationType,editorType:this.props.editorType,eligibleLeadFormsList:this.props.eligibleLeadFormsList,errorSpec:this.props.errorSpec,existingTemplatesList:this.props.existingTemplatesList,isCBO:this.props.isCBO,isExistingPost:this.props.isExistingPost,isGetStartedEnabled:this.props.isGetStartedEnabled,isInThreadMultiphotoCarousel:this.props.isInThreadMultiphotoCarousel,isLeadGenWarningEligible:this.props.isLeadGenWarningEligible,isUnifiedCreation:this.props.isUnifiedCreation,isVideoLoading:this.props.isVideoLoading,landingScreenType:this.props.landingScreenType,objectStoryID:this.props.objectStoryID,objective:this.props.objective,ordersData:this.props.ordersData,pageID:this.props.pageID,pageName:this.props.pageName,phoneNumberData:this.props.phoneNumberData,selectedTemplate:this.props.selectedTemplate,selectedTemplateID:this.props.selectedTemplateID,shouldAutoConvert:a,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onClickDuplicate:this.props.onClickDuplicate,onClickEdit:this.props.onClickEdit,onClickPreview:this.$1,onJSONChange:this.props.onJSONChange,onPreviewSuccess:this.$2,onSelectedRowIndexChange:this.$3,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange}),d("AdsMessengerVisualEditorUtils").showMessengerPreviewSuccessDialog(this.state.showPreviewSuccessDialog,this.props.pageName,this.$4)]});if(d("AdsUEditorUnifiedCreationUtils").isWhatsAppOrInstagramOrComboDestination(this.props.destinationType)||this.props.isLeadGenObjective||this.props.defaultToConversations===!0)return i.jsxs("div",{className:c("stylex")(c("geoMargin").top12,c("geoMargin").horiz12),children:[i.jsx("div",{className:c("stylex")(c("geoMargin").bottom12),children:i.jsx(c("GeoRadioList.react"),{isLabelHidden:!0,label:"Create New",value:this.props.editorType,onChange:this.props.onTabChange,children:i.jsx(c("GeoRadioListItem.react"),{description:this.props.isLeadGenObjective?h._("Collect information from people interested in your business and continue the conversation with qualified leads directly in Messenger. {=Learn more}",[h._param("=Learn more",i.jsx(c("AdsLearnMore.react"),{cmsID:"592240724554522"}))]):h._("Suggest prompts for people to tap to encourage them to start conversations with your business."),label:h._("Create new"),value:c("AdsMessengerContentEditorTabs").CREATE_NEW},c("AdsMessengerContentEditorTabs").CREATE_NEW)})}),this.props.editorType!==c("AdsMessengerContentEditorTabs").USE_EXISTING&&i.jsx("div",{className:c("stylex")(j.createChatButton),children:this.props.isLeadGenObjective?i.jsx(c("MessengerAdsPartialAutomatedCreation.react"),{account:this.props.account,isUnifiedCreation:this.props.isUnifiedCreation,objective:this.props.objective,shouldAutoConvert:a}):i.jsxs(i.Fragment,{children:[i.jsx(c("MessageTemplatePreviewFAQSectionContainer.react"),{destinationType:this.props.destinationType,pageID:this.props.pageID,welcomeMessage:this.props.welcomeMessage}),i.jsx(c("MessageTemplateCreateNewStartConversationsSection.react"),{account:this.props.account,accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,composerState:this.props.composerState,destinationType:this.props.destinationType,editorType:this.props.editorType,errorSpec:this.props.errorSpec,isExistingPost:this.props.isExistingPost,isUnifiedCreation:this.props.isUnifiedCreation,isVideoLoading:this.props.isVideoLoading,objectStoryID:this.props.objectStoryID,objective:this.props.objective,ordersData:this.props.ordersData,page:this.props.page,pageID:this.props.pageID,pageName:this.props.pageName,phoneNumberData:this.props.phoneNumberData,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onJSONChange:this.props.onJSONChange,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange})]})}),i.jsx("div",{className:c("stylex")(c("geoMargin").bottom12),children:i.jsx(c("GeoRadioList.react"),{isLabelHidden:!0,label:"Use Existing",value:this.props.editorType,onChange:this.props.onTabChange,children:i.jsx(c("GeoRadioListItem.react"),{description:h._("Use, edit or duplicate an existing template you've already created. {=Learn more}",[h._param("=Learn more",i.jsx(c("AdsLearnMore.react"),{cmsID:"987542021418880"}))]),label:h._("Use existing"),value:c("AdsMessengerContentEditorTabs").USE_EXISTING},c("AdsMessengerContentEditorTabs").USE_EXISTING)})}),this.props.editorType===c("AdsMessengerContentEditorTabs").USE_EXISTING&&(this.props.existingTemplatesList.length===0&&this.props.isGetStartedEnabled===!1?i.jsx("div",{className:c("stylex")(j.createChatButton),children:i.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:!0,size:"value",children:h._("You haven't saved any templates yet. When you save a template, it will be shown here to use in future campaigns.")})}):i.jsx("div",{className:c("stylex")(c("geoMargin").start12),children:i.jsx(c("MessageTemplateUseExistingSection.react"),{account:this.props.account,accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,composerState:this.props.composerState,destinationType:this.props.destinationType,editorType:this.props.editorType,errorSpec:this.props.errorSpec,existingTemplatesList:this.props.existingTemplatesList,isExistingPost:this.props.isExistingPost,isGetStartedEnabled:this.props.isGetStartedEnabled,isInThreadMultiphotoCarousel:this.props.isInThreadMultiphotoCarousel,isTabStyle:!1,isUnifiedCreation:this.props.isUnifiedCreation,isVideoLoading:this.props.isVideoLoading,landingScreenType:this.props.landingScreenType,objectStoryID:this.props.objectStoryID,objective:this.props.objective,ordersData:this.props.ordersData,page:this.props.page,pageID:this.props.pageID,pageName:this.props.pageName,phoneNumberData:this.props.phoneNumberData,selectedTemplate:this.props.selectedTemplate,selectedTemplateID:this.props.selectedTemplateID,shouldAutoConvert:a,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onClickDuplicate:this.props.onClickDuplicate,onClickEdit:this.props.onClickEdit,onClickPreview:this.$1,onJSONChange:this.props.onJSONChange,onSelectedRowIndexChange:this.$3,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange})})),d("AdsMessengerVisualEditorUtils").showMessengerPreviewSuccessDialog(this.state.showPreviewSuccessDialog,this.props.pageName,this.$4),i.jsx(c("MessengerAdsPartialAutomatedLowLeadsWarning.react"),{account:this.props.account,campaignGroupIDs:this.props.campaignGroupIDs,campaignIDs:this.props.campaignIDs,isCBO:this.props.isCBO,isLeadGenWarningEligible:this.props.isLeadGenWarningEligible,welcomeMessage:this.props.welcomeMessage})]});else return i.jsxs(i.Fragment,{children:[i.jsx(c("MessageTemplateEditSection.react"),{account:this.props.account,accountID:this.props.accountID,adgroupIDs:this.props.adgroupIDs,composerState:this.props.composerState,destinationType:this.props.destinationType,editorType:this.props.editorType,errorSpec:this.props.errorSpec,existingTemplatesList:this.props.existingTemplatesList,hasDefaultSwitchBack:this.props.hasDefaultSwitchBack,isExistingPost:this.props.isExistingPost,isGetStartedEnabled:this.props.isGetStartedEnabled,isInThreadMultiphotoCarousel:this.props.isInThreadMultiphotoCarousel,isUnifiedCreation:this.props.isUnifiedCreation,isVideoLoading:this.props.isVideoLoading,landingScreenType:this.props.landingScreenType,objectStoryID:this.props.objectStoryID,objective:this.props.objective,ordersData:this.props.ordersData,page:this.props.page,pageID:this.props.pageID,pageName:this.props.pageName,phoneNumberData:this.props.phoneNumberData,selectedTemplate:this.props.selectedTemplate,selectedTemplateID:this.props.selectedTemplateID,shouldAutoConvert:a,shouldShowMarketingMessageNotice:this.props.shouldShowMarketingMessageNotice,showLeadGenUpsell:this.props.showLeadGenUpsell,templateName:this.props.templateName,videoURL:this.props.videoURL,welcomeMessage:this.props.welcomeMessage,onClickDuplicate:this.props.onClickDuplicate,onClickEdit:this.props.onClickEdit,onClickPreview:this.$1,onJSONChange:this.props.onJSONChange,onSelectedRowIndexChange:this.$3,onTabChange:this.props.onTabChange,onTemplateNameChange:this.props.onTemplateNameChange}),d("AdsMessengerVisualEditorUtils").showMessengerPreviewSuccessDialog(this.state.showPreviewSuccessDialog,this.props.pageName,this.$4),i.jsx(c("MessengerAdsPartialAutomatedLowLeadsWarning.react"),{account:this.props.account,campaignGroupIDs:this.props.campaignGroupIDs,campaignIDs:this.props.campaignIDs,isCBO:this.props.isCBO,isLeadGenWarningEligible:this.props.isLeadGenWarningEligible,welcomeMessage:this.props.welcomeMessage})]})};return b}(i.Component);g["default"]=a}),98);
__d("MessageTemplateEditSectionLeadGenObjectiveRadios.react",["fbt","AdsInterfacesLogger","AdsMessengerConstants","AdsMessengerContentEditorTabs","AdsMessengerPartialAutomatedCreationStateDataAction","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerPhoneNumberDataManager","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorLoggerEvents","AdsMessengerVisualEditorUtils","GeoBadge.react","GeoBaseText.react","GeoSelector.react","GeoSelectorItem.react","GeoTab.react","GeoTabGroup.react","MessageTemplateConvertLeadFormsRadioSectionContainer.react","MessageTemplateCreateNewRadioSection.react","MessageTemplateUseExistingSection.react","MessengerAdsPartialAutomatedLowLeadsWarning.react","MessengerAdsPartialAutomatedStrings","StartConversationsTemplateCancelDialog.react","StartConversationsTemplateDialog.react","geoMargin","react","stylex","usePrevious"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState,l=h._("number of existing templates"),m=h._("number of lead forms eligible for conversion"),n={editorTabs:{borderBottom:"x13rgm9e",paddingEnd:"xn6708d",paddingStart:"x1ye3gou"},useExistingPlaceholder:{marginStart:"x1i64zmx",marginTop:"x14vqqas"}};function a(a){var b=a.editorType===c("AdsMessengerContentEditorTabs").USE_EXISTING?d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING:a.eligibleLeadFormsList.length>0?d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CONVERT_FORM:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CREATE_NEW,e=k(b),f=e[0],g=e[1];e=k(null);var o=e[0];e=e[1];j(function(){a.editorType===c("AdsMessengerContentEditorTabs").CREATE_NEW&&f!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CREATE_NEW?g(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CREATE_NEW):a.editorType===c("AdsMessengerContentEditorTabs").USE_EXISTING&&f===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CREATE_NEW&&g(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING)},[a.editorType,f]);j(function(){c("AdsInterfacesLogger").log({eventName:"odax_debug",data:{message:"leadgen_default_tab",source:b}})},[]);function p(b){a.onTabChange(b===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CREATE_NEW?c("AdsMessengerContentEditorTabs").CREATE_NEW:c("AdsMessengerContentEditorTabs").USE_EXISTING),g(b),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_SELECT_LEAD_GEN_OBJECTIVE_TAB,data:{objective:a.objective,message:b}})}var q=a.shouldAutoConvert?h._("Converted form"):h._("Convert form"),r=a.shouldAutoConvert?h._("Existing chat"):h._("Use existing"),s=a.shouldAutoConvert?h._("A message template that has been converted from an instant form to a chat compatible with Messenger"):null,t=a.existingTemplatesList.length===0?i.jsx("div",{className:c("stylex")(n.useExistingPlaceholder),children:i.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:!0,size:"value",children:h._("You haven't saved any templates yet. When you save a template, it will be shown here to use in future campaigns.")})}):i.jsxs(i.Fragment,{children:[i.jsx(c("MessageTemplateUseExistingSection.react"),{account:a.account,accountID:a.accountID,adgroupIDs:a.adgroupIDs,composerState:a.composerState,destinationType:a.destinationType,editorType:a.editorType,errorSpec:a.errorSpec,existingTemplatesList:a.existingTemplatesList,isExistingPost:a.isExistingPost,isGetStartedEnabled:a.isGetStartedEnabled,isInThreadMultiphotoCarousel:a.isInThreadMultiphotoCarousel,isLeadGenObjectiveTabs:!0,isTabStyle:!0,isUnifiedCreation:a.isUnifiedCreation,isVideoLoading:a.isVideoLoading,landingScreenType:a.landingScreenType,objectStoryID:a.objectStoryID,objective:a.objective,ordersData:a.ordersData,pageID:a.pageID,pageName:a.pageName,phoneNumberData:a.phoneNumberData,selectedTemplate:a.selectedTemplate,selectedTemplateID:a.selectedTemplateID,shouldAutoConvert:a.shouldAutoConvert,templateName:a.templateName,videoURL:a.videoURL,welcomeMessage:a.welcomeMessage,onClickDuplicate:a.onClickDuplicate,onClickEdit:a.onClickEdit,onClickPreview:a.onClickPreview,onJSONChange:a.onJSONChange,onSelectedRowIndexChange:a.onSelectedRowIndexChange,onTabChange:a.onTabChange,onTemplateNameChange:a.onTemplateNameChange}),i.jsx(c("MessengerAdsPartialAutomatedLowLeadsWarning.react"),{account:a.account,campaignGroupIDs:a.campaignGroupIDs,campaignIDs:a.campaignIDs,isCBO:a.isCBO,isLeadGenWarningEligible:a.isLeadGenWarningEligible,welcomeMessage:a.welcomeMessage})]});t=f===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING&&t;o=f===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CONVERT_FORM&&i.jsx(c("MessageTemplateConvertLeadFormsRadioSectionContainer.react"),{account:a.account,accountID:a.accountID,convertedStepListState:o,eligibleLeadFormsList:a.eligibleLeadFormsList,objective:a.objective,pageID:a.pageID,selectedTab:f,shouldAutoConvert:a.shouldAutoConvert,welcomeMessage:a.welcomeMessage,onConvertedStepListStateChange:e,onPreviewSuccess:a.onPreviewSuccess});e=a.existingTemplatesList.length;var u=a.eligibleLeadFormsList.length,v=a.isUnifiedCreation?i.jsxs(c("GeoSelector.react"),{"data-testid":void 0,isLabelHidden:!0,label:"New or Existing",value:a.editorType,onChange:a.onTabChange,children:[i.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,label:d("AdsMessengerConstants").CREATE_NEW_LABEL,value:c("AdsMessengerContentEditorTabs").CREATE_NEW}),i.jsx(c("GeoSelectorItem.react"),{label:d("AdsMessengerConstants").USE_EXISTING_LABEL,value:c("AdsMessengerContentEditorTabs").USE_EXISTING})]}):i.jsxs(c("GeoTabGroup.react"),{value:a.editorType,onChange:a.onTabChange,children:[i.jsx(c("GeoTab.react"),{label:d("AdsMessengerConstants").CREATE_NEW_LABEL,value:c("AdsMessengerContentEditorTabs").CREATE_NEW}),i.jsx(c("GeoTab.react"),{label:d("AdsMessengerConstants").USE_EXISTING_LABEL,value:c("AdsMessengerContentEditorTabs").USE_EXISTING})]}),w=k(!1),x=w[0],y=w[1];w=k(a.welcomeMessage);var z=w[0],A=w[1];w=k(d("AdsMessengerVisualEditorUtils").getCreateNewSelectorType(a.landingScreenType,a.pageID,a.welcomeMessage));var B=w[0],C=w[1];w=k(!1);var D=w[0],E=w[1],F=c("usePrevious")(a.landingScreenType);j(function(){F!==a.landingScreenType&&C(d("AdsMessengerVisualEditorUtils").getCreateNewSelectorType(a.landingScreenType,a.pageID,a.welcomeMessage))},[F,a.landingScreenType,a.pageID,a.welcomeMessage]);function G(){E(!0),A(a.welcomeMessage)}function H(){c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_CANCEL_MESSAGE_TEMPLATE}),z===a.welcomeMessage?(E(!1),c("AdsMessengerPhoneNumberDataManager").clearPhoneNumber()):y(!0)}function I(){y(!1);E(!1);var b=z,e;try{e=JSON.parse(b)}catch(b){e=d("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(a.pageID,a.destinationType)}a.onJSONChange(e);c("AdsMessengerPhoneNumberDataManager").parsePhoneNumberFromJSON(b)}function J(b){if(b===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.JSON)a.onJSONChange(d("AdsMessengerVisualEditorUtils").getDefaultJSON()),c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_ADVANCED_JSON_SETUP,data:{objective:a.objective}});else if(b===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CREATE_NEW)a.onJSONChange(d("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(a.pageID,a.destinationType)),a.onTemplateNameChange(d("AdsMessengerVisualEditorUtils").getDefaultWelcomeMessageTemplateName()),c("AdsMessengerPhoneNumberDataManager").clearPhoneNumber(),c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_SELECT_CUSTOM_WELCOME_MESSAGE});else if(b===d("AdsMessengerPartialAutomatedCreationTypes").CreateNewSelectorValue.CTM_LEAD_GEN){c("AdsMessengerPartialAutomatedCreationStateDataAction").dispatch(d("MessengerAdsPartialAutomatedStrings").getDefaultCTMLeadGenForm(),{line:"432",module:"MessageTemplateEditSectionLeadGenObjectiveRadios.react.js"});b=d("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(a.pageID,a.destinationType);a.onJSONChange(babelHelpers["extends"]({},b,{landing_screen_type:c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW}));c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_SELECT_LEAD_GEN,data:{objective:a.objective}})}}w=i.jsxs(i.Fragment,{children:[i.jsx(c("MessageTemplateCreateNewRadioSection.react"),{account:a.account,destinationType:a.destinationType,isInThreadMultiphotoCarousel:a.isInThreadMultiphotoCarousel,isUnifiedCreation:a.isUnifiedCreation,objective:a.objective,pageID:a.pageID,selectorValue:B,shouldAutoConvert:a.shouldAutoConvert,shouldShowMarketingMessageNotice:a.shouldShowMarketingMessageNotice,showAutomateNotice:!1,showLeadGenUpsell:a.showLeadGenUpsell,welcomeMessage:a.welcomeMessage,onClickEdit:G,onClickPreview:a.onClickPreview,onSelectorChange:J}),D&&i.jsxs(i.Fragment,{children:[i.jsx(c("StartConversationsTemplateDialog.react"),{account:a.account,accountID:a.accountID,adgroupIDs:a.adgroupIDs,composerState:a.composerState,destinationType:a.destinationType,editorTab:a.editorType,errorSpec:a.errorSpec,isExistingPost:a.isExistingPost,isUnifiedCreation:a.isUnifiedCreation,isVideoLoading:a.isVideoLoading,objectStoryID:a.objectStoryID,objective:a.objective,ordersData:a.ordersData,page:a.page,pageID:a.pageID,pageName:a.pageName,phoneNumberData:a.phoneNumberData,shown:D,templateName:a.templateName,videoURL:a.videoURL,welcomeMessageJSON:d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(a.pageID,a.welcomeMessage),onClose:H,onHide:function(){E(!1)},onJSONChange:a.onJSONChange,onTabChange:a.onTabChange,onTemplateNameChange:a.onTemplateNameChange}),i.jsx(c("StartConversationsTemplateCancelDialog.react"),{shown:x,onContinueEditing:function(){y(!1)},onDiscardChangesToTemplate:I})]})]});return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:c("stylex")(!a.isUnifiedCreation&&n.editorTabs,c("geoMargin").bottom12),children:v}),a.editorType===c("AdsMessengerContentEditorTabs").CREATE_NEW&&w,a.editorType===c("AdsMessengerContentEditorTabs").USE_EXISTING&&i.jsxs(i.Fragment,{children:[i.jsxs(c("GeoTabGroup.react"),{value:f,onChange:p,children:[i.jsx(c("GeoTab.react"),{badge:i.jsx(c("GeoBadge.react"),{label:m,status:"info",value:u}),"data-testid":void 0,label:q,tooltip:s,value:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CONVERT_FORM}),i.jsx(c("GeoTab.react"),{badge:i.jsx(c("GeoBadge.react"),{label:l,status:"info",value:e}),label:r,value:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING})]}),o,t]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageTemplateEditSectionLeadGenObjectiveTabs.react",["fbt","AdsInterfacesLogger","AdsMessengerContentEditorTabs","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","GeoBadge.react","GeoBaseText.react","GeoTab.react","GeoTabGroup.react","MessageTemplateConvertLeadFormsRadioSectionContainer.react","MessageTemplateUseExistingSection.react","MessengerAdsPartialAutomatedCreation.react","MessengerAdsPartialAutomatedLowLeadsWarning.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState,l=h._("number of existing templates"),m=h._("number of lead forms eligible for conversion");function a(a){var b=a.editorType===c("AdsMessengerContentEditorTabs").USE_EXISTING?d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING:a.eligibleLeadFormsList.length>0?d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CONVERT_FORM:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CREATE_NEW,e=k(b),f=e[0],g=e[1];e=k(null);var n=e[0];e=e[1];j(function(){a.editorType===c("AdsMessengerContentEditorTabs").USE_EXISTING&&f!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING&&g(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING)},[a.editorType,f]);j(function(){c("AdsInterfacesLogger").log({eventName:"odax_debug",data:{message:"leadgen_default_tab",source:b}})},[]);function o(b){a.onTabChange(b===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING?c("AdsMessengerContentEditorTabs").USE_EXISTING:c("AdsMessengerContentEditorTabs").CREATE_NEW),g(b),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_SELECT_LEAD_GEN_OBJECTIVE_TAB,data:{objective:a.objective,message:b}})}var p=a.shouldAutoConvert?h._("Converted form"):h._("Convert form"),q=a.shouldAutoConvert?h._("Existing chat"):h._("Use existing"),r=a.shouldAutoConvert?h._("A message template that has been converted from an instant form to a chat compatible with Messenger"):null,s=a.existingTemplatesList.length===0?i.jsx("div",{className:"x14vqqas x1i64zmx",children:i.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:!0,size:"value",children:h._("You haven't saved any templates yet. When you save a template, it will be shown here to use in future campaigns.")})}):i.jsxs(i.Fragment,{children:[i.jsx(c("MessageTemplateUseExistingSection.react"),{account:a.account,accountID:a.accountID,adgroupIDs:a.adgroupIDs,composerState:a.composerState,destinationType:a.destinationType,editorType:a.editorType,errorSpec:a.errorSpec,existingTemplatesList:a.existingTemplatesList,isExistingPost:a.isExistingPost,isGetStartedEnabled:a.isGetStartedEnabled,isInThreadMultiphotoCarousel:a.isInThreadMultiphotoCarousel,isLeadGenObjectiveTabs:!0,isTabStyle:!0,isUnifiedCreation:a.isUnifiedCreation,isVideoLoading:a.isVideoLoading,landingScreenType:a.landingScreenType,objectStoryID:a.objectStoryID,objective:a.objective,ordersData:a.ordersData,pageID:a.pageID,pageName:a.pageName,phoneNumberData:a.phoneNumberData,selectedTemplate:a.selectedTemplate,selectedTemplateID:a.selectedTemplateID,shouldAutoConvert:a.shouldAutoConvert,templateName:a.templateName,videoURL:a.videoURL,welcomeMessage:a.welcomeMessage,onClickDuplicate:a.onClickDuplicate,onClickEdit:a.onClickEdit,onClickPreview:a.onClickPreview,onJSONChange:a.onJSONChange,onSelectedRowIndexChange:a.onSelectedRowIndexChange,onTabChange:a.onTabChange,onTemplateNameChange:a.onTemplateNameChange}),i.jsx(c("MessengerAdsPartialAutomatedLowLeadsWarning.react"),{account:a.account,campaignGroupIDs:a.campaignGroupIDs,campaignIDs:a.campaignIDs,isCBO:a.isCBO,isLeadGenWarningEligible:a.isLeadGenWarningEligible,welcomeMessage:a.welcomeMessage})]});s=f===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING&&s;e=f===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CONVERT_FORM&&i.jsx(c("MessageTemplateConvertLeadFormsRadioSectionContainer.react"),{account:a.account,accountID:a.accountID,convertedStepListState:n,eligibleLeadFormsList:a.eligibleLeadFormsList,objective:a.objective,pageID:a.pageID,selectedTab:f,shouldAutoConvert:a.shouldAutoConvert,welcomeMessage:a.welcomeMessage,onConvertedStepListStateChange:e,onPreviewSuccess:a.onPreviewSuccess});var t=a.existingTemplatesList.length,u=a.eligibleLeadFormsList.length;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"x13rgm9e xieb3on",children:i.jsx("div",{className:"xieb3on",children:i.jsx(c("MessengerAdsPartialAutomatedCreation.react"),{account:a.account,convertedStepListState:n,isUnifiedCreation:a.isUnifiedCreation,objective:a.objective,shouldAutoConvert:a.shouldAutoConvert})})}),i.jsxs(c("GeoTabGroup.react"),{value:f,onChange:o,children:[i.jsx(c("GeoTab.react"),{badge:i.jsx(c("GeoBadge.react"),{label:m,status:"info",value:u}),"data-testid":void 0,label:p,tooltip:r,value:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CONVERT_FORM}),i.jsx(c("GeoTab.react"),{badge:i.jsx(c("GeoBadge.react"),{label:l,status:"info",value:t}),label:q,value:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING})]}),e,s]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("adsMessengerDataModelGetTemplateVersion",["getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("getByPath")(a,["template_version"])}g["default"]=a}),98);
__d("MessageTemplateUseExistingSection.react",["fbt","ix","AdCampaignDestination","AdsIntelligentBlueTip.react","AdsInterfacesLogger","AdsMessengerConstants","AdsMessengerContentEditorTabs","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerPhoneNumberDataManager","AdsMessengerUtils","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorUtils","AdsUEditorUnifiedCreationUtils","ClickToMessageGuidanceCards.react","GeoButton.react","GeoSelector.react","GeoSelectorItem.react","Image.react","MessageTemplatePreviewFAQSectionContainer.react","MessageTemplateUseExistingSectionLeadGenRadioList.react","MessengerAdsPartialAutomatedDialogContainer.react","StartConversationsTemplateCancelDialog.react","StartConversationsTemplateDialog.react","adsMessengerDataModelGetTemplateVersion","geoMargin","getByPath","react","stylex","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l=c("uniqueID")(),m={displayInline:{display:"xt0psk2"}};function a(a){var b=k(!1),e=b[0],f=b[1];b=k(!1);var g=b[0],n=b[1];b=k(!1);var o=b[0],p=b[1];b=k("");var q=b[0],r=b[1];b=k(!1);var s=b[0],t=b[1];b=k(!1);var u=b[0],v=b[1];if(a.editorType!==c("AdsMessengerContentEditorTabs").USE_EXISTING||a.existingTemplatesList.length===0&&!a.isGetStartedEnabled)return j.jsx(j.Fragment,{});b=!1;var w=!1,x=a.existingTemplatesList;if(a.selectedTemplate!=null){var y=d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(a.pageID,a.selectedTemplate.page_welcome_message_body,a.destinationType);b=c("getByPath")(y,["is_visible"])===!1;var z=d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(a.pageID,a.welcomeMessage,a.destinationType);y=c("adsMessengerDataModelGetTemplateVersion")(y);z=c("adsMessengerDataModelGetTemplateVersion")(z);(!o&&b||z!==y)&&(w=!0,x=a.existingTemplatesList.map(function(b){if(a.selectedTemplate!=null&&a.selectedTemplate.id===b.id){var c=babelHelpers["extends"]({},b);c.page_welcome_message_body=a.welcomeMessage;return c}return b}))}z=a.selectedTemplate&&d("AdsMessengerUtils").getCTMLeadGenTemplateName(a.selectedTemplate.template_name);y=d("AdsMessengerUtils").getLandingScreenType(a.welcomeMessage)===c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW;if(a.isLeadGenObjectiveTabs===!0)return j.jsx(c("MessageTemplateUseExistingSectionLeadGenRadioList.react"),{filteredExistingTemplate:x,isDuplicationDisabled:!y,isEditDisabled:w,selectedCTMLeadGenTemplateName:z,selectedTemplate:a.selectedTemplate,shouldAutoConvert:a.shouldAutoConvert,showCTMLeadGenDialog:s,welcomeMessage:a.welcomeMessage,onClickPreview:a.onClickPreview,onDuplicateCTMLeadGenClick:H,onSelectedRowIndexChange:a.onSelectedRowIndexChange,onToggle:G});function A(){p(!0);r(a.welcomeMessage);var b=null;if(a.selectedTemplate!=null)try{b=JSON.parse(a.selectedTemplate.page_welcome_message_body)}catch(c){b=d("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(a.pageID,a.destinationType)}a.onJSONChange(b)}function B(){p(!0);r(a.welcomeMessage);var b=null;if(a.selectedTemplate!=null)try{b=JSON.parse(a.selectedTemplate.page_welcome_message_body)}catch(c){b=d("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(a.pageID,a.destinationType)}a.onJSONChange(b)}function C(){v(!0),n(!0),a.onClickEdit()}function D(){if(o){f(!0);return}if(a.selectedTemplate&&a.selectedTemplate.page_welcome_message_body===a.welcomeMessage){v(!1);return}f(!0)}function E(){f(!1);v(!1);p(!1);var b=null;o?b=q:a.selectedTemplate&&(b=a.selectedTemplate.page_welcome_message_body);var e=null;if(b!==null)try{e=JSON.parse(b)}catch(b){e=d("AdsMessengerVisualEditorUtils").getStandardTemplateMessage(a.pageID,a.destinationType)}a.onJSONChange(e);c("AdsMessengerPhoneNumberDataManager").parsePhoneNumberFromJSON(b)}function F(){v(!0),n(!1),a.onClickDuplicate()}function G(a){t(a)}function H(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_DUPLICATE_CTM_LEAD_GEN,data:{objective:a.objective}}),G(!0)}x=x.map(function(a){return j.jsx(c("GeoSelectorItem.react"),{label:a.template_name,value:a.page_welcome_message_body},a.id)});var I=JSON.stringify(d("AdsMessengerVisualEditorUtils").getStandardGetStartedTemplateDefaultJSON(a.pageID,a.destinationType));a.isGetStartedEnabled&&x.unshift(j.jsx(c("GeoSelectorItem.react"),{label:h._("Bot welcome message"),value:I},c("AdsMessengerVisualEditorLandingScreenType").GET_STARTED));var J=a.selectedTemplate&&d("AdsMessengerVisualEditorUtils").getGreetingType(a.selectedTemplate.page_welcome_message_body),K=a.selectedTemplate&&d("AdsMessengerUtils").getLandingScreenType(a.selectedTemplate.page_welcome_message_body),L=d("AdsUEditorUnifiedCreationUtils").showExistingLeadGenTemplateGuidanceCard(a.destinationType,K),M=d("AdsUEditorUnifiedCreationUtils").showImageGuidanceCard(a.destinationType,J);J=d("AdsUEditorUnifiedCreationUtils").showVideoGuidanceCard(a.destinationType,J);var N=a.landingScreenType===c("AdsMessengerVisualEditorLandingScreenType").GET_STARTED,O=j.jsx(c("GeoButton.react"),{icon:j.jsx(c("Image.react"),{src:a.selectedTemplateID==null?i("618874"):i("363444")}),isDisabled:a.selectedTemplateID==null,label:d("AdsMessengerConstants").PREVIEW,xstyle:c("geoMargin").bottom12,onClick:a.onClickPreview});C=!y&&j.jsxs(j.Fragment,{children:[j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:j.jsx(c("Image.react"),{src:a.selectedTemplateID==null?i("483104"):i("490345")}),id:l,isDisabled:a.selectedTemplateID==null,label:d("AdsMessengerConstants").EDIT,xstyle:[c("geoMargin").bottom12,c("geoMargin").end8],onClick:C}),a.isInThreadMultiphotoCarousel&&j.jsx(c("AdsIntelligentBlueTip.react"),{contextNodeID:l,messageID:"in_thread_multiphoto_carousel_edit_l1"})]});y=j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:j.jsx(c("Image.react"),{src:a.selectedTemplateID==null?i("638382"):i("508750")}),isDisabled:a.selectedTemplateID==null,label:d("AdsMessengerConstants").DUPLICATE,xstyle:[c("geoMargin").bottom12,c("geoMargin").end8],onClick:y?H:F});return j.jsxs("div",{"data-testid":void 0,children:[a.editorType===c("AdsMessengerContentEditorTabs").USE_EXISTING&&j.jsxs("div",{className:!a.isTabStyle&&c("stylex")(c("geoMargin").start20),children:[j.jsx("div",{className:c("stylex")(c("geoMargin").bottom12),children:j.jsx(c("GeoSelector.react"),{isLabelHidden:!0,label:"Use Existing Templates",placeholder:h._("Use existing template"),value:N?I:a.selectedTemplate&&(w?a.welcomeMessage:a.selectedTemplate.page_welcome_message_body),onChange:a.onSelectedRowIndexChange,children:x})}),a.destinationType!==c("AdCampaignDestination").MESSENGER&&K===c("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE&&j.jsx(c("MessageTemplatePreviewFAQSectionContainer.react"),{destinationType:a.destinationType,pageID:a.pageID,welcomeMessage:a.welcomeMessage}),!N&&j.jsxs("div",{className:c("stylex")(m.displayInline),children:[C,!w&&y,!d("AdsUEditorUnifiedCreationUtils").isWhatsAppOrInstagramOrComboDestination(a.destinationType)&&O]}),L&&j.jsx(d("ClickToMessageGuidanceCards.react").ExistingLeadGenTemplateGuidanceCard,{account:a.account}),M&&j.jsx(d("ClickToMessageGuidanceCards.react").ImageTemplateGuidanceCard,{account:a.account}),J&&j.jsx(d("ClickToMessageGuidanceCards.react").VideoTemplateGuidanceCard,{account:a.account})]}),u&&j.jsx(c("StartConversationsTemplateDialog.react"),{account:a.account,accountID:a.accountID,adgroupIDs:a.adgroupIDs,composerState:a.composerState,destinationType:a.destinationType,editorTab:a.editorType,errorSpec:a.errorSpec,isDeletedTemplate:b,isEditDisabled:w,isEditTemplate:g,isExistingPost:a.isExistingPost,isUnifiedCreation:a.isUnifiedCreation,isVideoLoading:a.isVideoLoading,objectStoryID:a.objectStoryID,objective:a.objective,ordersData:a.ordersData,page:a.page,pageID:a.pageID,pageName:a.pageName,phoneNumberData:a.phoneNumberData,shown:u,templateName:a.templateName,videoURL:a.videoURL,welcomeMessageJSON:d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(a.pageID,a.welcomeMessage,a.destinationType),onClickRestoreTemplate:B,onClickUpdateTemplate:A,onClose:D,onHide:function(){v(!1)},onJSONChange:a.onJSONChange,onTabChange:a.onTabChange,onTemplateNameChange:a.onTemplateNameChange}),j.jsx(c("StartConversationsTemplateCancelDialog.react"),{shown:e,onContinueEditing:function(){f(!1)},onDiscardChangesToTemplate:E}),j.jsx(c("MessengerAdsPartialAutomatedDialogContainer.react"),{isShown:s,selectedTemplateName:z,shouldAutoConvert:a.shouldAutoConvert,onToggle:G})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageTemplateUseExistingSectionLeadGenRadioList.react",["fbt","ix","AdsMessengerConstants","GeoButton.react","GeoRadioList.react","GeoRadioListItem.react","GeoScrollableArea.react","Image.react","MessengerAdsPartialAutomatedDialogContainer.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={scrollableArea:{maxHeight:"x1iuus0c"}};function a(a){var b;b=a.isEditDisabled===!0?a.welcomeMessage:(b=a.selectedTemplate)==null?void 0:b.page_welcome_message_body;var e=(b=b)!=null?b:a.filteredExistingTemplate[0].page_welcome_message_body;return j.jsxs("div",{className:c("stylex")(c("geoMargin").vert8),"data-testid":void 0,children:[j.jsx(c("GeoScrollableArea.react"),{direction:"vertical",xstyle:k.scrollableArea,children:a.filteredExistingTemplate.map(function(b){return j.jsxs("div",{className:c("stylex")(c("geoMargin").vert4),children:[j.jsx(c("GeoRadioList.react"),{isLabelHidden:!0,label:"Use Existing Templates",value:e,onChange:a.onSelectedRowIndexChange,children:j.jsx(c("GeoRadioListItem.react"),{label:b.template_name,value:b.page_welcome_message_body},b.id)}),b.page_welcome_message_body===e&&j.jsxs("div",{style:{display:"inline"},children:[!a.isEditDisabled&&!a.isDuplicationDisabled&&j.jsx(c("GeoButton.react"),{icon:a.shouldAutoConvert?j.jsx(c("Image.react"),{src:i("422636")}):j.jsx(c("Image.react"),{src:i("363753")}),label:a.shouldAutoConvert?d("AdsMessengerConstants").DUPLICATE:h._("Duplicate and edit"),xstyle:[c("geoMargin").end8,c("geoMargin").top4],onClick:a.onDuplicateCTMLeadGenClick}),j.jsx(c("GeoButton.react"),{icon:j.jsx(c("Image.react"),{src:i("363444")}),label:d("AdsMessengerConstants").PREVIEW,xstyle:c("geoMargin").top4,onClick:a.onClickPreview})]})]},b.id)})}),j.jsx(c("MessengerAdsPartialAutomatedDialogContainer.react"),{isShown:a.showCTMLeadGenDialog,selectedTemplateName:a.selectedCTMLeadGenTemplateName,shouldAutoConvert:a.shouldAutoConvert,onToggle:a.onToggle})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("adsMessengerDataModelGetInThreadMultiphotoCarousel",["AdsMessengerJSONPaths","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("getByPath")(a,c("AdsMessengerJSONPaths").TEXT_FORMAT.IN_THREAD_MULTIPHOTO_CAROUSEL.path)}g["default"]=a}),98);
__d("AdsMessengerInThreadMultiphotoCarousel",["invariant","adsMessengerDataModelGetInThreadMultiphotoCarousel"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){if(a==null)return null;var d=a.showInThreadMultiphotoCarousel;a=a.imageSrcs;if(!d)return null;d=c("adsMessengerDataModelGetInThreadMultiphotoCarousel")(b);if(d&&d.is_enabled){a!=null||h(0,23065);return{button:d.button,imageSrcs:a}}else return null}g.getMaybeInThreadMultiphotoCarousel=a}),98);
__d("LinkWithHiddenURLBar.react",["Link.react","react","setImmediate"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.link=null,d.$5=function(a){d.link=a},d.$4=function(a){d.$6(),d.props.onFocus&&d.props.onFocus(a)},d.$2=function(a){d.$1(),d.props.onBlur&&d.props.onBlur(a)},d.$3=function(a){d.$6(),!a.metaKey&&d.props.onClick&&(d.props.onClick(a),a.preventDefault()),d.props.onAllClicks&&d.props.onAllClicks(a),c("setImmediate")(function(){return d.$1()})},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.componentDidMount=function(){this.$1()};d.render=function(){var a=this.props,b=a.label;a.onBlur;a.onAllClicks;a.onClick;a.onFocus;a=babelHelpers.objectWithoutPropertiesLoose(a,["label","onBlur","onAllClicks","onClick","onFocus"]);return h.jsx(c("Link.react"),babelHelpers["extends"]({},a,{label:b,onBlur:this.$2,onClick:this.$3,onFocus:this.$4,linkRef:this.$5}))};d.$1=function(){if(this.link){var a=this.link;a.href&&(a.setAttribute("data-href",a.href),a.removeAttribute("href"))}};d.$6=function(){if(this.link){var a=this.link,b=a.getAttribute("data-href");b&&(a.setAttribute("href",b),a.removeAttribute("data-href"))}};return b}(h.Component);g["default"]=a}),98);
__d("LinkWithHiddenURLBarReact.bs",["LinkWithHiddenURLBar.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u;return b("ReasonReact.bs").wrapJsForReason(b("LinkWithHiddenURLBar.react"),{"aria-label":(u=b("bs_js_null_undefined")).fromOption(a),"data-hover":u.fromOption(d),"data-tooltip-content":u.fromOption(e),"data-tooltip-alignh":u.fromOption(f),"data-tooltip-position":u.fromOption(g),className:u.fromOption(c),href:u.fromOption(h),linkRef:u.fromOption(i),onClick:u.fromOption(j),onAllClicks:u.fromOption(k),onMouseDown:u.fromOption(l),onMouseEnter:u.fromOption(m),role:u.fromOption(n),rel:u.fromOption(o),style:u.fromOption(p),tabIndex:u.fromOption(q),target:u.fromOption(r),title:u.fromOption(s)},t)}f.make=a}),null);
__d("AbstractPopoverButtonReact.bs",["AbstractPopoverButton.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){var h;return b("ReasonReact.bs").wrapJsForReason(b("AbstractPopoverButton.react"),{config:(h=b("bs_js_null_undefined")).fromOption(a),haschevron:h.fromOption(c),image:h.fromOption(d),label:h.fromOption(e),maxwidth:h.fromOption(f)},g)}f.make=a}),null);
__d("MessagingThreadCustomizationSource",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN_MSG_CHANGE_LINK:"admin_msg",THREAD_INLINE:"thread_inline",JOURNEY_PROMPT:"journey_prompt",JOURNEY_PROMPT_WRITE_IN:"journey_prompt_write_in",PROMO_LINK:"promo_link",SETTINGS:"thread_settings",USER_INFO_ACTION_SHEET:"user_info_action_sheet",ROOM_CREATION:"room_creation",DELETE_ALL_SETTING:"delete_all_setting",RELATIONSHIP_STATUS_UPDATE:"relationship_status_update",TESTBOT:"testbot",SET_FROM_MESSAGE:"set_from_message",GROUP_NULL_STATE:"group_null_state",TEST:"test",VERSE_SIDEBAR:"verse_sidebar",CHAT_LIGHT_SPEED:"chat_light_speed",THEME_DEPRECATION:"theme_deprecation",BACKGROUND:"background",COMMAND:"command"});f["default"]=a}),66);
__d("MessengerDeleteAllDialogBootloader.react",["BootloadOnRender.react","JSResource","LazyComponent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return h.jsx(c("BootloadOnRender.react"),{component:h.jsx(c("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:c("JSResource")("messengerDeleteAllDialogReactComponent").__setRef("MessengerDeleteAllDialogBootloader.react"),placeholder:h.jsx("div",{})})};return b}(h.PureComponent);g["default"]=a}),98);
__d("MessengerMessageRequestsTypedLoggerBootloader",["Bootloader","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(){h||(h=new(b("Promise"))(function(a,b){c("Bootloader").loadModules(["MessengerMessageRequestsTypedLogger"],function(b){b=new b();a(b)},"MessengerMessageRequestsTypedLoggerBootloader")}));return h}function a(a,b,c,d,e,f){i().done(function(g){g.setAction(a).setThreadKeyList(b).setSurface(c).setFolderType(d).setEntryPoint(e).setExtraClientData(f).log()})}g._loadLogger=i;g.log=a}),98);
__d("MessengerSettingsIconSVGM4React.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.jsx("svg",{width:"30px",height:"30px",viewBox:"0 0 36 36",children:a.jsx("g",{id:"settings",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:a.jsxs("g",{id:"Settings",children:[a.jsx("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{d:"M18,11.00025 C14.1345,11.00025 11.0005,14.13425 11.0005,18.00025 C11.0005,21.86575 14.1345,24.99975 18,24.99975 C21.8655,24.99975 24.9995,21.86575 24.9995,18.00025 C24.9995,14.13425 21.8655,11.00025 18,11.00025 Z M31,17.42725 L31,18.57325 C31,19.14125 30.679,19.66025 30.171,19.91475 L28.638,20.68075 C28.2975,20.85125 28.0215,21.13725 27.8915,21.49475 C27.7675,21.83575 27.624,22.16775 27.4665,22.49175 C27.3,22.83375 27.286,23.23025 27.406,23.59175 L27.96,25.25225 C28.1395,25.79125 27.999,26.38575 27.5975,26.78725 L26.787,27.59775 C26.3855,27.99925 25.791,28.13975 25.2525,27.95975 L23.595,27.40725 C23.234,27.28725 22.837,27.30125 22.495,27.46775 C22.1705,27.62575 21.837,27.76975 21.4945,27.89425 C21.1355,28.02475 20.849,28.30125 20.6785,28.64275 L19.9145,30.17075 C19.6605,30.67875 19.141,31.00025 18.573,31.00025 L17.427,31.00025 C16.859,31.00025 16.3395,30.67875 16.0855,30.17075 L15.3215,28.64275 C15.151,28.30125 14.864,28.02475 14.5055,27.89425 C14.1625,27.76975 13.83,27.62575 13.505,27.46775 C13.163,27.30125 12.766,27.28725 12.405,27.40725 L10.7475,27.95975 C10.2085,28.13975 9.6145,27.99925 9.213,27.59775 L8.4025,26.78725 C8.0005,26.38575 7.8605,25.79125 8.04,25.25225 L8.594,23.59175 C8.714,23.23025 8.7,22.83375 8.5335,22.49175 C8.376,22.16775 8.2325,21.83575 8.1085,21.49475 C7.9785,21.13725 7.7025,20.85125 7.362,20.68075 L5.829,19.91475 C5.321,19.66025 5,19.14125 5,18.57325 L5,17.42725 C5,16.85875 5.321,16.33925 5.829,16.08525 L7.362,15.31925 C7.7025,15.14875 7.9785,14.86275 8.1085,14.50525 C8.2325,14.16425 8.376,13.83225 8.5335,13.50825 C8.7,13.16625 8.714,12.76975 8.594,12.40825 L8.04,10.74775 C7.8605,10.20875 8.0005,9.61475 8.4025,9.21275 L9.213,8.40275 C9.6145,8.00075 10.2085,7.86025 10.7475,8.04025 L12.405,8.59275 C12.766,8.71275 13.163,8.69875 13.505,8.53225 C13.83,8.37425 14.1625,8.23025 14.5055,8.10575 C14.864,7.97525 15.151,7.69875 15.3215,7.35725 L16.0855,5.82925 C16.3395,5.32125 16.859,5.00025 17.427,5.00025 L18.573,5.00025 C19.141,5.00025 19.6605,5.32125 19.9145,5.82925 L20.6785,7.35725 C20.849,7.69875 21.1355,7.97525 21.4945,8.10575 C21.837,8.23025 22.1705,8.37425 22.495,8.53225 C22.837,8.69875 23.234,8.71275 23.595,8.59275 L25.2525,8.04025 C25.791,7.86025 26.3855,8.00075 26.787,8.40275 L27.5975,9.21275 C27.999,9.61475 28.1395,10.20875 27.96,10.74775 L27.406,12.40825 C27.286,12.76975 27.3,13.16625 27.4665,13.50825 C27.624,13.83225 27.7675,14.16425 27.8915,14.50525 C28.0215,14.86275 28.2975,15.14875 28.638,15.31925 L30.171,16.08525 C30.679,16.33925 31,16.85875 31,17.42725 Z",id:"Fill-1",fill:"#000000"})]})})});f.icon=c}),null);
__d("MessengerDeleteAllMenuReact.bs",["cx","fbt","AbstractPopoverButtonReact.bs","Link.react","MercuryIDs","MercuryThreadActions","MessagingThreadCustomizationSource","MessengerActions","MessengerDeleteAllDialogBootloader.react","MessengerDialogs.bs","MessengerDotComAndInboxM4Check.bs","MessengerMenu.react","MessengerMessageRequestsTypedLoggerBootloader","MessengerPopoverMenu.react","MessengerSettingsIconSVGM4React.bs","MessengerURIStore","ReasonReact.bs","bs_caml_option","bs_js_dict","bs_js_null_undefined","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=b("MessengerDotComAndInboxM4Check.bs").yes?"_30yy _6ymd":"_30yy _2fug";function a(a){var c=a.filter,d=a.folder,e=a.threadlistOrderMap,f=a.viewer,g=function(a,c){if(a.length===0)return;var e=a.map(function(a){return b("MercuryIDs").getThreadKeyfromThreadIDUserID(a,f)});e=e.join(",");a=JSON.stringify({number_of_threads:a.length});b("MessengerMessageRequestsTypedLoggerBootloader").log(c,e,d,d,"settings",b("bs_js_null_undefined").fromOption(a))},i=function(a){if(e==null)return[];a=b("bs_js_dict").get(e,d);if(a===void 0)return[];a=b("bs_js_dict").get(b("bs_caml_option").valFromOption(a),c);if(a!==void 0)return b("bs_caml_option").valFromOption(a).threadlist;else return[]},l=function(a){a=i(void 0);a.forEach(function(a){var c=b("MessengerURIStore").getState().activeThreadID;if(c==null)return;c=c===a;if(c){b("MessengerActions").selectThread("");return}});g(a,"message_requests_delete_request_multiple");b("MercuryThreadActions").get().batchDelete(a,b("MessagingThreadCustomizationSource").DELETE_ALL_SETTING)};a=function(a){a=i(void 0);g(a,"message_requests_delete_attempt_multiple");return b("MessengerDialogs.bs").showDialog(function(a){return j.jsx(b("MessengerDeleteAllDialogBootloader.react"),{onDeleteAll:l,getThreadIDs:i,logConnectionRequestEvent:g})})};var m=function(a){a=i(void 0);b("MercuryThreadActions").get().batchMarkRead(a,b("MessagingThreadCustomizationSource").DELETE_ALL_SETTING);return g(a,"message_requests_read_request_multiple")};a=j.jsxs(b("MessengerMenu.react"),{children:[j.jsx(b("MessengerMenu.react").Item,{label:h._("Delete all"),onclick:a}),j.jsx(b("MessengerMenu.react").Item,{label:h._("Mark all as read"),onclick:m})]});m=h._("Settings, help and more");m={button:b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx(b("Link.react"),{"aria-label":m,className:k,role:"button",title:m,children:b("MessengerSettingsIconSVGM4React.bs").icon}):j.jsx(b("Link.react"),{"aria-label":m,className:k,role:"button",title:m}),defaultMaxWidth:200};return j.jsx(b("MessengerPopoverMenu.react"),{menu:a,children:b("ReasonReact.bs").element(void 0,void 0,b("AbstractPopoverButtonReact.bs").make(b("bs_caml_option").some(m),!1,void 0,void 0,200,void 0))})}c=a;f.settingsIconClasses=k;f.make=c}),null);
__d("MessengerDesktopPromoFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744027");c=b("FalcoLoggerInternal").create("messenger_desktop_promo",a);e.exports=c}),null);
__d("MessengerDesktopPromoEventLogger",["MessengerDesktopPromoFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("MessengerDesktopPromoFalcoEvent").log(function(){return a})};g.log=a}),98);
__d("XMessengerDotComSpoofIFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spoof/fb_iframe_target/",{gk_spoof:{type:"String"}})}),null);
__d("XSpoofMessengerDotComIFrameController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/spoof/messenger_dot_com_iframe/",{redirect_uri:{type:"String",required:!0}})}),null);
__d("MessengerSpoof",["Arbiter","DOM","JSXDOM","URI","XMessengerDotComSpoofIFrameController","XSpoofMessengerDotComIFrameController"],(function(a,b,c,d,e,f,g){"use strict";var h=6e3;function a(a){var b=c("JSXDOM").iframe({src:i().toString(),width:0,height:0});c("DOM").appendContent(document.body,b);c("Arbiter").subscribeOnce("messengerdotcom_spoof",function(){c("DOM").remove(b),a()});setTimeout(function(){c("Arbiter").inform("messengerdotcom_spoof")},h)}function i(){var a=new(c("URI"))(document.URL),b=c("XMessengerDotComSpoofIFrameController").getURIBuilder().getURI().getQualifiedURI().toString();b=c("XSpoofMessengerDotComIFrameController").getURIBuilder().setString("redirect_uri",b).getURI();return b.setDomain(a.getDomain().replace("messenger.com","facebook.com")).setPort(a.getPort()).setProtocol("https")}g.init=a}),98);
__d("SRDevModeParams",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({items:["__spin_r","__spin_b","__spin_t","__spin_dev_mhenv"],escapeParam:"reset_spin"})}),null);
__d("SRPinningNub",["Event","SRDevModeParams","URI"],(function(a,b,c,d,e,f,g){function a(a){c("Event").listen(a,"submit",function(a){var b=c("URI").getRequestURI();b.removeQueryData(c("SRDevModeParams").items);b.removeQueryData(c("SRDevModeParams").escapeParam);var d=a.target.getElementsByTagName("input");for(var d=d,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=d.length)break;g=d[f++]}else{f=d.next();if(f.done)break;g=f.value}g=g;b.addQueryData(g.name,g.value)}g=a.target.getElementsByTagName("select");for(var f=g,e=Array.isArray(f),d=0,f=e?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(e){if(d>=f.length)break;a=f[d++]}else{d=f.next();if(d.done)break;a=d.value}g=a;b.addQueryData(g.name,g.value)}b.go(!0);return!1})}function b(a){a=c("URI").getRequestURI();for(var b=c("SRDevModeParams").items,d=Array.isArray(b),e=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;a.removeQueryData(f)}a.go(!0);return!1}function d(a){a=c("URI").getRequestURI();a.addQueryData(c("SRDevModeParams").escapeParam,"");a.go(!0);return!1}g.watchForm=a;g.watchLink=b;g.resetPage=d}),98);
__d("WorkChatCustomMenuItem",["cx","CSS","DOM","MenuItem","ReactDOM","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=["href","rel","ajaxify","target","accesskey"];function k(a,b){var d={};j.forEach(function(a){b[a]&&(d[a]=b[a])});c("DOM").setAttributes(a,d)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){return a.call(this,b)||this}var e=b.prototype;e._renderItemContent=function(){this._anchor=c("DOM").create(this._data.renderas==="label"?"label":"a",{className:"_54nc"+(this._data.icon?" _54nu":"")});if(this._data.children){var a=this._data.icon?i.cloneElement(this._data.icon,{className:c("joinClasses")(this._data.icon.props.className,"mrs")}):null;d("ReactDOM").render(i.jsx(i.Suspense,{fallback:null,children:i.jsxs("div",{children:[a,i.jsx("div",{className:"_54nh",children:this._data.children})]})}),this._anchor);this._data.label=this._anchor.innerText||this._anchor.textContent}else{a=c("DOM").create("div",null,c("DOM").create("div",{className:"_54nh"},this._data.markup||this._data.label));this._data.icon&&c("DOM").prependContent(a,this._data.icon);c("DOM").setContent(this._anchor,a)}this._data.href||(this._data.href="#");this.isDisabled()||k(this._anchor,this._data);c("DOM").setAttributes(this._anchor,this.__getAttributesFromData());this._anchor.setAttribute("role",this._ARIARole);return this._anchor};e.render=function(){var b=a.prototype.render.call(this);d("CSS").addClass(b,"_1ydp");this._disabled&&d("CSS").addClass(b,"_5arm");return b};return b}(c("MenuItem"));g["default"]=a}),98);
__d("WorkChatCustomMenuItem.bs",["ReasonReact.bs","WorkChatCustomMenuItem","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){return b("ReasonReact.bs").wrapJsForReason(b("WorkChatCustomMenuItem"),{href:b("bs_js_null_undefined").fromOption(a),label:c,onclick:b("bs_js_null_undefined").fromOption(d),target:b("bs_js_null_undefined").fromOption(e)},f)}f.make=a}),null);
__d("WorkChatDoNotDisturbDialogReactBootloader.bs",["Bootloader","ReasonReact.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("ReasonReact.bs").reducerComponent("WorkChatDoNotDisturbDialogReactBootloader");function a(a,c){return{debugName:i.debugName,reactClassInternal:i.reactClassInternal,handedOffState:i.handedOffState,getDerivedStateFromProps:i.getDerivedStateFromProps,didMount:function(a){b("Bootloader").loadModules(["WorkChatDoNotDisturbDialogReact.bs"],function(c){return b("bs_curry")._1(a.send,{_0:c})},"WorkChatDoNotDisturbDialogReactBootloader.bs")},didUpdate:i.didUpdate,willUnmount:i.willUnmount,shouldUpdate:i.shouldUpdate,render:function(c){c=c.state.workChatDoNotDisturbDialog;if(c!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("bs_curry")._2(c.make,a,[]));else return h.jsx("div",{})},initialState:function(a){return{workChatDoNotDisturbDialog:void 0}},retainedProps:i.retainedProps,reducer:function(a,b){return{TAG:0,_0:{workChatDoNotDisturbDialog:a._0}}},jsElementWrapped:i.jsElementWrapped}}f.component=i;f.make=a}),null);
__d("WorkUserDoNotDisturbSettingsEvent",[],(function(a,b,c,d,e,f){a=Object.freeze({IMPRESSION:"impression",SCHEDULED_DND_SETTINGS_DIALOG_IMPRESSION:"scheduled_dnd_settings_dialog_impression",STATUS_SETTINGS_DIALOG_IMPRESSION:"status_settings_dialog_impression",STATUS_SETTINGS_DIALOG_IMPRESSION_QP:"status_settings_dialog_impression_qp",STATUS_SETTINGS_DIALOG_CLICK:"status_settings_dialog_click",STATUS_SETTINGS_DIALOG_CLICK_QP:"status_settings_dialog_click_qp",TURN_OFF:"turn_off",TURN_ON:"turn_on",FOCUS_MODE_ON:"focus_mode_on",FOCUS_MODE_OFF:"focus_mode_off"});f["default"]=a}),66);
__d("WorkUserDoNotDisturbSettingsSource",[],(function(a,b,c,d,e,f){a=Object.freeze({BLUE_BAR_MODERN_MENU:"blue_bar_modern_menu",BOOKMARK_NAV_MENU:"bookmark_nav_menu",GALAHAD_NAV_BAR_MENU:"galahad_nav_bar_menu",WORKPLACE_CHAT_MENU:"workplace_chat_menu",WORKPLACE_QUICKCHAT:"workplace_quickchat",WORKPLACE_THREAD_CONTEXT_MENU:"workplace_thread_context_menu"});f["default"]=a}),66);
__d("XFacebookWorkChatInboxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/chat/t/{?thread_key}/",{entrypoint:{type:"String"},thread_key:{type:"String"},mid:{type:"String"},ref:{type:"String"},ds:{type:"Int"},sender:{type:"Bool",defaultValue:!1},hide_header:{type:"Bool",defaultValue:!1},last_message_timestamp:{type:"Int"},first_message_timestamp:{type:"Int"},new_room:{type:"Exists",defaultValue:!1},extra_junk:{type:"String"}})}),null);
__d("XMessengerDotComCometDYIController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/dyi/",{start:{type:"Int"},end:{type:"Int"},quality:{type:"Enum",enumType:0},format:{type:"Enum",enumType:0},sections:{type:"IntVector"},referrer:{type:"Enum",enumType:1},target_id:{type:"FBID"},source:{type:"String"},tab:{type:"String"}})}),null);
__d("XMessengerDotComLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logout/",{next:{type:"String"}})}),null);
__d("XPagesManagerInboxController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/{page_token}/inbox/{?selected_item_id}/{?*extra_junk}/",{page_token:{type:"String",required:!0},business_id:{type:"Int"},selected_item_id:{type:"String"},mailbox_id:{type:"FBID"},platform:{type:"Enum",enumType:1},section:{type:"Enum",enumType:1},automation:{type:"Enum",enumType:1},notif_id:{type:"String"},source:{type:"String"},extra_junk:{type:"String"},entry_exp:{type:"String"}})}),null);
__d("XWorkLogoutController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/logout/",{next:{type:"String"},session_id:{type:"String"}})}),null);
__d("MessengerSettingsMenuReact.bs",["fbt","AsyncDialog","AsyncRequest","BootloaderResource","CurrentUser","Form","JSResource","MercuryConfig","MercuryFilters.bs","MessengerActions","MessengerConfig","MessengerDesktopAppLinks","MessengerDesktopPromoEventLogger","MessengerDialogs.bs","MessengerEnvironment","MessengerMenu.react","MessengerPopoverMenu.react","MessengerSpoof","MessengerView","ProfilePlusMessaging","ReasonReact.bs","ReasonReactCompat.bs","Run","SRPinningNub","ServiceWorkerLoginAndLogout","UserAgent","WebStorageMonster","WorkChatCustomMenuItem.bs","WorkChatDoNotDisturbDialogReactBootloader.bs","WorkDoNotDisturbSettingsTypedLogger","WorkUserDoNotDisturbSettingsEvent","WorkUserDoNotDisturbSettingsSource","XFacebookWorkChatInboxController","XMessengerDotComCometDYIController","XMessengerDotComLogoutController","XPagesManagerInboxController","XWorkLogoutController","bs_belt_Option","bs_caml_option","bs_curry","gkx","goURI","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a.preventDefault()}var j=b("JSResource")("WorkChatDoNotDisturbMenuItemContentReact.bs").__setRef("MessengerSettingsMenuReact.bs");function c(a,b){return{viewer:a}}function k(a){return i.createElement(b("BootloaderResource").read(j).make,a)}c={reasonResource:j,makeProps:c,make:k};var l=b("UserAgent").isPlatform("Mac OS X")||b("UserAgent").isPlatform("Windows");function m(a){return i.jsx(b("MessengerMenu.react").Item,{href:b("CurrentUser").isWorkUser()?"https://www.workplace.com":"https://www.messenger.com/about",label:g._("About"),target:"_blank"})}function n(a){a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkTermsURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkTermsURI),"https://www.facebook.com/policies");return i.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Terms"),target:"_blank"})}function o(a){a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkPrivacyURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkPrivacyURI),"https://www.facebook.com/privacy/explanation");return i.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Privacy Policy"),target:"_blank"})}function p(a){a=b("bs_belt_Option").getWithDefault(b("MercuryConfig").WorkCookiesURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkCookiesURI),"https://www.facebook.com/help/cookies");return i.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Cookie Policy"),target:"_blank"})}var q=b("JSResource")("MessengerSettingsDialogWrapper.bs").__setRef("MessengerSettingsMenuReact.bs");function d(a,b,c){return{viewer:a,causalElement:b}}function r(a){return i.createElement(b("BootloaderResource").read(q).make,a)}d={reasonResource:q,makeProps:d,make:r};var s={contents:!1};function e(a){if(!s.contents&&l){b("MessengerDesktopPromoEventLogger").log({location:"MessengerSettingsMenu",event:"Impression"});s.contents=!0;return}}function t(a){var c=a.filter,d=a.folder,e=a.view,f=a.viewer;a=a.children;var h=i.useRef(void 0),j=function(a){b("MessengerDesktopPromoEventLogger").log({location:"MessengerSettingsMenu",event:"Click"})},q=function(a){a.preventDefault();return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("ReasonReactCompat.bs").wrapReactForReasonReact(i.Suspense,{fallback:null},i.createElement(r,{viewer:f,causalElement:h.current})))})},s=function(a){a.preventDefault();new(b("WorkDoNotDisturbSettingsTypedLogger"))().setEvent(b("WorkUserDoNotDisturbSettingsEvent").IMPRESSION).setSource(b("WorkUserDoNotDisturbSettingsSource").WORKPLACE_CHAT_MENU).log();return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("WorkChatDoNotDisturbDialogReactBootloader.bs").make(f,[]))})},t=function(a){a.preventDefault(),b("MessengerActions").changeMasterView(e===b("MessengerView").MASTER.RECENT?b("MessengerView").MASTER.PEOPLE:b("MessengerView").MASTER.RECENT)},u=function(a){a.preventDefault(),b("MessengerActions").changeFolder(d==="pending"?"inbox":"pending")},v=function(a){a.preventDefault(),b("MessengerActions").changeFolder(d==="other"?"inbox":"other")},w=function(a){a.preventDefault(),b("MessengerActions").changeFolder(d==="action:archived"?"inbox":"action:archived")},x=function(a){a.preventDefault(),b("MessengerSpoof").init(function(a){b("goURI")(window.location.href,!0,void 0)})},y=function(a){b("Run").onUnload(function(a){b("WebStorageMonster").cleanOnLogout([]),b("ServiceWorkerLoginAndLogout").logout()}),b("Form").post((b("CurrentUser").isWorkUser()?b("XWorkLogoutController").getURIBuilder().setString("next",b("XFacebookWorkChatInboxController").getURIBuilder().getURI().toString()):b("XMessengerDotComLogoutController").getURIBuilder()).getURI(),{})},z=function(a){a.preventDefault(),b("AsyncDialog").send(new(b("AsyncRequest"))("/ajax/bugs/report"))},A=function(a){a.preventDefault(),b("MessengerActions").changeFilter(c===b("MercuryFilters.bs").unread?b("MercuryFilters.bs").all:b("MercuryFilters.bs").unread)},B=function(a){a=b("XMessengerDotComCometDYIController").getURIBuilder().getURI();return i.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Download Your Information"),target:"_blank"})},C=function(a){if(b("UserAgent").isPlatform("Mac OS X"))return i.jsx(b("MessengerMenu.react").Item,{href:b("MessengerDesktopAppLinks").macOSX,label:g._("New! Messenger for Mac"),onclick:function(a){return j(void 0)},target:"_blank"});else if(b("UserAgent").isPlatform("Windows"))return i.jsx(b("MessengerMenu.react").Item,{href:b("MessengerDesktopAppLinks").windows,label:g._("New! Messenger for Windows"),onclick:function(a){return j(void 0)},target:"_blank"});else return null},D=function(a){return i.jsx(b("MessengerMenu.react").Item,{label:g._("Log Out"),onclick:y})},E=function(a){return i.jsx(b("MessengerMenu.react").Item,{label:g._("Message requests"),onclick:u})},F=function(a){if(b("CurrentUser").isWorkUser())return i.jsx(b("MessengerMenu.react").Item,{label:g._("Permanently hidden"),onclick:v});else return null},G=function(a){return i.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()||!b("CurrentUser").isWorkUser()&&b("gkx")("1122241")?g._("Archived chats"):g._("Archived chats"),onclick:w})},H=b("CurrentUser").isWorkUser()?"/help/work/682468881954082":"https://www.facebook.com/help/messenger-app",I=function(a){return i.jsx(b("MessengerMenu.react").Item,{label:"[FB-Only] Copy Spoofs",onclick:x})},J=function(a){return i.jsx(b("MessengerMenu.react").Item,{label:"[FB-Only] Reset SPIN Pin",onclick:function(a){b("SRPinningNub").resetPage()}})},K=function(a){a=b("ProfilePlusMessaging").delegatePageID;if(a==null)return null;a=b("XPagesManagerInboxController").getURIBuilder().setString("page_token",a).getURI();return i.jsx(b("MessengerMenu.react").Item,{href:a,label:g._("Message History in Inbox"),target:"_blank"})};s=b("CurrentUser").isWorkUser()?[b("ReasonReact.bs").element(void 0,void 0,b("WorkChatCustomMenuItem.bs").make(void 0,g._("Do Not Disturb"),s,void 0,[i.jsx(k,{viewer:f})])),i.jsx(b("MessengerMenu.react").Separator,{})]:[null,null];s=i.jsxs(b("MessengerMenu.react"),{children:[s[0],s[1],i.jsx(b("MessengerMenu.react").Item,{label:g._("Settings"),onclick:q}),i.jsx(b("MessengerMenu.react").Separator,{}),i.jsx(b("MessengerMenu.react").Item,{label:e===b("MessengerView").MASTER.RECENT?b("CurrentUser").isWorkUser()?g._("People"):g._("Active contacts"):g._("Recent messages"),onclick:t}),e===b("MessengerView").MASTER.RECENT?E(void 0):null,e===b("MessengerView").MASTER.RECENT?F(void 0):null,e===b("MessengerView").MASTER.RECENT&&d==="inbox"?G(void 0):null,i.jsx(b("MessengerMenu.react").Item,{label:c===b("MercuryFilters.bs").unread?g._("All chats"):g._("Unread chats"),onclick:A}),b("ProfilePlusMessaging").shouldArchiveInboxForProfessionalProfile?i.jsx(b("MessengerMenu.react").Separator,{}):null,b("ProfilePlusMessaging").shouldArchiveInboxForProfessionalProfile?K(void 0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?i.jsx(b("MessengerMenu.react").Separator,{}):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?m(void 0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkTermsURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkTermsURI))!==void 0?n(void 0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkPrivacyURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkPrivacyURI))!==void 0?o(void 0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()&&(b("MercuryConfig").WorkCookiesURI==null?void 0:b("bs_caml_option").some(b("MercuryConfig").WorkCookiesURI))!==void 0?p(void 0):null,b("CurrentUser").isMessengerOnlyUser()||b("CurrentUser").isDeactivatedAllowedOnMessenger()?B(void 0):null,i.jsx(b("MessengerMenu.react").Separator,{}),i.jsx(b("MessengerMenu.react").Item,{href:H,label:g._("Help"),target:"_blank"}),i.jsx(b("MessengerMenu.react").Item,{label:g._("Report a problem"),onclick:z}),b("MessengerConfig").GKSpoof?I(void 0):null,b("CurrentUser").isEmployee()?J(void 0):null,l?i.jsx(b("MessengerMenu.react").Separator,{}):null,l?C(void 0):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?i.jsx(b("MessengerMenu.react").Separator,{}):null,b("MessengerEnvironment").messengerdotcom||b("CurrentUser").isWorkUser()?D(void 0):null]});return i.jsx(b("MessengerPopoverMenu.react"),{menu:s,children:b("bs_curry")._1(a,h)})}t=t;f.preventDefault=a;f.WorkChatDoNotDisturbMenuItemContentReact=c;f.isMacOrWindows=l;f.renderAbout=m;f.renderPolicies=n;f.renderPrivacy=o;f.renderCookies=p;f.LazySettings=d;f.hasFiredDesktopPromoImpressionEvent=s;f.logDesktopPromoImpressionOnce=e;f.make=t}),null);
__d("MessengerSettingsMenuButton.bs",["cx","fbt","AbstractPopoverButtonReact.bs","Link.react","MessengerDotComAndInboxM4Check.bs","MessengerSettingsIconSVGM4React.bs","MessengerSettingsMenuReact.bs","ReasonReact.bs","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=h._("Settings, help and more"),l=b("MessengerDotComAndInboxM4Check.bs").yes?"_30yy _6ymd":"_30yy _2fug";function a(a){var c=a.settingsButtonRef,d=a.tabIndex,e=a.onClick;a=function(a){b("MessengerSettingsMenuReact.bs").logDesktopPromoImpressionOnce(void 0);if(e!==void 0)return b("bs_curry")._1(e,a)};a={button:b("MessengerDotComAndInboxM4Check.bs").yes?j.jsx(b("Link.react"),{"aria-label":k,className:l,linkRef:function(a){c.current=a==null?void 0:b("bs_caml_option").some(a)},onClick:a,role:"button",tabIndex:d,title:k,children:b("MessengerSettingsIconSVGM4React.bs").icon}):j.jsx(b("Link.react"),{"aria-label":k,className:l,linkRef:function(a){c.current=a==null?void 0:b("bs_caml_option").some(a)},onClick:a,role:"button",tabIndex:d,title:k}),defaultMaxWidth:200};return b("ReasonReact.bs").element(void 0,void 0,b("AbstractPopoverButtonReact.bs").make(b("bs_caml_option").some(a),!1,void 0,void 0,200,[]))}c=a;f.settingsLabel=k;f.settingsIconClasses=l;f.make=c}),null);
__d("MessengerMasterViewHeaderReact.bs",["cx","fbt","LinkWithHiddenURLBarReact.bs","MessengerActions","MessengerDeleteAllMenuReact.bs","MessengerSearchActions","MessengerSettingsMenuButton.bs","MessengerSettingsMenuReact.bs","MessengerURIConstants","MessengerView","ReasonReact.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){a.preventDefault(),b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE),b("MessengerSearchActions").changeQuery(null)}function l(a){a.preventDefault(),b("MessengerActions").changeFolder("pending")}var m="_30yy _2oc8",n="_4kzu",o="_36ic _5l-3";function a(a){var c=a.filter,d=a.folder,e=a.threadlistOrderMap,f=a.view;a=a.viewer;var g=function(a){a.preventDefault(),f!==b("MessengerView").MASTER.RECENT&&b("MessengerActions").changeMasterView(b("MessengerView").MASTER.RECENT),b("MessengerActions").changeFolder("inbox")},i=function(a){a=d==="pending"||d==="action:archived"||f!==b("MessengerView").MASTER.RECENT;var c=a?g:l;a=a?h._("Back to recent messages"):h._("Back to message requests");return b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(a,"_30yy _2oc9",void 0,void 0,void 0,void 0,void 0,void 0,c,void 0,void 0,void 0,"button",void 0,void 0,void 0,void 0,a,[]))},p=d==="action:archived"?h._("Archived threads"):d==="pending"?h._("Message requests"):d==="other"?h._("Spam messages"):f===b("MessengerView").MASTER.PEOPLE?h._("Active now"):h._("Messenger");i=d!=="inbox"||f!==b("MessengerView").MASTER.RECENT?i(void 0):j.jsx("div",{className:n,children:j.createElement(b("MessengerSettingsMenuReact.bs").make,{filter:c,folder:d,view:f,viewer:a,children:function(a){return j.createElement(b("MessengerSettingsMenuButton.bs").make,{settingsButtonRef:a,tabIndex:0})}})});var q=d!=="pending"&&d!=="other";if(q){q=h._("New message");q=b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(q,m,void 0,void 0,void 0,void 0,b("MessengerURIConstants").COMPOSE_SUBPATH,void 0,k,void 0,void 0,void 0,"button",void 0,void 0,0,void 0,q,[]))}else q=j.jsx("div",{className:n,children:j.createElement(b("MessengerDeleteAllMenuReact.bs").make,{filter:c,folder:d,threadlistOrderMap:e,viewer:a})});return j.jsxs("div",{className:o,role:"banner",children:[i,j.jsx("h1",{className:"_1tqi",children:p}),q]})}c=a;d=a;f.handleAddClick=k;f.handleFilteredRequestsBackArrowClick=l;f.composeButtonClasses=m;f.settingsMenuClasses=n;f.rootClasses=o;f.make=c;f.jsComponent=d}),null);
__d("MessengerReadReceipt.bs",["MercuryActionStatus","Utils.bs","bs_array","bs_belt_MapString","bs_caml_option","immutable"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d,e){c=c>=a.timestamp;var f=a.status;e=!e||d!==a.author;if(c)if(f==null)if(e)return!0;else return!1;else if(e)return f===b("MercuryActionStatus").SUCCESS;else return!1;else return!1}function a(a,c,d){if(c==null)return[];a=b("bs_belt_MapString").get(a,c.thread_id);if(a!==void 0)return b("bs_caml_option").valFromOption(a).reduce(function(a,e,f,h){if(g(c,e.watermark,f,b("Utils.bs").isTruthy(d)))return b("bs_array").append(a,[f]);else return a},[]);else return[]}function c(a,c){a=b("bs_belt_MapString").get(a,c.thread_id);if(a!==void 0)return b("bs_caml_option").valFromOption(a).reduce(function(a,b,d,e){if(a)return g(c,b.watermark,d,!1);else return!1},!0);else return!1}function d(a){return!b("bs_belt_MapString").isEmpty(a)}function e(a,c){if(b("bs_belt_MapString").isEmpty(a))return b("immutable").OrderedMap();a=b("bs_belt_MapString").get(a,c);if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return b("immutable").OrderedMap()}function h(a,c,d){a=b("bs_belt_MapString").get(a,c);if(a===void 0)return null;c=b("bs_caml_option").valFromOption(a).get(d);if(c==null)return null;else return c}var i;f.emptyReadReceipts=i;f.wasSeen=g;f.getSeenBy=a;f.wasSeenByAll=c;f.hasReadReceipts=d;f.getSeenTimestamps=e;f.getSeenTimestamp=h}),null);
__d("MessengerSearchFunnelLoggerConstants",[],(function(a,b,c,d,e,f){"use strict";a="WWW_MESSENGER_SEARCH_SESSION_FUNNEL";b="fetched_state_impression_list";c="loading_state_impression_list";d="send_server_request";e="www";var g="messenger_dot_com",h="universal_search",i="user_contact",j="user_non_contact",k="group",l="page",m="game",n="tincan",o="message",p="sms",q="sms_group",r="coworker",s="other";f.NAME=a;f.FETCHED_STATE_IMPRESSION_LIST=b;f.LOADING_STATE_IMPRESSION_LIST=c;f.SEND_SERVER_REQUEST=d;f.WWW_SIDEBAR_TAG=e;f.MESSENGER_DOT_COM=g;f.UNIVERSAL_SEARCH=h;f.USER_CONTACT=i;f.USER_NON_CONTACT=j;f.GROUP=k;f.PAGE=l;f.GAME=m;f.TINCAN=n;f.MESSAGE=o;f.SMS=p;f.SMS_GROUP=q;f.COWORKER=r;f.OTHER=s}),66);
__d("MessengerSearchFunnelState",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1}var b=a.prototype;b.setSessionID=function(a){this.$1=a};b.getSessionID=function(){return this.$1};return a}();f["default"]=a}),66);
__d("MessengerSearchLoggerUtil",["MessengerSearchFunnelLoggerConstants"],(function(a,b,c,d,e,f){"use strict";function a(a){var c;switch(a){case"thread":c=b("MessengerSearchFunnelLoggerConstants").GROUP;break;case"friend":c=b("MessengerSearchFunnelLoggerConstants").USER_CONTACT;break;case"message":c=b("MessengerSearchFunnelLoggerConstants").MESSAGE;break;case"non_friend":c=b("MessengerSearchFunnelLoggerConstants").USER_NON_CONTACT;break;case"fb4c":c=b("MessengerSearchFunnelLoggerConstants").COWORKER;break;case"game":c=b("MessengerSearchFunnelLoggerConstants").GAME;break;case"page":case"internal_bot_page":case"commerce_page":case"meeting_room_page":c=b("MessengerSearchFunnelLoggerConstants").PAGE;break;default:c=b("MessengerSearchFunnelLoggerConstants").OTHER}return c}e.exports={getLoggingTypeFromMercuryType:a}}),null);
__d("ChatSearchSource",["AbstractSearchSource","AsyncRequest","Bootloader","CurrentUser","MessengerBootloadedSecondarySearchLogger","MessengerSearchFunnelLoggerConstants","MessengerSecondarySearchFunnelConstants","SearchSourceCallbackManager","SearchableEntry","ShortProfiles","TokenizeUtil","debounce","emptyFunction","isValidUniqueID","promiseDone","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=null;b("requireWeak")("OrderedFriendsList",function(a){g=a});a=function(a){babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this)||this;d.$ChatSearchSource1=new(b("SearchSourceCallbackManager"))({parseFn:b("TokenizeUtil").parse,matchFn:b("TokenizeUtil").isQueryMatch,indexFn:c.indexFn,searchType:c.searchType||""});d.$ChatSearchSource2=c.queryRequests||[];d.$ChatSearchSource3=c.searchType||"";d.$ChatSearchSource4=!1;d.$ChatSearchSource5=b("debounce")(d.$ChatSearchSource5,100,babelHelpers.assertThisInitialized(d));d.$ChatSearchSource6=c.excludeMemorializedUsers||!1;d.$ChatSearchSource7="";return d}var d=c.prototype;d.bootstrapImpl=function(a){var c=this;b("promiseDone")(b("ShortProfiles").fetchAll(),function(){c.$ChatSearchSource4=!0,c.$ChatSearchSource8(),a()})};d.searchImpl=function(a,b,c){var d=this,e=null,f={},g=c&&c.onQueryFinished,h=c&&c.onQueryStarted;h&&h(a);h=this.$ChatSearchSource1.search(a,function(c){!e?(e=c,e.forEach(function(a){return f[a.getUniqueID()]=!0})):c.forEach(function(a){var b=a.getUniqueID();f[b]||(e.push(a),f[b]=!0)}),b(e,a),a.length===1&&d.$ChatSearchSource4&&(g&&g(a))},c);if(!h||!this.$ChatSearchSource2||!this.$ChatSearchSource2.length||a.length===0){g&&g(a);return}if(a.length===1){this.$ChatSearchSource4&&(g&&g(a));return}var i={value:a,existing_ids:e&&e.map(function(a){return a.getUniqueID()}).join(","),limit:c&&c.threadLimit,exclude_memorialized_users:this.$ChatSearchSource6,logging_id:c&&c.loggingID},j=this.$ChatSearchSource2.length;this.$ChatSearchSource2.forEach(function(b){var c=Date.now();d.$ChatSearchSource5(i,b,function(b){b=d.$ChatSearchSource9(d.$ChatSearchSource10(b)).filter(function(a){return!!a});d.$ChatSearchSource11(a,b.length,c);d.$ChatSearchSource12(b,a);j--;j===0&&(d.$ChatSearchSource1.setQueryStringAsExhausted(a),g&&g(a))})},this)};d.getAllEntriesMap=function(){return this.$ChatSearchSource1.getAllEntries()};d.$ChatSearchSource11=function(a,c,d){var e=this;if(this.$ChatSearchSource3===b("MessengerSearchFunnelLoggerConstants").WWW_SIDEBAR_TAG){var f=Date.now();b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(b,g){b.logSourceEnded(a,g.SOURCES.SERVER,c,g.QUERY_PROGRESS.FINISHED),e.$ChatSearchSource13(b.getCurrentFunnelID(),d,f,a,c,"universal")},"ChatSearchSource")}else if(this.$ChatSearchSource3===b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.BROADCAST){var g;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:(g=b("MessengerSecondarySearchFunnelConstants")).EVENTS.SOURCE_ENDED,source:g.SOURCES.SERVER,query:a,numResults:c,status:g.SOURCE_STATUSES.FINISHED,loggingID:g.LOGGING_IDS.BROADCAST})}};d.$ChatSearchSource13=function(a,c,d,e,f,g){var h=this;b("Bootloader").loadModules(["MessengerSearchDataSourceLoadedEventTypedLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(b,i){new b().setSearchFunnelID(a).setStartTimeMs(c).setEndTimeMs(d).setQueryString(e).setDataSource(i.SOURCES.SERVER).setResultsCount(f).setLoadStatus(i.QUERY_PROGRESS.FINISHED).setIsResultUsed(h.$ChatSearchSource7===e).setSearchSurface(g).log()},"ChatSearchSource")};d.$ChatSearchSource8=function(){var a=b("ShortProfiles").getCachedProfileIDs();a=a.filter(function(a){var c=b("ShortProfiles").getNow(a);return a==b("CurrentUser").getID()||c.type==="friend"||c.type==="fb4c"});var c=a.map(this.$ChatSearchSource14);if(c.length){if(this.$ChatSearchSource3===b("MessengerSecondarySearchFunnelConstants").SEARCH_SURFACES.BROADCAST){var d;b("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:(d=b("MessengerSecondarySearchFunnelConstants")).EVENTS.SOURCE_ENDED,source:d.SOURCES.SHORT_PROFILES,query:"",ids:a,numResults:c.length,status:d.SOURCE_STATUSES.FINISHED,loggingID:d.LOGGING_IDS.BROADCAST})}this.$ChatSearchSource1.addLocalEntries(c)}};d.$ChatSearchSource9=function(a){return a.map(this.$ChatSearchSource15,this)};d.$ChatSearchSource15=function(a,c){if(a.mercury_thread)return!g?null:g.normalizeThreadEntry(a,c);var d=a.text,e=a.uid;if(!d||!b("isValidUniqueID")(e))return null;var f=g?g.getActiveRank(e):0;g&&!g.contains(e)&&(f+=c);return new(b("SearchableEntry"))({uniqueID:e,title:d,order:f,subtitle:a.subtext,type:a.render_type||a.type,photo:a.photo,uri:a.path,auxiliaryData:{isVerified:a.is_verified,isMessengerUser:a.is_messenger_user,alias:a.alias,workForeignEntityInfo:a.work_foreign_entity_info}})};d.$ChatSearchSource10=function(a){a=a.getPayload();if(Array.isArray(a))return a;else if(a&&a.entries)return a.entries;else return[]};d.$ChatSearchSource14=function(a){var c=b("ShortProfiles").getNow(a),d=a==b("CurrentUser").getID()?"friend":c.type,e=[c.additionalName,c.alternateName].concat(c.searchTokens||[]).join(" "),f=c.name,h=null;return new(b("SearchableEntry"))({uniqueID:a,title:f,order:g?g.getActiveRank(a):0,subtitle:h,keywordString:e,type:d,photo:c.thumbSrc,uri:c.uri,auxiliaryData:{isMessengerUser:c.is_messenger_user,alias:c.alias}})};d.$ChatSearchSource5=function(a,c,d,e){this.$ChatSearchSource3===b("MessengerSearchFunnelLoggerConstants").WWW_SIDEBAR_TAG&&a.value!==this.$ChatSearchSource7&&(b("Bootloader").loadModules(["MessengerSearchFunnelLogger","MessengerUniversalSearchFunnelLogger","MessengerUniversalSearchFunnelLoggerConstants"],function(c,d,e){c.logStartQuery(b("MessengerSearchFunnelLoggerConstants").NAME,a.value),d.logSourceStarted(a.value,e.SOURCES.SERVER)},"ChatSearchSource"),this.$ChatSearchSource7=a.value),new(b("AsyncRequest"))(c.uri).setData(babelHelpers["extends"]({},a,c.data)).setMethod("GET").setReadOnly(!0).setHandler(d).setErrorHandler(e||b("emptyFunction")).setAllowCrossPageTransition(!0).send()};d.$ChatSearchSource12=function(a,b){a.length&&this.$ChatSearchSource1.addQueryEntries(a,b)};d.addLocalEntries=function(a){this.$ChatSearchSource1.addLocalEntries(a)};d.refreshData=function(){b("ShortProfiles").fetchAll()};return c}(b("AbstractSearchSource"));e.exports=a}),null);
__d("MessengerSearchSourceUtils",["MessengerConfig","compactArray"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a;if(c("MessengerConfig").NSDB)switch(c("MessengerConfig").NSDBT){case"top_friends":b=c("compactArray")(a.map(function(a){return a.getType()==="friend"?a:null}));break;case"top_groups":b=c("compactArray")(a.map(function(a){return a.getType()==="thread"?a:null}));break;case"top_friends_and_groups":var d=c("compactArray")(a.map(function(a){return a.getType()==="thread"?a:null}));a=c("compactArray")(a.map(function(a){return a.getType()==="friend"?a:null})).slice(0,c("MessengerConfig").NSDBNF);b=a.concat(d);break}return b}g.getNullStateEntries=a}),98);
__d("MessengerSearchSource",["ChatSearchSource","MercuryConfig","MercuryIDs","MercurySingletonProvider","MessengerConfig","MessengerEnvironment","MessengerParticipants.bs","MessengerSearchFunnelLoggerConstants","MessengerSearchSourceUtils","MessengerTypeaheadUtils","SearchableEntry","emptyFunction","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";var h=50;a=function(a){babelHelpers.inheritsLoose(b,a);b.getForFBID=function(a){return i.getForFBID(a)};b.get=function(){return i.get()};function b(b){var c;c=a.call(this,{queryRequests:[{uri:"/ajax/mercury/composer_query.php"}],searchType:d("MessengerSearchFunnelLoggerConstants").WWW_SIDEBAR_TAG})||this;c.$MessengerSearchSource1=[];c.$MessengerSearchSource2=b;return c}var e=b.prototype;e.getDefaultEntriesStatus=function(){return c("MessengerConfig").NSDB&&this.$MessengerSearchSource1&&this.$MessengerSearchSource1.length>0};e.bootstrapImpl=function(b){var e=this;c("requireWeak")("OrderedFriendsList",function(b){return b.getSearchableEntries(h,!0,function(b){e.$MessengerSearchSource1=d("MessengerSearchSourceUtils").getNullStateEntries(b),a.prototype.addLocalEntries.call(e,b)})});var f=d("MercuryIDs").getParticipantIDFromUserID(this.$MessengerSearchSource2);d("MessengerParticipants.bs").get(f,function(b){a.prototype.addLocalEntries.call(e,[new(c("SearchableEntry"))({uniqueID:b.fbid?b.fbid.toString():b.id,title:b.name,type:"friend",photo:b.big_image_src||b.image_src,uri:b.href,auxiliaryData:{isMessengerUser:b.is_messenger_user}})])});a.prototype.bootstrapImpl.call(this,c("emptyFunction"));b()};e.searchImpl=function(b,d,e){e=e||{};if(b===""&&e.showDefaultEntries){d(this.$MessengerSearchSource1,b);var f=e&&e.onQueryFinished;f&&f("",this.$MessengerSearchSource1);return}e.threadLimit=c("MercuryConfig").MaxThreadResults;a.prototype.searchImpl.call(this,b,this.$MessengerSearchSource3(d,e),e)};e.$MessengerSearchSource3=function(a,b){return c("MessengerEnvironment").messengerui&&b&&b.showThreadSearchEntry?function(b,c){var e=d("MessengerTypeaheadUtils").getMessageSearchEntry(c);e?a([e].concat(b),c):a(b,c)}:a};return b}(c("ChatSearchSource"));var i=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("MessengerSearchTypeahead.react",["cx","fbt","ix","AbstractTypeahead.react","BootloadOnRender.react","Bootloader","CurrentUser","Image.react","JSResource","LazyComponent.react","MercuryIDs","MercuryThreadIDMap","MercuryVanityIDMap.bs","MessengerConfig","MessengerSearchFunnelLoggerConstants","MessengerSearchFunnelState","MessengerSearchLoggerUtil","MessengerSearchSource","MessengerSpinner.react","MessengerState.bs","MessengerUniversalSearchFunnelLoggerConstants","TypeaheadNavigation","ifRequired","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=b("MercuryThreadIDMap").get(),l=j||(j=b("react")),m=i("86933"),n=100,o=null,p=null;a=b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS;var q=a.ABANDON,r=a.RESULT_SELECTED;c=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.apply(this,arguments)||this;c.state={isLoading:!1,orderable:!!p,gameID:null};c.$6=function(){var a;(a=c.props).onBlur.apply(a,arguments);b("Bootloader").loadModules(["MessengerSearchFunnelLogger","MessengerUniversalSearchFunnelLogger"],function(a,d){a.endFunnel(b("MessengerSearchFunnelLoggerConstants").NAME),!c.$17?d.endFunnel(b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,q):(d.endFunnel(b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,r),c.$17=!1)},"MessengerSearchTypeahead.react");c.setState({isLoading:!1})};c.$7=function(){var a;(a=c.props).onChange.apply(a,arguments)};c.$8=function(){c.$9();c.$3!==null&&c.props.onFocus(c.$3.getDefaultEntriesStatus());var a=Math.floor(Math.random()*65536);c.$2.setSessionID(a);b("Bootloader").loadModules(["MessengerSearchFunnelLogger","MessengerUniversalSearchFunnelLogger"],function(a,d){a.startFunnel(b("MessengerSearchFunnelLoggerConstants").NAME,b("MessengerSearchFunnelLoggerConstants").WWW_SIDEBAR_TAG,b("MessengerSearchFunnelLoggerConstants").UNIVERSAL_SEARCH),d.startFunnel(b("MessengerUniversalSearchFunnelLoggerConstants").ENTRY_SURFACES.SIDEBAR,b("MessengerUniversalSearchFunnelLoggerConstants").INTERFACES.WWW,c.$2)},"MessengerSearchTypeahead.react")};c.$9=function(){c.state.orderable||b("Bootloader").loadModules(["MessengerTypeaheadView.react","MessengerTypeaheadUtils"],function(a,d){b("ifRequired")("FantaTabsEagerBootloader",function(a){return a.bootload()}),o=a,p=d,c.setState({orderable:!0})},"MessengerSearchTypeahead.react")};c.$13=function(a){a===c.props.queryString&&c.setState({isLoading:!0})};c.$12=function(a,d){a===c.props.queryString&&(a===""&&d!=null&&d.length>0&&b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(a){a.logNullStateImpressions(d,c.props.maxEntries)},"MessengerSearchTypeahead.react"),c.setState({isLoading:!1}))};c.$14=function(a,d){b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger"],function(e){e.logSourceEnded(a,b("MessengerUniversalSearchFunnelLoggerConstants").SOURCES.SERVER_XCONTROLLER,d,b("MessengerUniversalSearchFunnelLoggerConstants").QUERY_PROGRESS.FINISHED,a===c.props.queryString)},"MessengerSearchTypeahead.react")};c.$11=function(a){return p?p.sortEntries(a,c.props.queryString):a};c.$1=function(){c.setState({gameID:null})};c.$10=function(a,d){d=a.getUniqueID();var e=a.getType();a=a.getAuxiliaryData().alias;var f=c.props.queryString;a&&b("MercuryVanityIDMap.bs").set(a,b("MercuryIDs").getParticipantIDFromUserID(d));c.$17=!0;if(e==="thread")k.getClientIDFromServerID(d,function(a){c.props.onSelect(a,e),b("Bootloader").loadModules(["MessengerSearchFunnelLogger","MessengerUniversalSearchFunnelLogger"],function(c,d){c.logResultSelection(b("MessengerSearchFunnelLoggerConstants").NAME,f,a,b("MessengerSearchFunnelLoggerConstants").GROUP),d.logResultSelected(f,a,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_TYPES.GROUP,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD)},"MessengerSearchTypeahead.react")});else if(e==="game")c.setState({gameID:d});else{var g=b("MessengerSearchLoggerUtil").getLoggingTypeFromMercuryType(e);b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),b("MercuryIDs").getThreadIDFromUserID(d),function(a){c.props.onSelect(a.thread_id,e),b("Bootloader").loadModules(["MessengerSearchFunnelLogger","MessengerUniversalSearchFunnelLogger"],function(c,d){c.logResultSelection(b("MessengerSearchFunnelLoggerConstants").NAME,f,a.thread_id,g),d.logResultSelected(f,a.thread_id,g,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD)},"MessengerSearchTypeahead.react")})}};c.$1=c.$1.bind(babelHelpers.assertThisInitialized(c));c.$2=new(b("MessengerSearchFunnelState"))();c.$3=b("MessengerSearchSource").getForFBID(c.props.viewer);return c}var d=c.prototype;d.UNSAFE_componentWillMount=function(){var a=this,c=function(a,b,c){b=a.indexOf(b);b=b==-1?a.length-1:b-1;c(b==-1?a[a.length-1]:a[b])},d=function(a,b,c){b=a.indexOf(b)+1;c(b==a.length?a[0]:a[b])};c=b("TypeaheadNavigation").moveDown;d=b("TypeaheadNavigation").moveUp;this.$4=function(b){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return c.apply(void 0,[p.orderEntries(b,a.props.queryString)].concat(e))};this.$5=function(b){for(var c=arguments.length,e=new Array(c>1?c-1:0),f=1;f<c;f++)e[f-1]=arguments[f];return d.apply(void 0,[p.orderEntries(b,a.props.queryString)].concat(e))}};d.render=function(){var a=this,c=this.props.isFacebookChat?h._("Search"):h._("Search Messenger"),d=b("CurrentUser").isWorkUser()?h._("coworkers to message"):h._("friends to message");return l.jsxs("div",{className:"_1nq2",children:[l.jsx(b("AbstractTypeahead.react"),{"aria-label":d,autoHighlight:this.props.isFacebookChat,blurOnWindowBlur:!1,className:b("joinClasses")(this.props.className||"","_5iwm"+(this.props.isFocused||!!this.props.queryString?" _5iwn":"")+" _150g"+(this.props.isMessageSearchMode?" _1a03":"")),disabled:this.props.isMessageSearchMode,inputClassName:"_3rhb navigationFocus",navigation:{moveUp:this.$4,moveDown:this.$5},onBlur:this.$6,onChange:this.$7,entryFilter:void 0,onFocus:this.$8,onMouseOver:this.$9,onClick:this.$9,onSelectAttempt:this.$10,placeholder:c.toString(),presenter:{ViewRenderer:o,alwaysVisibleOnFocus:!0,extraRendererProps:{className:"_11_d",hasHoverState:this.props.isFacebookChat,isLoading:this.state.isLoading,onScrollIntoView:this.props.onScrollIntoView,viewer:this.props.viewer},maxEntries:this.props.maxEntries||n,sortEntries:this.$11,useLayer:!1},queryString:this.props.queryString,role:"search",searchSource:this.$3,searchSourceOptions:{loggingID:this.$2.getSessionID(),onQueryFinished:this.$12,onQueryStarted:this.$13,onResponseReturned:this.$14,showDefaultEntries:this.props.isFacebookChat?b("MessengerConfig").NSDB:!0,showThreadSearchEntry:!this.props.isFacebookChat&&!!this.props.queryString},selectOnTab:!0,spellCheck:!1,showEntriesOnFocus:this.props.isFacebookChat?b("MessengerConfig").NSDB:!0}),l.jsx(b("Image.react"),{onMouseDown:function(){var b;a.$15();(b=a.props).onClear.apply(b,arguments)},className:b("joinClasses")(this.props.className||"",(this.props.queryString?"":"hidden_elem")+" _2xme"),src:m}),this.$16()]})};d.$16=function(){return!this.state.gameID?null:l.jsx(b("BootloadOnRender.react"),{loader:b("JSResource")("MessengerGamesQuicksilverPlayerContainer.react").__setRef("MessengerSearchTypeahead.react"),placeholder:l.jsx(b("MessengerSpinner.react"),{}),component:l.jsx(b("LazyComponent.react"),{initialContextType:"SOLO",initialGameID:this.state.gameID,onHide:this.$1,initialSource:"messenger_search",sourceID:null})})};d.$15=function(){b("Bootloader").loadModules(["MessengerSearchFunnelLogger"],function(a){a.logClearQuery(b("MessengerSearchFunnelLoggerConstants").NAME)},"MessengerSearchTypeahead.react")};return c}(l.PureComponent);c.propTypes={className:b("prop-types").string,isMessageSearchMode:b("prop-types").bool,isFacebookChat:b("prop-types").bool,isFocused:b("prop-types").bool,maxEntries:b("prop-types").number,onBlur:b("prop-types").func,onChange:b("prop-types").func,onClear:b("prop-types").func,onFocus:b("prop-types").func,onSelect:b("prop-types").func.isRequired,onScrollIntoView:b("prop-types").func,queryString:b("prop-types").string,viewer:b("prop-types").string.isRequired};e.exports=c}),null);
__d("ChatPinnedThreadsEntryPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({MENU_ITEM_IN_OVERFLOW_MENU:"menu_item_in_overflow_menu",MENU_ITEM_IN_INFO_PANEL:"menu_item_in_info_panel",MENU_ITEM_IN_THREAD_ROW:"menu_item_in_thread_row",INFO_PANEL_SECTION_ITEM:"info_panel_section_item",CHAT_TAB_MENU:"chat_tab_menu",INTEGRATION_TEST:"integration_test",INBOX_THREAD_ROW_SWIPE:"inbox_thread_row_swipe",INBOX_EDIT_ORDER_SCREEN:"inbox_edit_order_screen"});f["default"]=a}),66);
__d("ChatNotificationConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({NORMAL:0,NO_USER_MESSAGE_NOTIFICATION:1});f["default"]=a}),66);
__d("ChatBehavior",["Arbiter","ArbiterMixin","AvailableList","AvailableListConstants","ChatNotificationConstants","mixin"],(function(a,b,c,d,e,f,g){var h=c("AvailableList").getWebChatNotification&&c("AvailableList").getWebChatNotification(),i=!1;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.ON_CHANGED="changed",b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.notifiesUserMessages=function(){return h!==c("ChatNotificationConstants").NO_USER_MESSAGE_NOTIFICATION};d.ignoresRemoteTabRaise=function(){return i};return b}(c("mixin")(c("ArbiterMixin")));var j=new a();function k(){j.inform(j.ON_CHANGED)}c("AvailableList").subscribe&&c("AvailableList").subscribe(c("AvailableListConstants").ON_CHAT_NOTIFICATION_CHANGED,function(){var a=h,b=c("AvailableList").getWebChatNotification();h=b;a!=b&&k()});c("Arbiter").subscribe("chat/set_does_page_occlude_tabs",function(a,b){i=!!b,k()});c("Arbiter").subscribe("chat/set_show_tab_unread_ui",function(a,b){!!b,k()});b=j;g["default"]=b}),98);
__d("ChatSidebarSheetChatOffline.react",["fbt","Link.react","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=h._("Turn on Active Status");return i.jsx("div",{children:h._("{=Go online} to see who's available.",[h._param("=Go online",i.jsx(c("Link.react"),{className:"fbChatGoOnlineLink",onClick:this.props.onGoOnlineClick,children:a}))])})};return b}(i.PureComponent);a.propTypes={onGoOnlineClick:c("prop-types").func.isRequired};g["default"]=a}),98);
__d("ChatSidebarSheetChatReconnectMsg.react",["fbt","ChannelConstants","Link.react","MessengerSpinner.react","Network","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.props,b=a.isMessenger;a=a.msecs;var e=i.jsx(c("Link.react"),{className:"fbChatReconnectLink",onClick:this.props.onManuallyConnectClick,children:h._("No Internet Connection")});if(a==null||!c("Network").isOnline())return b?e:i.jsx("div",{children:h._("Unable to connect to chat. Check your Internet connection.")});else if(a>d("ChannelConstants").WARNING_COUNTDOWN_THRESHOLD_MSEC)return b?e:i.jsx("div",{children:h._("Unable to connect to chat. {try-again-link}",[h._param("try-again-link",i.jsx(c("Link.react"),{className:"fbChatReconnectLink",onClick:this.props.onManuallyConnectClick,children:h._("Try again")}))])});else if(a>1e3)return b?e:i.jsx("div",{children:h._("Unable to connect to chat. Reconnecting in {seconds}",[h._param("seconds",Math.floor(a/1e3))])});else return b?i.jsxs("div",{children:[i.jsx(c("MessengerSpinner.react"),{color:"grey"}),h._("Connecting...")]}):i.jsx("div",{children:h._("Unable to connect to chat. Reconnecting...")})};return b}(i.PureComponent);a.propTypes={isMessenger:c("prop-types").bool,msecs:c("prop-types").number,onManuallyConnectClick:c("prop-types").func};g["default"]=a}),98);
__d("ChatSidebarSheetChatShutdownMsg.react",["fbt","ChannelConstants","CurrentUser","SyncProtocolConstants","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this.props,b=a.hint;a=a.isMessenger;switch(b){case d("ChannelConstants").HINT_AUTH:return i.jsx("div",{children:h._("Your session has timed out. Please log in.")});case d("ChannelConstants").HINT_MAINT:return a?i.jsx("div",{children:h._("Messenger is currently down for maintenance.")}):i.jsx("div",{children:h._("{Chat} is currently down for maintenance.",[h._param("Chat",h._("Chat"))])});case d("SyncProtocolConstants").IRIS_CURSOR_LIMIT:case d("SyncProtocolConstants").SNAPSHOT_FAILURE:case d("ChannelConstants").HINT_CONN:default:if(!a)return i.jsx("div",{children:h._("{Chat} is currently unavailable.",[h._param("Chat",h._("Chat"))])});else if(c("CurrentUser").isWorkUser())return i.jsx("div",{children:h._("Workplace Chat is currently unavailable.")});else return i.jsx("div",{children:h._("Messenger is currently unavailable.")})}};return b}(i.PureComponent);a.propTypes={hint:c("prop-types").string,isMessenger:c("prop-types").bool};g["default"]=a}),98);
__d("MercurySyncFakeDFFSender",["Arbiter","ChannelConstants","LogHistory","MercurySingletonProvider","MercurySyncDeltaTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=d("ChannelConstants").getArbiterType(d("ChannelConstants").FAKE_DFF),i=d("LogHistory").getInstance("dff_sender");a=function(){a.getForFBID=function(a){return j.getForFBID(a)};a.get=function(){return j.get()};function a(a){this.$1=a}var b=a.prototype;b.sendGlobalDFF=function(){i.debug("sendGlobalDFF",JSON.stringify({fbid:this.$1})),c("Arbiter").inform(h,{obj:{delta:{"class":c("MercurySyncDeltaTypes").ForcedFetch},queue:this.$1}})};b.sendThreadDFF=function(a,b){i.debug("sendThreadDFF",JSON.stringify({fbid:this.$1,otherUserFBID:a,threadFBID:b})),c("Arbiter").inform(h,{obj:{delta:{"class":c("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:a,threadFbId:b}},queue:this.$1}})};b.sendMessageDFF=function(a,b,d){i.debug("sendMessageDFF",JSON.stringify({fbid:this.$1,otherUserFBID:a,threadFBID:b,messageID:d})),c("Arbiter").inform(h,{obj:{delta:{"class":c("MercurySyncDeltaTypes").ForcedFetch,threadKey:{otherUserFbId:a,threadFbId:b},messageId:d},queue:this.$1}})};return a}();var j=new(c("MercurySingletonProvider"))(a);g["default"]=a}),98);
__d("ChatSidebarSheetChatStale.react",["CurrentUser","FDSText.react","Link.react","MercurySyncFakeDFFSender","Tooltip","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.viewer;a="The server had a more recent sequence ID than the client the last two times it was checked.";return h.jsxs(h.Fragment,{children:[h.jsx("div",babelHelpers["extends"]({},c("Tooltip").propsFor(a,"above","center"),{children:h.jsx(c("FDSText.react"),{weight:"bold",color:"white",children:c("CurrentUser").isWorkUser()?"Chat is stale":"Messenger is stale"})})),h.jsxs("div",{children:[h.jsx(c("Link.react"),{onClick:function(){window.location.reload()},children:"Reload"})," | ",h.jsx(c("Link.react"),{onClick:function(){c("MercurySyncFakeDFFSender").getForFBID(b).sendGlobalDFF()},children:"Force data fetch"})," | ",c("CurrentUser").isEmployee()?h.jsx(c("Link.react"),{ajaxify:"/ajax/bugs/employee_report?source=chat_sidebar&defaultText=Chat%20is%20stale&product_category_id=303664383067721",rel:"dialog",children:"Report bug"}):null]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerSyncEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("EventEmitter"))();g["default"]=a}),98);
__d("ChatSidebarSheet.react",["fbt","Arbiter","Bootloader","ChannelConnection","ChatBehavior","ChatSidebarSheetChatOffline.react","ChatSidebarSheetChatReconnectMsg.react","ChatSidebarSheetChatShutdownMsg.react","ChatSidebarSheetChatStale.react","ChatVisibility","LogHistory","MercurySyncConstants","MercurySyncEventsProxy","MessengerEnvironment","MessengerSyncEventEmitter","PresencePrivacy","SubscriptionsHandler","clearTimeout","gkx","joinClasses","react","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("LogHistory").getInstance("sidebar_sheet");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$3=c("MercurySyncEventsProxy").getForFBID(e.props.viewer),e.state={connectionStatus:null,channelData:null,isConnected:!c("ChannelConnection").disconnected(),isOnline:d("ChatVisibility").isOnline(),notifiesUserMessages:c("ChatBehavior").notifiesUserMessages(),syncStateInvalid:!1,syncStateReconnecting:!1,syncStateStale:!1},e.$5=function(a,b){var d=c("ChannelConnection").CONNECTED;switch(a){case e.$3.getArbiterType(c("MercurySyncEventsProxy").Events.SHUTDOWN):d=c("ChannelConnection").SHUTDOWN;break;case e.$3.getArbiterType(c("MercurySyncEventsProxy").Events.RECONNECTING):d=c("ChannelConnection").RECONNECTING;break}e.setState({connectionStatus:d,channelData:b});e.$6()},e.$6=function(){e.setState({isConnected:!c("ChannelConnection").disconnected(),isOnline:d("ChatVisibility").isOnline(),notifiesUserMessages:c("ChatBehavior").notifiesUserMessages()})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.$4=function(){var a=this;this.$1=new(c("SubscriptionsHandler"))();this.$1.addSubscriptions(c("Arbiter").subscribe([this.$3.getArbiterType(c("MercurySyncEventsProxy").Events.CONNECTED),this.$3.getArbiterType(c("MercurySyncEventsProxy").Events.SHUTDOWN),this.$3.getArbiterType(c("MercurySyncEventsProxy").Events.RECONNECTING)],this.$5),c("ChannelConnection").subscribe([c("ChannelConnection").MUTE_WARNING,c("ChannelConnection").UNMUTE_WARNING],this.$6),c("PresencePrivacy").subscribe("privacy-user-presence-changed",this.$6),c("ChatBehavior").subscribe(c("ChatBehavior").ON_CHANGED,this.$6),c("Arbiter").subscribe(c("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE,function(){j.log("invalid state fatal","{}"),a.setState({syncStateInvalid:!0,syncStateReconnecting:!1})}),c("Arbiter").subscribe(c("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RETRY,function(){j.log("retry from invalid state","{}"),a.$7()}),c("Arbiter").subscribe(c("MercurySyncConstants").ARBITER_EVENT_INVALID_STATE_RECOVER,function(){j.log("recover from invalid state","{}"),a.$8()}),c("MessengerSyncEventEmitter").addListener("SYNC_INVALID_STATE_STALE",function(b){a.setState({syncStateStale:b.isStale})}))};e.componentDidMount=function(){this.$4()};e.componentDidUpdate=function(){this.$2&&(c("clearTimeout")(this.$2),this.$2=null)};e.componentWillUnmount=function(){this.$1&&this.$1.release(),c("clearTimeout")(this.$2)};e.render=function(){var a=c("MessengerEnvironment").messengerui,b,d;!this.state.isOnline&&!a?(b="offline",d=this.$9()):this.$10()?(b="error",d=this.$11(a)):!this.state.notifiesUserMessages&&!a&&(b="notice",d=this.$12());(this.state.connectionStatus===c("ChannelConnection").RECONNECTING&&this.state.channelData<1e3||this.state.syncStateReconnecting)&&(b=c("joinClasses")(b,"reconnecting"));this.state.syncStateStale&&c("gkx")("1097694")&&(b="error",d=i.jsx(c("ChatSidebarSheetChatStale.react"),{viewer:this.props.viewer}));return b==="offline"&&this.$13()?null:i.jsxs("div",{className:c("joinClasses")(this.props.className,b),children:[a?null:i.jsx("div",{className:"img"}),i.jsx("div",{className:"message",children:d})]})};e.$13=function(){return!this.props.isSidebar};e.$10=function(){var a=this.state.connectionStatus;return a&&(a===c("ChannelConnection").SHUTDOWN||a===c("ChannelConnection").RECONNECTING&&this.state.channelData!==void 0)||this.state.syncStateInvalid||this.state.syncStateReconnecting};e.$11=function(a){var b=this;if(this.state.connectionStatus===c("ChannelConnection").SHUTDOWN||this.state.syncStateInvalid)return i.jsx(c("ChatSidebarSheetChatShutdownMsg.react"),{hint:this.state.syncStateInvalid?void 0:this.state.channelData,isMessenger:a});else if(this.state.connectionStatus===c("ChannelConnection").RECONNECTING||this.state.syncStateReconnecting){var d=this.state.channelData;if(d===void 0&&!this.state.syncStateReconnecting)return null;d=this.state.syncStateReconnecting?1:d;d>1e3&&(this.$2=c("setTimeoutAcrossTransitions")(this.$5.bind(this,this.$3.getArbiterType(c("MercurySyncEventsProxy").Events.RECONNECTING),d-1e3),1e3));return i.jsx(c("ChatSidebarSheetChatReconnectMsg.react"),{isMessenger:a,msecs:d,onManuallyConnectClick:function(){b.state.syncStateReconnecting||c("ChannelConnection").reconnect()}})}return null};e.$9=function(){var a=this;return i.jsx(c("ChatSidebarSheetChatOffline.react"),{onGoOnlineClick:function(b){a.$14(),j.log("sidebar_go_online"),d("ChatVisibility").goOnline()}})};e.$14=function(){c("Bootloader").loadModules(["FunnelLogger"],function(a){a.startFunnel("WWW_PRESENCE_FUNNEL"),a.appendActionWithTag("WWW_PRESENCE_FUNNEL","sidebar_turn_on_chat",c("PresencePrivacy").getOnlinePolicyStr()),a.endFunnel("WWW_PRESENCE_FUNNEL")},"ChatSidebarSheet.react")};e.$12=function(){return i.jsx("div",{children:h._("Alerts are off while you use another client to chat.")})};e.$7=function(){this.setState({syncStateReconnecting:!0})};e.$8=function(){this.setState({syncStateInvalid:!1,syncStateReconnecting:!1})};return b}(i.PureComponent);g["default"]=a}),98);
__d("MessageRequestLogger.bs",["MessengerMessageRequestsTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){new(b("MessengerMessageRequestsTypedLogger"))().setSurface("inbox").setFolderType(d).setAction("message_requests_thread_impression").addToExtraData("threads",a).setThreadKeyList(c).log()}f.logItemImpression=a}),null);
__d("MessengerComposerActions",["MessengerDispatcher","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";var h=c("keyMirror")({ADD_TOKEN:null,REMOVE_TOKEN:null,FOCUS_COMPOSER:null,FOCUS_TYPEAHEAD:null,EXIT_COMPOSE_STATE:null,MOVE_DRAFT:null});function a(a){c("MessengerDispatcher").dispatch({type:h.ADD_TOKEN,entry:a})}function b(a){c("MessengerDispatcher").dispatch({type:h.MOVE_DRAFT,threadID:a})}function d(a){c("MessengerDispatcher").dispatch({type:h.REMOVE_TOKEN,entry:a})}function e(){c("MessengerDispatcher").dispatch({type:h.FOCUS_COMPOSER})}function f(){c("MessengerDispatcher").dispatch({type:h.FOCUS_TYPEAHEAD})}function i(){c("MessengerDispatcher").dispatch({type:h.EXIT_COMPOSE_STATE})}function j(){c("MessengerDispatcher").dispatch({type:h.EXIT_COMPOSE_STATE,abandon_search:!0})}g.Types=h;g.addToken=a;g.moveDraftToNextThread=b;g.removeToken=d;g.focusComposer=e;g.focusTypeahead=f;g.exitComposeState=i;g.exitComposeStateAbandonSearch=j}),98);
__d("MessengerFlexArea.react",["cx","CSS","Event","MessengerSignals.bs","ResponsiveBlock.react","Style","SubscriptionsHandler","Vector","clearTimeout","getElementRect","getScrollPosition","joinClasses","react","setTimeoutAcrossTransitions","throttle"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").createRef;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.displayName="MessengerFlexArea",e.scrollableRef=j(),e.$1=null,e.$2=null,e.state={height:0},e.componentDidUpdate=function(a){a.maxHeight!==e.props.maxHeight&&e.recalculateHeight()},e.componentWillUnmount=function(){e.$1&&e.$1.release(),c("clearTimeout")(e.$2)},e.render=function(){return i.jsx(c("ResponsiveBlock.react"),{forwardedRef:e.scrollableRef,className:c("joinClasses")(e.props.className,"_9hq"),onResize:e.$3,style:{height:e.state.height+"px"},children:e.props.children})},e.recalculateHeight=function(){if(e.scrollableRef.current==null)return;var a=e.scrollableRef.current,b=a==null?void 0:a.parentElement,f=e.state.height,g=c("Vector").getViewportDimensions().y,h=!1;b&&c("Style").get(b,"display")==="none"&&(c("Style").set(b,"display","initial"),h=!0);var i=!1;b instanceof Element&&d("CSS").hasClass(b,"hidden_elem")&&(d("CSS").removeClass(b,"hidden_elem"),i=!0);if(e.props.limitCalculationToParent===!0&&b!=null&&b instanceof Element){var j=b.getBoundingClientRect().height;e.setState({height:j},e.props.onResize);return}g-=c("Vector").getElementPosition(b||a).y;j=c("getScrollPosition")(window);g+=j.y;e.props.bottomOffset&&(g-=e.props.bottomOffset);b&&(Array.from(b.childNodes).forEach(function(a){if(a.nodeType===Node.COMMENT_NODE||c("Style").get(a,"position")==="absolute")return;g-=c("getElementRect")(a).height}),g+=c("getElementRect")(a).height);h&&c("Style").set(b,"display","");i&&b instanceof Element&&d("CSS").addClass(b,"hidden_elem");(isNaN(g)||g<0)&&(g=0);e.props.maxHeight!=null&&(g=Math.min(e.props.maxHeight,g));g!==f&&(e.props.beforeResize&&e.props.beforeResize(),e.setState({height:g},e.props.onResize))},e.$3=c("throttle")(function(a,b){if(e.scrollableRef.current==null)return;b===e.state.height&&(e.props.beforeResize&&e.props.beforeResize(),c("clearTimeout")(e.$2),e.props.onResize&&(e.$2=c("setTimeoutAcrossTransitions")(e.props.onResize,0)))},51),e.getDOMNode=function(){return e.scrollableRef.current},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){var a=this,b=new(c("SubscriptionsHandler"))();b.addSubscriptions(c("Event").listen(window,"resize",c("throttle")(this.recalculateHeight,51)),d("MessengerSignals.bs").onResize(function(){a.recalculateHeight()}));this.$1=b;c("setTimeoutAcrossTransitions")(this.recalculateHeight,0)};return b}(i.Component);g["default"]=a}),98);
__d("MessengerFlexScrollableArea.react",["MessengerFlexArea.react","MessengerScrollableArea.react","prop-types","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shouldTrackBottom:c.props.shouldStickToBottom},c.$1=h.createRef(),c.$2=h.createRef(),c.$4=function(){c.props.onScroll&&c.props.onScroll();if(!c.props.shouldStickToBottom)return;c.$5()},c.$3=function(){c.trackBottomIfRequired()},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.componentDidMount=function(){this.props.onMount&&this.props.onMount()};d.render=function(){return h.jsxs(c("MessengerFlexArea.react"),{className:this.props.className,onResize:this.$3,ref:this.$1,maxHeight:this.props.maxHeight,limitCalculationToParent:this.props.limitCalculationToParent,bottomOffset:this.props.bottomOffset,children:[this.props.flexChildren,h.jsx(c("MessengerScrollableArea.react"),{height:"100%",needsFastScrollHandler:this.state.shouldTrackBottom,onScroll:this.$4,ref:this.$2,tabIndex:this.props.tabIndex,children:this.props.children}),this.props.footerChildren]})};d.$5=function(){this.isScrolledToBottom()?this.setState({shouldTrackBottom:!0}):this.setState({shouldTrackBottom:!1})};d.getArea=function(){var a;return(a=this.$2.current)==null?void 0:a.getArea()};d.handleResize=function(){var a;(a=this.$1.current)==null?void 0:a.recalculateHeight()};d.trackBottomIfRequired=function(){this.state.shouldTrackBottom&&this.scrollToBottom()};d.overrideTrackBottom=function(a){this.setState({shouldTrackBottom:a})};d.scrollToBottom=function(a){var b;(b=this.$2.current)==null?void 0:b.scrollToBottom(a)};d.scrollToTop=function(a){var b;(b=this.$2.current)==null?void 0:b.scrollToTop(a)};d.scrollToPosition=function(a,b,c){var d;(d=this.$2.current)==null?void 0:d.scrollToPosition(a,b,c)};d.isScrolledToBottom=function(){var a;return(a=(a=this.$2.current)==null?void 0:a.isScrolledToBottom())!=null?a:!0};d.isScrolledToBottomWithHeight=function(a){var b;return(b=(b=this.$2.current)==null?void 0:b.isScrolledToBottomWithHeight(a))!=null?b:!1};d.isScrolledToTop=function(){var a;return(a=(a=this.$2.current)==null?void 0:a.isScrolledToTop())!=null?a:!1};d.getScrollTop=function(){var a;return((a=this.$2.current)==null?void 0:a.getScrollTop())||0};d.getDOMNode=function(){var a;return(a=(a=this.$1.current)==null?void 0:a.getDOMNode())!=null?a:null};return b}(h.Component);a.propTypes={flexChildren:c("prop-types").node,footerChildren:c("prop-types").node,onMount:c("prop-types").func,onScroll:c("prop-types").func,shouldStickToBottom:c("prop-types").bool,tabIndex:c("prop-types").number,maxHeight:c("prop-types").number,bottomOffset:c("prop-types").number,limitCalculationToParent:c("prop-types").bool};g["default"]=a}),98);
__d("MessengerFlexScrollableAreaReact.bs",["MessengerFlexScrollableArea.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){var g;return b("ReasonReact.bs").wrapJsForReason(b("MessengerFlexScrollableArea.react"),{onScroll:(g=b("bs_js_null_undefined")).fromOption(a),className:g.fromOption(c),maxHeight:g.fromOption(d),limitCalculationToParent:g.fromOption(e)},f)}f.make=a}),null);
__d("MessengerGalahadGating.bs",["MessengerEnvironment","WorkGalahadSettings"],(function(a,b,c,d,e,f){"use strict";function a(a){if(b("WorkGalahadSettings").isGalahadEnabled)return b("MessengerEnvironment").facebookdotcom;else return!1}f.isGalahadUIEnabled=a}),null);
__d("MessengerGraphQLSearchTypeaheadReact.bs",["MessengerGraphQLSearchTypeahead.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){return b("ReasonReact.bs").wrapJsForReason(b("MessengerGraphQLSearchTypeahead.react"),{className:a,enableMessageSearch:c,excludeGroups:d,excludePages:e,hasHoverState:f,hideClearButton:(a=b("bs_js_null_undefined")).fromOption(g),isMessageSearchMode:a.fromOption(h),isFocused:a.fromOption(i),onBlur:j,onChange:k,onClear:l,onFocus:m,onScrollIntoView:n,onSelect:o,placeholder:p,queryString:a.fromOption(q),shouldQueryInternalBot:r,shouldQueryVCEndpoint:s,typeaheadViewClassName:t,viewer:u,rowComponent:a.fromOption(v),searchInputPortalRef:a.fromOption(w)},x)}f.make=a}),null);
__d("MessengerMessageRequestsInfoReact.bs",["fbt","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(b("CurrentUser").isWorkUser())return g._("Open a request to see who wants to chat. Your info and actions stay private until you accept the request. Verify the identity of others before you share information");else return g._("Open a request to get info about who's messaging you. They won't know you've seen it until you reply.")}function a(a){return h(void 0)}c=a;f.getText=h;f.make=c}),null);
__d("MessengerNewMessagesNoticeReact.bs",["cx","fbt","ix","Image.react","Link.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=i("86939"),m=h._("New messages");function a(a){var c=a.isOpen,d=a.onClick;a=a.label;a=a!==void 0?a:m;return k.jsx("div",{"aria-hidden":!c,className:"_4wzq"+(c?" _4wzr":"")+(c?"":" _4-je"),children:k.jsxs(b("Link.react"),{className:"_5f0v _4wzs",onClick:d,tabIndex:c?0:-1,children:[k.jsx(b("Image.react"),{className:"_4wzt",src:l}),k.jsx("div",{className:"_1bqr",children:a})]})})}c=a;d=a;f.newMessageSrc=l;f.defaultLabel=m;f.make=c;f.jsComponent=d}),null);
__d("MessengerThreadListGridWrapper.react",["cx","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){var a=this.props.label;return i.jsxs("div",{children:[i.jsx("h2",{className:"accessible_elem",children:a}),i.jsx("ul",{"aria-label":a,role:"grid",children:this.props.children})]})};return b}(i.PureComponent);a.propTypes={label:c("prop-types").string.isRequired};g["default"]=a}),98);
__d("XMessengerDotComDesktopControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/",Object.freeze({start_download:!1,m:!1}),new Set(["m"]));b=a;g["default"]=b}),98);
__d("MessengerThreadlistFooterDesktopAppLink.bs",["fbt","ix","CometPlaceholder.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MWIcon.react","MWText.react","MessengerDesktopPromoEventLogger","UserAgent","XMessengerDotComDesktopControllerRouteBuilder","fbicon","gkx","react","stylex","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{boxShadow:"xb756pt",minHeight:"xt55aet",":hover":{textDecoration:"x1lku1pv"},paddingTop:"xexx8yu",paddingEnd:"xc73u3c",paddingBottom:"x18d9i69",paddingStart:"x5ib6vp",flexGrow:"x1c4vz4f","@media (max-width: 900px)":{width:"x12nzpgo"}},button:{display:"x78zum5",justifyContent:"xl56j7k",alignItems:"x6s0dn4"},icon:{marginEnd:"x1w0mnb"},content:{"@media (max-width: 900px)":{display:"xzd29fr"}}};function m(a){var c=k.useRef(!1),d=k.useRef(b("uuid")()).current;k.useEffect(function(){c.current||(c.current=!0,b("MessengerDesktopPromoEventLogger").log({location:"MessengerThreadlistFooterDesktopAppLink",event:"Impression",funnelSessionId:d}))},[]);a=b("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:d}).setDomain("www.messenger.com").setProtocol("https").setFragment("startDownload").toString();a=b("gkx")("3674")?"https://www.microsoft.com/p/messenger/9wzdncrf0083":a;var e=k.useCallback(function(a){b("MessengerDesktopPromoEventLogger").log({location:"MessengerThreadlistFooterDesktopAppLink",event:"Click",funnelSessionId:d})},[]),f=b("UserAgent").isPlatform("Windows")?g._("Install Messenger app"):b("UserAgent").isPlatform("Mac OS X")?g._("Install Messenger app"):g._("Install Messenger app");return k.jsx(b("MDSRow.react"),{paddingHorizontal:8,paddingVertical:8,verticalAlign:"center",expanding:!0,spacing:0,xstyle:[l.root],children:k.jsx(b("MDSRowItem.react"),{expanding:!0,children:k.jsx(b("CometPressable.react"),{"aria-label":f,expanding:!0,linkProps:{target:"_blank",url:a},onPress:e,overlayOffset:10,overlayRadius:6,children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.button),children:[k.jsx("span",{className:j(l.icon),children:k.jsx(b("MWIcon.react"),{icon:b("fbicon")._(h("520490"),16),color:"primary"})}),k.jsx("span",{className:j(l.content),children:k.jsx(b("MWText.react"),{align:"center",type:"bodyLink3",children:f.toString()})})]})})})})}c={make:m};function a(a){return k.jsx(b("CometPlaceholder.react"),{children:k.jsx(m,{}),fallback:null})}d=a;f.styles=l;f.Impl=c;f.make=d}),null);
__d("MessengerThreadlistLinkRowReact.bs",["cx","fbt","ClickableAreaButton.react","Link.react","MessengerDotComAndInboxM4Check.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=b("MessengerDotComAndInboxM4Check.bs").yes?"_2ogt _6yb-":"_2ogt";function l(a){return j.jsx("li",{className:"_5l-3 _1ht1 _2ogr",children:j.jsx("div",{className:"_2ogs",children:j.createElement(b("Link.react"),{className:k,onClick:a,children:h._("See spam")})})})}function a(a){return j.createElement(b("ClickableAreaButton.react"),{onClick:a,children:l(a),className:k})}f.linkClasses=k;f.linkBox=l;f.make=a}),null);
__d("MessengerMessageDotsIconSVGM4React.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.jsx("svg",{width:"32px",height:"32px",viewBox:"0 0 36 36",children:a.jsxs("g",{id:"message-dots",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[a.jsx("polygon",{id:"Fill-2",points:"0 36 36 36 36 0 0 0"}),a.jsx("path",{d:"M24,15.5044817 C22.8955,15.5044817 22,16.4004043 22,17.5054256 C22,18.6104468 22.8955,19.5063694 24,19.5063694 C25.1045,19.5063694 26,18.6104468 26,17.5054256 C26,16.4004043 25.1045,15.5044817 24,15.5044817 Z M18,15.5044817 C16.8955,15.5044817 16,16.4004043 16,17.5054256 C16,18.6104468 16.8955,19.5063694 18,19.5063694 C19.1045,19.5063694 20,18.6104468 20,17.5054256 C20,16.4004043 19.1045,15.5044817 18,15.5044817 Z M12,15.5044817 C10.8955,15.5044817 10,16.4004043 10,17.5054256 C10,18.6104468 10.8955,19.5063694 12,19.5063694 C13.1045,19.5063694 14,18.6104468 14,17.5054256 C14,16.4004043 13.1045,15.5044817 12,15.5044817 Z M29.9995,17.4579031 C29.9985,24.1155436 24.974,28.9893426 18,28.9893426 C16.838,28.9893426 15.731,28.8857938 14.692,28.6321741 C13.829,28.4215748 12.9275,28.4430849 12.0855,28.7302204 L8.084,29.9587999 C7.439,30.1784035 6.814,29.5521081 7.032,28.8827924 L7.827,26.2530519 C8.124,25.3411217 8.0085,24.3406498 7.5095,23.5257654 C6.4525,21.8004516 6.001,19.7394794 6.0005,17.4579031 L6.0005,17.4569027 L6.0005,17.4559022 C6.0015,10.7992622 11.026,6.0035 18,6.0035 C24.974,6.0035 29.9985,10.7992622 29.9995,17.4559022 L29.9995,17.4569027 L29.9995,17.4579031 Z",id:"Fill-11",fill:"#000000"})]})});f.icon=c}),null);
__d("MessengerThreadlistMessageRequestsRowReact.bs",["cx","fbt","ix","Image.bs","Keys","LinkWithHiddenURLBarReact.bs","MNAdsLogMessageUtils","MercuryIDs","MessengerActions","MessengerDotComAndInboxM4Check.bs","MessengerMessageDotsIconSVGM4React.bs","MessengerParticipants.bs","ReasonReact.bs","bs_caml_array","bs_caml_option","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=i("86936");function m(a){a.preventDefault();if(a.charCode===b("Keys").RETURN){b("MessengerActions").changeFolder("pending");return}}function n(a){a.preventDefault(),b("MessengerActions").changeFolder("pending")}function a(a){var c=a.pendingFolderUnseenCount,d=a.newMessageRequestThreads,e=a.viewer,f=d.filter(function(a){return!(a==null)});a=function(a){a=h._({"someone":"From someone you may know","people":"From people you may know"},[h._enum(f.length===1?"someone":"people",{someone:"someone",people:"people"})]);var c=f.length;if(c===0)return a;var d=b("bs_caml_array").get(f,0),g=b("MercuryIDs").getParticipantIDFromUserID(e),i=d.participants.find(function(a){return a!==g});if(i===void 0)return a;i=b("MessengerParticipants.bs").getNow(i);if(i==null)return a;else{b("MNAdsLogMessageUtils").logAdsThreadListImpression(d);if(c===1)return h._("From {name}",[h._param("name",i.name)]);else return h._("From {name} and {count} more",[h._param("name",i.name),h._param("count",String(c-1|0))])}};if(f.length===0)return null;else return k.jsxs("li",{className:"_5l-3 _1ht1"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zk9":"")+" _2kt",onKeyPress:m,role:"row",tabIndex:-1,children:[b("ReasonReact.bs").element(void 0,void 0,b("LinkWithHiddenURLBarReact.bs").make(void 0,"_1ht5 _2il3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zka":"")+" _5l-3",void 0,void 0,void 0,void 0,void 0,void 0,void 0,n,void 0,void 0,void 0,void 0,void 0,-1,void 0,void 0,[k.jsxs("div",{className:"_6zkb"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7t1l":"")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkc":""),children:[k.jsxs("div",{className:"_5l-3 _1qt3"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-5k":"")+" _5nxe",children:[b("MessengerDotComAndInboxM4Check.bs").yes?k.jsx("div",{className:"_7jot",style:{height:String(50)+"px",width:String(50)+"px"},children:b("MessengerMessageDotsIconSVGM4React.bs").icon}):b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(void 0,"",void 0,void 0,l,50,void 0,50,void 0,[])),(c==null?void 0:b("bs_caml_option").some(c))!==0&&!b("MessengerDotComAndInboxM4Check.bs").yes?k.jsx("span",{className:"_3xse"}):null]}),k.jsxs("div",{className:"_1qt4"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7vuo":"")+" _5l-m",children:[k.jsx("div",{className:"_1qt5 _5l-3",children:k.jsx("div",{className:"_1ht6 _5nxa"+((c==null?void 0:b("bs_caml_option").some(c))!==0?" _3xsd":""),children:h._({"*":"New message requests","_1":"New message request"},[h._plural(f.length)])})}),k.jsx("div",{className:"_1qt5 _5l-3",children:k.jsx("div",{className:"_1htf"+((c==null?void 0:b("bs_caml_option").some(c))!==0?" _3xsd":""),children:a(void 0)})})]})]})])),b("MessengerDotComAndInboxM4Check.bs").yes?k.jsx("div",{role:"gridcell",children:k.jsx("div",{className:"_2j6"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6zkg":"")+" _5l-3",children:k.jsx("div",{className:"_7jp2"})})}):null]})}c=50;d=a;f.imageSize=c;f.src=l;f.handleKeyPress=m;f.handleClickRow=n;f.make=d}),null);
__d("MessengerComposerState",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({step:null,recipients:b("immutable").List()});a.__TCmeta={type:"MessengerComposerState"};e.exports=a}),null);
__d("MessengerComposerSteps",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({NULL:null,SELECT_RECIPIENTS:null,COMPOSE:null});g["default"]=a}),98);
__d("MessengerComposerStore",["EditorState","MessengerActions","MessengerBootloadedSecondarySearchLogger","MessengerComposerActions","MessengerComposerState","MessengerComposerSteps","MessengerConstants","MessengerDispatcher","MessengerEditorStateManager","MessengerSecondarySearchFunnelConstants","MessengerStore","MessengerURIStore","MessengerView","immutable","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("MessengerComposerState"))({step:c("MessengerComposerSteps").NULL,recipients:c("immutable").List()});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this)||this;b.$MessengerComposerStore1=h;return b}var e=b.prototype;e.getState=function(){return this.$MessengerComposerStore1};e.__onDispatch=function(a){c("MessengerDispatcher").waitFor([c("MessengerURIStore").getDispatchToken()]);var b=c("MessengerURIStore").getState().detailView,e=this.$MessengerComposerStore1.recipients,f=this.$MessengerComposerStore1.step,g=null,h=null;switch(a.type){case d("MessengerComposerActions").Types.ADD_TOKEN:if(e.some(function(b){return b.getUniqueID()===a.entry.getUniqueID()}))break;d("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:d("MessengerSecondarySearchFunnelConstants").EVENTS.RESULT_SELECTED,id:a.entry.getUniqueID(),query:null,surface:d("MessengerSecondarySearchFunnelConstants").ENTRY_SURFACES.COMPOSER,loggingID:d("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER,selectionType:d("MessengerSecondarySearchFunnelConstants").SELECTION_TYPES.ADD});g=e.push(a.entry);break;case d("MessengerComposerActions").Types.REMOVE_TOKEN:var i=a.entry.getUniqueID(),j=e.findIndex(function(a){return a.getUniqueID()===i});j!==-1&&(g=e["delete"](j),d("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:d("MessengerSecondarySearchFunnelConstants").EVENTS.TOKEN_REMOVED,clearedAll:!1,deletedIDs:[a.entry.getUniqueID()],loggingID:d("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER}));break;case d("MessengerComposerActions").Types.FOCUS_COMPOSER:f===c("MessengerComposerSteps").SELECT_RECIPIENTS&&(h=c("MessengerComposerSteps").COMPOSE);break;case d("MessengerComposerActions").Types.FOCUS_TYPEAHEAD:f===c("MessengerComposerSteps").COMPOSE&&(h=c("MessengerComposerSteps").SELECT_RECIPIENTS);break;case d("MessengerActions").Types.REPLACE_STATE:j=c("MessengerURIStore").getPrevState().detailView;j!==c("MessengerView").DETAIL.COMPOSE&&b===c("MessengerView").DETAIL.COMPOSE?(h=c("MessengerComposerSteps").SELECT_RECIPIENTS,d("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:d("MessengerSecondarySearchFunnelConstants").EVENTS.START,client:d("MessengerSecondarySearchFunnelConstants").CLIENTS.MESSENGER_DOT_COM,surface:d("MessengerSecondarySearchFunnelConstants").ENTRY_SURFACES.COMPOSER,loggingID:d("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER})):j===c("MessengerView").DETAIL.COMPOSE&&b!==c("MessengerView").DETAIL.COMPOSE&&d("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:d("MessengerSecondarySearchFunnelConstants").EVENTS.CLICK_OTHER_THREAD,loggingID:d("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER});break;case d("MessengerComposerActions").Types.MOVE_DRAFT:j=a.threadID.split(":");b=j.length>1?j[1]:"";d("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:d("MessengerSecondarySearchFunnelConstants").EVENTS.END,surface:d("MessengerSecondarySearchFunnelConstants").ENTRY_SURFACES.COMPOSER,loggingID:d("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER,end_reason:d("MessengerSecondarySearchFunnelConstants").END_ACTIONS.ENTER_THREAD,threadID:b,isNewThread:!1});d("MessengerEditorStateManager").set(a.threadID,d("MessengerEditorStateManager").get(d("MessengerConstants").NEW_THREAD_KEY));break;case d("MessengerComposerActions").Types.EXIT_COMPOSE_STATE:var k=c("EditorState").createEmpty();c("setTimeout")(function(){d("MessengerEditorStateManager").set(d("MessengerConstants").NEW_THREAD_KEY,c("EditorState").forceSelection(k,k.getSelection()))},0);a.abandon_search?d("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:d("MessengerSecondarySearchFunnelConstants").EVENTS.END,surface:d("MessengerSecondarySearchFunnelConstants").ENTRY_SURFACES.COMPOSER,loggingID:d("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER,end_reason:d("MessengerSecondarySearchFunnelConstants").END_ACTIONS.ABANDON}):d("MessengerBootloadedSecondarySearchLogger").logSearchEvent({name:d("MessengerSecondarySearchFunnelConstants").EVENTS.END,surface:d("MessengerSecondarySearchFunnelConstants").ENTRY_SURFACES.COMPOSER,loggingID:d("MessengerSecondarySearchFunnelConstants").LOGGING_IDS.M_APP_COMPOSER,end_reason:d("MessengerSecondarySearchFunnelConstants").END_ACTIONS.ENTER_THREAD,threadID:a.threadID,isNewThread:!1});h=c("MessengerComposerSteps").NULL;g=c("immutable").List();break}(g||h)&&(this.$MessengerComposerStore1=new(c("MessengerComposerState"))({step:h||f,recipients:g||e}),this.emitChange())};return b}(c("MessengerStore"));b=new a();g["default"]=b}),98);
__d("MessengerCrossIconSVGM4React.bs",["bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.size;a=String(b("bs_belt_Option").getWithDefault(a,36))+"px";return h.jsx("svg",{width:a,height:a,viewBox:"0 0 36 36",children:h.jsx("g",{id:"cross",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:h.jsxs("g",{id:"Cancel",children:[h.jsx("polygon",{id:"Bounding-Box",points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{d:"M24.4386402,26.5608358 L18.4998126,20.6218774 L12.5614847,26.5608358 C11.9754458,27.1463881 11.0251934,27.1463881 10.4391545,26.5608358 C9.85361517,25.974784 9.85361517,25.0250103 10.4391545,24.4389584 L16.377982,18.5 L10.4391545,12.5610416 C9.85361517,11.9754893 9.85361517,11.025216 10.4391545,10.4391642 C11.0251934,9.85361194 11.9754458,9.85361194 12.5614847,10.4391642 L18.4998126,16.3786222 L24.4386402,10.4391642 C25.0246791,9.85361194 25.9744319,9.85361194 26.5604708,10.4391642 C27.1465097,11.025216 27.1465097,11.9754893 26.5604708,12.5610416 L20.6211437,18.5 L26.5604708,24.4389584 C27.1465097,25.0250103 27.1465097,25.974784 26.5604708,26.5608358 C25.9744319,27.1463881 25.0246791,27.1463881 24.4386402,26.5608358 Z",id:"Fill-1",fill:"#000000"})]})})})}c=a;f.make=c}),null);
__d("MessengerThreadlistNewMessageRow.react",["cx","fbt","ix","Image.react","LinkWithHiddenURLBar.react","MercuryIDs","MercuryParticipantListRenderer","MercuryParticipantsImage.react","MessengerActions","MessengerComposerStore","MessengerCrossIconSVGM4React.bs","MessengerDotComAndInboxM4Check.bs","MessengerParticipants.bs","MessengerProfileImageWrapperReact.bs","MessengerView","ShimButton.react","prop-types","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=50,m=j("86935");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={participants:e.$3()},e.$5=function(a){a.preventDefault(),d("MessengerActions").changeDetailView(c("MessengerView").DETAIL.COMPOSE)},e.$8=function(a){a.preventDefault(),e.props.onClose&&e.props.onClose(a)},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=c("MessengerComposerStore").addListener("change",function(){var b=a.$3();a.setState({participants:b})})};e.$3=function(){var a=this;this.$2&&d("MessengerParticipants.bs").removeCallback(this.$2);var b=d("MessengerParticipants.bs").getMultiEager(this.$4(),function(b){a.$2=null,a.setState({participants:b})}),c=b[0];b=b[1];this.$2=b;return c};e.$4=function(){return c("MessengerComposerStore").getState().recipients.map(function(a){return d("MercuryIDs").getParticipantIDFromUserID(a.getUniqueID())}).toArray()};e.componentWillUnmount=function(){this.$1&&this.$1.remove(),this.$2&&d("MessengerParticipants.bs").removeCallback(this.$2)};e.renderM4=function(){return k.jsx("li",{className:"_5l-3 _1ht1 _6zk9"+(this.props.isActive?" _1ht2":""),children:k.jsx(c("LinkWithHiddenURLBar.react"),{onAllClicks:this.$5,tabIndex:0,className:"_1ht5 _2il3 _6zka _5l-3",children:k.jsxs("div",{className:"_6zkb _7t1l _6zkc",children:[this.$6(),k.jsx("div",{className:"_1qt4 _7vuo _5l-m",children:k.jsx("div",{className:"_1qt5 _5l-3",children:k.jsx("div",{className:"_1ht6 _7st9",children:this.$7()})})}),k.jsx("div",{className:"_6zv8",children:k.jsx(c("ShimButton.react"),{className:"_23ct _6zv9"+(this.props.isActive?" _6zva":""),onClick:this.$8,children:k.jsx(d("MessengerCrossIconSVGM4React.bs").make,{size:18})})})]})})})};e.render=function(){if(d("MessengerDotComAndInboxM4Check.bs").yes)return this.renderM4();else return k.jsx("li",{className:"_5l-3 _1ht1"+(this.props.isActive?" _1ht2":""),children:k.jsxs(c("LinkWithHiddenURLBar.react"),{onAllClicks:this.$5,className:"_1ht5 _2il3 _5l-3",children:[this.$6(),k.jsxs("div",{className:"_1qt4 _5l-m",children:[k.jsxs("div",{className:"_1qt5 _5l-3",children:[k.jsx("div",{className:"_1ht6",children:this.$7()}),k.jsx(c("ShimButton.react"),{"aria-label":i._("Close"),className:"_23ct",onClick:this.$8})]}),k.jsx("div",{className:"_1qt5 _5l-3",children:"\xa0"})]})]})})};e.$6=function(){var a=this.state.participants;return a.length>0?k.jsx("div",{className:"_1qt3 _5l-3"+(d("MessengerDotComAndInboxM4Check.bs").yes?" _6-5k":""),children:k.jsx(d("MessengerProfileImageWrapperReact.bs").jsComponent,{isMessengerUser:a.length===1&&a[0].is_messenger_user,size:l,showBadge:!1,children:k.jsx(c("MercuryParticipantsImage.react"),{participants:a.map(function(a){return a.id}).slice(0,3),size:l})})}):k.jsx("div",{className:"_1qt3 _5l-3",children:k.jsx(c("Image.react"),{height:l,src:m,width:l})})};e.$7=function(){return this.state.participants.length===0?i._("New message"):i._("New message to {List of message recipients}",[i._param("List of message recipients",new(c("MercuryParticipantListRenderer"))().renderParticipantList(this.state.participants.map(function(a){return{id:a.id,name:a.name,short_name:a.short_name}})))])};return b}(k.PureComponent);a.propTypes={isActive:c("prop-types").bool,onClose:c("prop-types").func.isRequired};g["default"]=a}),98);
__d("MessengerThreadlistNewMessageRowReact.bs",["MessengerThreadlistNewMessageRow.react","ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadlistNewMessageRow.react"),{isActive:a,onClose:c},d)}f.make=a}),null);
__d("MercuryThreadlistRowContainer.react",["Arbiter","AvailableList","AvailableListConstants","Bootloader","CurrentUser","ImmutableObject","MercuryIDs","MessengerParticipants.bs","PresenceStatus","SubscriptionsHandler","createReactClass_DEPRECATED","immutable","prop-types","react","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b("AvailableList");var i=function(a){return!c("CurrentUser").isWorkUser()?!1:c("immutable").Seq(a).some(function(a){a=d("MercuryIDs").getUserIDFromParticipantID(a);if(a===c("CurrentUser").getID())return!1;else return c("PresenceStatus").get(a)===c("AvailableListConstants").ACTIVE})},j=function(a){return a.thread.is_canonical_user?a.thread.other_user_fbid:null},k=c("createReactClass_DEPRECATED")({displayName:"MercuryThreadlistRowContainer",propTypes:{ChildClass:c("prop-types").func.isRequired,thread:c("prop-types").instanceOf(c("ImmutableObject")).isRequired,viewer:c("prop-types").string.isRequired},_availabilityStatusStore:null,subscriptions:new(c("SubscriptionsHandler"))(),_participantsSubscription:null,getInitialState:function(){return{participants:c("immutable").Map(),isPresenceForWork:i(this.props.thread.participants),isDoNotDisturb:this._getDoNotDisturb()}},componentDidMount:function(){var a=this;c("CurrentUser").isWorkUser()&&this.subscriptions.addSubscriptions(c("Arbiter").subscribe(c("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(){return a.setState({isPresenceForWork:i(a.props.thread.participants)})}));if(c("CurrentUser").isWorkUser()){var b=j(this.props);b&&c("Bootloader").loadModules(["WorkChatAvailabilityStatusStore"],function(c){k._availabilityStatusStore=c,c.fetchUsersIfNeeded([b]),c.subscribeUser(b,a),a.setState({isDoNotDisturb:c.getIsDoNotDisturb(b)}),a.subscriptions.addSubscriptions(c.addListener(function(){var b=a.props.thread.is_canonical_user?a.props.thread.other_user_fbid:null;b&&a.setState({isDoNotDisturb:c.getIsDoNotDisturb(b)})}))},"MercuryThreadlistRowContainer.react")}var d=this._getDoNotDisturb(),e=this._computeParticipants();this.setState({participants:e,isPresenceForWork:i(this.props.thread.participants),isDoNotDisturb:d})},componentDidUpdate:function(){var a=this,b=[];this.props.thread.participants.map(function(c){var d=a.state.participants.get(c);d||b.push(c)});var c=this._getDoNotDisturb();if(b.length>0)this.setState({participants:this._computeParticipants(),isPresenceForWork:i(this.props.thread.participants),isDoNotDisturb:c});else{var d=i(this.props.thread.participants);d!==this.state.isPresenceForWork&&this.setState({isPresenceForWork:d});c!==this.state.isDoNotDisturb&&this.setState({isDoNotDisturb:c})}},_computeParticipants:function(){var a=this;this._participantsSubscription&&d("MessengerParticipants.bs").removeCallback(this._participantsSubscription);var b=d("MessengerParticipants.bs").getMultiEagerMap(this.props.thread.participants,function(b){a._participantsSubscription=null,a.setState({participants:b})}),c=b[0];b=b[1];this._participantsSubscription=b;return c},_getDoNotDisturb:function(){var a=j(this.props);return k._availabilityStatusStore&&a&&c("CurrentUser").isWorkUser()?k._availabilityStatusStore.getIsDoNotDisturb(a):!1},componentWillUnmount:function(){var a=j(this.props);a&&(c("CurrentUser").isWorkUser()&&k._availabilityStatusStore&&k._availabilityStatusStore.unsubscribeUser(a,this));this.subscriptions.release();this._participantsSubscription&&d("MessengerParticipants.bs").removeCallback(this._participantsSubscription)},shouldComponentUpdate:function(a,b){return!c("shallowEqual")(a,this.props)||b.isPresenceForWork!==this.state.isPresenceForWork||b.isDoNotDisturb!==this.state.isDoNotDisturb||!c("immutable").is(b.participants,this.state.participants)},render:function(){var a=this.props,b=a.ChildClass;a=babelHelpers.objectWithoutPropertiesLoose(a,["ChildClass"]);return h.jsx(b,babelHelpers["extends"]({},a,{participants:this.state.participants,isPresenceForWork:this.state.isPresenceForWork,isDoNotDisturb:c("CurrentUser").isWorkUser()&&this.state.isDoNotDisturb}))}});a=k;g["default"]=a}),98);
__d("MessengerConfirmLeaveGroupDialogReact.bs",["MessengerAdminGroupUtils","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","MessengerDialogReact.bs","MessengerDialogs.bs","ReasonReact.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c,d=a.isViewerAdmin,e=a.onLeave;a=a.thread;var f=function(a){b("bs_curry")._1(e,void 0);return b("MessengerDialogs.bs").removeDialog(void 0)},g=b("MessengerAdminGroupUtils").getLeaveGroupBodyText(d,a),i=b("MessengerAdminGroupUtils").getLeaveGroupButtonText(d,a);d=b("MessengerAdminGroupUtils").getLeaveGroupTitleText(d,a);return(a=b("ReasonReact.bs")).element(void 0,void 0,(c=b("MessengerDialogReact.bs")).Dialog.make(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[h.createElement(b("MessengerDialogHeaderReact.bs").make,{children:d}),h.createElement(b("MessengerDialogBodyReact.bs").make,{children:g}),a.element(void 0,void 0,c.Footer.make(void 0,void 0,[a.element(void 0,void 0,c.CancelButton.make(void 0,[])),a.element(void 0,void 0,c.Button.make(void 0,i,void 0,"danger",f,0,void 0,void 0,void 0,[]))]))]))}c=a;d=a;f.make=c;f.jsComponent=d}),null);
__d("MNAdsMessageRequestUtils",["fbt","AdPageMessageTypeEnum","MessagingTag","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return a.folder==c("MessagingTag").PENDING&&!!a.last_message_type&&a.last_message_type!==c("AdPageMessageTypeEnum").NON_AD}function b(){var a=h._("Sponsored");return i.jsx("span",{children:a})}b.displayName=b.name+" [from "+f.id+"]";g.isAdsMessageRequest=a;g.renderAdsMessageRequestStatus=b}),98);
__d("MercuryThreadTimestampReact.re",["MercuryThreadTimestampReact.bs"],(function(a,b,c,d,e,f){a=b("MercuryThreadTimestampReact.bs").make;f.make=a}),null);
__d("MessengerPinIconSVGReact.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,b){return h.jsx("div",{className:a,children:h.jsxs("svg",{viewBox:"0 0 22 22",children:[h.jsx("title",{children:"PinChatIcon"}),h.jsx("path",{d:"M13.9355,-3.55271368e-15 C13.4005,-3.55271368e-15 12.8985,0.208 12.5205,0.586 L11.5435,1.562 C11.0045,2.102 10.8195,2.886 11.0605,3.609 L11.3765,4.559 L8.5715,7.364 L7.2425,7.364 C5.3635,7.364 3.5955,8.096 2.2675,9.425 C1.9845,9.707 1.8285,10.084 1.8285,10.485 C1.8285,10.886 1.9845,11.263 2.2675,11.546 L9.3385,18.617 C9.6225,18.9 9.9985,19.057 10.3995,19.057 C10.8005,19.057 11.1775,18.9 11.4605,18.617 C12.7895,17.289 13.5205,15.521 13.5205,13.643 L13.5205,12.313 L16.3265,9.508 L17.2755,9.824 C17.4795,9.893 17.6925,9.927 17.9075,9.927 C18.4415,9.927 18.9445,9.719 19.3225,9.341 L20.2985,8.363 C20.6765,7.986 20.8845,7.484 20.8845,6.949 C20.8845,6.415 20.6765,5.913 20.2985,5.535 L15.3495,0.586 C14.9715,0.208 14.4695,-3.55271368e-15 13.9355,-3.55271368e-15 M13.9355,1 C14.1915,1 14.4475,1.098 14.6425,1.293 L19.5915,6.242 C19.9825,6.633 19.9825,7.267 19.5915,7.656 L18.6155,8.634 C18.4235,8.824 18.1675,8.927 17.9075,8.927 C17.8015,8.927 17.6955,8.91 17.5915,8.876 L16.6425,8.56 C16.5395,8.525 16.4325,8.508 16.3275,8.508 C16.0655,8.508 15.8105,8.61 15.6195,8.801 L12.8135,11.606 C12.6255,11.794 12.5205,12.049 12.5205,12.313 L12.5205,13.643 C12.5205,15.243 11.8845,16.778 10.7525,17.91 C10.6555,18.008 10.5275,18.057 10.3995,18.057 C10.2715,18.057 10.1435,18.008 10.0455,17.91 L2.9745,10.839 C2.7795,10.644 2.7795,10.327 2.9745,10.132 C4.1065,9 5.6415,8.364 7.2425,8.364 L8.5715,8.364 C8.8355,8.364 9.0905,8.259 9.2785,8.071 L12.0835,5.266 C12.3515,4.998 12.4455,4.602 12.3255,4.242 L12.0085,3.293 C11.8895,2.934 11.9825,2.538 12.2505,2.27 L13.2285,1.293 C13.4235,1.098 13.6795,1 13.9355,1",id:"Fill-1",fill:b}),h.jsx("path",{d:"M0.1465,20.7383 C-0.0485,20.5433 -0.0485,20.2263 0.1465,20.0313 L4.3885,15.7883 C4.5835,15.5933 4.9015,15.5933 5.0965,15.7883 C5.2915,15.9833 5.2915,16.3013 5.0965,16.4963 L0.8535,20.7383 C0.6585,20.9333 0.3415,20.9333 0.1465,20.7383",id:"Fill-3",fill:b})]})})}f.make=a}),null);
__d("MessengerPresenceStatusUtils",["fbt","AvailableListConstants","CurrentUser","LastActiveTimes","MercuryIDs","PresenceStatus","WorkChatAvailabilityStatusLoader"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){var e=null;if(b&&b.is_canonical){a=a.get(d("MercuryIDs").getParticipantIDFromFromThreadID(b.thread_id));if(a){a.is_messenger_user?b=c("CurrentUser").isWorkUser()?h._("Workplace Chat"):h._("Messenger"):b=c("CurrentUser").isWorkUser()?h._("Workplace"):h._("Facebook");var f=null,g=!1;if(d("WorkChatAvailabilityStatusLoader").isLoaded()&&c("CurrentUser").isWorkUser()){var i=d("WorkChatAvailabilityStatusLoader").getStoreEnforce();f={isDoNotDisturb:i.getIsDoNotDisturb(a.fbid),description:i.getDescriptionWithUserName(a.short_name,a.fbid)};g=f.isDoNotDisturb}i=c("PresenceStatus").get(a.fbid);var j,k;i!==c("AvailableListConstants").ACTIVE&&(j=d("LastActiveTimes").get(a.fbid),k=d("LastActiveTimes").getShortDisplay(a.fbid));i=i===c("AvailableListConstants").ACTIVE&&!g;e={contact:a,platform:b,isUserActive:i,availabilityStatusData:f,lastActiveTS:g?null:j,lastActive:g?null:k}}}return e}g.getStatusFromCanonicalThread=a}),98);
__d("MessengerFacepileImageM4React.bs",["Image.react","bs_belt_Option","bs_caml","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){return b("bs_caml").caml_int_max(2,a/20|0)}function a(a){var c=a.borderColor,d=a.className,e=a.imgSize,f=a.offsetLeft;a=a.src;c=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").flatMap(c,function(a){if(a==null)return;else return b("bs_caml_option").some(a)}),"white");var g=i(e);g={border:""+g+"px solid "+c,height:""+e+"px",width:""+e+"px"};c=f!==void 0?""+f+"px":void 0;c!==void 0&&(g.left=c);f=g;return h.jsx("div",{className:d,style:f,children:h.jsx(b("Image.react"),{alt:"",src:a,height:e,width:e})})}c=a;f.calcBorderWidth=i;f.make=c}),null);
__d("MessengerFacepileOverflowM4React.bs",["cx","bs_belt_Option","bs_caml","bs_caml_option","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.borderColor,d=a.className,e=a.imgSize;a=a.text;c=b("bs_belt_Option").getWithDefault(b("bs_belt_Option").flatMap(c,function(a){if(a==null)return;else return b("bs_caml_option").some(a)}),"white");var f=b("bs_caml").caml_int_max(2,e/20|0);return i.jsx("div",{className:b("joinClasses")("_7q1p",d),style:{border:""+f+"px solid "+c,height:""+e+"px",width:""+e+"px"},children:i.jsx("div",{className:"_7q1q",children:a})})}c=a;f.make=c}),null);
__d("MessengerFacepileM4React.bs",["cx","MessengerFacepileImageM4React.bs","MessengerFacepileOverflowM4React.bs","MessengerProfileImageM4React.bs","bs_belt_Option","bs_caml_option","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a,c,d,e){var f=d.length;if(f!==1){if(f===0)return null;f=(e<<1)/3|0;var g={className:"_7q0v",imgSize:f,src:d[1]};a!==void 0&&(g.borderColor=b("bs_caml_option").valFromOption(a));f={className:"_7q1i",imgSize:f,src:d[0]};a!==void 0&&(f.borderColor=b("bs_caml_option").valFromOption(a));return i.jsxs("div",{className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_7q1j"),style:{height:""+e+"px",width:""+e+"px"},children:[i.jsx(b("MessengerFacepileImageM4React.bs").make,g),i.jsx(b("MessengerFacepileImageM4React.bs").make,f)]})}g=d[0];f={src:g,size:e};a!==void 0&&(f.borderColor=b("bs_caml_option").valFromOption(a));c!==void 0&&(f.className=c);return i.jsx(b("MessengerProfileImageM4React.bs").make,f)}function k(a,c,d,e,f){var g=f-20|0,h=g+(b("MessengerFacepileImageM4React.bs").calcBorderWidth(g)<<1)|0,j=e.length;if(j>=3){if(d!==void 0&&d>4){var k=Math.imul(g,3)-25|0;d={className:"_7q1l",imgSize:g,text:"+"+String(d-3|0)};a!==void 0&&(d.borderColor=b("bs_caml_option").valFromOption(a));var l={className:"_7q1m",imgSize:g,offsetLeft:((k/2|0)-(g/2|0)|0)-3|0,src:e[1]};a!==void 0&&(l.borderColor=b("bs_caml_option").valFromOption(a));var m={className:"_7q1n",imgSize:g,src:e[0]};a!==void 0&&(m.borderColor=b("bs_caml_option").valFromOption(a));return i.jsxs("div",{className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_7q1j"),style:{height:""+h+"px",width:""+k+"px"},children:[i.jsx(b("MessengerFacepileOverflowM4React.bs").make,d),i.jsx(b("MessengerFacepileImageM4React.bs").make,l),i.jsx(b("MessengerFacepileImageM4React.bs").make,m)]})}}else switch(j){case 0:return null;case 1:k=e[0];d={src:k,size:f};a!==void 0&&(d.borderColor=b("bs_caml_option").valFromOption(a));c!==void 0&&(d.className=c);return i.jsx(b("MessengerProfileImageM4React.bs").make,d);case 2:l=e[0];m=e[1];j=(g<<1)-10|0;k={className:"_7q1l",imgSize:g,src:m};a!==void 0&&(k.borderColor=b("bs_caml_option").valFromOption(a));f={className:"_7q1n",imgSize:g,src:l};a!==void 0&&(f.borderColor=b("bs_caml_option").valFromOption(a));return i.jsxs("div",{className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_7q1j"),style:{height:""+h+"px",width:""+j+"px"},children:[i.jsx(b("MessengerFacepileImageM4React.bs").make,k),i.jsx(b("MessengerFacepileImageM4React.bs").make,f)]})}d=Math.imul(g,3)-25|0;m={className:"_7q1l",imgSize:g,src:e[2]};a!==void 0&&(m.borderColor=b("bs_caml_option").valFromOption(a));l={className:"_7q1m",imgSize:g,offsetLeft:(d/2|0)-(g/2|0)|0,src:e[1]};a!==void 0&&(l.borderColor=b("bs_caml_option").valFromOption(a));j={className:"_7q1n",imgSize:g,src:e[0]};a!==void 0&&(j.borderColor=b("bs_caml_option").valFromOption(a));return i.jsxs("div",{className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_7q1j"),style:{height:""+h+"px",width:""+d+"px"},children:[i.jsx(b("MessengerFacepileImageM4React.bs").make,m),i.jsx(b("MessengerFacepileImageM4React.bs").make,l),i.jsx(b("MessengerFacepileImageM4React.bs").make,j)]})}function a(a){var b=a.borderColor,c=a.className,d=a.expanded,e=a.srcs,f=a.size;a=a.totalParticipants;if(d===!0)return k(b,c,a,e,f);else return j(b,c,e,f)}c=a;f.makeCompact=j;f.makeExpanded=k;f.make=c}),null);
__d("MercuryParticipantsImageM4React.bs",["MessengerFacepileM4React.bs","MessengerParticipantsImages.bs","MessengerProfileImageM4React.bs","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.borderColor,d=a.className,e=a.expanded,f=a.isActive,g=a.participants,i=a.size,j=a.storiesRingEligible,k=a.totalParticipants,l=a.hasUnreadStories;a=a.imageContainerRef;var m=h.useRef(!1),n=h.useRef(void 0),o=h.useState(function(){return[]}),p=o[1];o=o[0];h.useEffect(function(){m.current=!0;return function(a){m.current=!1;a=n.current;if(a===void 0)return;a=b("bs_caml_option").valFromOption(a).remove;return b("bs_curry")._1(a,void 0)}},[]);h.useEffect(function(){var a=n.current;if(a!==void 0){a=b("bs_caml_option").valFromOption(a).remove;b("bs_curry")._1(a,void 0)}g.length!==0?n.current=b("bs_caml_option").some(b("MessengerParticipantsImages.bs").getOrderedBigImageMultiWithSize(g,function(a){var c=a.reduce(function(a,b){b==null||a.push(b);return a},[]);if(m.current)return b("bs_curry")._1(p,function(a){return c})},i)):b("bs_curry")._1(p,function(a){return[]})},[e,g,i,p]);var q=g.length;if(q!==1){if(q===0)return null}else if(o.length===1){q=o[0];f=b("gkx")("863504")?f:void 0;q={src:q,size:i};c!==void 0&&(q.borderColor=b("bs_caml_option").valFromOption(c));d!==void 0&&(q.className=d);f!==void 0&&(q.isActive=f);j!==void 0&&(q.storiesRingEligible=j);l!==void 0&&(q.hasUnreadStories=l);a!==void 0&&(q.imageContainerRef=b("bs_caml_option").valFromOption(a));return h.jsx(b("MessengerProfileImageM4React.bs").make,q)}f={srcs:o,size:i};c!==void 0&&(f.borderColor=b("bs_caml_option").valFromOption(c));d!==void 0&&(f.className=d);e!==void 0&&(f.expanded=e);k!==void 0&&(f.totalParticipants=k);return h.jsx(b("MessengerFacepileM4React.bs").make,f)}c=a;f.make=c}),null);
__d("MercuryParticipantsImageM4React.re",["MercuryParticipantsImageM4React.bs"],(function(a,b,c,d,e,f){a=b("MercuryParticipantsImageM4React.bs").make;f.make=a}),null);
__d("MessengerStoriesRingPresenceMessageQueryContainer.react",["JSResource","MercuryIDs","MercuryParticipantsImageM4React.re","MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql","RelayFBEnvironment","RelayModern","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=c("lazyLoadComponent")(c("JSResource")("MessengerStoriesRingPresenceMontageQueryContainer.react").__setRef("MessengerStoriesRingPresenceMessageQueryContainer.react"));function a(a){var e=a.borderColor,f=a.className,g=a.expanded,k=a.isActive,l=a.participants,m=a.size,n=a.storiesRingEligible,o=a.thread,p=a.totalParticipants;a=d("MercuryIDs").getThreadFBIDFromThreadID(o.thread_id);var q=i.jsx(d("MercuryParticipantsImageM4React.re").make,{borderColor:e,className:f,expanded:g,isActive:k,participants:l,size:m,storiesRingEligible:n,totalParticipants:p});return i.jsx(d("RelayModern").QueryRenderer,{environment:c("RelayFBEnvironment"),query:h!==void 0?h:h=b("MessengerStoriesRingPresenceMessageQueryContainerQuery.graphql"),variables:{threadFBID:a},render:function(a){a=a.props;return a?i.jsx(i.Suspense,{fallback:q,children:i.jsx(j,{borderColor:e,className:f,expanded:g,isActive:k,messageThread:a.message_thread,participants:l,size:m,storiesRingEligible:n,totalParticipants:p})}):q}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerThreadImageM4React.bs",["MercuryIDs","MessengerStoriesRingPresenceMessageQueryContainer.react","bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.borderColor,d=a.className,e=a.expanded,f=a.isActive,g=a.size,i=a.storiesRingEligible,j=a.thread;a=a.viewer;var k=j.square_image_src!==null?j.square_image_src:j.image_src;if(!(k==null))return h.jsx("div",{className:b("bs_belt_Option").getWithDefault(d,""),style:{backgroundImage:"url("+k+")",backgroundPosition:"50% 50%",backgroundRepeat:"no-repeat",height:""+g+"px",width:""+g+"px",backgroundSize:"cover",borderRadius:"50%"}});k=j.participants;var l=b("MercuryIDs").getParticipantIDFromUserID(a);a=b("MercuryIDs").isCanonical(j.thread_id);var m,n=0;if(k.length!==1)n=1;else{var o=k[0];o===l?m=k:n=1}if(n===1){o=k.filter(function(a){return a!==l});m=a?o:o.slice(0,3)}return h.jsx(b("MessengerStoriesRingPresenceMessageQueryContainer.react"),{borderColor:c,className:d,expanded:e,isActive:f,participants:m,size:g,storiesRingEligible:i,thread:j,totalParticipants:k.length})}c=a;f.make=c}),null);
__d("MessengerDeleteDialogReact.bs",["fbt","CurrentUser","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","MessengerDialogReact.bs","ReasonReact.bs","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("ReasonReact.bs").reducerComponent("MessengerDeleteDialogReact");function a(a,c,d,e,f,h,k){return{debugName:j.debugName,reactClassInternal:j.reactClassInternal,handedOffState:j.handedOffState,getDerivedStateFromProps:j.getDerivedStateFromProps,didMount:j.didMount,didUpdate:j.didUpdate,willUnmount:j.willUnmount,shouldUpdate:j.shouldUpdate,render:function(j){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,void 0,void 0,j.state.shown,void 0,void 0,void 0,void 0,void 0,[i.createElement(b("MessengerDialogHeaderReact.bs").make,{children:g._("Delete conversation")}),i.createElement(b("MessengerDialogBodyReact.bs").make,{children:b("CurrentUser").isWorkUser()?g._("Deleting message history cannot be undone. You will still receive any new messages in this chat."):g._("This will permanently delete the conversation history.")}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,g._("Delete"),void 0,"danger",function(a){b("bs_curry")._1(h,void 0);return b("bs_curry")._1(j.send,0)},0,void 0,void 0,void 0,[])),!c&&a==="inbox"?b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,b("CurrentUser").isWorkUser()?g._("Hide"):!b("CurrentUser").isWorkUser()&&b("gkx")("1122241")?g._("Hide conversation"):g._("Archive"),void 0,"danger",function(a){b("bs_curry")._1(e,a);return b("bs_curry")._1(j.send,0)},0,void 0,void 0,void 0,[])):a==="pending"?b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,d?g._("Ignore"):g._("Block"),void 0,"danger",function(a){b("bs_curry")._1(f,void 0);return b("bs_curry")._1(j.send,0)},0,void 0,void 0,void 0,[])):null]))]))},initialState:function(a){return{shown:!0}},retainedProps:j.retainedProps,reducer:function(a,b){return{TAG:0,_0:{shown:!1}}},jsElementWrapped:j.jsElementWrapped}}f.component=j;f.make=a}),null);
__d("MessengerDotsIconSVGM4React.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g;a=g||b("react");c=a.jsx("svg",{width:"22px",height:"22px",viewBox:"0 0 36 36",children:a.jsx("g",{id:"dots-3-horizontal",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:a.jsx("g",{id:"Page-1",fill:"#000000",children:a.jsx("path",{d:"M7,18 C7,16.4815417 8.23154167,15.25 9.75,15.25 C11.2684583,15.25 12.5,16.4815417 12.5,18 C12.5,19.5189167 11.2684583,20.75 9.75,20.75 C8.23154167,20.75 7,19.5189167 7,18 Z M15.25,18 C15.25,16.4815417 16.4815417,15.25 18,15.25 C19.5184583,15.25 20.75,16.4815417 20.75,18 C20.75,19.5189167 19.5184583,20.75 18,20.75 C16.4815417,20.75 15.25,19.5189167 15.25,18 Z M23.5,18 C23.5,16.4815417 24.7315417,15.25 26.25,15.25 C27.7684583,15.25 29,16.4815417 29,18 C29,19.5189167 27.7684583,20.75 26.25,20.75 C24.7315417,20.75 23.5,19.5189167 23.5,18 Z",id:"Fill-1"})})})});f.icon=c}),null);
__d("MessengerIgnoreDialogReact.bs",["cx","fbt","IgnoreMessagesTypedLogger","MessengerDialogBodyReact.bs","MessengerDialogHeaderReact.bs","MessengerDialogReact.bs","ReasonReact.bs","bs_belt_Option","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=a.onIgnore,d=a.onToggle,e=a.contact,f=a.threadID;a=a.isGroupChat;var g=function(a){b("bs_curry")._1(c,void 0);return b("bs_curry")._1(d,!1)};e=e!==void 0?b("bs_caml_option").valFromOption(e).short_name:void 0;if(!(f==null)){f=new(b("IgnoreMessagesTypedLogger"))().setEvent("ignore_clicked").setThreadID(f).setPlatform("messengerdotcom");f.log()}return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Dialog.make(void 0,void 0,d,void 0,void 0,void 0,void 0,void 0,void 0,void 0,[j.createElement(b("MessengerDialogHeaderReact.bs").make,{children:a?h._("Ignore group?"):h._("Ignore this conversation?")}),j.createElement(b("MessengerDialogBodyReact.bs").make,{children:j.jsx("div",{className:"_1q73",children:a?h._("You won't be notified when someone messages this group, and the group will move to Spam. We won't tell anyone in the group that the messages have been ignored."):h._("You won't be notified when {short_name_or_description} messages you directly, and the conversation will move to Spam. We won't tell {sameParam} that the messages have been ignored.",[h._param("short_name_or_description",b("bs_belt_Option").getWithDefault(e,h._("this person"))),h._param("sameParam",b("bs_belt_Option").getWithDefault(e,h._("this person")))])})}),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Footer.make(void 0,void 0,[b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").CancelButton.make(void 0,[])),b("ReasonReact.bs").element(void 0,void 0,b("MessengerDialogReact.bs").Button.make(void 0,h._("Ignore Messages"),void 0,"danger",g,0,void 0,void 0,void 0,[]))]))]))}function a(a){var c={onIgnore:a.onIgnore,onToggle:a.onToggle,threadID:a.threadID,isGroupChat:a.isGroupChat};a=b("bs_caml_option").nullable_to_opt(a.contact);a!==void 0&&(c.contact=b("bs_caml_option").valFromOption(a));return k(c)}c=k;f.make=c;f.jsComponent=a}),null);
__d("MessengerP2BFRXBootloaderUtils",["Bootloader"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("Bootloader").loadModules(["MessengerP2BFRXUtils","FRXEntryPoint","NFXStoryLocation"],function(b,c,d){b.openFRXDialog(a,d.MESSENGER_P2B_DIRECT_THREAD_DETAILS,c.REPORT_BUTTON)},"MessengerP2BFRXBootloaderUtils")}g.bootloadOpenFRXDialog=a}),98);
__d("FantaFRXUtil",["AsyncRequest","FRXURI","MercuryIDs","MercuryThreadIDMap"],(function(a,b,c,d,e,f,g){"use strict";var h=c("MercuryThreadIDMap").get();function a(a,b){return d("MercuryIDs").isLocalThread(b)?!1:a!=null&&a.thread_fbid!==null&&a.message_count>0}function b(a){return a!=null&&a.thread_id!==null&&h.getServerIDFromClientIDNow(a.thread_id)==null}function e(a,b,e,f){f===void 0&&(f="report_button");var g=d("MercuryIDs").getUserIDFromThreadID(a)||"",i=btoa("EntMessengerViewer1To1ThreadBase:"+g),j="messenger_direct_thread_details";if(Boolean(b)){b=d("MercuryIDs").isLocalThread(a);b=b?h.getServerIDFromClientIDNow(a):d("MercuryIDs").getThreadFBIDFromThreadID(a);b!=null&&(i=btoa("EntMessengerViewerGroupThreadBase:"+b),j="messenger_group_thread_details");e!=null&&(g=d("MercuryIDs").getUserIDFromParticipantID(e),j="messenger_group_thread_members_list")}a=d("FRXURI").withEntMessageThread({reportable_ent_token:i,story_location:j,entry_point:f,responsible_id:g});new(c("AsyncRequest"))(a).send()}function f(a,b){b===void 0&&(b="report_button");a=d("MercuryIDs").getUserIDFromThreadID(a)||"";var e="messenger_empty_direct_thread";e=d("FRXURI").withEntMessageThread({reportable_ent_token:a,story_location:e,entry_point:b,responsible_id:a});new(c("AsyncRequest"))(e).send()}g.isFRXEligible=a;g.isEmptyThread=b;g.FRXClicked=e;g.FRXClickedForEmptyThread=f}),98);
__d("MessengerContactListReact.re",["MessengerContactList.react"],(function(a,b,c,d,e,f){a=b("MessengerContactList.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("WorkChatReportParticipantDialogReact.bs",["cx","fbt","FantaFRXUtil","ImmutableObject","MercuryIDs","MercuryParticipantTypes","MessengerContactListReact.re","MessengerDialog.react","MessengerDialogBodyReact.bs","MessengerDialogCancelButton.react","MessengerDialogHeaderReact.bs","MessengerDialogTitleReact.bs","MessengerDialogs.bs","immutable","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){return new(b("ImmutableObject"))({alias:a.vanity,uid:a.id,photo:a.image_src,title:a.name,type:a.user_type,isMessengerUser:a.is_messenger_user,href:a.href,isWorkUser:void 0,timezone:void 0,participants:void 0,thread:void 0,workForeignEntityInfo:a.work_foreign_entity_info})}function a(a){var c=a.participants,d=a.thread,e=a.viewer;a=function(a,c){b("FantaFRXUtil").FRXClicked(d.thread_id,!0,a.id);return b("MessengerDialogs.bs").removeAllDialogs(void 0)};c=c.filter(function(a,c,d){if(a==null)return!1;if(a.user_type===b("MercuryParticipantTypes").PAGE)return!1;c=b("MercuryIDs").getUserIDFromParticipantID(a.id);if(c==null)return!1;else return c!==e}).toArray();var f=j.jsxs(j.Fragment,{children:[j.jsx(b("MessengerDialogCancelButton.react"),{}),j.createElement(b("MessengerDialogTitleReact.bs").make,{children:h._("Report user")}),j.jsx("div",{className:"_8hif"})]});return j.jsxs(b("MessengerDialog.react"),{className:"_84gd",type:"default",width:350,children:[j.createElement(b("MessengerDialogHeaderReact.bs").make,{children:f}),j.createElement(b("MessengerDialogBodyReact.bs").make,{className:"_84ge",children:j.jsx(b("MessengerContactListReact.re").make,{contactAdapter:k,disableRole:!0,extraActionsEnabled:!0,listSections:b("immutable").OrderedMap([[[null],c]]),onSelect:a,rowClassName:"_84gf",viewer:e,thread:d})})]})}c=a;d=a;f.fromMercuryParticipant=k;f.make=c;f.jsComponent=d}),null);
__d("WorkGalahadBeeperDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.dispatch=c.dispatch.bind(babelHelpers.assertThisInitialized(c)),b)||babelHelpers.assertThisInitialized(c)}return b}(c("ExplicitRegistrationDispatcher"));b=new a({strict:!0});g["default"]=b}),98);
__d("WorkGalahadBeeperStore",["FluxReduceStore","NotificationBeeperConst","WorkGalahadBeeperDispatcher","filterObject","mapObject"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.reduce=function(a,b){var f;switch(b.type){case"galahad/beeper_hide":return e.$WorkGalahadBeeperStore3(a);case"galahad/beeper_add":var g=a.fading?d("NotificationBeeperConst").BeepStates.PENDING:d("NotificationBeeperConst").BeepStates.READY_TO_HIDE;return babelHelpers["extends"]({},a,{beeps:babelHelpers["extends"]({},a.beeps,(f={},f[b.beep.id]=e.$WorkGalahadBeeperStore1(b.beep,g),f))});case"galahad/beeper_xout":g=a.beeps[b.beeperID];return g==null?a:babelHelpers["extends"]({},a,{beeps:babelHelpers["extends"]({},a.beeps,(f={},f[b.beeperID]=e.$WorkGalahadBeeperStore2(g),f))});case"galahad/beeper_finish_hide":return e.$WorkGalahadBeeperStore5(e.$WorkGalahadBeeperStore4(a));case"galahad/beeper_mouse_enter":return babelHelpers["extends"]({},e.$WorkGalahadBeeperStore5(a),{hovering:!0,fading:!1});case"galahad/beeper_mouse_leave":return babelHelpers["extends"]({},a,{hovering:!1});case"galahad/beepers_clear":return babelHelpers["extends"]({},a,{beeps:c("filterObject")(a.beeps,function(a){return a.type!=="default"})});case"galahad/chat_beepers_clear":return babelHelpers["extends"]({},a,{beeps:c("filterObject")(a.beeps,function(a){return a.type!=="chat"})});case"galahad/all_beepers_clear":return babelHelpers["extends"]({},a,{beeps:{}});default:return a}},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.getInitialState=function(){return{beeps:{},fading:!1,hovering:!1}};e.$WorkGalahadBeeperStore1=function(a,b){return a.type==="default"?babelHelpers["extends"]({},a,{state:b}):babelHelpers["extends"]({},a,{state:b})};e.$WorkGalahadBeeperStore2=function(a){return a.type==="default"?babelHelpers["extends"]({},a,{xouted:!0}):babelHelpers["extends"]({},a,{xouted:!0})};e.$WorkGalahadBeeperStore3=function(a){var b=this;return babelHelpers["extends"]({},a,{beeps:c("mapObject")(a.beeps,function(a){return a.state===d("NotificationBeeperConst").BeepStates.READY_TO_HIDE?b.$WorkGalahadBeeperStore1(a,d("NotificationBeeperConst").BeepStates.FADING_OUT):a}),fading:!0})};e.$WorkGalahadBeeperStore4=function(a){return!a.fading?a:babelHelpers["extends"]({},a,{beeps:c("filterObject")(a.beeps,function(a){return a.state!==d("NotificationBeeperConst").BeepStates.FADING_OUT}),fading:!1})};e.$WorkGalahadBeeperStore5=function(a){var b=this;return babelHelpers["extends"]({},a,{beeps:c("mapObject")(a.beeps,function(a){return a.state===d("NotificationBeeperConst").BeepStates.PENDING?b.$WorkGalahadBeeperStore1(a,d("NotificationBeeperConst").BeepStates.READY_TO_HIDE):a})})};e.getRenderedBeeps=function(){return c("filterObject")(this.getState().beeps,function(a){return a.state===d("NotificationBeeperConst").BeepStates.READY_TO_HIDE})};e.getChatBeeps=function(){return c("filterObject")(c("mapObject")(this.getState().beeps,function(a){return a.type==="chat"&&a.xouted!==!0?a:null}),Boolean)};e.getBeeps=function(){return c("filterObject")(c("mapObject")(this.getState().beeps,function(a){return a.type==="default"&&a.xouted!==!0?a:null}),Boolean)};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("WorkGalahadBeeperDispatcher"));g["default"]=b}),98);
__d("WorkGalahadBeeperActions",["NotificationBeeperConst","NotificationSound","WorkGalahadBeeperDispatcher","WorkGalahadBeeperStore","clearTimeout","forEachObject","setImmediateAcrossTransitions","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=!1;a=function(a){a.shouldPlaySound&&c("setImmediateAcrossTransitions")(function(){p(a.id)}),c("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_add",beep:a})};b=function(a){c("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_xout",beeperID:a})};var k=function(){c("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_finish_hide"})},l=function(){c("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_hide"}),c("setTimeoutAcrossTransitions")(k,d("NotificationBeeperConst").FADE_OUT_LENGTH)},m=function(a){h&&c("clearTimeout")(h),h=c("setTimeoutAcrossTransitions")(l,a!=null?a:d("NotificationBeeperConst").IDLE_DELAY)};e=function(){h&&c("clearTimeout")(h),c("setImmediateAcrossTransitions")(function(){c("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_mouse_enter"});var a=c("WorkGalahadBeeperStore").getRenderedBeeps();c("forEachObject")(a,function(a){return a.onSeen&&a.onSeen()})})};f=function(){m(d("NotificationBeeperConst").ACTIVE_DELAY_LONG),c("setImmediateAcrossTransitions")(function(){c("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beeper_mouse_leave"})})};var n=function(a){j=a},o=function(a){i=new(c("NotificationSound"))(a)},p=function(a){return j&&i!=null?i.play(a):!1},q=function(){c("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/beepers_clear"})},r=function(){c("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/chat_beepers_clear"})},s=function(){c("WorkGalahadBeeperDispatcher").dispatch({type:"galahad/all_beepers_clear"})},t=function(a){a==="notifications"?q():a==="chats"&&r()};g.addBeeper=a;g.xoutBeeper=b;g.waitHide=m;g.onMouseEnter=e;g.onMouseLeave=f;g.setSoundEnabled=n;g.setSoundPath=o;g.playSound=p;g.clearAllNotificationBeeps=q;g.clearAllChatBeeps=r;g.clearAllBeeps=s;g.clearBeepsForTabID=t}),98);
__d("WorkGalahadQuickChatActions",["MercuryIDs","WorkGalahadBeeperActions","WorkGalahadBeeperStore","WorkGalahadDispatcher"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("WorkGalahadDispatcher").dispatch({type:"quickChat/hide"})}function b(){c("WorkGalahadDispatcher").dispatch({type:"quickChat/close"})}function e(){c("WorkGalahadDispatcher").dispatch({type:"quickChat/showCompose"})}function f(a){if(!d("MercuryIDs").isValidThreadID(a))return;c("WorkGalahadBeeperStore").getChatBeeps()[a]&&d("WorkGalahadBeeperActions").xoutBeeper(a);c("WorkGalahadDispatcher").dispatch({type:"quickChat/openThreadID",threadID:a})}function h(){c("WorkGalahadDispatcher").dispatch({type:"quickChat/showInbox"})}function i(){c("WorkGalahadDispatcher").dispatch({type:"quickChat/hideInbox"})}g.hide=a;g.close=b;g.showCompose=e;g.openThreadID=f;g.showInbox=h;g.hideInbox=i}),98);
__d("MessengerThreadlistRowActionsReact.bs",["cx","fbt","BootloaderResource","CurrentUser","JSResource","Keys","MercuryIDs","MessengerAdminGroupUtils","MessengerBlockDialogReact.bs","MessengerDeleteDialogReact.bs","MessengerDialogs.bs","MessengerDotComAndInboxM4Check.bs","MessengerDotsIconSVGM4React.bs","MessengerFRXBootloaderUtils","MessengerGalahadGating.bs","MessengerIgnoreDialogReact.bs","MessengerMenu.react","MessengerMuteDialogReact.bs","MessengerP2BFRXBootloaderUtils","MessengerPageUtils.bs","MessengerParticipants.bs","MessengerPopoverMenu.react","QE2Logger","ReasonReact.bs","WorkChatReportParticipantDialogReact.bs","WorkGalahadQuickChatActions","bs_caml_obj","bs_caml_option","bs_curry","gkx","immutable","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k=b("JSResource")("WorkChatHideDialogReact.bs").__setRef("MessengerThreadlistRowActionsReact.bs");function l(a,b,c,d){return{onIgnore:a,onArchive:b,onToggle:c}}function m(a){return j.createElement(b("BootloaderResource").read(k).make,a)}d={reasonResource:k,makeProps:l,make:m};function n(a,c){if(!b("CurrentUser").isWorkUser()&&!a.is_archived&&a.folder!=="other")if(c)return!0;else if(a.folder==="inbox")return b("MercuryIDs").isGroupChat(a.thread_id);else return!1;else return!1}function o(a){if(!a)return b("MessengerDialogs.bs").removeDialog(void 0)}function p(a){a.preventDefault(),a.stopPropagation()}var q=b("ReasonReact.bs").reducerComponentWithRetainedProps("MessengerThreadlistRowActionsReact"),r="_5blh"+(b("MessengerDotComAndInboxM4Check.bs").yes?"":" _4-0h")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _8102":""),s="_5blh"+(b("MessengerDotComAndInboxM4Check.bs").yes?"":" _4-0h")+" _4-0i"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _8102":"");function a(a){b("MessengerP2BFRXBootloaderUtils").bootloadOpenFRXDialog(a.other_user_fbid)}function t(a){var c=a.is_canonical,d=b("CurrentUser").isWorkUser();if(c||!d){b("MessengerFRXBootloaderUtils").bootloadFRXDialog(a.thread_id);return}else return b("MessengerDialogs.bs").showDialog(function(c){return j.createElement(b("WorkChatReportParticipantDialogReact.bs").make,{participants:b("immutable").OrderedMap(a.participants.map(function(a){return[a,b("MessengerParticipants.bs").getNow(a)]})),thread:a,viewer:b("CurrentUser").getID()})})}function c(a){b("MessengerFRXBootloaderUtils").bootloadEmptyThreadFRXDialog(a.thread_id)}function u(a,c,d,e,f,g,i,k,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,aa){var Q=a!==void 0?a:"",R=function(a){return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerDeleteDialogReact.bs").make(P.folder,P.is_archived,d,v,H,w,[]))})},S=function(a){if(f)return b("bs_curry")._1(E,void 0);else return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerMuteDialogReact.bs").make(A,[]))})},T=function(a){if(u)if(F!==void 0)return b("bs_curry")._1(F,void 0);else return;else if(B!==void 0)return b("bs_curry")._1(B,void 0);else return},U=function(a){if(i)return b("bs_curry")._1(y,void 0);else return b("bs_curry")._1(z,void 0)},V=function(a){return b("MessengerDialogs.bs").showDialog(function(a){a={onIgnore:G,onToggle:o,threadID:P.thread_fbid,isGroupChat:b("MercuryIDs").isGroupChat(P.thread_id)};c!==void 0&&(a.contact=b("bs_caml_option").valFromOption(c));return j.createElement(b("MessengerIgnoreDialogReact.bs").make,a)})},W=function(a){return b("MessengerDialogs.bs").showDialog(function(a){return j.jsx(m,l(G,v,o,void 0))})},X=function(a){if(k)return b("bs_curry")._1(I,void 0);else return b("MessengerDialogs.bs").showDialog(function(a){return b("ReasonReact.bs").element(void 0,void 0,b("MessengerBlockDialogReact.bs").make(H,c,P.thread_fbid,[]))})},Y=function(a){return b("MessengerPageUtils.bs").toggleBlock(P,k)},Z=function(a){return t(P)},ba=function(a){b("MessengerP2BFRXBootloaderUtils").bootloadOpenFRXDialog(P.other_user_fbid)},$=function(a){return{handleIgnoreClick:V,handleBlockClick:X,handleBlockPageClick:Y,handleWorkHideClick:W,handleDeleteClick:R,handleMarkReadClick:U,handleMuteClick:S,handlePinClick:T,handleReportPageThread:ba,handleReportThread:Z}};return{debugName:q.debugName,reactClassInternal:q.reactClassInternal,handedOffState:q.handedOffState,getDerivedStateFromProps:q.getDerivedStateFromProps,didMount:q.didMount,didUpdate:q.didUpdate,willUnmount:q.willUnmount,shouldUpdate:function(a){var b=a.newSelf;a=a.oldSelf;if(b.retainedProps||b.retainedProps!==a.retainedProps)return!0;else return b.state!==a.state},render:function(a){var c=a.state;b("QE2Logger").logExposureForUser("messenger_pin_threads_universe",b("CurrentUser").getID());if(g){var l=u?h._("Unpin"):h._("Pin"),m=b("MessengerAdminGroupUtils").isWorkSyncedGroupChat(P);m=m?P.participants.length===1?h._("Delete group and chat"):h._("Leave group and chat"):e?d?h._("Leave chat"):h._("Leave room"):h._("Leave group");var o=h._("Ignore Messages"),q=k?h._("Unblock messages"):h._("Block messages"),t=k?h._("Turn On Messages"):h._("Turn Off Messages"),w=b("bs_caml_obj").caml_equal(P.other_user_fbid,b("CurrentUser").getID()),y=P.message_count===0,z=P.thread_id,A=b("MessengerGalahadGating.bs").isGalahadUIEnabled(void 0),B=M===!0;if(B){var D={label:h._("Rename")};C!==void 0&&(D.onclick=b("bs_caml_option").valFromOption(C));D=j.jsx(b("MessengerMenu.react").Item,D)}else D=null;if(J){m={label:m};x!==void 0&&(m.onclick=b("bs_caml_option").valFromOption(x));m=j.jsx(b("MessengerMenu.react").Item,m)}else m=null;A=j.jsxs(b("MessengerMenu.react"),{children:[A?j.jsx(b("MessengerMenu.react").Item,{label:h._("Open Quick Chat"),onclick:function(a){b("WorkGalahadQuickChatActions").openThreadID(z)}}):null,D,B?j.jsx(b("MessengerMenu.react").Separator,{}):null,L===!0?j.jsx(b("MessengerMenu.react").Item,{label:l,onclick:c.handlePinClick}):null,j.jsx(b("MessengerMenu.react").Item,{label:f?h._("Unmute"):h._("Mute"),onclick:c.handleMuteClick}),j.jsx(b("MessengerMenu.react").Separator,{}),m,P.is_archived||P.folder!=="inbox"?null:j.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()||!b("CurrentUser").isWorkUser()&&b("gkx")("1122241")?h._("Hide"):h._("Archive"),onclick:b("CurrentUser").isWorkUser()?W:v}),j.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()?h._("Delete message history"):h._("Delete"),onclick:c.handleDeleteClick}),j.jsx(b("MessengerMenu.react").Separator,{}),P.is_archived?null:j.jsx(b("MessengerMenu.react").Item,{label:i?h._("Mark as read"):h._("Mark as unread"),onclick:c.handleMarkReadClick}),w||y||!P.can_viewer_report?null:N===!0?j.jsx(b("MessengerMenu.react").Item,{label:h._("Something's wrong"),onclick:c.handleReportPageThread}):j.jsx(b("MessengerMenu.react").Item,{label:b("CurrentUser").isWorkUser()?h._("Report chat"):h._("Something's wrong"),onclick:c.handleReportThread}),n(P,K)?j.jsx(b("MessengerMenu.react").Item,{label:o,onclick:c.handleIgnoreClick}):null,K?j.jsx(b("MessengerMenu.react").Item,{label:q,onclick:c.handleBlockClick}):b("MessengerPageUtils.bs").isPageThread(P)?j.jsx(b("MessengerMenu.react").Item,{label:t,onclick:c.handleBlockPageClick}):null]});D=Q===""?s:b("joinClasses")(Q,s);return j.jsx("div",{className:"_3d85",children:j.jsx(b("MessengerPopoverMenu.react"),{disableArrowKeyActivation:!0,isOpen:g,menu:A,onHide:function(c){return b("bs_curry")._1(a.send,1)},ref:function(c){return b("bs_curry")._1(a.send,{_0:c==null?void 0:b("bs_caml_option").some(c)})},children:j.jsx("div",{className:D,onClick:p,role:"button",ref:"button",tabIndex:0,"aria-label":h._("Conversation actions"),children:b("MessengerDotComAndInboxM4Check.bs").yes?b("MessengerDotsIconSVGM4React.bs").icon:null})})})}B=Q===""?r:b("joinClasses")(Q,r);return j.jsx("div",{className:"_3d85",children:j.jsx("div",{"aria-label":h._("Conversation actions"),className:B,onClick:function(c){return b("bs_curry")._1(a.send,0)},onKeyUp:function(c){return b("bs_curry")._1(a.send,c.keyCode===b("Keys").RETURN?0:2)},ref:"button",role:"button",tabIndex:O,children:b("MessengerDotComAndInboxM4Check.bs").yes?b("MessengerDotsIconSVGM4React.bs").icon:null})})},initialState:$,retainedProps:g,reducer:function(a,c){if(typeof a==="number")switch(a){case 0:return{TAG:2,_0:$(void 0),_1:function(a){return b("bs_curry")._1(D,!0)}};case 1:return{TAG:1,_0:function(a){return b("bs_curry")._1(D,!1)}};case 2:return 0}else{c=a._0;if(c===void 0)return 0;var d=b("bs_caml_option").valFromOption(c);return{TAG:1,_0:function(a){return d.showPopover()}}}},jsElementWrapped:q.jsElementWrapped}}e=b("ReasonReact.bs").wrapReasonForJs(q,function(a){var c,d=a.tabIndex;return u((c=b("bs_caml_option")).nullable_to_opt(a.className),c.nullable_to_opt(a.contact),a.isGroupChat,a.isJoinableThread,a.isMuted,a.isOpen,a.isUnread,a.isBlocked,a.isPinned,a.onArchive,a.onDelete,c.nullable_to_opt(a.onLeaveGroup),a.onMarkRead,a.onMarkUnread,a.onMute,a.onPin,c.nullable_to_opt(a.onRename),a.onToggle,a.onUnmute,a.onUnpin,a.onIgnore,a.onBlock,a.onUnblock,a.showLeaveGroup,a.showBlock,c.nullable_to_opt(a.showPin),c.nullable_to_opt(a.showRename),c.nullable_to_opt(a.showReport),d==null?-1:d,a.thread,[])});f.WorkChatHideDialogReact=d;f.shouldRenderIgnoreMessagesButton=n;f.handleReasonDialogToggle=o;f.handleClick=p;f.component=q;f.actionButtonClassesClosed=r;f.actionButtonClassesOpen=s;f.handleReportPageThread=a;f.handleReportThread=t;f.handleReportEmptyThread=c;f.make=u;f.jsComponent=e}),null);
__d("MessengerThreadlistRowSeenHeadReact.bs",["cx","Image.bs","MercuryIDs","MessengerMessage.bs","ReasonReact.bs","bs_caml_option","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function h(a,c,d,e){var f=d.snippet_sender;if(e===void 0)if(!(f==null)&&f===a)return c.watermark>=d.timestamp;else return!1;f=b("bs_caml_option").valFromOption(e);if(f.author===a&&c.watermark>=f.timestamp&&!b("MessengerMessage.bs").isSending(f))return!b("MessengerMessage.bs").hasError(f);else return!1}function i(a){var c=a.className,d=a.isHidden,e=a.lastMessage,f=a.participants,g=a.readReceipts,i=a.thread;a=a.viewer;c=c!==void 0?c:"";var j=i.is_canonical,k=i.other_user_fbid;if(d===void 0)return null;if(!j)return null;if(k==null)return null;if(d)return null;j=b("MercuryIDs").getParticipantIDFromUserID(a);d=b("MercuryIDs").getParticipantIDFromUserID(k);a=g.get(d);k=f.get(d);if(!(k==null)&&!(a==null)&&h(j,a,i,e))return b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(b("joinClasses")(c,"_2_a2"),void 0,void 0,void 0,k.image_src,void 0,k.name,void 0,void 0,[]));else return null}function a(a){var c={participants:a.participants,readReceipts:a.readReceipts,thread:a.thread,viewer:a.viewer},d=b("bs_caml_option").nullable_to_opt(a.className);d!==void 0&&(c.className=b("bs_caml_option").valFromOption(d));d=b("bs_caml_option").nullable_to_opt(a.isHidden);d!==void 0&&(c.isHidden=b("bs_caml_option").valFromOption(d));d=b("bs_caml_option").nullable_to_opt(a.lastMessage);d!==void 0&&(c.lastMessage=b("bs_caml_option").valFromOption(d));return i(c)}c=i;f.shouldRender=h;f.make=c;f.jsComponent=a}),null);
__d("MessengerThreadlistWorkDenseMode",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({QUICK_CHAT:null,TEAMWORK:null});b=Object.freeze(a);d=b;g["default"]=d}),98);
__d("WorkGalahadChannelStatusBadge.react",["cx","fbt","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.canToggle,c=a.isNested;c=c===void 0?!1:c;var d=a.onClick;a=a.unread;var e=k({canToggle:b,unread:a});return j.jsx("div",{"aria-label":e,className:(c?"":"_2ph-")+(a?"":" _1qum")+(a?" _1qun":"")+(b?" _1quo":""),"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":e,onClick:b?function(a){a.stopPropagation(),a.preventDefault(),d&&d()}:void 0,role:b?"button":void 0,children:j.jsx("div",{className:"_1qvo"})})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=a.canToggle;a=a.unread;return!b?null:a?i._("Mark as read"):i._("Mark as unread")}g["default"]=a}),98);
__d("WorkCometInteractiveElementContext.react",["react"],(function(a,b,c,d,e,f,g){a=d("react");b=a.createContext({hovered:!1,focused:!1,pressed:!1});g["default"]=b}),98);
__d("WorkGalahadChannelFocusableTable.react",["FocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=d("FocusTable.react").createFocusTable(d("focusScopeQueries").tabbableScopeQuery);b=a[0];c=a[1];e=a[2];g.WorkGalahadChannelFocusableTable=b;g.WorkGalahadChannelFocusableTableRow=c;g.WorkGalahadChannelFocusableTableCell=e;g.WorkGalahadChannelFocusableScopeQuery=d("focusScopeQueries").tabbableScopeQuery}),98);
__d("WorkGalahadHoverHelper",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=i(!1),c=b[0],d=b[1];b=h(function(){a&&a(),d(!0)},[a]);var e=h(function(){return d(!1)},[]);return[c,{onMouseEnter:b,onMouseLeave:e}]}g.useHover=a}),98);
__d("useFocusState",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a,b){var c=i(!1),d=c[0],e=c[1];c=h(function(b){e(!0),a&&a(b)},[a]);var f=h(function(a){e(!1),b&&b(a)},[b]);return[d,c,f]}g["default"]=a}),98);
__d("WorkGalahadUIChannelMetaButton.react",["ix","CometCircleButton.react","WorkCometInteractiveElementContext.react","WorkGalahadChannelFocusableTable.react","WorkGalahadHoverHelper","fbicon","react","stylex","useFocusState"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext,k=d("fbicon")._(h("484385"),12);function a(a,b){var e=a.forceVisible,f=a.icon;f=f===void 0?k:f;var g=a.label,h=a.onPress;a=a.testid;a=j(c("WorkCometInteractiveElementContext.react"));var l=a.focused;a=a.hovered;var m=c("useFocusState")(),n=m[0],o=m[1];m=m[2];var p=d("WorkGalahadHoverHelper").useHover(),q=p[0];p=p[1];var r=p.onMouseEnter;p=p.onMouseLeave;return i.jsx("div",{className:c("stylex")({"opacity-1":"xg01cxk","position-1":"x10l6tqk","border-top-start-radius-1":"xyi19xy","border-top-end-radius-1":"x1ccrb07","border-bottom-end-radius-1":"xtf3nb5","border-bottom-start-radius-1":"x1pc53ja","width-1":"xvy4d1p","height-1":"xxk0z11","box-shadow-1":"x10f5nwc","background-color-1":"x9bbmet"},e===!0||a||l||n||q?{"opacity-1":"x1hc1fzr","position-1":"x1n2onr6"}:null),children:i.jsx(d("WorkGalahadChannelFocusableTable.react").WorkGalahadChannelFocusableTableCell,{children:i.jsx("div",{role:"gridcell",children:i.jsx(c("CometCircleButton.react"),{onFocusIn:o,onFocusOut:m,onHoverIn:r,onHoverOut:p,icon:f,label:g,size:24,type:"normal",onPress:h,ref:b,testid:void 0})})})})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("WorkGalahadUIChannelMeta.react",["CometDeferredPopoverTrigger.react","WorkGalahadUIChannelMetaButton.react","cr:1829651","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var d=a.label,e=a.onHide,f=a.onShow,g=a.forceVisible,j=g===void 0?!1:g;g=a.popoverProps;a=a.popoverResource;var k=i(!1),l=k[0],m=k[1];return h.jsx(b("cr:1829651"),{name:"channel-item.meta",children:h.jsx(c("CometDeferredPopoverTrigger.react"),{align:"start",popoverProps:g,popoverResource:a,popoverType:"menu",position:"below",onVisibilityChange:function(a){m(a),a?f&&f():e&&e()},children:function(b,a){return h.jsx(c("WorkGalahadUIChannelMetaButton.react"),{forceVisible:l||j,label:d,onPress:a,ref:b})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadChatChannelOverflowButton.react",["fbt","WorkGalahadUIChannelMeta.react","react","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("WorkGalahadChatChannelOverflowMenu.react").__setRef("WorkGalahadChatChannelOverflowButton.react");function a(a){a=a.thread;return i.jsx(c("WorkGalahadUIChannelMeta.react"),{popoverProps:{label:h._("Chat actions"),thread:a},popoverResource:j,label:h._("Chat actions")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadMessageRow.react",["cx","WorkGalahadHoverHelper","react"],(function(a,b,c,d,e,f,g,h){var i=d("react");function a(a){var b=a.children,c=a.hideMeta,e=a.isActive;a=a.meta;var f=d("WorkGalahadHoverHelper").useHover(),g=f[0];f=f[1];return i.jsxs("div",babelHelpers["extends"]({className:"_3-gp _23dk _6inw"+(e?" _69pu":"")+(g?" _6aio":"")},f,{children:[b,a!=null&&c!==!0?i.jsx("div",{className:"_3-gq _3nmu",children:a}):null]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getMessengerThreadlistWorkDenseMode",["CurrentUser","MessengerThreadlistWorkDenseMode","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===!0?c("MessengerThreadlistWorkDenseMode").QUICK_CHAT:c("CurrentUser").isWorkUser()&&c("gkx")("779201")?c("MessengerThreadlistWorkDenseMode").TEAMWORK:null}g["default"]=a}),98);
__d("messengerRTLClasses",["cx","isRTL"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){a=c("isRTL")(a||"");return b?a?"_4pv0":"":(a?"":"direction_ltr")+(a?" direction_rtl":"")+(a?"":" text_align_ltr")+(a?" text_align_rtl":"")+(a?" _4pv0":"")}g["default"]=a}),98);
__d("MessengerThreadlistRow.react",["cssVar","cx","fbt","ix","Bootloader","CurrentUser","Image.react","ImmutableObject","LinkWithHiddenURLBar.react","MNAdsMessageRequestUtils","MercuryIDs","MercuryIgnoredBlockedParticipants.bs","MercuryParticipantListRenderer","MercuryThreadSnippet.react","MercuryThreadTimestampReact.re","MercuryThreadTitleSafe.react","MercuryTimestamp","MessagingTag","MessengerAdminGroupUtils","MessengerButtonReact.re","MessengerConfig","MessengerDotComAndInboxM4Check.bs","MessengerGalahadGating.bs","MessengerMessage.bs","MessengerParticipants.bs","MessengerPinIconSVGReact.bs","MessengerPresenceStatusUtils","MessengerThreadImageM4React.bs","MessengerThreadlistRowActionsReact.bs","MessengerThreadlistRowSeenHeadReact.bs","MessengerThreadlistWorkDenseMode","MessengerURIUtils.bs","RTWebUserActionLogger","ReactDOM","ShimButton.react","Tooltip","UserAgent","WorkGalahadChannelStatusBadge.react","WorkGalahadChatChannelOverflowButton.react","WorkGalahadMessageRow.react","clearTimeout","getMessengerThreadlistWorkDenseMode","getPageIDFromThreadID","immutable","joinClasses","messengerRTLClasses","prop-types","qex","react","setTimeout","uniqueID"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=d("react"),m=50,n=24,o=k("86913"),p=k("86914");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={actionsOpen:!1,participantNames:"",isMiniInbox:!1},e.$1=c("uniqueID")(),e.$2=0,e.$3=null,e.$5=l.createRef(),e.$6=function(a){return e.setState({isMiniInbox:a.matches})},e.$9=function(a){a.preventDefault(),e.props.onFocus(e.props.thread.thread_id)},e.$10=function(a){e.$2++;if(e.$3)return;e.$3=c("setTimeout")(function(){e.props.onSelect&&e.props.onSelect(),e.$2=0,e.$3=null},1e3)},e.$11=function(a){e.$2--,e.$2===0&&(c("clearTimeout")(e.$3),e.$3=null)},e.$12=function(a){e.props.onSelect()},e.$13=function(a){if(e.props.logClickHandler){a=e.props.thread.is_canonical?d("MercuryIDs").getUserIDFromThreadID(e.props.thread.thread_id)||"0":e.props.thread.thread_fbid;e.props.logClickHandler&&e.props.logClickHandler(a)}},e.$20=function(a){e.setState({actionsOpen:a})},e.$24=function(a){a.preventDefault();a.stopPropagation();a=window.callWindow&&!window.callWindow.closed&&window.callWindow.focus;if(a)window.callWindow.focus();else{a=e.props.thread;var b=a.rtc_call_data,d=a.thread_fbid;a="GROUP:"+d;var f=b.call_state==="VIDEO_GROUP_CALL";c("RTWebUserActionLogger").logClick({callType:"mw",component:"join_call_button",conferenceName:a,surface:"thread_list",mediaType:c("RTWebUserActionLogger").getMediaType(!f)});c("Bootloader").loadModules(["StartCallWithZenonOrFBRTC","FBRTCLogger"],function(a,c){c=c.Trigger;a.startGroupCall(!f,d,[],f?c.MULTIWAY_THREAD_HEADER_VIDEO_BUTTON:c.MULTIWAY_THREAD_HEADER_AUDIO_BUTTON,b)},"MessengerThreadlistRow.react")}},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){this.getParticipantNames(),this.$4=window.matchMedia("(max-width: 900px)"),this.setState({isMiniInbox:this.$4.matches}),this.$4.addListener(this.$6)};e.componentWillUnmount=function(){this.$4.removeListener(this.$6)};e.componentDidUpdate=function(a){this.props.isFocused&&(!a.isFocused?this.props.isActionsFocused?d("ReactDOM").findDOMNode(this.$5.current).focus():d("ReactDOM").findDOMNode(this.refs.link).focus():!a.isActionsFocused&&this.props.isActionsFocused?d("ReactDOM").findDOMNode(this.$5.current).focus():a.isActionsFocused&&!this.props.isActionsFocused&&d("ReactDOM").findDOMNode(this.refs.link).focus());if(this.$7(this.props.thread)&&!this.$7(a.thread)){a=this.props.thread;var b=a.rtc_call_data;a=a.thread_fbid;a="GROUP:"+a;b=b.call_state==="VIDEO_GROUP_CALL";c("RTWebUserActionLogger").logImpression({callType:"mw",component:"join_call_button",conferenceName:a,surface:"thread_list",mediaType:c("RTWebUserActionLogger").getMediaType(!b)})}this.getParticipantNames()};e.getParticipantNames=function(){var a=this;if(this.state.participantNames!=="")return;var b=this.props,e=b.thread;b=b.viewer;var f=e.participants||[],g=d("MercuryIDs").getParticipantIDFromUserID(b);f.length>1&&(f=f.filter(function(a){return a!=g}));var h=e.custom_nickname?{}:null;if(h)for(var b in e.custom_nickname)h[b]=e.custom_nickname[b];d("MessengerParticipants.bs").getMulti(f,function(b){var d=f.map(function(a){return b[a]});d=new(c("MercuryParticipantListRenderer"))().setNickname(h).renderParticipantList(d);a.setState({participantNames:d})})};e.render=function(){var a=this,b=this.props,e=b.isActive,f=b.isActionsFocused,g=b.isTabbable,h=b.participants,i=b.thread;b=b.viewer;var k=i.unread_count>0,m=d("MessengerURIUtils.bs").getURIForThreadID(i.thread_id),n=i.name?i.name:this.state.participantNames,o=d("MNAdsMessageRequestUtils").isAdsMessageRequest(i)?d("MNAdsMessageRequestUtils").renderAdsMessageRequestStatus():this.$8(i),p=c("getMessengerThreadlistWorkDenseMode")(this.props.isDenseRow),q=d("MessengerDotComAndInboxM4Check.bs").yes?"_7vuq":"_33g_";m=l.jsxs("li",{"aria-live":k?"polite":null,"aria-relevant":e||k?"additions text":null,onFocus:this.$9,className:"_5l-3 _1ht1"+(d("MessengerDotComAndInboxM4Check.bs").yes?" _6zk9":"")+(i.folder===c("MessagingTag").PENDING?" _4as3":"")+(this.props.isActive?" _1ht2":"")+(k?" _1ht3":"")+(this.state.actionsOpen?" _13aa":"")+(this.props.isMuted?" _569x":"")+((c("CurrentUser").isWorkUser()||c("MessengerConfig").MPT>0)&&i.is_pinned?" _1oh3":"")+(this.props.isFocused?" _23_m":"")+(k&&c("UserAgent").isBrowser("Chrome")&&c("UserAgent").isPlatform("Mac")?" _5fx8":"")+(p===c("MessengerThreadlistWorkDenseMode").TEAMWORK?" _8xnu":"")+(p===c("MessengerThreadlistWorkDenseMode").QUICK_CHAT?" _79nz":""),onDragEnter:e?null:this.$10,onDragLeave:e?null:this.$11,role:"row",ref:function(b){return b&&a.props.registerThreadRefs&&a.props.registerThreadRefs(b)},tabIndex:-1,children:[l.jsx("div",{className:"_5l-3 _1ht5",id:this.$1,"data-testid":void 0,role:"gridcell",tabIndex:-1,children:l.jsx(c("LinkWithHiddenURLBar.react"),{"data-testid":void 0,href:m.toString(),onClick:this.$12,onAllClicks:this.$13,className:"_1ht5 _2il3"+(d("MessengerDotComAndInboxM4Check.bs").yes?" _6zka":"")+" _5l-3 _3itx",s:"true",ref:"link",role:"link",tabIndex:g&&!f?0:-1,children:l.jsxs("div",{className:"_6zkb"+(d("MessengerDotComAndInboxM4Check.bs").yes?" _7t1l":"")+(d("MessengerDotComAndInboxM4Check.bs").yes?" _6zkc":""),children:[this.props.isMuted&&l.jsx("div",{className:"accessible_elem",children:j._("muted conversation")}),l.jsxs("div",babelHelpers["extends"]({},c("Tooltip").propsFor(n,"right","center"),{"data-tooltip-root-class":q,"aria-hidden":!0,className:"_1qt3"+(d("MessengerDotComAndInboxM4Check.bs").yes?" _6-5k":"")+" _5l-3",children:[l.jsx(d("MessengerThreadImageM4React.bs").make,{borderColor:e?"#f2f2f2":this.state.isMiniInbox&&k?"#D2E7FD":null,size:this.$14(p),thread:i,viewer:b}),i.is_business_page_active&&c("qex")._("1994")||this.props.isPresenceForWork?l.jsx("div",{className:"_849n"}):null]})),l.jsxs("div",{className:"_1qt4"+(d("MessengerDotComAndInboxM4Check.bs").yes?" _7vuo":"")+" _5l-m",children:[d("MessengerDotComAndInboxM4Check.bs").yes?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"_1qt5 _5l-3",children:l.jsx(c("MercuryThreadTitleSafe.react"),{className:"_1ht6 _7st9",showUnreadCount:!1,thread:i,useShortName:!1,viewer:b})}),l.jsxs("div",{className:"_1qt5 _6zkd _5l-3",children:[l.jsx(c("MercuryThreadSnippet.react"),{className:c("joinClasses")("_1htf _6zke",c("messengerRTLClasses")(i.snippet,!0)),participants:h,shouldRenderYou:!0,thread:i,viewer:b}),l.jsx("div",{"aria-hidden":!0,className:"_6zkf",children:"\xb7"}),o]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"_1qt5 _5l-3",children:[l.jsx(c("MercuryThreadTitleSafe.react"),{className:"_1ht6",showUnreadCount:!1,thread:i,useShortName:!1,viewer:b}),p!==c("MessengerThreadlistWorkDenseMode").QUICK_CHAT?l.jsx("div",{children:o}):null]}),p===c("MessengerThreadlistWorkDenseMode").QUICK_CHAT?null:l.jsx("div",{className:"_1qt5 _5l-3",children:l.jsx(c("MercuryThreadSnippet.react"),{className:c("joinClasses")("_1htf",c("messengerRTLClasses")(i.snippet,!0)),participants:h,shouldRenderYou:!0,thread:i,viewer:b})})]}),this.$15()]})]})})}),p===c("MessengerThreadlistWorkDenseMode").QUICK_CHAT?this.$16():this.$17(p)]});if(d("MessengerGalahadGating.bs").isGalahadUIEnabled())return l.jsx(c("WorkGalahadMessageRow.react"),{isActive:this.props.isActive,hideMeta:p!=null,meta:l.jsx(c("WorkGalahadChannelStatusBadge.react"),{canToggle:!0,onClick:function(){k?a.props.onMarkRead():a.props.onMarkUnread()},unread:this.props.thread.unread_count>0}),children:m});else return m};e.$17=function(a){if(this.props.showActions===!1)return null;var b=this.props,e=b.blockedIds,f=b.isActionsFocused,g=b.isTabbable,h=b.participants,i=b.thread;b=b.viewer;var k=d("MessengerPresenceStatusUtils").getStatusFromCanonicalThread(this.props.participants,i);k=k&&k.contact;e=d("MercuryIgnoredBlockedParticipants.bs").qualifiesAs(b,e,i);var m=d("MessengerAdminGroupUtils").isJoinableThread(i),n=d("MercuryIDs").isGroupChat(this.props.thread.thread_id),o=i.unread_count>0,p;(d("MessengerDotComAndInboxM4Check.bs").yes||a===c("MessengerThreadlistWorkDenseMode").TEAMWORK)&&o?p=this.state.actionsOpen?null:l.jsx("div",{className:"_6zv_"+(a===c("MessengerThreadlistWorkDenseMode").TEAMWORK?" _8xfs":"")}):p=l.jsx(d("MessengerThreadlistRowSeenHeadReact.bs").jsComponent,{className:"_5bli",isHidden:this.state.actionsOpen&&!(c("CurrentUser").isWorkUser()||c("MessengerConfig").MPT>0),lastMessage:this.props.lastMessage,participants:h,readReceipts:this.props.readReceipts,thread:i,viewer:b});return l.jsx("div",{role:"gridcell",children:l.jsxs(c("ShimButton.react"),{"aria-describedby":this.$1,"aria-haspopup":"true","aria-label":j._("Actions"),className:"_2j6"+(d("MessengerDotComAndInboxM4Check.bs").yes?" _6zkg":"")+" _5l-3"+(a===c("MessengerThreadlistWorkDenseMode").TEAMWORK?" _8c_j":""),tabIndex:g&&f?0:-1,role:"button",children:[a===c("MessengerThreadlistWorkDenseMode").TEAMWORK?null:this.$18(),l.jsx("div",{className:"_56ck"}),p,this.$19(),d("MessengerGalahadGating.bs").isGalahadUIEnabled()?l.jsx("div",{className:"_8xru",children:l.jsx(c("WorkGalahadChatChannelOverflowButton.react"),{thread:this.props.thread})}):l.jsx(d("MessengerThreadlistRowActionsReact.bs").jsComponent,{contact:k,isGroupChat:n,isJoinableThread:m,isMuted:this.props.isMuted,isOpen:this.state.actionsOpen,isPinned:i.is_pinned,isUnread:o,isBlocked:e,onArchive:this.props.onArchive,onDelete:this.props.onDelete,onLeaveGroup:this.props.onLeaveGroup,onMarkRead:this.props.onMarkRead,onMarkSpam:this.props.onMarkSpam,onMarkUnread:this.props.onMarkUnread,onMute:this.props.onMute,onPin:this.props.onPin,onToggle:this.$20,onUnmute:this.props.onUnmute,onUnpin:this.props.onUnpin,onIgnore:this.props.onIgnore,onBlock:this.props.onBlock,onUnblock:this.props.onUnblock,showLeaveGroup:this.props.showLeaveGroup,showMute:!0,showBlock:d("MercuryIgnoredBlockedParticipants.bs").shouldShowBlock(this.props.thread,this.props.viewer,k),showPin:this.$21(),showReport:this.$22(),tabIndex:-1,thread:i,buttonRef:this.$5}),this.$23()]})})};e.$16=function(){if(this.props.showActions===!1)return null;var a=this.props,b=a.isActionsFocused;a=a.isTabbable;return l.jsx("div",{role:"gridcell",children:l.jsxs(c("ShimButton.react"),{"aria-describedby":this.$1,"aria-haspopup":"true","aria-label":j._("Actions"),className:"_7pj3 _5l-3",tabIndex:a&&b?0:-1,role:"button",children:[this.$18(),l.jsx("div",{className:"_56ck"})]})})};e.$18=function(){if(c("CurrentUser").isWorkUser())return l.jsx(c("Image.react"),{src:k("572538"),className:"_6q64"});else if(c("MessengerConfig").MPT>0)return d("MessengerPinIconSVGReact.bs").make("_1oh5","#808080");return null};e.$23=function(){return c("CurrentUser").isWorkUser()?l.jsx(c("Image.react"),{src:k("1265675"),className:"_8xfj"}):null};e.$19=function(){var a=this.props.lastMessage;if(this.state.actionsOpen||!a)return null;var b=d("MessengerMessage.bs").isSending(a),e=d("MessengerMessage.bs").hasError(a);if(!b&&!e)return null;e=d("MessengerMessage.bs").getError(a);return l.jsx("div",babelHelpers["extends"]({},c("Tooltip").propsFor(e,"right","center"),{children:l.jsx(c("Image.react"),{className:"_wtw"+(b?" _3qh2":""),src:b?p:o})}))};e.$8=function(a){var b;return l.jsx(d("MercuryThreadTimestampReact.re").make,{className:"_1ht7"+(d("MessengerDotComAndInboxM4Check.bs").yes?" _6zkh":""),time:a.timestamp,title:(b=d("MercuryTimestamp").getAbsoluteTimestamp(a.timestamp))!=null?b:void 0,text:d("MercuryTimestamp").getRelativeTimestamp(a.timestamp)})};e.$15=function(){if(!this.$7(this.props.thread))return null;var a=j._("Join call");return l.jsx(d("MessengerButtonReact.re").make,{className:"_4ry5",label:a,onClick:this.$24,type:"primary"})};e.$7=function(a){return((a=(a=a.rtc_call_data)==null?void 0:a.call_state)!=null?a:"NO_ONGOING_CALL")!=="NO_ONGOING_CALL"};e.$21=function(){var a=c("CurrentUser").isWorkUser()||c("MessengerConfig").MPT>0,b=c("getPageIDFromThreadID")(this.props.thread.thread_id);return a&&b===null};e.$22=function(){return c("getPageIDFromThreadID")(this.props.thread.thread_id)!=null};e.$14=function(a){if(!c("CurrentUser").isWorkUser())return m;switch(a){case c("MessengerThreadlistWorkDenseMode").QUICK_CHAT:case c("MessengerThreadlistWorkDenseMode").TEAMWORK:return n;default:return m}};return b}(l.PureComponent);b.propTypes={isActive:c("prop-types").bool.isRequired,blockedIds:c("prop-types").any,isActionsFocused:c("prop-types").bool,isFocused:c("prop-types").bool,isMuted:c("prop-types").bool.isRequired,isDoNotDisturb:c("prop-types").bool,isPresenceForWork:c("prop-types").bool,isDenseRow:c("prop-types").bool,lastMessage:c("prop-types").object,logClickHandler:c("prop-types").func,onArchive:c("prop-types").func.isRequired,onDelete:c("prop-types").func.isRequired,onMarkRead:c("prop-types").func.isRequired,onMarkSpam:c("prop-types").func.isRequired,onMarkUnread:c("prop-types").func.isRequired,onMute:c("prop-types").func.isRequired,onPin:c("prop-types").func.isRequired,onSelect:c("prop-types").func.isRequired,onUnmute:c("prop-types").func.isRequired,onIgnore:c("prop-types").func.isRequired,onBlock:c("prop-types").func.isRequired,onUnblock:c("prop-types").func.isRequired,onUnpin:c("prop-types").func.isRequired,participants:c("prop-types").instanceOf(c("immutable").Map).isRequired,readReceipts:c("prop-types").instanceOf(c("immutable").OrderedMap).isRequired,registerThreadRefs:c("prop-types").func,thread:c("prop-types").instanceOf(c("ImmutableObject")).isRequired,viewer:c("prop-types").string.isRequired};function a(a,b){return"row_header_id_"+a+(b==null?"":b)}g["default"]=b}),98);
__d("MessengerThreadlistRowContainer.react",["fbt","CurrentUser","IgnoreMessagesTypedLogger","ImmutableObject","MNPlatformTagsDataManager","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MercuryThreadActions","MercuryThreadInfo","MercuryThreadlistRowContainer.react","MessageRequestUtils","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerConfirmLeaveGroupDialogReact.bs","MessengerDialogs.bs","MessengerEnvironment","MessengerMessageRequestsTypedLogger","MessengerParticipants.bs","MessengerReadReceipt.bs","MessengerState.bs","MessengerThreadlistRow.react","ReactComponentWithPureRenderMixin","ReactDOM","cr:998178","cr:998179","createReactClass_DEPRECATED","prop-types","react","withMessengerSource"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=c("createReactClass_DEPRECATED")({displayName:"MessengerThreadlistRowContainer",mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{blockedIds:c("prop-types").any,isActive:c("prop-types").bool.isRequired,isTabbable:c("prop-types").bool,folder:c("prop-types").string,onScrollIntoView:c("prop-types").func,onOverrideSelect:c("prop-types").func,showActions:c("prop-types").bool,readReceipts:c("prop-types").any,thread:c("prop-types").instanceOf(c("ImmutableObject")).isRequired,viewer:c("prop-types").string.isRequired,source:c("prop-types").string.isRequired},componentDidUpdate:function(a){var b=this.props,c=b.onScrollIntoView;b=b.isActive;b&&!a.isActive&&c&&c(d("ReactDOM").findDOMNode(this))},render:function(){var a=this.props.thread.thread_id;a=d("MessengerState.bs").getThreadMessagesRangeNow(this.props.viewer,a,0,1)[0]||null;var e=d("MessengerReadReceipt.bs").getSeenTimestamps(this.props.readReceipts,this.props.thread.thread_id);if(this.props.thread.thread_type===6&&b("cr:998178")&&b("cr:998179")&&c("MessengerEnvironment").messengerdotcom)return i.jsx(b("cr:998178"),babelHelpers["extends"]({},this.props,{ChildClass:b("cr:998179")}));else return i.jsx(c("MercuryThreadlistRowContainer.react"),babelHelpers["extends"]({},this.props,{ChildClass:c("MessengerThreadlistRow.react"),isMuted:d("MercuryThreadInfo").isMuted(this.props.thread),lastMessage:a,onArchive:this._handleArchive,onDelete:this._handleDelete,onLeaveGroup:this._handleLeaveGroup,onMarkRead:this._handleMarkRead,onMarkSpam:this._handleMarkSpam,onMarkUnread:this._handleMarkUnread,onMute:this._handleMute,onPin:this._handlePin,onSelect:this._handleSelect,onUnmute:this._handleUnmute,onUnpin:this._handleUnpin,onIgnore:this._handleIgnore,onBlock:this._handleBlockFromSettingOrDecline,onUnblock:this._handleUnblock,readReceipts:e,showActions:this.props.showActions,showLeaveGroup:this.props.thread.is_subscribed&&!this.props.thread.is_canonical}))},_handleArchive:function(){var a=this.props.isActive;this._getThreadActions().archive(this.props.thread.thread_id);a&&d("MessengerActions").selectThread(null)},_handleDelete:function(){var a=this.props.isActive;this._getThreadActions()["delete"](this.props.thread.thread_id);a&&d("MessengerActions").selectThread(null)},_handleMarkRead:function(){this._getThreadActions().markRead(this.props.thread.thread_id)},_handleMarkSpam:function(){var a=this.props.isActive;this._getThreadActions().markSpam(this.props.thread.thread_id);a&&d("MessengerActions").selectThread(null)},_handleMarkUnread:function(){this._getThreadActions().markUnread(this.props.thread.thread_id)},_handleMute:function(a){this._getThreadActions().updateMuteSetting(this.props.thread.thread_id,a)},_handlePin:function(){this._getThreadActions().pin(this.props.thread.thread_id,"menu_item_in_thread_row")},_handleUnpin:function(){this._getThreadActions().unpin(this.props.thread.thread_id,"menu_item_in_thread_row")},_handleSelect:function(){var a=c("CurrentUser").getID();a=d("MercuryIDs").getThreadKeyfromThreadIDUserID(this.props.thread.thread_id,a);if(this.props.onOverrideSelect){this.props.onOverrideSelect(this.props.thread);return}d("MessengerActions").selectThread(this.props.thread.thread_id);var b=d("MercuryIDs").getUserIDFromThreadID(this.props.thread.thread_id),e;switch(this.props.folder){case"inbox":e="inbox";break;case"pending":e="pending";break;case"other":e="other";break}this.props.thread.folder!==c("MessagingTag").INBOX&&new(c("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_thread_open").setThreadID(b).setSurface(e).setFolderType(this.props.thread.folder).setThreadKey(a).log();d("MNPlatformTagsDataManager").updateThreadTabAfterSelectThread("source:messenger:web_search",b)},_handleUnmute:function(){this._getThreadActions().unmute(this.props.thread.thread_id)},_handleLeaveGroup:function(){var a=this;if(this.props.viewer){var b=d("MessengerAdminGroupUtils").isAdmin(this.props.thread.admins,this.props.viewer);d("MessengerDialogs.bs").showDialog(function(){return i.jsx(d("MessengerConfirmLeaveGroupDialogReact.bs").jsComponent,{onLeave:a._onLeaveGroupConfirm,isViewerAdmin:b,thread:a.props.thread})})}},_handleIgnore:function(){var a=this.props.isActive;this._getThreadActions().changeFolder(this.props.thread.thread_id,"other");a&&d("MessengerActions").selectThread(null);new(c("IgnoreMessagesTypedLogger"))().setEvent("ignore_confirmed").setThreadID(this.props.thread.thread_fbid).setPlatform("messengerdotcom").log()},_handleBlockFromSettingOrDecline:function(){var a=this.props.thread.thread_id;a=d("MercuryIDs").isGroupChat(a);if(a){this._handleIgnore();return}a=d("MessengerParticipants.bs").getNow(d("MercuryIDs").getParticipantIDFromUserID(this.props.thread.other_user_fbid));a=a&&a.short_name||h._("sender");this._handleConfirmBlock(a)},_handleConfirmBlock:function(a){var b=this,c=this.props.thread.thread_id;c&&this._getThreadActions().blockIgnoreOnMessengerDotCom(this.props.isActive,c,function(){b._handleAfterBlock(a)})},_handleAfterBlock:function(a){a=this.props.thread;var b=d("MercuryIDs").getThreadKeyfromThreadIDUserID(a.thread_id,c("CurrentUser").getID()),e=!!a&&d("MessageRequestUtils").isFiltered(a);new(c("MessengerMessageRequestsTypedLogger"))().setAction("message_requests_block_request").setThreadID(d("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)).setSurface("thread").setFolderType(e?c("MessagingTag").OTHER:c("MessagingTag").PENDING).setThreadKey(b).setEntryPoint(null).log()},_handleUnblock:function(){this._getThreadActions().unblockOnMessengerDotCom(this.props.thread.thread_id)},_onLeaveGroupConfirm:function(){if(!d("MercuryThreadInfo").isEmptyLocalThread(this.props.thread)){var a=this._getMessageObject().constructLogMessageObject(this.props.source,this.props.thread.thread_id,"log:unsubscribe",{removed_participants:[d("MercuryIDs").getParticipantIDFromUserID(this.props.viewer)]});this._getMessageActions().send(a)}},_getThreadActions:function(){return c("MercuryThreadActions").getForFBID(this.props.viewer)},_getMessageActions:function(){return c("MercuryMessageActions").getForFBID(this.props.viewer)},_getMessageObject:function(){return c("MercuryMessageObject").getForFBID(this.props.viewer)}});e=c("withMessengerSource")(a,!0);g["default"]=e}),98);
__d("MessengerThreadlistRowContainerReact.bs",["MessengerThreadlistRowContainer.react","ReasonReact.bs","Utils.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k,l,m,n,o){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadlistRowContainer.react"),{folder:b("bs_js_null_undefined").fromOption(a),blockedIds:n,isActive:(a=b("Utils.bs")).optionBoolToBool(c),isFocused:a.optionBoolToBool(d),isActionsFocused:a.optionBoolToBool(f),isTabbable:a.optionBoolToBool(h),isDenseRow:a.optionBoolToBool(e),onOverrideSelect:b("bs_js_null_undefined").fromOption(g),onFocus:i,onScrollIntoView:j,thread:k,viewer:l,readReceipts:m},o)}f.make=a}),null);
__d("WorkChatActivityTypedLogger.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 0:return"group_sync_new_post_button_click";case 1:return"notifs_jewel_links_click";case 2:return"nav_tab_click";case 3:return"info_panel_profile_link_click";case 4:return"notifs_jewel_click";case 5:return"info_panel_group_sync_top_link_click";case 6:return"info_panel_group_sync_about_link_click";case 7:return"info_panel_group_sync_posts_link_click";case 8:return"info_panel_group_sync_saved_link_click";case 9:return"info_panel_group_sync_events_link_click";case 10:return"inbox_see_all_chats_threadlist";case 11:return"inbox_see_all_groups_threadlist";case 12:return"inbox_see_all_unread_threadlist"}}f.string_of_event=a}),null);
__d("WorkChatThreadlistTabsReact.bs",["cx","fbt","Link.react","MercuryFilters.bs","MessengerActions","MessengerSettingsMenuButton.bs","MessengerSettingsMenuReact.bs","MessengerView","WorkChatActivityTypedLogger","WorkChatActivityTypedLogger.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.filter,d=a.folder,e=a.view;a=a.viewer;c=c!==void 0?c:b("MercuryFilters.bs").all;var f=d!==void 0?d:"",g=function(a){f!=="inbox"&&b("MessengerActions").changeFolder("inbox"),new(b("WorkChatActivityTypedLogger"))().setEvent(b("WorkChatActivityTypedLogger.bs").string_of_event(2)).addToExtraData("data",[a===b("MessengerView").MASTER.RECENT?"recent":"people"]).log(),b("MessengerActions").changeMasterView(a)};d=h._("Home");var i=h._("People"),k=e===b("MessengerView").MASTER.RECENT&&f==="inbox";return j.jsxs("div",{className:"_65ty",children:[j.jsx("div",{className:"_65tz",children:j.jsx(b("Link.react"),{"aria-label":d,className:"_65t-"+(k?"":" _65t_")+(k?" _65u0":""),onClick:function(a){return g(b("MessengerView").MASTER.RECENT)},role:"button",title:d})}),j.jsx("div",{className:"_65tz",children:j.jsx(b("Link.react"),{"aria-label":i,className:"_65t-"+(e!==b("MessengerView").MASTER.PEOPLE?" _65u1":"")+(e===b("MessengerView").MASTER.PEOPLE?" _65u2":""),onClick:function(a){return g(b("MessengerView").MASTER.PEOPLE)},role:"button",title:i})}),j.jsx("div",{className:"_65tz",children:j.jsx(b("MessengerSettingsMenuReact.bs").make,{filter:c,folder:f,view:e,viewer:a,children:function(a){return j.jsx(b("MessengerSettingsMenuButton.bs").make,{settingsButtonRef:a,tabIndex:0})}})})]})}c=a;f.make=c}),null);
__d("WorkGalahadChatPinnedThreadsDraggableItem.react",["AbstractDraggableItem.react","react"],(function(a,b,c,d,e,f,g){var h=d("react");function a(a){return h.jsx(c("AbstractDraggableItem.react"),babelHelpers["extends"]({},a,{useScroller:!1}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadChatPinnedThreadsPlaceholder.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.height;a=a.size;return h.jsxs("div",{style:{height:b},className:"x6s0dn4 x1nhvcw1 x78zum5",children:[h.jsx("div",{className:c("stylex")({"margin-start-1":"xmupa6y","border-top-0.3":"xjv93dt","border-end-0.3":"x1b2n62w","border-bottom-0.3":"xl2lj6h","border-start-0.3":"x1aygdxs","border-top-start-radius-1":"x14yjl9h","border-top-end-radius-1":"xudhj91","border-bottom-end-radius-1":"x18nykt9","border-bottom-start-radius-1":"xww2gxu","box-sizing-1":"x9f619"},a==="small"?{"height-1":"x1fgtraw","width-1":"xgd8bvy"}:{"height-1":"x10wjd1d","width-1":"x1pju0fl"})}),h.jsx("div",{className:"xq1dxzn x1i64zmx xlup9mm"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadChatPinnedThreadsReorderableList.react",["AbstractDraggableList.react","FBOverlayBase.react","WorkGalahadChatPinnedThreadsDraggableItem.react","WorkGalahadChatPinnedThreadsPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.ids,d=a.itemSize,e=a.onChange;a=a.renderedItemsByID;var f={};a.forEach(function(a,b){f[b]={id:b,label:h.jsx(c("FBOverlayBase.react"),{children:a}),isMovable:!0,isRemovable:!1}});a=i(function(a,c){var d=b["delete"](b.indexOf(a));if(c){c=d.indexOf(c);d=d.splice(c,0,a)}else d=d.push(a);e&&e(d)},[b]);return h.jsx(c("AbstractDraggableList.react"),{itemsRenderer:c("WorkGalahadChatPinnedThreadsDraggableItem.react"),itemIDs:b.toArray(),itemsByID:f,onRemove:function(){},onReorder:a,placeholderRenderer:c("WorkGalahadChatPinnedThreadsPlaceholder.react"),placeholderProps:{size:d}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadChatPinnedThreadsInlineEditor.react",["cx","WorkGalahadChatPinnedThreadsReorderableList.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.ids,d=a.itemSize,e=a.onChange;a=a.renderedItemsByID;return i.jsx("div",{className:"_3-95 _8nwq",children:i.jsx(c("WorkGalahadChatPinnedThreadsReorderableList.react"),{onChange:e,ids:b,renderedItemsByID:a,itemSize:d})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadAppTabChatsAction.react",["fbt","ix","CometCircleButton.react","CometIcon.react","CometLink.react","CometTooltip.react","MessengerURIConstants","cr:1388408","fbicon","gkx","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=h._("Create new chat"),l=h._("New room");function a(){return j.jsx(c("CometLink.react"),{id:"work-galahad-chat-create-new",testid:void 0,"aria-label":k,href:c("MessengerURIConstants").FACEBOOK_PREFIX+c("MessengerURIConstants").COMPOSE_SUBPATH,children:j.jsx(c("CometIcon.react"),{icon:d("fbicon")._(i("507177"),24),color:"secondary"})})}a.displayName=a.name+" [from "+f.id+"]";function e(a){a=(a=a.canViewerStartVideoCall)!=null?a:!0;return c("gkx")("1703310")?j.jsx("div",{className:"x1i64zmx",children:j.jsx(c("CometTooltip.react"),{position:"above",tooltip:k,children:j.jsx(c("CometCircleButton.react"),{label:k,icon:d("fbicon")._(i("483769"),20),testid:void 0,size:36,linkProps:{url:c("MessengerURIConstants").FACEBOOK_PREFIX+c("MessengerURIConstants").COMPOSE_SUBPATH}})})}):j.jsxs(j.Fragment,{children:[b("cr:1388408")&&a&&j.jsx("div",{"data-nux-id":"create_room",className:"x1i64zmx",children:j.jsx(c("CometTooltip.react"),{position:"above",tooltip:l,children:j.jsx(b("cr:1388408"),{})})}),j.jsx("div",{className:"x1i64zmx",children:j.jsx(c("CometTooltip.react"),{position:"above",tooltip:k,children:j.jsx(c("CometCircleButton.react"),{label:k,icon:d("fbicon")._(i("507172"),20),testid:void 0,size:36,linkProps:{url:c("MessengerURIConstants").FACEBOOK_PREFIX+c("MessengerURIConstants").COMPOSE_SUBPATH}})})})]})}e.displayName=e.name+" [from "+f.id+"]";g.DefaultAction=a;g.PrimaryActionForChannelHeader=e}),98);
__d("composerStatePersistenceUtils",["Lexical","WebStorage"],(function(a,b,c,d,e,f,g){var h="chatGeminiComposerStates";function i(){var a=d("Lexical").createEditor();return JSON.stringify(a.getEditorState().toJSON())}function a(a,b,c){b={threadKey:b,contentText:"",editorstate:i()};c&&(b=babelHelpers["extends"]({},b,{reply:c}));c={senderId:a,data:[b]};return c}function b(a){var b=c("WebStorage").getLocalStorage();b=b==null?void 0:b.getItem(h);a=a;b!=null&&(a=JSON.parse(b));return a}function e(a,b){return a.filter(function(a){return a.threadKey===b}).length>0}function f(a,b){var d=c("WebStorage").getLocalStorage();c("WebStorage").setItemGuarded(d,h,JSON.stringify({senderId:a,data:b}))}g.STORAGE_KEY_COMPOSER=h;g.getDefaultEditorState=i;g.getDefaultState=a;g.loadStateFromLocalStorage=b;g.hasUserStateByThreadKey=e;g.saveStateInLocalStorage=f}),98);
__d("composerStatePersistence",["I64","WebStorage","composerStatePersistenceUtils","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("WebStorage").getLocalStorageForRead();if(a){a=a==null?void 0:a.getItem(d("composerStatePersistenceUtils").STORAGE_KEY_COMPOSER);if(a!=null){a=JSON.parse(a);return a.data.map(function(a){return a.threadKey})}}return[]}function b(a,b){b=d("I64").to_string(b);var e=c("WebStorage").getLocalStorageForRead();if(e){e=e==null?void 0:e.getItem(d("composerStatePersistenceUtils").STORAGE_KEY_COMPOSER);if(e!=null){e=JSON.parse(e);if(e.senderId!==b)return"";b=e.data;e=b.filter(function(b){return b.threadKey===a}).map(function(a){return a.contentText})[0];return(b=e)!=null?b:""}}return""}function e(a,b,e,f){if(!c("gkx")("7577"))return;f=d("I64").to_string(f);var g=d("composerStatePersistenceUtils").loadStateFromLocalStorage(d("composerStatePersistenceUtils").getDefaultState(f,b)),l=g.data,m=d("composerStatePersistenceUtils").hasUserStateByThreadKey(l,b);g=g.senderId!==f;var n=h(b);if(g){i(f);return}else if(m&&e===""){g=l.filter(function(a){return a.threadKey===b})[0];!Object.prototype.hasOwnProperty.call(g,"reply")?j(b,f):k(b,f);return}else if(e===""||a===n)return;if(m){g=l.findIndex(function(a){return a.threadKey===b});l[g]={threadKey:b,contentText:e,editorstate:a,reply:(n=l[g])==null?void 0:n.reply};m=l}else m=[].concat(l,[{threadKey:b,contentText:e,editorstate:a}]);d("composerStatePersistenceUtils").saveStateInLocalStorage(f,m)}function h(a){var b=c("WebStorage").getLocalStorage();b=b==null?void 0:b.getItem(d("composerStatePersistenceUtils").STORAGE_KEY_COMPOSER);if(b!=null){b=JSON.parse(b);b=b.data;b=b.filter(function(b){return b.threadKey===a});if(b.length>0)return b[0].editorstate;else return d("composerStatePersistenceUtils").getDefaultEditorState()}return d("composerStatePersistenceUtils").getDefaultEditorState()}function i(a){d("composerStatePersistenceUtils").saveStateInLocalStorage(a,[])}function j(a,b){var c=d("composerStatePersistenceUtils").loadStateFromLocalStorage(d("composerStatePersistenceUtils").getDefaultState(b,a));c=c.data;var e=c.findIndex(function(b){return b.threadKey===a});c.splice(e,1);d("composerStatePersistenceUtils").saveStateInLocalStorage(b,c)}function k(a,b){var c=d("composerStatePersistenceUtils").loadStateFromLocalStorage(d("composerStatePersistenceUtils").getDefaultState(b,a));c=c.data;var e=c.findIndex(function(b){return b.threadKey===a});c[e]={threadKey:a,contentText:"",editorstate:d("composerStatePersistenceUtils").getDefaultEditorState(),reply:(e=c[e])==null?void 0:e.reply};d("composerStatePersistenceUtils").saveStateInLocalStorage(b,c)}function f(a){if(!c("gkx")("7577"))return;var b=d("I64").to_string(a.senderId),e={messageId:a.messageId,timestampMs:a.timestampMs,sendStatusV2:a.sendStatusV2,offlineThreadingId:a.offlineThreadingId};b=d("composerStatePersistenceUtils").loadStateFromLocalStorage(d("composerStatePersistenceUtils").getDefaultState(b,a.threadKey,e));var f=b.data,g=d("composerStatePersistenceUtils").hasUserStateByThreadKey(f,a.threadKey);if(g){g=f.findIndex(function(b){return b.threadKey===a.threadKey});f[g]={threadKey:a.threadKey,contentText:f[g].contentText,editorstate:f[g].editorstate,reply:e};g=f}else g=[].concat(f,[{threadKey:a.threadKey,contentText:"",editorstate:d("composerStatePersistenceUtils").getDefaultEditorState(),reply:e}]);d("composerStatePersistenceUtils").saveStateInLocalStorage(b.senderId,g)}function l(a){var b=c("WebStorage").getLocalStorage();b=b==null?void 0:b.getItem(d("composerStatePersistenceUtils").STORAGE_KEY_COMPOSER);if(b!=null){b=JSON.parse(b);var e=b.data,f=d("composerStatePersistenceUtils").hasUserStateByThreadKey(e,a);if(!f)return;f=e.findIndex(function(b){return b.threadKey===a});delete e[f].reply;d("composerStatePersistenceUtils").saveStateInLocalStorage(b.senderId,e)}}function m(a){var b=c("WebStorage").getLocalStorage();b=b==null?void 0:b.getItem(d("composerStatePersistenceUtils").STORAGE_KEY_COMPOSER);if(b!=null){var e;b=JSON.parse(b);b=b.data;b=b.filter(function(b){return b.threadKey===a});if(b.length>0&&((e=b[0])==null?void 0:e.reply))return JSON.stringify(b[0].reply)}return"{}"}g.getDraftThreadIds=a;g.getTextForThreadKey=b;g.persistEditorState=e;g.getEditorState=h;g.resetDraftMessages=i;g.deleteComposerStateForUserIdByThreadKey=j;g.persistRepliesState=f;g.clearThreadReply=l;g.getRepliesState=m}),98);
__d("DraftsLocalStorageContext",["composerStatePersistence","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useMemo,l=e.useState,m=h.createContext({draftThreadIds:d("composerStatePersistence").getDraftThreadIds(),updateDraftThreadIds:c("emptyFunction")});function a(a){a=a.children;var b=l(d("composerStatePersistence").getDraftThreadIds()),c=b[0],e=b[1],f=i(function(){e(d("composerStatePersistence").getDraftThreadIds())},[]);b=k(function(){return{draftThreadIds:c,updateDraftThreadIds:f}},[c,f]);return h.jsx(m.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.DraftsContext=m;g.DraftsContextProvider=a;g.useDraftsContext=b}),98);
__d("MWPAreThreadsLoadingInThreadList.bs",["LSDatabaseType.bs","LSSyncStatus.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","react","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("useReStore")(),d=b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads_ranges_v2__generated")),{hd:a,tl:0}),function(a){return a.isLoadingBefore})},[c,JSON.stringify(a)])),!1),e=b("bs_belt_Option").mapWithDefault(b("ReQLSuspense").useFirst(function(){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("sync_groups")),{hd:b("LSDatabaseType.bs").mailbox,tl:0})},[c]),!1,function(a){return b("bs_caml").i64_eq(a.syncStatus,b("LSSyncStatus.bs").complete)});if(e)return d;else return!0}f.useHook=a}),null);
__d("Yada_Messenger_MiscThreadTag.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,12],k=[0,8],l=[0,9],m=[0,10],n=[0,11],o=[0,13],p=[0,14];f.sent=a;f.cgEnabled=c;f.spamSpoofing=d;f.noPush=e;f.silentPush=b;f.forcePush=g;f.messenger=h;f.threadQueue=i;f.blindlyApplyMsgFolder=j;f.room=k;f.marketplace=l;f.pageFollowup=m;f.internalGroup=n;f.oneToOne=o;f.pinned=p}),null);
__d("ChatLSGeminiThreadlistData.bs",["DraftsLocalStorageContext","FBID.bs","LS.bs","LSBitFlag.bs","LSOptimisticallyInsertOrUpdatePinnedThread","LSOptimisticallyRemovePinnedThread","LSThreadsRangesQuery","LSTransaction.bs","LsSystemFolder.bs","MWCMThreadTypes.bs","MWPAreThreadsLoadingInThreadList.bs","MWPIsThreadUnread.bs","MWPThreadsForThreadList.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","Yada_Messenger_MiscThreadTag.bs","bs_belt_Array","bs_belt_Option","bs_caml","bs_caml_int64","bs_curry","bs_int64","gkx","promiseDone","react","recoverableViolation","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=[b("MessagingThreadType.bs").oneToOne,b("MessagingThreadType.bs").group,b("MessagingThreadType.bs").communityGroup,b("MessagingThreadType.bs").room,b("MessagingThreadType.bs").lwg],j=[2328,1316134911];function k(a){return i.findIndex(function(c){return b("bs_caml").i64_eq(a,c)})!==-1}function l(a){switch(a){case"action:archived":return b("LsSystemFolder.bs").archived;case"inbox":return b("LsSystemFolder.bs").inbox;case"other":return b("LsSystemFolder.bs").other;case"pending":return b("LsSystemFolder.bs").pending;default:b("recoverableViolation")("Unknown thread folder: "+a,"work_web_interfaces");return b("LsSystemFolder.bs").inbox}}function m(a){var c=b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.threadKey)),d=a.threadType;if(b("bs_caml").i64_eq(d,b("MessagingThreadType.bs").oneToOne))return{NAME:"User",VAL:c};if(b("bs_caml").i64_eq(d,b("MessagingThreadType.bs").room))return{NAME:"Group",VAL:c};if(b("bs_caml").i64_eq(d,b("MessagingThreadType.bs").group))return{NAME:"Group",VAL:c};if(b("bs_caml").i64_eq(d,b("MessagingThreadType.bs").lwg))return{NAME:"Group",VAL:c};if(b("MWCMThreadTypes.bs").isJoinedCMThread(d))return{NAME:"Group",VAL:c};try{return b("unrecoverableViolation")("Unknown thread type "+b("bs_int64").to_string(a.threadKey),"work_web_messaging")}catch(a){return{NAME:"Group",VAL:c}}}function n(a){if(a!==void 0)return m(a)}function o(a,c){if(c!==void 0)return b("bs_caml").i64_ge(a.lastActivityTimestampMs,c.minLastActivityTimestampMs);else return!1}function p(a,c){return b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(a.table("threads_ranges_v2__generated")),{hd:c,tl:0})}function a(a){var c=b("useReStore")(),d=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").fromIndexAscending(c.table("pinned_threads").index("pinnedTimestamp")),function(a){return n(b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("threads")),{hd:a.threadKey,tl:0})))})},[c])),e=b("gkx")("7433")?b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").fromTableAscending(c.table("threads")),function(a){a=a.threadTags;if(a!==void 0)return b("LSBitFlag.bs").has(b("bs_caml_int64").lsl_(b("bs_caml_int64").one,b("bs_caml_int64").to_int32(b("Yada_Messenger_MiscThreadTag.bs").pinned)),a);else return!1}),function(a){return n(a)})},[c])):[];return h.useMemo(function(){return b("bs_belt_Array").keepMap(d.length>=e.length?d:e,function(a){return a})},[e,d])}function c(a){var c=b("useReStore")();return h.useCallback(function(d){var e=d[0];d=b("bs_belt_Array").keepMap(d[1],function(a){a=b("ReQLSuspense").first(b("ReQL.bs").getKeyRange(b("ReQL.bs").fromTableAscending(c.table("pinned_threads")),{hd:b("MWThread_DEPRECATED.bs").toThreadKey(a),tl:0}));if(a===void 0)return;var d=a.pinnedTimestamp;if(d!==void 0)return[a.threadKey,d]});var f=b("bs_belt_Array").reduceReverse(d,[j,[]],function(a,d){var e=d[1],c=a[1];a=a[0];if(b("bs_caml").i64_ge(e,a))return[b("bs_int64").pred(a),b("bs_belt_Array").concat(c,[[d[0],b("bs_int64").pred(a)]])];else return[e,c]})[1];if(f.length!==0||e.length!==0){b("promiseDone")(b("LSTransaction.bs").run(c,function(a){var c=b("LS.bs").make(a);return b("Promise").all(b("bs_belt_Array").concat(b("bs_belt_Array").map(f,function(a){return b("LSOptimisticallyInsertOrUpdatePinnedThread")(a[0],a[1],c)}),b("bs_belt_Array").map(e,function(a){return b("LSOptimisticallyRemovePinnedThread")(b("MWThread_DEPRECATED.bs").toThreadKey(a),c)})))},"readWrite"),function(c){return b("bs_curry")._1(a,void 0)},function(c){return b("bs_curry")._1(a,void 0)});return}else return b("bs_curry")._1(a,void 0)},[c,a])}function d(a,c){var d=b("useReStore")(),e=l(a),f=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return p(d,e)},[d,e]));return b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("MWPThreadsForThreadList.bs").createIterable(d,e,f),function(a){if(o(a,f)&&k(a.threadType))if(c)if(c)return b("MWPIsThreadUnread.bs").isThreadUnread(a);else return!1;else return!0;else return!1}),m)},[e,f,d,c]))}function e(a){var c=b("useReStore")(),d=l(a);return h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(c,function(a){return b("ReQL.bs").first(p(c,d)).then(function(c){if(c!==void 0)return b("LSThreadsRangesQuery")(d,!0,!1,c.minThreadKey,c.maxThreadKey,c.maxLastActivityTimestampMs,c.minLastActivityTimestampMs,b("bs_caml_int64").zero,b("LS.bs").make(a));else return b("LSThreadsRangesQuery")(d,!0,!1,b("bs_caml_int64").zero,void 0,void 0,j,b("bs_caml_int64").zero,b("LS.bs").make(a))})},"readWrite"),void 0,void 0)},[d,c])}function q(a){var c=b("useReStore")(),d=l(a);return h.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(c,function(a){return b("LSThreadsRangesQuery")(d,!0,!1,b("bs_caml_int64").zero,void 0,void 0,j,b("bs_caml_int64").zero,b("LS.bs").make(a))},"readWrite"),void 0,void 0)},[d,c])}function r(a){return b("MWPAreThreadsLoadingInThreadList.bs").useHook(l(a))}function s(a){var c=b("useReStore")(),d=l(a);return b("bs_belt_Option").mapWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return p(c,d)},[c,d])),!1,function(a){return!a.hasMoreBefore})}function t(a){var c=b("useReStore")(),d=l(a);a=h.useContext(b("DraftsLocalStorageContext").DraftsContext);var e=a.draftThreadIds;return b("ReQLSubscription.bs").useArray(h.useMemo(function(){var a;return(a=b("ReQL.bs")).map(a.filter(a.filter(a.bounds(a.getKeyRange(a.fromIndexDescending(c.table("threads").index("parentThreadKeyLastActivityTimestampMs")),{hd:d,tl:0}),{NAME:"greaterThan",VAL:{hd:b("bs_caml_int64").zero,tl:0}}),function(a){a=a.clientThreadKey;return a===void 0}),function(a){if(e.includes(b("bs_int64").to_string(a.threadKey)))return k(a.threadType);else return!1}),m)},[JSON.stringify(d),c,e]))}f.isSupportedThreadType=k;f.getFolderID=l;f.getThreadIDExn=m;f.getThreadID=n;f.isThreadInRange=o;f.rangeQuery=p;f.usePinnedThreadIDs=a;f.useUpdatePinnedThreads=c;f.useThreadIDs=d;f.useLoadMore=e;f.useRefetch=q;f.useIsLoadingBefore=r;f.useHasReachedEnd=s;f.useDraftThreadIDs=t}),null);
__d("ChatLSGeminiThreadlistData.re",["ChatLSGeminiThreadlistData.bs"],(function(a,b,c,d,e,f){c=(a=b("ChatLSGeminiThreadlistData.bs")).usePinnedThreadIDs;f.usePinnedThreadIDs=c;d=a.useUpdatePinnedThreads;f.useUpdatePinnedThreads=d;e=a.useThreadIDs;f.useThreadIDs=e;b=a.useLoadMore;f.useLoadMore=b;c=a.useRefetch;f.useRefetch=c;d=a.useIsLoadingBefore;f.useIsLoadingBefore=d;e=a.useHasReachedEnd;f.useHasReachedEnd=e;b=a.useDraftThreadIDs;f.useDraftThreadIDs=b}),null);
__d("WorkGeminiPillBase.react",["fbt","CometBadge.react","CometIcon.react","CometProfilePhoto.react","CometScreenReaderText.react","TetraText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color,d=a.counterIndicatorValue;d=d===void 0?null:d;var e=a.disabled;e=e===void 0?!1:e;var f=a.hasNewContentBadge;f=f===void 0?!1:f;var g=a.image,j=a.imagePlacement;j=j===void 0?"left":j;var k=a.label,l=a.labelIsHidden;l=l===void 0?!1:l;var m=a.newContentBadgeSize;m=m===void 0?6:m;a=a.selected;a=a===void 0?!1:a;var n=null;if(f){f=h._("Has new content");n=i.jsx("div",{className:"x13vifvy x10l6tqk x10wlt62 x6ikm8r x1qhkwwh x78zum5 xww2gxu x18nykt9 xudhj91 x14yjl9h",children:i.jsx(c("CometBadge.react"),{border:"white",color:e?"gray":"blue",isProfileBadge:!0,label:f,size:m})})}f=i.jsx("div",{className:"x1xp8n7a xsgj6o6 xl56j7k xmix8c7 x78zum5 x15gyhx8 x1s7lred x40j3uw xnwf7zb x1spa7qu x6s0dn4",children:i.jsx(c("TetraText.react"),{color:"white",numberOfLines:1,type:"meta4",children:d})});m=b?b:e?"disabled":a===!0?"highlight":"primary";b=null;g!=null&&(g.type==="icon"?b=i.jsx("div",{className:"xlup9mm x78zum5"+(!l&&j==="left"?" x1w0mnb":"")+(!l&&j==="right"?" x1mnrxsn":""),children:i.jsx(c("CometIcon.react"),{color:m,icon:g.icon,size:16})}):g.type==="profile-photo"&&g.source!=null&&(b=i.jsx("div",{className:"xp7jhwk x1w0mnb x78zum5"+(e?" xuzhngd":""),children:i.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:28,source:g.source})})));a=j==="left"?b:null;e=j==="right"?b:null;l?g=i.jsx(c("CometScreenReaderText.react"),{text:k}):g=i.jsx(c("TetraText.react"),{color:m,numberOfLines:1,type:"button2",children:k});return i.jsxs(i.Fragment,{children:[a,g,e,n,d!==null&&f]})}a.displayName=a.name+" [from "+f.id+"]";g.WorkGeminiPillBase=a}),98);
__d("WorkGeminiPivotLink.react",["CometPillBaseStyles","CometPressable.react","WorkGeminiPillBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={deemphasized:{backgroundColor:"xjbqb8w"},normal:{backgroundColor:"x1qhmfi1"}},j={selectedOnWashBackground:{backgroundColor:"x1av1boa"}};function a(a,b){var e=a.ariaCurrentType;e=e===void 0?"page":e;var f=a.counterIndicatorValue;a.hitSlop;var g=a.linkProps,k=a.onHoverIn,l=a.onPress,m=a.onWashBackground,n=m===void 0?!1:m;m=a.role;var o=a.testid;o=a.testOnly_pressed;var p=a.type,q=p===void 0?"normal":p;p=babelHelpers.objectWithoutPropertiesLoose(a,["ariaCurrentType","counterIndicatorValue","hitSlop","linkProps","onHoverIn","onPress","onWashBackground","role","testid","testOnly_pressed","type"]);var r=(a=p.selected)!=null?a:!1;a=(a=p.disabled)!=null?a:!1;e=g?{"aria-current":r?e:void 0}:m==="button"||m==null?{"aria-pressed":r}:{"aria-selected":r};return h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},e,{disabled:a,display:"inline",linkProps:g,onHoverIn:k,onPress:a?void 0:l,overlayRadius:d("CometPillBaseStyles").PIVOT_HEIGHT/2,ref:b,role:m,testOnly_pressed:o,testid:void 0,xstyle:function(a){a=a.pressed;return[d("CometPillBaseStyles").pillStyles.root,i[q],r===!0&&(n?j.selectedOnWashBackground:d("CometPillBaseStyles").pillStyles.selected),a&&d("CometPillBaseStyles").pillStyles.pressed]},children:h.jsx(d("WorkGeminiPillBase.react").WorkGeminiPillBase,babelHelpers["extends"]({counterIndicatorValue:f},p))}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("WorkInternNotificationCometPillBase.react",["fbt","CometBadge.react","CometIcon.react","CometProfilePhoto.react","CometScreenReaderText.react","TetraText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color,d=a.disabled;d=d===void 0?!1:d;var e=a.hasNewContentBadge;e=e===void 0?!1:e;var f=a.image,g=a.imagePlacement;g=g===void 0?"left":g;var j=a.label,k=a.labelIsHidden;k=k===void 0?!1:k;var l=a.newContentBadgeSize;l=l===void 0?10:l;a=a.selected;a=a===void 0?!1:a;var m=null;if(e){e=h._("Has new content");m=i.jsx("div",{className:"x13vifvy x10l6tqk x10wlt62 x6ikm8r x1qhkwwh x78zum5 xww2gxu x18nykt9 xudhj91 x14yjl9h",children:i.jsx(c("CometBadge.react"),{border:"white",color:d?"gray":"red",isProfileBadge:!0,label:e,size:l})})}e=b?b:d?"disabled":a===!0?"highlight":"primary";l=null;f!=null&&(f.type==="icon"?l=i.jsx("div",{className:"xlup9mm x78zum5"+(!k&&g==="left"?" x1w0mnb":"")+(!k&&g==="right"?" x1mnrxsn":""),children:i.jsx(c("CometIcon.react"),{color:e,icon:f.icon,size:16})}):f.type==="profile-photo"&&f.source!=null&&(l=i.jsx("div",{className:"xp7jhwk x1w0mnb x78zum5"+(d?" xuzhngd":""),children:i.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:28,source:f.source})})));b=g==="left"?l:null;a=g==="right"?l:null;k?d=i.jsx(c("CometScreenReaderText.react"),{text:j}):d=i.jsx(c("TetraText.react"),{color:e,numberOfLines:1,type:"button2",children:j});return i.jsxs(i.Fragment,{children:[b,d,a,m]})}a.displayName=a.name+" [from "+f.id+"]";g.WorkInternNotificationCometPillBase=a}),98);
__d("WorkInternNotificationCometPivotLink.react",["CometPillBaseStyles","CometPressable.react","WorkInternNotificationCometPillBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={deemphasized:{backgroundColor:"xjbqb8w"},normal:{backgroundColor:"x1qhmfi1"}},j={selectedOnWashBackground:{backgroundColor:"x1av1boa"}};function a(a,b){var e=a.ariaCurrentType;e=e===void 0?"page":e;a.hitSlop;var f=a.linkProps,g=a.onHoverIn,k=a.onPress,l=a.onWashBackground,m=l===void 0?!1:l;l=a.role;var n=a.testid;n=a.testOnly_pressed;var o=a.type,p=o===void 0?"normal":o;o=babelHelpers.objectWithoutPropertiesLoose(a,["ariaCurrentType","hitSlop","linkProps","onHoverIn","onPress","onWashBackground","role","testid","testOnly_pressed","type"]);var q=(a=o.selected)!=null?a:!1;a=(a=o.disabled)!=null?a:!1;e=f?{"aria-current":q?e:void 0}:l==="button"||l==null?{"aria-pressed":q}:{"aria-selected":q};return h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},e,{disabled:a,display:"inline",linkProps:f,onHoverIn:g,onPress:a?void 0:k,overlayRadius:d("CometPillBaseStyles").PIVOT_HEIGHT/2,ref:b,role:l,testOnly_pressed:n,testid:void 0,xstyle:function(a){a=a.pressed;return[d("CometPillBaseStyles").pillStyles.root,i[p],q===!0&&(m?j.selectedOnWashBackground:d("CometPillBaseStyles").pillStyles.selected),a&&d("CometPillBaseStyles").pillStyles.pressed]},children:h.jsx(d("WorkInternNotificationCometPillBase.react").WorkInternNotificationCometPillBase,babelHelpers["extends"]({},o))}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("WorkGalahadUIPivotLinkGroup.react",["fbt","ix","ChatLSGeminiThreadlistData.re","CometCircleButton.react","CometDeferredPopoverTrigger.react","CometMenuItem.react","CometTooltip.react","FocusGroup.react","WorkGeminiPivotLink.react","fbicon","focusScopeQueries","react","requireDeferred"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");e=b.forwardRef;var k=b.useEffect,l=b.useRef,m=b.useState,n=c("requireDeferred")("CometMenu.react").__setRef("WorkGalahadUIPivotLinkGroup.react");b=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var o=b[0],p=b[1];function a(a){var b,e=a.maxActionsNumber;e=e===void 0?1:e;var f=a.pivotActions,g=a.pivotActionsLabel,r=a.hasMoreNewContentBadge;a=a.showThreeFolders;a=a===void 0?!1:a;var s=m(!1),t=s[0],u=s[1],v=[],w=l();k(function(){t&&(w.current&&w.current(),u(!1),w.current=void 0)},[t]);s=((s=f)!=null?s:[]).slice(0,a?2:1);b=((b=f)!=null?b:[]).slice(a?2:1);b=((a=f)!=null?a:[]).length>e?b.sort(function(a,b){return Number(b.selected)-Number(a.selected)}):b;s=s.concat(b.slice(0,e));f=b.slice(e);a=c("ChatLSGeminiThreadlistData.re").useDraftThreadIDs("inbox");var x=a.length>0?a.length:null;s.forEach(function(a,b){var c=a.selected;v.push(j.jsx(q,babelHelpers["extends"]({},a,{counterIndicatorValue:a.label.toString()==="Drafts"?x:null,hasNewContentBadge:r===!0&&c===!1&&b===1}),b))});b=f.map(function(a){var b;b=(b=a.linkProps)==null?void 0:b.url;return j.jsx(c("CometMenuItem.react"),{href:b!=null?b.toString():void 0,primaryText:a.label,testid:void 0,onClick:function(b){a!=null&&a.onPress!=null&&(w.current=function(){return a.onPress&&a.onPress(b)},u(!0))}},a.label)});if(f.length!==0){var y=h._("See more");v.push(j.jsx(p,{children:j.jsx("div",{className:"x5yr21d",children:j.jsx(c("CometDeferredPopoverTrigger.react"),{align:"start",fallback:null,popoverProps:{children:b,label:y,withArrow:!0},popoverResource:n,popoverType:"menu",children:function(a,b){return j.jsx(c("CometTooltip.react"),{position:"above",tooltip:y,children:j.jsx(c("CometCircleButton.react"),{label:y,icon:d("fbicon")._(i("484388"),24),onPress:b,ref:a,size:36,testid:void 0})})}})})},s.length))}return s.length!==0?j.jsx(o,{wrap:!0,orientation:"horizontal",preventScrollOnFocus:!1,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,allowModifiers:!0,children:j.jsx("div",{role:"toolbar","aria-label":g,className:"x1a02dak x2lah0s x1q0g3np x78zum5",children:v})}):null}a.displayName=a.name+" [from "+f.id+"]";var q=e(function(a,b){var d=a.counterIndicatorValue;return j.jsx(p,{children:j.jsx("div",{className:"x5yr21d x19eqsel x1sxyh0 x9f619",children:j.jsx(c("WorkGeminiPivotLink.react"),babelHelpers["extends"]({counterIndicatorValue:d},a,{ref:b}))})})});g["default"]=a}),98);
__d("WorkGalahadUIChannelHeader.react",["TetraText.react","WorkGalahadUIPivotLinkGroup.react","react","testID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.backAction,d=a.maxActionsNumber,e=a.pivotActionDescription,f=a.pivotActions,g=a.primaryAction,i=a.secondaryAction,j=a.tertiaryAction,k=a.title,l=a.pivotActionsLabel,m=a.pivotActionsExtra,n=a.managePriorityDialog,o=a.hasMoreNewContentBadge,p=a["data-testid"];a=a.showThreeFolders;a=a===void 0?!1:a;b=h.jsxs("div",{className:"xu0aao5 x6s0dn4 x1q0g3np x1ja2u2z x1n2onr6 xkhd6sd x18d9i69 x4uap5 xexx8yu xeuugli x1mh8g0r xat24cr x11i5rnm xdj266r x1qughib xs83m0k x1iyjqo2 x78zum5 x9f619 x1qhh985 xcfux6l xm0m39n x972fbf x1q0q8m5 xu3j5b3 x26u7qi x13fuv20",children:[h.jsxs("span",{className:"x78zum5",children:[Boolean(b)&&b,h.jsx("div",{className:Boolean(b)?"x1y1aw1k x1ye3gou":"",children:h.jsx(c("TetraText.react"),{isSemanticHeading:!0,type:"headlineEmphasized1",children:k})})]}),h.jsxs("span",{className:"x1mnrxsn x78zum5",children:[j!=null&&h.jsx("span",{className:"x1emribx",children:j}),i!=null&&h.jsx("span",{className:"x1emribx",children:i}),g]})]});return h.jsxs("div",babelHelpers["extends"]({className:"xjkvuk6 xxbr6pl xbbxn1n"},c("testID")(p),{children:[b,f?h.jsx("div",{className:"x12nagc x1xmf6yo",children:h.jsx(c("WorkGalahadUIPivotLinkGroup.react"),{maxActionsNumber:d,pivotActions:f,pivotActionsLabel:l,hasMoreNewContentBadge:o,showThreeFolders:a})}):null,n!=null?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"x1y1aw1k",children:n}),h.jsx("div",{className:"xsag5q8 x1y1aw1k",children:h.jsx("hr",{className:"x1mh8g0r xat24cr x11i5rnm xdj266r xm0m39n x1qhh985 xcfux6l x972fbf xjm9jq1 x9f619 x14nfmen"})})]}):null,m!=null?h.jsx("div",{className:"x1iorvi4",children:m}):null,e!=null?h.jsx("p",{className:"x1e558r4 xwib8y2 x1iorvi4 x1mh8g0r xat24cr x11i5rnm xdj266r",children:h.jsx(c("TetraText.react"),{color:"secondary",type:"meta4",children:e})}):null]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadChatsThreadlistHeader.react",["fbt","WorkGalahadAppTabChatsAction.react","WorkGalahadUIChannelHeader.react","react"],(function(a,b,c,d,e,f,g,h){var i=d("react"),j=h._("Chats");function a(a){var b=a.canViewerStartVideoCall,e=a.pivotActions,f=a.pivotActionsLabel;a=a.showThreeFolders;return i.jsx(c("WorkGalahadUIChannelHeader.react"),{pivotActions:e,pivotActionsLabel:f,primaryAction:i.jsx(d("WorkGalahadAppTabChatsAction.react").PrimaryActionForChannelHeader,{canViewerStartVideoCall:b}),showThreeFolders:a,title:j})}a.displayName=a.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("WorkGalahadNavListContext.react",["react"],(function(a,b,c,d,e,f,g){a=d("react");b=a.createContext({focused:!1,hovered:!1});g["default"]=b}),98);
__d("WorkGalahadNavHeaderPressableAction.react",["CometPressable.react","CometTooltip.react","TetraText.react","WorkGalahadNavListContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={action:{textAlign:"xp4054r"},actionTransition:{opacity:"xg01cxk",transitionProperty:"x19991ni",transitionDuration:"x1k90msu",transitionTimingFunction:"x1qfuztq",":focus":{opacity:"x1uxbtfk"},":hover":{opacity:"x1o7uuvo"}},actionTransitionVisible:{opacity:"x1hc1fzr"}};function a(a){var b=a.href;b=b===void 0?void 0:b;var d=a.onClick,e=a.showOnHover,f=a.linkRef,g=a.tooltip,k=a.title;a=a.testid;a=i(c("WorkGalahadNavListContext.react"));var l=a.focused;a=a.hovered;b=b!=null?{url:b.toString()}:void 0;b=h.jsx(c("CometPressable.react"),{display:"block",linkProps:b,onPress:d,overlayDisabled:!0,testid:void 0,xstyle:[j.action,e===!0&&j.actionTransition,(l||a)&&j.actionTransitionVisible],ref:f,children:h.jsx(c("TetraText.react"),{type:"bodyLink4",color:"highlight",children:k})});g!=null&&(b=h.jsx(c("CometTooltip.react"),{tooltip:g,children:b}));return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadNavTextHeaderBase.react",["TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={title:{textTransform:"xtvhhri"},subtitle:{marginBottom:"x12nagc",marginTop:"x1k70j0n",paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6"},titleAndAction:{display:"x78zum5",justifyContent:"x1qughib",alignItems:"x6s0dn4"},root:{display:"x78zum5",justifyContent:"x1nhvcw1",alignItems:"x1qjc9v5",flexDirection:"xdt5ytf",paddingTop:"x1iorvi4",paddingBottom:"xwib8y2",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13"},indented:{paddingStart:"x14gfdix"}};function a(a){var b=a.action,d=a.indented;d=d===void 0?!0:d;var e=a.subtitle,f=a.title;a=a.xstyle;return h.jsxs("div",{className:c("stylex")(i.root,d&&i.indented,a),children:[h.jsxs("div",{className:c("stylex")(i.titleAndAction),children:[f,b]}),e!=null?h.jsx("div",{className:c("stylex")(i.subtitle),children:h.jsx(c("TetraText.react"),{type:"body4",color:"secondary",children:e})}):null]})}a.displayName=a.name+" [from "+f.id+"]";a.SmallTitle=function(a){a=a.title;return h.jsx("span",{className:c("stylex")(i.title),children:h.jsx(c("TetraText.react"),{type:"bodyLink4",color:"secondary",isSemanticHeading:!0,numberOfLines:1,children:a})})};a.LargeTitle=function(a){a=a.title;return h.jsx(c("TetraText.react"),{type:"headlineEmphasized3",isSemanticHeading:!0,numberOfLines:1,children:a})};a.ExtraLargeTitle=function(a){a=a.title;return h.jsx(c("TetraText.react"),{type:"headlineEmphasized1",isSemanticHeading:!0,numberOfLines:1,children:a})};g["default"]=a}),98);
__d("WorkGalahadNavTextHeader.react",["WorkGalahadNavTextHeaderBase.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){switch(b){case"EXTRA_LARGE":return h.jsx(c("WorkGalahadNavTextHeaderBase.react").ExtraLargeTitle,{title:a});case"LARGE":default:return h.jsx(c("WorkGalahadNavTextHeaderBase.react").LargeTitle,{title:a})}}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=a.action,d=a.indented;d=d===void 0?!0:d;var e=a.subtitle,f=a.title,g=a.xstyle;a=a.titleSize;a=a===void 0?"LARGE":a;return h.jsx(c("WorkGalahadNavTextHeaderBase.react"),{title:f!=null?i(f,a):null,subtitle:e,indented:d,action:b,xstyle:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadNavTextHeaderReact.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g){g={type:"text",title:a};c!==void 0&&(g.subtitle=c);d!==void 0&&(g.action=b("bs_caml_option").valFromOption(d));e!==void 0&&(g.isLarge=e);f!==void 0&&(g.indented=f);return g}f.makeProps=a}),null);
__d("useHoverAndFocusState",["WorkGalahadHoverHelper","useFocusState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("WorkGalahadHoverHelper").useHover(),b=a[0];a=a[1];var e=c("useFocusState")(),f=e[0],g=e[1];e=e[2];return{hovered:b,focused:f,onHoverIn:a.onMouseEnter,onHoverOut:a.onMouseLeave,onFocusIn:g,onFocusOut:e}}g["default"]=a}),98);
__d("WorkGalahadUIChannelItem.react",["BaseFocusRing.react","CometPressable.react","CometPressableOverlay.react","Locale","TetraTextPairing.react","URI","WorkCometInteractiveElementContext.react","WorkGalahadChannelFocusableTable.react","cr:130","emptyFunction","gkx","react","stylex","useCometPreloader","useHoverAndFocusState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useMemo,k=e.useState,l=(e=b("cr:130")==null?void 0:b("cr:130").useGalileoNavDrawerContext)!=null?e:c("emptyFunction"),m=c("gkx")("875"),n={root:{boxSizing:"x9f619",position:"x1n2onr6",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",minWidth:"xeuugli",display:"x78zum5",justifyContent:"x1nhvcw1",alignItems:"x6s0dn4",flexDirection:"x1q0g3np",borderTop:"x76ihet",borderEnd:"xwmqs3e",borderBottom:"x112ta8",borderStart:"xxxdfa6",paddingEnd:"x1pi30zi"},selected:{backgroundColor:"x1qq8qej"},contentContainer:{borderTopStyle:"x13fuv20",borderStartStyle:"x26u7qi",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderTopWidth:"x972fbf",borderStartWidth:"xm0m39n",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",minHeight:"x2lwn1j",minWidth:"xeuugli",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",zIndex:"x1ja2u2z",justifyContent:"x1nhvcw1",alignItems:"x6s0dn4",flexDirection:"x1q0g3np"},content:{borderTopStyle:"x13fuv20",borderStartStyle:"x26u7qi",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderTopWidth:"x972fbf",borderStartWidth:"xm0m39n",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",minHeight:"x2lwn1j",minWidth:"xeuugli",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",zIndex:"x1ja2u2z",justifyContent:"x1nhvcw1",alignItems:"x6s0dn4",flexDirection:"x1q0g3np",outline:"x1a2a7pz",":hover":{textDecoration:"x1lku1pv"}},textPairing:{flexGrow:"x1iyjqo2",flexBasis:"x1r8uery",minWidth:"xeuugli",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv"},addOnPrimary:{borderTopStyle:"x13fuv20",borderStartStyle:"x26u7qi",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderTopWidth:"x972fbf",borderStartWidth:"xm0m39n",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"xs83m0k",justifyContent:"x1qughib",marginStart:"x1mh8g0r",minHeight:"x2lwn1j",minWidth:"xeuugli",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",zIndex:"x1ja2u2z",alignItems:"x6s0dn4",flexGrow:"x1c4vz4f",marginBottom:"x12nagc",marginEnd:"xq8finb",marginTop:"x1gslohp",position:"x1n2onr6"},addOnPrimaryDrawer:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo"},addOnSecondary:{borderTopStyle:"x13fuv20",borderStartStyle:"x26u7qi",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderTopWidth:"x972fbf",borderStartWidth:"xm0m39n",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"xs83m0k",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",minHeight:"x2lwn1j",minWidth:"xeuugli",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",zIndex:"x1ja2u2z",position:"x10l6tqk",start:"xyzs4uy",top:"x13vifvy",bottom:"x1ey2m1c",alignItems:"x6s0dn4",justifyContent:"xl56j7k",flexGrow:"x1c4vz4f"},addOnSecondaryOffset:{transform:"xuuh30"},addOnSecondaryOffsetRTL:{transform:"xitnhlw"},indentationLevel1:{paddingStart:"x1swvt13"},indentationLevel2:{paddingStart:"x14gfdix"},indentationLevel3:{paddingStart:"xyxze6z"},addOnTertiary:{borderTopStyle:"x13fuv20",borderStartStyle:"x26u7qi",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderTopWidth:"x972fbf",borderStartWidth:"xm0m39n",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",boxSizing:"x9f619",display:"x78zum5",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",minHeight:"x2lwn1j",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",zIndex:"x1ja2u2z",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",minWidth:"x15x72sd",alignItems:"x6s0dn4",justifyContent:"x13a6bvl",flexDirection:"x1q0g3np",marginStart:"x1i64zmx"}};function o(a){a=a.indentationLevel;if(a===1)return n.indentationLevel1;else if(a===2)return n.indentationLevel2;else if(a===3)return n.indentationLevel3}function a(a,b){var e=a.addOnPrimary,f=a.addOnSecondary,g=a.addOnTertiary,p=a.disabled,q=p===void 0?!1:p;p=a.emphasized;p=p===void 0?!1:p;var r=a.selected,s=r===void 0?!1:r;r=a.indentationLevel;var t=r===void 0?2:r;r=a.linkProps;r=r===void 0?{}:r;var u=r.url,v=babelHelpers.objectWithoutPropertiesLoose(r,["url"]);r=a.body;var w=a.bodyColor,x=a.bodyLineLimit;x=x===void 0?1:x;var y=a.headline,z=a.headlineAddOn,A=a.headlineColor,B=a.headlineLineLimit;B=B===void 0?1:B;var C=a.meta,D=a.metaColor,E=a.metaLineLimit,F=a.metaLocation,G=a.onPress,H=a.onPressIn,I=a.onHoverIn,J=a.onHoverOut,K=a.onFocusIn,L=a.onFocusOut,M=a.isSemanticListItem,N=M===void 0?!0:M;M=a.testid;var O=a.wrapperRef,P=a.onPreload,aa=babelHelpers.objectWithoutPropertiesLoose(a,["addOnPrimary","addOnSecondary","addOnTertiary","disabled","emphasized","selected","indentationLevel","linkProps","body","bodyColor","bodyLineLimit","headline","headlineAddOn","headlineColor","headlineLineLimit","meta","metaColor","metaLineLimit","metaLocation","onPress","onPressIn","onHoverIn","onHoverOut","onFocusIn","onFocusOut","isSemanticListItem","testid","wrapperRef","onPreload"]);M=k(!1);var Q=M[0],R=M[1];a=c("useHoverAndFocusState")();var S=a.focused,T=a.hovered,U=a.onFocusIn,V=a.onFocusOut,ba=a.onHoverIn,ca=a.onHoverOut;M=l();a=j(function(){return{hovered:T,focused:S,pressed:Q}},[T,S,Q]);var W=i(function(){P&&m&&P()},[P]);W=c("useCometPreloader")("button_aggressive",void 0,W);var X=W[0],Y=W[1],da=i(function(a){X(a),I&&I(a)},[I,X]),ea=i(function(a){Y(),J&&J(a)},[J,Y]),fa=i(function(a){U(a),K&&K(a)},[K,U]),ga=i(function(a){V(a),L&&L(a)},[L,V]),ha=i(function(a){R(!0),H&&H(a)},[H]),ia=i(function(){return R(!1)},[]),Z=h.jsxs(h.Fragment,{children:[e!=null&&h.jsx("div",{className:c("stylex")(n.addOnPrimary,(M==null?void 0:M.isWithinDrawer)&&n.addOnPrimaryDrawer),children:e}),h.jsx("div",{"data-testid":void 0,className:c("stylex")(n.textPairing),children:h.jsx(c("TetraTextPairing.react"),{body:r,bodyColor:w,bodyLineLimit:x,headline:y,headlineAddOn:z,headlineColor:A,headlineLineLimit:B,level:4,meta:C,metaColor:D,metaLineLimit:E,metaLocation:F,reduceEmphasis:p===!1})})]}),ja=N?"li":"div",$=G||u!=null;return h.jsx(d("WorkGalahadChannelFocusableTable.react").WorkGalahadChannelFocusableTableRow,{children:h.jsx(c("WorkCometInteractiveElementContext.react").Provider,{value:a,children:h.jsx(c("BaseFocusRing.react"),{children:function(a){return h.jsxs(ja,{ref:O,role:$&&N?"row":void 0,onMouseEnter:ba,onMouseLeave:ca,className:c("stylex")(n.root,o({indentationLevel:t}),S&&a,s&&n.selected),children:[$&&h.jsx(c("CometPressableOverlay.react"),{focusVisible:S,hovered:T,pressed:Q}),$?h.jsx(d("WorkGalahadChannelFocusableTable.react").WorkGalahadChannelFocusableTableCell,{children:h.jsx("div",{className:c("stylex")(n.contentContainer),role:N?"gridcell":void 0,children:h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},aa,{display:"block",disabled:q,linkProps:u?babelHelpers["extends"]({},v,{url:c("URI").normalize(u),prefetchQueries:m}):void 0,onHoverIn:da,onHoverOut:ea,onFocusIn:fa,onFocusOut:ga,onPress:G,onPressIn:ha,onPressOut:ia,overlayDisabled:!0,ref:b,suppressFocusRing:!0,xstyle:n.content,children:Z}))})}):h.jsx("div",{className:c("stylex")(n.content),children:Z}),f!=null&&h.jsx("div",{className:c("stylex")(n.addOnSecondary,d("Locale").isRTL()?n.addOnSecondaryOffsetRTL:n.addOnSecondaryOffset),children:f}),g!=null&&h.jsx("div",{className:c("stylex")(n.addOnTertiary),children:g})]})}})})})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("WorkGalahadNewMessageRow.react",["fbt","ix","CometCircleButton.react","Image.react","MercuryIDs","MercuryParticipantListRenderer","MercuryParticipantsImage.react","MessengerActions","MessengerComposerStore","MessengerParticipants.re","MessengerProfileImageWrapperReact.bs","MessengerView","WorkGalahadUIChannelItem.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){var j=d("react");b=d("react");var k=b.useEffect,l=b.useRef,m=b.useState,n=i("86935");function a(a){var b=a.isActive;a=a.onClose;var e=m([]),f=e[0],g=e[1],o=l(null),p=function(){o.current&&(d("MessengerParticipants.re").removeCallback(o.current),o.current=null);var b=c("MessengerComposerStore").getState().recipients.map(function(a){return d("MercuryIDs").getParticipantIDFromUserID(a.getUniqueID())}).toArray();b=d("MessengerParticipants.re").getMultiEager(b,function(a){g(a)});var a=b[0];b=b[1];o.current=b;return a};k(function(){var a=c("MessengerComposerStore").addListener("change",function(){var a=p();g(a)});return function(){a&&a.remove(),o.current&&(d("MessengerParticipants.re").removeCallback(o.current),o.current=null)}},[]);return j.jsx(c("WorkGalahadUIChannelItem.react"),{onPress:function(){d("MessengerActions").changeDetailView(c("MessengerView").DETAIL.COMPOSE)},addOnPrimary:f.length>0?j.jsx(d("MessengerProfileImageWrapperReact.bs").jsComponent,{isMessengerUser:!1,size:48,showBadge:!1,children:j.jsx(c("MercuryParticipantsImage.react"),{participants:f.map(function(a){return a.id}).slice(0,3),size:48})}):j.jsx(c("Image.react"),{height:48,src:n,width:48}),headline:f.length===0?h._("New message"):h._("New message to {List of message recipients}",[h._param("List of message recipients",new(c("MercuryParticipantListRenderer"))().renderParticipantList(f.map(function(a){return{id:a.id,name:a.name,short_name:a.short_name}})))]),addOnTertiary:j.jsx(c("CometCircleButton.react"),{label:h._("Stop composing"),size:24,icon:d("fbicon")._(i("478231"),12),color:"primary",onPress:a}),selected:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadNewMessageRowReact.bs",["ReasonReact.bs","WorkGalahadNewMessageRow.react"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("WorkGalahadNewMessageRow.react"),{isActive:a,onClose:c},d)}f.make=a}),null);
__d("MessengerThreadlistReact.bs",["csx","cx","fbt","Bootloader","ChatPinnedThreadsEntryPoint","ChatSidebarSheet.react","CurrentUser","FBID.bs","KeyEventController","Link.react","MercuryFilters.bs","MercuryIDs","MercuryThreadActions","MercuryThreadInfo","MercuryTypeaheadConstants","MessageRequestLogger.bs","MessengerActions","MessengerComposerActions","MessengerConfig","MessengerDotComAndInboxM4Check.bs","MessengerFlexScrollableAreaReact.bs","MessengerGalahadGating.bs","MessengerGraphQLSearchTypeaheadReact.bs","MessengerMessageRequestsInfoReact.bs","MessengerNewMessagesNoticeReact.bs","MessengerSearchActions","MessengerSearchFunnelLoggerConstants","MessengerSearchFunnelState","MessengerSpinnerReact.bs","MessengerState.bs","MessengerThreadListGridWrapper.react","MessengerThreadlistFooterDesktopAppLink.bs","MessengerThreadlistLinkRowReact.bs","MessengerThreadlistMessageRequestsRowReact.bs","MessengerThreadlistNewMessageRowReact.bs","MessengerThreadlistRowContainerReact.bs","MessengerTypeaheadUtils","MessengerUniversalSearchFunnelLoggerConstants","MessengerView","Parent","ParticipantId.bs","QuickPerformanceLogger","ReactDOMLegacy_DEPRECATED","ReasonReact.bs","SubscriptionsHandler","ThreadId.bs","UserAgent","WorkChatThreadlistTabsReact.bs","WorkGalahadChatPinnedThreadsInlineEditor.react","WorkGalahadChatsThreadlistHeader.react","WorkGalahadNavHeaderPressableAction.react","WorkGalahadNavTextHeader.react","WorkGalahadNavTextHeaderReact.bs","WorkGalahadNewMessageRowReact.bs","bs_array","bs_belt_Array","bs_belt_Map","bs_belt_Option","bs_belt_Set","bs_caml","bs_caml_array","bs_caml_obj","bs_caml_option","bs_curry","bs_js_dict","debounce","getMessengerThreadlistWorkDenseMode","gkx","immutable","qex","qpl","react","setTimeout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=b("qex")._("1507")===!0;function m(a,c,d){if(d===void 0)return!1;if(!(a.length>0&&c.length>0))return!1;a=b("bs_caml_array").get(a,0);c=b("bs_caml_array").get(c,0);if(a.unread_count>0&&a.thread_id!==b("bs_caml_option").valFromOption(d)&&a!==c)return b("MercuryThreadInfo").isMuted(a);else return!1}function n(a,c){var d=a.ctrlKey,e=a.metaKey,f=a.shiftKey,g=b("KeyEventController").filterEventTypes(a,c);c=b("KeyEventController").filterEventTargets(a,c);a=b("Parent").bySelector(a.target,"._150g");if(d||e||f||!(g&&c))return!1;else return(a==null?void 0:b("bs_caml_option").some(a))===void 0}function o(a,c){var d=a.ctrlKey,e=a.metaKey,f=b("UserAgent").isPlatform("Mac OS X"),g=b("UserAgent").isPlatform("iOS");c=b("KeyEventController").filterEventTypes(a,c);a=b("Parent").bySelector(a.target,"._150g");a=a==null?void 0:b("bs_caml_option").some(a);if(d)if(e||f||g||!c)return!1;else return a===void 0;else if(e)if(f)if(g||!c)return!1;else return a===void 0;else if(g&&c)return a===void 0;else return!1;else return!1}a=b("UserAgent").isPlatform("Mac OS X")||b("UserAgent").isPlatform("iOS")?"Cmd":"Ctrl";var p="K",q=a+" + K";function r(a,c){c.state.scrollable.contents=a==null?void 0:b("bs_caml_option").some(a)}function s(a,c,d){var e=d.findIndex(function(c){if(a!==void 0)return c.thread_id===b("bs_caml_option").valFromOption(a);else return!1});e=b("bs_caml").caml_int_min(b("bs_caml").caml_int_max(e+c|0,0),d.length-1|0);return b("bs_caml_array").get(d,e).thread_id}function t(a,c){a.preventDefault();a=c.state.searchInputNode.contents;if(a!==void 0)if(l){b("MessengerSearchActions").enterUniversalSearch();return}else return b("bs_caml_option").valFromOption(a).focusInput()}function u(a,c){c.state.searchInputNode.contents=a==null?void 0:b("bs_caml_option").some(a)}function v(a,c){var d=c.state;b("setTimeout")(function(c){c=d.scrollable.contents;if(c!==void 0){b("MessengerTypeaheadUtils").scrollEntryIntoView(a,b("bs_caml_option").valFromOption(c));return}},0)}function w(a){a.preventDefault(),b("MessengerActions").changeFolder("other")}function x(a){a.preventDefault(),b("MessengerActions").changeFilter(b("MercuryFilters.bs").all),b("MessengerActions").changeFolder("inbox")}function y(a,c,d,e){var f=[];Object.keys(c).forEach(function(d){d=b("bs_js_dict").get(c,d);if(d===void 0)return;var e=d[1];d=d[0];if(d==null)return;d=b("ReactDOMLegacy_DEPRECATED").findDOMNode(d).getBoundingClientRect();if(d.top>a.top-10&&d.bottom<a.bottom+10){f.push({threadID:e.thread_id,unread:e.unread_count>0});return}});if(f.length<=0)return;var g=f.map(function(a){return b("MercuryIDs").getThreadKeyfromThreadIDUserID(a.threadID,e)});g=g.join(",");return b("MessageRequestLogger.bs").logItemImpression(f,g,d)}var z=b("debounce")(function(a){var c=a[1];a=a[0];var d=a.scrollable.contents;if(d===void 0)return;d=b("bs_caml_option").valFromOption(d).getArea();if(d==null)return;d=d.getElement().getBoundingClientRect();y(d,a.pendingNodes,"pending",c);return y(d,a.otherNodes,"other",c)},500);function A(a,b,c){c=c.state;if(a.folder==="pending"){c.pendingNodes[a.thread_id]=[b,a];return}else if(a.folder==="other"){c.otherNodes[a.thread_id]=[b,a];return}else return}function B(a,c){return b("bs_curry")._1(a.send,{TAG:2,_0:c})}function C(a,c,d,e,f,g,h,i,j){var k=d.state;a=a!==void 0?b("bs_caml_option").valFromOption(a)===j.thread_id:!1;var l=k.focusedThreadID;l=l!==void 0;var m=k.focusedThreadID;m=m!==void 0?b("bs_caml_option").valFromOption(m)===j.thread_id:!1;l=a?l&&!m?!1:!0:m?!0:!1;return b("ReasonReact.bs").element(j.thread_id,j.folder==="pending"||j.folder==="other"?b("bs_curry")._1(d.handle,function(a,b){return A(j,a,b)}):function(a){},b("MessengerThreadlistRowContainerReact.bs").make(e,a,m,h,k.isThreadActionMenuFocused,i,l,b("bs_curry")._1(d.state.memoizedOnFocus,[d,B]),b("bs_curry")._1(d.state.memoizedHandleScrollIntoView,[d,v]),j,c,g,f,[]))}function D(a,c){var d=c.state;c=a[2];var e=a[1],f=a[0],g=e==null?b("MessengerSearchFunnelLoggerConstants").OTHER:e===b("MercuryTypeaheadConstants").FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_CONTACT:e===b("MercuryTypeaheadConstants").NON_FRIEND_TYPE?b("MessengerSearchFunnelLoggerConstants").USER_NON_CONTACT:e===b("MercuryTypeaheadConstants").FB4C_TYPE?b("MessengerSearchFunnelLoggerConstants").COWORKER:e===b("MercuryTypeaheadConstants").GAME_TYPE?b("MessengerSearchFunnelLoggerConstants").GAME:e===b("MercuryTypeaheadConstants").INTERNAL_BOT_PAGE_TYPE||e===b("MercuryTypeaheadConstants").COMMERCE_PAGE_TYPE||e===b("MercuryTypeaheadConstants").MEETING_ROOM_PAGE_TYPE||e===b("MercuryTypeaheadConstants").PAGE_TYPE?b("MessengerSearchFunnelLoggerConstants").PAGE:e===b("MercuryTypeaheadConstants").THREAD_TYPE?b("MessengerSearchFunnelLoggerConstants").GROUP:e===b("MercuryTypeaheadConstants").MESSAGE_TYPE?b("MessengerSearchFunnelLoggerConstants").MESSAGE:b("MessengerSearchFunnelLoggerConstants").OTHER;c!==void 0?b("MessengerState.bs").getThreadMeta(b("CurrentUser").getID(),f,b("bs_curry").__1(c),null):g===b("MessengerSearchFunnelLoggerConstants").MESSAGE?b("MessengerSearchActions").searchForMessagesInAThread(f,d.queryString):b("MessengerActions").selectThread(f,e);a=d.queryString;var h=a===""?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._5(a.logResultSelected,d.queryString,f,g,h,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerThreadlistReact.bs")}var E=b("MessengerDotComAndInboxM4Check.bs").yes?"_3bll _6ybw":"_3bll";function F(a){a=b("getMessengerThreadlistWorkDenseMode")(a);if(a==null||a!=="QUICK_CHAT")return!1;else return!0}var G=b("ReasonReact.bs").reducerComponent("MessengerThreadlistReact");function H(a,c,d,e,f,g,h,j,y,A,B,H,aa,I,J,K,L,M,N,O,P,Q,R,S,T,U,ba,V,ca,W,da){var ea=U!==void 0?U:!0,X=function(d,e,f){var g=f.state,a=g.threads,c=g.pinnedThreads;d=typeof d==="number"?d!==0?a.length-1|0:(-a.length|0)-1|0:d._0;var h=e.altKey,i=b("Parent").bySelector(e.target,"._4rv3"),j=g.focusedThreadID,k=b("Parent").bySelector(e.target,"._1ht1");if(h&&!(i==null)){if(g.isNewMessageActive)if(d===1&&a.length>0){b("MessengerActions").selectThread(b("bs_caml_array").get(a,0).thread_id,null);return}else return;h=function(d,c){return c.findIndex(function(c){return c===b("bs_caml_array").get(a,d)})};i=function(c,a,d){c=c;var e=!1;while(!e)b("bs_caml_array").get(a,c).is_pinned===!1?e=!0:c=c+d|0;return c};var l=a.findIndex(function(a){var c=g.activeThreadID;if(c!==void 0)return b("bs_caml_option").valFromOption(c)===a.thread_id;else return!1});if(l===-1)return;var m=c.length>0?b("bs_caml_array").get(c,c.length-1|0)===b("bs_caml_array").get(a,l):!1,n=l===i(0,a,1),o=b("bs_caml_array").get(a,l).is_pinned,p,q=0;o?m?n?q=2:p=c.length===a.length?b("bs_caml_array").get(a,l):d<0&&c.length>1?b("bs_caml_array").get(c,c.length-2|0):c.length===1&&d<0?b("bs_caml_array").get(a,l):b("bs_caml_array").get(a,i(0,a,d)):n?q=2:p=h(l,c)===0&&d<0?b("bs_caml_array").get(a,l):b("bs_caml_array").get(c,h(l,c)+d|0):m?q=2:p=n?c.length>0&&d<0?b("bs_caml_array").get(c,c.length-1|0):b("bs_caml_array").get(a,i(l+d|0,a,d)):l===(a.length-1|0)&&d>0?b("bs_caml_array").get(a,l):b("bs_caml_array").get(a,l+d|0).is_pinned===!0?b("bs_caml_array").get(a,i(l+d|0,a,d)):b("bs_caml_array").get(a,l+d|0);q===2&&(p=b("bs_caml_array").get(a,l+d|0));b("MessengerActions").selectThread(p.thread_id);g.isComposing&&l===0&&d===-1&&b("MessengerActions").changeDetailView(b("MessengerView").DETAIL.COMPOSE);if(l===(a.length-1|0))return b("bs_curry")._1(g.onLoadMoreRequest,void 0);else return}if(j!==void 0&&!(k==null)){e.preventDefault();return b("bs_curry")._1(f.send,{TAG:3,_0:d})}},Y=function(a,c){a.stopPropagation();b("MessengerComposerActions").exitComposeStateAbandonSearch();if(!y)return;c=K.find(function(a){return a.unread_count===0});b("MessengerActions").selectThread(c!==void 0?c.thread_id:null,null)},fa=function(a,c){a.preventDefault();return b("bs_curry")._1(H,void 0)},ga=function(a,c,d,e){if(a!==void 0){if(a)return null;a=2}else a=2;if(a===2&&c!==void 0&&c)return k.jsx("div",{className:"_19hf",children:k.jsx(b("MessengerSpinnerReact.bs").make,{})});a=e.scrollable.contents;if(a!==void 0){b("bs_caml_option").valFromOption(a).isScrolledToBottom()&&b("bs_curry")._1(H,void 0);return null}else return k.jsx("div",{className:"_19hf",children:k.jsx(b("Link.react"),{href:"#",onClick:b("bs_curry")._1(d.handle,fa),tabIndex:-1,children:i._("Show older")})})},Z=S!==void 0?S:!1,ha=function(d,e){var g=b("immutable").Map(b("bs_array").map(function(d){return[b("MercuryIDs").getThreadFBIDFromThreadID(d.thread_id),C(a,M,e,f,c,N,Z,R,d)]},d));d=b("immutable").List(b("bs_array").map(function(a){return b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)},d));var h=b("getMessengerThreadlistWorkDenseMode")(Z);return k.createElement(b("WorkGalahadChatPinnedThreadsInlineEditor.react"),{ids:d,renderedItemsByID:g,itemSize:h==null?"medium":"small",onChange:function(a){return b("bs_curry")._1(e.send,{TAG:4,_0:a})}})},$=function(a,c){c=c.state.pinnedThreadsNewOrderTs;c=c!==void 0?b("bs_belt_Map").get(b("bs_caml_option").valFromOption(c),a.thread_id):void 0;a=a.thread_pin_timestamp;if(a==null)if(c!==void 0)return c;else return;else if(c!==void 0)return c>a?c:a;else return a},ia=function(d,e){if(d.length<1)return null;else{b("bs_array").stable_sort(function(a,b){a=$(a,e);b=$(b,e);if(a!==void 0)if(b!==void 0)return a-b|0;else return 1;else if(b!==void 0)return-1;else return 0},d);return k.jsxs(b("MessengerThreadListGridWrapper.react"),{label:i._("Pinned conversations"),children:[b("gkx")("932014")&&!F(Z)?e.state.isEditingPinnedThreads?k.jsx(b("WorkGalahadNavTextHeader.react"),b("WorkGalahadNavTextHeaderReact.bs").makeProps(i._("Pinned"),i._("Drag to reorder"),b("bs_caml_option").some(k.jsx(b("WorkGalahadNavHeaderPressableAction.react"),{title:i._("Save"),onClick:function(a){return b("bs_curry")._1(e.send,7)}})),!1,void 0,void 0)):k.jsx(b("WorkGalahadNavTextHeader.react"),b("WorkGalahadNavTextHeaderReact.bs").makeProps(i._("Pinned"),void 0,b("bs_caml_option").some(k.jsx(b("WorkGalahadNavHeaderPressableAction.react"),{title:i._("Edit"),onClick:function(a){return b("bs_curry")._1(e.send,8)}})),!1,void 0,void 0)):null,e.state.isEditingPinnedThreads?ha(d,e):d.map(function(b){return C(a,M,e,f,c,N,Z,R,b)})]})}},ja=function(d){if(K.length===0&&j===!1)if(b("MessengerDotComAndInboxM4Check.bs").yes&&I!==void 0){if(I==="")return null;var g=i._("We couldn't find any matches for \"{query}.\" Try checking for typos or using complete words.",[i._param("query",I)]);return k.jsxs("div",{className:"_8b0j",children:[k.jsx("span",{className:"_8b0k",children:i._("No messages found")}),k.jsx("span",{className:"_8b0l",children:g})]})}else{g=f==="inbox"?e===b("MercuryFilters.bs").unread?i._("No unread messages"):i._("No messages found."):f==="pending"?i._("No message requests found."):i._("No spam messages found.");var h=f!=="inbox"||e!==b("MercuryFilters.bs").all?k.jsx(b("Link.react"),{onClick:x,children:i._("Return to chats")}):null;return k.jsxs("div",{className:"_3blk",children:[g,k.jsx("div",{className:E,children:h})]})}else return k.jsx(b("MessengerThreadListGridWrapper.react"),{label:i._("Conversation list"),children:K.map(function(e){if(e.is_pinned===!0&&(b("CurrentUser").isWorkUser()||b("MessengerConfig").MPT>0))return null;else return C(a,M,d,f,c,N,Z,R,e)})})},ka=function(a){var c=function(d,e){var c=b("Parent").bySelector(e.target,"._1ht1");if(!(c==null)){e.preventDefault();return b("bs_curry")._1(a.send,{TAG:1,_0:d})}},d=new(b("SubscriptionsHandler"))(),e=b("CurrentUser").isWorkUser()?[function(a,c){return b("KeyEventController").registerKey(a,c)},function(a,c,d){return b("KeyEventController").registerKey(a,c,d)}]:[function(a,c){return b("KeyEventController").registerKeyAcrossTransitions(a,c)},function(a,c,d){return b("KeyEventController").registerKeyAcrossTransitions(a,c,d)}],f=e[1];e=e[0];var g={_0:-1},h={_0:1},i={_0:-5},j={_0:5};d.addSubscriptions(b("bs_curry")._3(f,"UP",b("bs_curry")._1(a.handle,function(a,b){return X(g,a,b)}),n),b("bs_curry")._3(f,"DOWN",b("bs_curry")._1(a.handle,function(a,b){return X(h,a,b)}),n),b("bs_curry")._2(e,"PAGE_UP",b("bs_curry")._1(a.handle,function(a,b){return X(i,a,b)})),b("bs_curry")._2(e,"PAGE_DOWN",b("bs_curry")._1(a.handle,function(a,b){return X(j,a,b)})),b("bs_curry")._2(e,"HOME",b("bs_curry")._1(a.handle,function(a,b){return X(0,a,b)})),b("bs_curry")._2(e,"END",b("bs_curry")._1(a.handle,function(a,b){return X(1,a,b)})),b("bs_curry")._2(e,"LEFT",function(a){return c(!1,a)}),b("bs_curry")._2(e,"RIGHT",function(a){return c(!0,a)}),b("bs_curry")._3(f,p,b("bs_curry")._1(a.handle,t),o));return b("bs_curry")._1(a.onUnmount,function(a){d.release()})};return{debugName:G.debugName,reactClassInternal:G.reactClassInternal,handedOffState:G.handedOffState,getDerivedStateFromProps:function(c){var d=c.scrollable.contents;d=d!==void 0?b("bs_caml_option").valFromOption(d).isScrolledToTop():!1;var e=m(K,c.threads,a),h=0;if(d||!e)h=2;else if(I!==void 0){e=b("bs_caml_obj").caml_obj_dup(c);e.folder=f;e.isNewMessageActive=y;e.onLoadMoreRequest=H;e.activeThreadID=a;e.isComposing=g;e.isEditingPinnedThreads=L.length===0?!1:c.isEditingPinnedThreads;e.pinnedThreads=L;e.threads=K;e.showNewMessagesNotice=!0;e.queryString=I.length===0?I:c.queryString;return e}if(h===2&&I!==void 0){e=b("bs_caml_obj").caml_obj_dup(c);e.folder=f;e.isNewMessageActive=y;e.onLoadMoreRequest=H;e.activeThreadID=a;e.isComposing=g;e.isEditingPinnedThreads=L.length===0?!1:c.isEditingPinnedThreads;e.pinnedThreads=L;e.threads=K;e.showNewMessagesNotice=c.showNewMessagesNotice&&!d;e.queryString=I.length===0?I:c.queryString;return e}h=b("bs_caml_obj").caml_obj_dup(c);h.folder=f;h.isNewMessageActive=y;h.onLoadMoreRequest=H;h.activeThreadID=a;h.isComposing=g;h.isEditingPinnedThreads=L.length===0?!1:c.isEditingPinnedThreads;h.pinnedThreads=L;h.threads=K;return h},didMount:function(a){W!==void 0&&W===!0||ka(a);b("QuickPerformanceLogger").markerStartFromNavStart(b("qpl")._(25296901,"3618"));b("QuickPerformanceLogger").markerEnd(b("qpl")._(25296901,"3618"),"SUCCESS");return z([a.state,M])},didUpdate:function(a){var c=a.newSelf;a=a.oldSelf;c.state.folder!==f&&z([c.state,M]);var d=c.state.isSearchFocused!==a.state.isSearchFocused;a=g&&!a.state.isComposing;c=c.state.scrollable.contents;if(d&&a&&c!==void 0){b("bs_caml_option").valFromOption(c).scrollToTop();return}},willUnmount:G.willUnmount,shouldUpdate:G.shouldUpdate,render:function(a){var c=a.state,l=c.showNewMessagesNotice&&!c.isSearchFocused,m=b("MessengerGalahadGating.bs").isGalahadUIEnabled(void 0),n=e===b("MercuryFilters.bs").unread?b("bs_belt_Array").keep(L,function(a){return a.unread_count>0}):L,o=!c.isSearchFocused&&b("MessengerConfig").MPT>0&&n.length>0&&f==="inbox",p=b("CurrentUser").isWorkUser()&&!c.isSearchFocused&&n.length>0&&(e===b("MercuryFilters.bs").all||e===b("MercuryFilters.bs").unread)&&f==="inbox",s=i._("Conversations"),t=I!==void 0,x=O!==void 0?O:!1,z=P!==void 0?P:!1,C=Q!==void 0?Q:!1,E=V!==void 0?V:b("CurrentUser").isWorkUser()?i._("Search chats{keyboard shortcut help}",[i._param("keyboard shortcut help",c.isSearchFocused?"":" ("+(q+")"))]):i._("Search Messenger"),F,G=0;T!==void 0&&T?F=null:G=1;G===1&&(F=f==="inbox"?b("ReasonReact.bs").element(void 0,b("bs_curry")._1(a.handle,u),b("MessengerGraphQLSearchTypeaheadReact.bs").make("_5iwm"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6-_b":"")+(c.isSearchFocused||c.queryString.length!==0?" _5iwn":"")+" _150g",ea,!1,!1,!1,c.queryString===""&&!t,t,c.isSearchFocused,function(d){if(t)return b("bs_curry")._1(a.send,1);var e=c.queryString===""?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._5(a.endFunnel,b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.ABANDON,"",e,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerThreadlistReact.bs");return b("bs_curry")._1(a.send,2)},function(c){c=c.target.value;return b("bs_curry")._1(a.send,{TAG:0,_0:c})},function(c){d!==void 0&&b("bs_curry")._1(d,void 0);return b("bs_curry")._1(a.send,3)},function(c){if(t)return b("bs_curry")._1(a.send,4);else return b("bs_curry")._1(a.send,0)},b("bs_curry")._1(a.state.memoizedHandleScrollIntoView,[a,v]),function(d,e){var f=c.queryString===""?b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.NULL_STATE:b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_SURFACES.TYPEAHEAD;b("bs_curry")._2(a.handle,D,[d,e,R]);b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._5(a.endFunnel,b("MessengerUniversalSearchFunnelLoggerConstants").END_REASONS.END_ACTION,b("MessengerUniversalSearchFunnelLoggerConstants").END_ACTIONS.RESULT_SELECTED,"",f,b("MessengerUniversalSearchFunnelLoggerConstants").RESULT_PAGES.FIRST)},"MessengerThreadlistReact.bs")},E,c.queryString,!0,!0,"_11_d"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _705p":"")+(c.queryString.length<2?" _8cg4":""),M,ba,ca,[])):m?k.jsx("div",{className:"_7cyu"}):null);return k.jsxs("div",{className:"_2xhi"+(b("MessengerConfig").MPT>0?" _6q63":""),children:[k.jsx(b("ChatSidebarSheet.react"),{className:"_p0g",viewer:M}),k.createElement(b("MessengerNewMessagesNoticeReact.bs").make,{isOpen:l,onClick:function(c){c.preventDefault();return b("bs_curry")._1(a.send,6)}}),b("ReasonReact.bs").element(void 0,b("bs_curry")._1(a.handle,r),b("MessengerFlexScrollableAreaReact.bs").make(function(c){return b("bs_curry")._1(a.send,5)},"_3_e8"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7slg":"")+(b("MessengerDotComAndInboxM4Check.bs").yes&&c.isScrolled?" _7slh":""),A,C,[F,m&&!c.isSearchFocused&&!x?k.jsx(b("WorkGalahadChatsThreadlistHeader.react"),{filter:e,folder:f,viewer:M,shouldShowEditPinnedThreads:b("gkx")("932014")&&(p||o),isEditingPinnedThreads:c.isEditingPinnedThreads,toggleEditingPinnedThreads:function(d){if(c.isEditingPinnedThreads)return b("bs_curry")._1(a.send,7);else return b("bs_curry")._1(a.send,8)}}):null,p||o?k.jsxs("div",{children:[ia(n,a),o||z?null:k.jsx("div",{className:"_1s38"})]}):null,f==="pending"?k.jsx("div",{className:"_5u15",children:k.createElement(b("MessengerMessageRequestsInfoReact.bs").make,{})}):null,k.jsxs("div",{"aria-label":s,className:c.isSearchFocused&&!t?"accessible_elem":"",role:"navigation",children:[f==="inbox"&&B.length>0?k.createElement(b("MessengerThreadlistMessageRequestsRowReact.bs").make,{pendingFolderUnseenCount:aa,newMessageRequestThreads:B,viewer:M}):null,g?m?b("ReasonReact.bs").element(void 0,void 0,b("WorkGalahadNewMessageRowReact.bs").make(y,b("bs_curry")._1(a.handle,Y),[])):b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadlistNewMessageRowReact.bs").make(y,b("bs_curry")._1(a.handle,Y),[])):null,ja(a),f==="pending"&&!b("CurrentUser").isWorkUser()?b("MessengerThreadlistLinkRowReact.bs").make(w):null,J!==void 0?b("bs_curry")._1(J,void 0):ga(h,j,a,c)]})])),b("gkx")("1817606")?k.createElement(b("MessengerThreadlistFooterDesktopAppLink.bs").make,{}):null,b("CurrentUser").isWorkUser()&&!m&&b("gkx")("678606")?k.createElement(b("WorkChatThreadlistTabsReact.bs").make,{filter:e,folder:f,view:b("MessengerView").MASTER.RECENT,viewer:M}):null]})},initialState:function(c){return{focusedThreadID:void 0,isSearchFocused:!1,isThreadActionMenuFocused:!1,queryString:b("bs_belt_Option").getWithDefault(I,""),searchInputNode:{contents:void 0},showNewMessagesNotice:!1,scrollable:{contents:void 0},isScrolled:!1,pendingNodes:{},otherNodes:{},threads:K,pinnedThreads:L,pinnedThreadsNewOrderTs:void 0,isEditingPinnedThreads:!1,isComposing:g,searchFunnelState:void 0,activeThreadID:a,onLoadMoreRequest:H,isNewMessageActive:y,folder:f,memoizedHandleScrollIntoView:b("ReasonReact.bs").Props.memoize(function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[0].handle,a[1])}),memoizedOnFocus:b("ReasonReact.bs").Props.memoize(function(a,b){return a[1]===b[1]},function(a){return b("bs_curry")._1(a[1],a[0])})}},retainedProps:G.retainedProps,reducer:function(c,d){if(typeof c==="number")switch(c){case 0:var e=new(b("MessengerSearchFunnelState"))();e.setSessionID(0);b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(a){return b("bs_curry")._3(a.startFunnel,b("MessengerUniversalSearchFunnelLoggerConstants").ENTRY_SURFACES.INBOX,b("MessengerUniversalSearchFunnelLoggerConstants").INTERFACES.MESSENGER_DOT_COM,e)},"MessengerThreadlistReact.bs");l&&b("MessengerSearchActions").enterUniversalSearch();var f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.searchFunnelState=b("bs_caml_option").some(e),f.isSearchFocused=!0,f)};case 1:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.isSearchFocused=!1,f)};case 2:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.queryString="",f.isSearchFocused=!1,f)};case 3:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.searchFunnelState=void 0,f.queryString="",f)};case 4:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.isSearchFocused=!0,f)};case 5:if(d.isSearchFocused)return 0;f=d.scrollable.contents;if(f===void 0)return 0;f=b("bs_caml_option").valFromOption(f);var g=f.isScrolledToTop(),h=b("bs_caml_obj").caml_obj_dup(d);h.isScrolled=!g;f=f.isScrolledToBottom();var i=d.showNewMessagesNotice;if(f){if(g&&i){f=b("bs_caml_obj").caml_obj_dup(h);return{TAG:2,_0:(f.showNewMessagesNotice=!1,f),_1:function(a){b("bs_curry")._1(H,void 0);return z([a.state,M])}}}return{TAG:2,_0:h,_1:function(a){b("bs_curry")._1(H,void 0);return z([a.state,M])}}}if(g&&i){f=b("bs_caml_obj").caml_obj_dup(h);return{TAG:2,_0:(f.showNewMessagesNotice=!1,f),_1:function(a){return z([a.state,M])}}}return{TAG:2,_0:h,_1:function(a){return z([a.state,M])}};break;case 6:g=b("bs_caml_obj").caml_obj_dup(d);return{TAG:2,_0:(g.showNewMessagesNotice=!1,g),_1:function(a){a=a.state.scrollable.contents;if(a!==void 0){b("bs_caml_option").valFromOption(a).scrollToTop();return}}};case 7:i=b("bs_caml_obj").caml_obj_dup(d);return{TAG:2,_0:(i.isEditingPinnedThreads=!1,i),_1:function(a){b("bs_array").stable_sort(function(b,c){b=$(b,a);c=$(c,a);if(b!==void 0)if(c!==void 0)return b-c|0;else return 1;else if(c!==void 0)return-1;else return 0},L),b("MercuryThreadActions").getForFBID(b("CurrentUser").getID()).bulkPinThreadsUpdate(b("bs_belt_Array").map(L,function(a){return a.thread_id}),b("ChatPinnedThreadsEntryPoint").INBOX_EDIT_ORDER_SCREEN)}};case 8:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.isEditingPinnedThreads=!0,f)}}else switch(c.TAG|0){case 0:var a=c._0;b("Bootloader").loadModules(["MessengerUniversalSearchFunnelLogger.bs"],function(c){return b("bs_curry")._1(c.logQueryChanged,a)},"MessengerThreadlistReact.bs");h=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(h.queryString=a,h)};case 1:g=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(g.isThreadActionMenuFocused=c._0,g)};case 2:i=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(i.focusedThreadID=b("bs_caml_option").some(c._0),i)};case 3:f=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(f.focusedThreadID=b("bs_caml_option").some(s(d.focusedThreadID,c._0,K)),f)};case 4:var j=b("bs_belt_Array").reduce(L,b("bs_belt_Map").make(b("FBID.bs")),function(a,c){return b("bs_belt_Map").set(a,b("MercuryIDs").getThreadFBIDFromThreadID(c.thread_id),c)});h=b("bs_belt_Array").keepMap(c._0.toArray(),function(a){return b("bs_belt_Map").get(j,a)});var k={contents:Date.now()};g=b("bs_belt_Array").reduce(h,b("bs_belt_Map").make(b("ThreadId.bs")),function(a,c){k.contents=k.contents+1;return b("bs_belt_Map").set(a,c.thread_id,k.contents)});i=b("bs_caml_obj").caml_obj_dup(d);return{TAG:0,_0:(i.pinnedThreadsNewOrderTs=b("bs_caml_option").some(g),i)}}},jsElementWrapped:G.jsElementWrapped}}c=b("ReasonReact.bs").wrapReasonForJs(G,function(a){var c=a.blockedIds,d=a.isComposing;return H(b("bs_caml_option").nullable_to_opt(a.activeThreadID),c==null?b("bs_belt_Set").make(b("ParticipantId.bs")):c,b("bs_caml_option").nullable_to_opt(a.handleClear),a.filter,a.folder,d==null?!1:d,b("bs_caml_option").nullable_to_opt(a.isLoaded),b("bs_caml_option").nullable_to_opt(a.isLoading),a.isNewMessageActive,b("bs_caml_option").nullable_to_opt(a.maxHeight),a.newMessageRequestThreads,a.onLoadMoreRequest,a.pendingFolderUnseenCount,b("bs_caml_option").nullable_to_opt(a.queryString),b("bs_caml_option").nullable_to_opt(a.renderLoadMore),a.threads,b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(a.pinnedThreads),[]),a.viewer,a.readReceipts,b("bs_caml_option").nullable_to_opt(a.hideThreadListHeader),b("bs_caml_option").nullable_to_opt(a.hidePinnedThreadSeparator),b("bs_caml_option").nullable_to_opt(a.skipViewportHeightCalculationForScrollarea),b("bs_caml_option").nullable_to_opt(a.onOverrideSelect),b("bs_caml_option").nullable_to_opt(a.isDenseRow),b("bs_caml_option").nullable_to_opt(a.hideSearchBox),a.enableMessageSearch,b("bs_caml_option").nullable_to_opt(a.searchResultRowComponent),b("bs_caml_option").nullable_to_opt(a.searchPlaceholder),b("bs_caml_option").nullable_to_opt(a.searchInputPortalRef),b("bs_caml_option").nullable_to_opt(a.shouldDisableShortcuts),[])});d=10;f.shouldUseSearchRefactor=l;f.hasNewUnreadMessages=m;f.filterKeyEvent=n;f.filterPlatformSpecificModifierKey=o;f.platformSpecificModiferKeyLabel=a;f.searchKeyboardMainKey=p;f.searchKeyboardShortcut=q;f.setScrollable=r;f.getFocusedThreadId=s;f.handleFocusSearchBar=t;f.setSearchInputNode=u;f.handleScrollIntoView=v;f.handleFilteredRequestsClick=w;f.handleReturnToInboxClick=x;f.impressionOffset=d;f.logNodeImpressions=y;f.checkAndUpdateMessageRequestImpressions=z;f.setter=A;f.onFocus=B;f.renderThread=C;f.handleSelect=D;f.emptyInboxLinkClasses=E;f.isQuickChat=F;f.component=G;f.make=H;f.jsComponent=c}),null);
__d("MessengerAdPreviewThreadList.react",["cx","CurrentUser","ImmutableObject","MercuryFilters.bs","MessagingTag","MessengerMasterViewHeaderReact.bs","MessengerReadReceipt.bs","MessengerSearchTypeahead.react","MessengerThreadlistReact.bs","MessengerView","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){function b(a,b){return b?[a,b].join(":"):""}return i.jsxs("div",{className:a.className,children:[i.jsx(d("MessengerMasterViewHeaderReact.bs").jsComponent,{filter:d("MercuryFilters.bs").all,folder:c("MessagingTag").INBOX,view:c("MessengerView").MASTER.RECENT,viewer:c("CurrentUser").getAccountID()}),i.jsx(c("MessengerSearchTypeahead.react"),{viewer:c("CurrentUser").getAccountID(),onSelect:c("emptyFunction")}),a.pageID&&a.pageName&&i.jsx("div",{className:"_4zg8",children:i.jsx(d("MessengerThreadlistReact.bs").jsComponent,{filter:d("MercuryFilters.bs").all,folder:"ads",newMessageRequestThreads:[new(c("ImmutableObject"))({})],readReceipts:d("MessengerReadReceipt.bs").emptyReadReceipts,threads:[new(c("ImmutableObject"))({is_subscribed:!0,name:a.pageName,other_user_fbid:a.pageID,participants:[b("fbid",a.pageID),b("fbid",c("CurrentUser").getAccountID())],snippet:a.message,thread_id:b("user",a.pageID),timestamp:Date.now(),unread_count:1})],viewer:c("CurrentUser").getAccountID(),onLoadMoreRequest:c("emptyFunction")})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("adsMessengerDataModelGetMediaFormat",["AdsMessengerJSONPaths","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("getByPath")(a,c("AdsMessengerJSONPaths").MEDIA_TYPE)}g["default"]=a}),98);
__d("adsMessengerDataModelIsTextWithQR",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelGetMediaFormat","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetMediaFormat")(a);return b===c("AdsMessengerJSONMediaFormatType").TEXT?!c("getByPath")(a,c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.path):!1}g["default"]=a}),98);
__d("adsMessengerDataModelGetAttachmentText",["AdsMessengerJSONPaths","adsMessengerDataModelIsTextWithQR","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelIsTextWithQR")(a)?c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.SECOND_TEXT:c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.TEXT;return c("getByPath")(a,b)}g["default"]=a}),98);
__d("adsMessengerDataModelGetGenericElement",["AdsMessengerJSONPaths","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS;a=c("getByPath")(a,b);return a&&a[0]}g["default"]=a}),98);
__d("adsMessengerDataModelGetGenericTitle",["adsMessengerDataModelGetGenericElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("adsMessengerDataModelGetGenericElement")(a);return a&&a.title}g["default"]=a}),98);
__d("adsMessengerDataModelGetIceBreakers",["AdsMessengerJSONMediaFormatType","adsMessengerDataModelGetMediaFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetMediaFormat")(a);switch(b){case c("AdsMessengerJSONMediaFormatType").IMAGE:return a.image_format.message.ice_breakers;case c("AdsMessengerJSONMediaFormatType").TEXT:return a.text_format.message.ice_breakers;case c("AdsMessengerJSONMediaFormatType").VIDEO:return a.video_format.message.ice_breakers;default:return null}}g["default"]=a}),98);
__d("adsMessengerDataModelGetImageHash",["adsMessengerDataModelGetGenericElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("adsMessengerDataModelGetGenericElement")(a);return a&&a.image_hash}g["default"]=a}),98);
__d("adsMessengerDataModelGetJSONPayload",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==null)return null;var b=!!a.message_data,c=b?a.message_data:a;if(c instanceof Array)try{var d,e=c[0];e=e==null?void 0:(e=e.message)==null?void 0:e.attachment;return(d=e)==null?void 0:d.payload}catch(a){return null}if(b&&c instanceof Object){d=c;e=d==null?void 0:(b=d.message)==null?void 0:b.attachment;return(c=e)==null?void 0:c.payload}e=(d=a.message)==null?void 0:d.attachment;return(b=e)==null?void 0:b.payload}f["default"]=a}),66);
__d("adsMessengerDataModelGetTemplateType",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelGetMediaFormat","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return null;var b=c("adsMessengerDataModelGetMediaFormat")(a);switch(b){case c("AdsMessengerJSONMediaFormatType").IMAGE:return c("getByPath")(a,c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.TYPE);case c("AdsMessengerJSONMediaFormatType").TEXT:return c("getByPath")(a,c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.TYPE);case c("AdsMessengerJSONMediaFormatType").VIDEO:return c("getByPath")(a,c("AdsMessengerJSONPaths").VIDEO_FORMAT.MESSAGE.ATTACHMENT.TYPE);default:b=!!a.message_data;var d=b?a.message_data:a;if(d instanceof Array)try{var e=JSON.parse(JSON.stringify(d)).length===1;return e?(e=d[0].message)==null?void 0:(e=e.attachment)==null?void 0:e.type:null}catch(a){return null}if(b&&d instanceof Object){return(e=d.message)==null?void 0:(b=e.attachment)==null?void 0:b.type}return(d=a.message)==null?void 0:(e=d.attachment)==null?void 0:e.type}}g["default"]=a}),98);
__d("adsMessengerDataModelGetImageID",["AdsImageIDUtils","adsMessengerDataModelGetImageHash","adsMessengerDataModelGetJSONPayload","adsMessengerDataModelGetTemplateType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return null;var b;try{b=JSON.parse(JSON.stringify(a)).length===1}catch(a){b=!1}if(a.message!=null||a.message_data!=null||a instanceof Array&&b){b=c("adsMessengerDataModelGetJSONPayload")(a);if(b==null)return null;var e=c("adsMessengerDataModelGetTemplateType")(a);if(e==null)return null;var f=null;if(e==="image")f=b.url;else if(e==="template"){e=b.elements;b=e&&e[0];f=b==null?void 0:b.image_url}return d("AdsImageIDUtils")._getImageID(null,null,f)}e=c("adsMessengerDataModelGetImageHash")(a);if(e==null||e=="")return null;b=e&&e.split(":");f=b&&b[0];a=b&&b[1];if(!a||!f)return null;f=f.trim();a=a.trim();return d("AdsImageIDUtils").getImageID({accountID:f,hash:a})}g["default"]=a}),98);
__d("adsMessengerDataModelGetImageURL",["adsMessengerDataModelGetGenericElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return null;a=c("adsMessengerDataModelGetGenericElement")(a);return a==null?void 0:a.image_url}g["default"]=a}),98);
__d("adsMessengerDataModelGetPayload",["AdsMessengerJSONMediaFormatType","adsMessengerDataModelGetMediaFormat","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetMediaFormat")(a);switch(b){case c("AdsMessengerJSONMediaFormatType").IMAGE:return c("getByPath")(a,["image_format","message","attachment","payload"]);case c("AdsMessengerJSONMediaFormatType").TEXT:return c("getByPath")(a,["text_format","message","attachment","payload"]);case c("AdsMessengerJSONMediaFormatType").VIDEO:return c("getByPath")(a,["video_format","message","attachment","payload"]);default:return null}}g["default"]=a}),98);
__d("adsMessengerDataModelGetQuickReplies",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelGetMediaFormat","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return null;var b=c("adsMessengerDataModelGetMediaFormat")(a);switch(b){case c("AdsMessengerJSONMediaFormatType").IMAGE:return c("getByPath")(a,c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.QUICK_REPLIES);case c("AdsMessengerJSONMediaFormatType").VIDEO:return c("getByPath")(a,c("AdsMessengerJSONPaths").VIDEO_FORMAT.MESSAGE.QUICK_REPLIES);case c("AdsMessengerJSONMediaFormatType").TEXT:return c("getByPath")(a,c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.QUICK_REPLIES);default:b=!!a.message_data;var d=b?a.message_data:a;if(d instanceof Array)try{var e=JSON.parse(JSON.stringify(d)).length===1;return e?(e=d[0].message)==null?void 0:e.quick_replies:null}catch(a){return null}if(b&&d instanceof Object){return(e=d.message)==null?void 0:e.quick_replies}return(b=a.message)==null?void 0:b.quick_replies}}g["default"]=a}),98);
__d("adsMessengerDataModelGetSecondText",["AdsMessengerJSONPaths","adsMessengerDataModelIsTextWithQR","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(c("adsMessengerDataModelIsTextWithQR")(a)){var b=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.SECOND_TEXT;return c("getByPath")(a,b)}return null}g["default"]=a}),98);
__d("adsMessengerDataModelGetSurface",["AdsMessengerJSONPaths","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("getByPath")(a,c("AdsMessengerJSONPaths").SURFACE)}g["default"]=a}),98);
__d("adsMessengerDataModelGetWelcomeMessage",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelGetSurface","adsMessengerDataModelIsTextWithQR","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=c("adsMessengerDataModelGetMediaFormat")(a);switch(b){case c("AdsMessengerJSONMediaFormatType").IMAGE:return c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.TEXT;case c("AdsMessengerJSONMediaFormatType").TEXT:return c("adsMessengerDataModelGetSurface")(a)=="business_tools"?c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.TEXT:c("adsMessengerDataModelIsTextWithQR")(a)?c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.TEXT:c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.TEXT;case c("AdsMessengerJSONMediaFormatType").VIDEO:return c("AdsMessengerJSONPaths").VIDEO_FORMAT.MESSAGE.TEXT;default:return null}}function a(a){if(a==null)return null;var b=h(a);if(b)return c("getByPath")(a,b);b=!!a.message_data;var d=b?a.message_data:a;if(d instanceof Array)try{var e=JSON.parse(JSON.stringify(d)).length===1;return e?(e=d[0].message)==null?void 0:e.text:null}catch(a){return null}if(b&&d instanceof Object){return(e=d.message)==null?void 0:e.text}return(b=a.message)==null?void 0:b.text}g["default"]=a}),98);
__d("EmptyPreview.react",["ix","AdCampaignDestination","ClickToMessagingStrings","Image.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{backgroundColor:"x2izyaf",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",display:"x78zum5",flexDirection:"xdt5ytf",fontSize:"x1f6kntn",height:"x1a8k5vx",lineHeight:"x1ruc54x",paddingTop:"x1p5oq8j",paddingEnd:"xxbr6pl",paddingBottom:"xwxc41k",paddingStart:"xbbxn1n"},stop:{marginTop:"x1l4smid"}};function a(a){var b=a.className;a=a.destinationType;var e="";a===c("AdCampaignDestination").WHATSAPP?e=d("ClickToMessagingStrings").INVALID_PREVIEW_WHATSAPP:a===c("AdCampaignDestination").INSTAGRAM_DIRECT&&(e=d("ClickToMessagingStrings").INVALID_PREVIEW_INSTAGRAM_DIRECT);return i.jsx("div",{className:b,children:i.jsxs("div",{className:c("stylex")(j.root),children:[i.jsx("div",{className:c("stylex")(j.stop),children:i.jsx(c("Image.react"),{src:h("489536")})}),i.jsx("div",{className:c("stylex")(c("geoMargin").top12),children:e})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramDirectOnFeedPreviewBody.react",["cx","fbt","ix","FlexLayout.react","GeoList.react","GeoListGenericItem.react","Image.react","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=i._("Write your own message");function a(a){a=a.messages;return k.jsxs("div",{className:"_9225",children:[k.jsx("div",{className:"_9228",children:m(a)}),k.jsxs("div",{className:"_922c",children:[k.jsx("div",{className:"_922d",children:k.jsx(c("Image.react"),{src:j("528714")})}),k.jsx("div",{className:"_922e",children:l})]})]})}a.displayName=a.name+" [from "+f.id+"]";function m(a){a=Array.from(a).map(function(a,b){return k.jsx(c("GeoListGenericItem.react"),{children:k.jsxs(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_21op",justify:"all",children:[k.jsxs("div",{className:"_922a",children:['"',a,'"']}),k.jsx("div",{className:"_922b",children:i._("Send")})]})},a!=null?b.toString()+a:b.toString())});return k.jsx(c("GeoList.react"),{children:a})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramDirectOnFeedPreview.react",["AdCampaignDestination","InstagramDirectOnFeedPreviewBody.react","MessagingPreviewHeader.react","immutable","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=i(a.pageID,a.iceBreakers);b=(b=a.pageName)!=null?b:"";return h.jsx("div",{className:a.className,children:h.jsxs("div",{className:"xh8yej3 x10l6tqk x1odjw0f xib4v1x x1ey2m1c x10y3i5r xrt01vj xoqspk4 xfh8nwu x2izyaf",children:[h.jsx(c("MessagingPreviewHeader.react"),{destinationType:c("AdCampaignDestination").INSTAGRAM_DIRECT,igProfilePic:a.igProfilePic,igUsername:a.igUsername,message:a.message,pageName:b,responsiveness:a.responsiveness}),h.jsx(c("InstagramDirectOnFeedPreviewBody.react"),{messages:d})]})})}a.displayName=a.name+" [from "+f.id+"]";function i(a,b){if(a==null)return c("immutable").List([]);b=((a=b)!=null?a:[]).map(function(a){return a.title});return c("immutable").List(b)}g["default"]=a}),98);
__d("MarketMessagesEditTemplatePreview.react",["cx","AdCampaignDestination","CurrentUser","MercuryIDs","MessagingPreviewHeader.react","MessengerAdPreviewConversationUtils","MessengerComposerM4React.bs","MessengerLightspeedConversation.react","MessengerView","emptyFunction","immutable","makeMercuryThreadPayload","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=c("immutable").List([]),e=d("CurrentUser").getAccountID();e=d("MercuryIDs").getThreadIDFromUserID(e);if(a.pageID!=null){var f=[],g="fbid:"+a.pageID,h=a.payload,j=a.type;g={author:g,platform_xmd:a.platformXMD,thread_id:e};e=d("MessengerAdPreviewConversationUtils").isNotificationMessageTemplateType(j,h);a.message!=null&&f.push(d("MessengerAdPreviewConversationUtils").getMessage(g,"text_1:",!1,a.message,!1));e&&h!=null&&f.push(d("MessengerAdPreviewConversationUtils").getGenericTemplateTypeMessage(!1,h.elements,a.imageURL,g,!0));b=c("immutable").List(f)}return i.jsxs("div",{className:"xj6ak53 x1sliqq x1o9sqkb xpdqn1h xqui205 x127y5d4 x5yzy4c x1quq95r x1ht7hnu x8u2fvd x2izyaf xol47bg xwd3fjl xn3dp77 xzq4nro",children:[i.jsx("div",{className:"x47corl",children:i.jsx(c("MessagingPreviewHeader.react"),{destinationType:c("AdCampaignDestination").MESSENGER,isLightspeed:!1,pageName:a.pageName||"",pageProfileSrc:a.profileSrc,responsiveness:a.responsiveness})}),i.jsx(d("MessengerLightspeedConversation.react").MessengerLightspeedConversation,{isInThreadMultiphotoCarousel:!1,isMarketingMessage:!0,isSponsoredMessage:!1,messages:b,pageName:a.pageName||"",pageProfileSrc:a.profileSrc||"",type:a.type||"",videoUrl:""}),i.jsx(d("MessengerComposerM4React.bs").make,{canReply:!0,disableAutofocus:!1,disableInput:!1,fileUploader:void 0,hideActions:!1,mentionsEnabled:!0,p2pPaymentConfig:null,participants:c("immutable").OrderedMap(),recipients:void 0,replyingToMessage:null,sharePreview:void 0,showBotMenu:!1,thread:c("makeMercuryThreadPayload")(),threadFbid:"1",threadId:"1",view:d("MessengerView").DETAIL.THREAD,viewer:"1",onCancelReplyingToMessage:c("emptyFunction"),onCustomLikeSelect:function(){return!0},onMessageSend:function(){return!0},onPhotoUploadCancel:c("emptyFunction"),onPhotoUploadComplete:c("emptyFunction"),onPhotoUploadFail:c("emptyFunction"),onPhotoUploadSubmit:c("emptyFunction"),onResize:c("emptyFunction"),onStickerSelect:function(){return!0},onVoiceClipCreate:c("emptyFunction")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MicrophoneFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 12 13",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:h.jsxs("g",{transform:"translate(353.5 156)",children:[h.jsx("path",{fillRule:"nonzero",d:"M102 926.75 102 929 103 929 103 926.75z"}),h.jsx("path",{fillRule:"nonzero",d:"M100.5 929.5h4a.5.5 0 0 0 0-1h-4a.5.5 0 0 0 0 1z"}),h.jsx("path",{d:"M102.5 925a1.5 1.5 0 0 1-1.5-1.5v-4a1.5 1.5 0 1 1 3 0v4a1.5 1.5 0 0 1-1.5 1.5"}),h.jsx("path",{fillRule:"nonzero",d:"M102.5 925.5a2 2 0 0 1-2-2v-4a2 2 0 1 1 4 0v4a2 2 0 0 1-2 2zm0-1a1 1 0 0 0 1-1v-4a1 1 0 1 0-2 0v4a1 1 0 0 0 1 1z"}),h.jsx("path",{fillRule:"nonzero",d:"M105.5 923v.5a3 3 0 1 1-6 0v-.5a.5.5 0 0 0-1 0v.5a4 4 0 1 0 8 0v-.5a.5.5 0 0 0-1 0z"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("WhatsAppInAppMessagingPreviewHeader.react",["ix","Image.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="www.facebook.com/post...";function a(a){return i.jsxs("div",{className:"x1yc453h",children:[i.jsxs("div",{className:"x78zum5 x1xmf6yo x1gryazu x4ii5y1 xkrivgy xgqk73l xgk8upj x1qt0ttw xnhgr82 x1a2cdl4 x14h4ac0",children:[i.jsx("div",{className:"x1ntpj0o x7be41k x10l6tqk",children:i.jsx(c("Image.react"),{src:h("788403")})}),i.jsx("div",{className:"xlk1fp6 xirqqd8 xseoqlg x6c5l4p x10wlt62 x6ikm8r x9f619 xgk8upj x5pf9jr x13lgxp2 x1a2cdl4",children:i.jsx(c("Image.react"),{height:100,src:a.pageProfileSrc})}),i.jsxs("div",{className:"xuxw1ft xlyipyv x10wlt62 x6ikm8r x1i64zmx x4ii5y1 xkrivgy xr1yuqi",children:[i.jsx("div",{className:"xzjbwwf xuxw1ft xlyipyv x10wlt62 x6ikm8r xjpr12u x1s688f x1f6kntn",children:a.pageName}),i.jsx("div",{className:"xo1l8bm x1pg5gke x1pvy4qg",children:j})]})]}),i.jsx("div",{className:"x1pvy4qg x13faqbe x1mzt3pk x1anpbxc x17adc0v x1pg5gke",children:a.message})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CameraFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 12 13",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:h.jsxs("g",{children:[h.jsx("path",{d:"M104.5 922a2 2 0 1 0 0 4 2 2 0 0 0 0-4",transform:"translate(351.5 156)"}),h.jsx("path",{d:"M108.5 922.25a.75.75 0 1 1 0-1.501.75.75 0 0 1 0 1.501m-4 4.75a3 3 0 1 1 0-6 3 3 0 0 1 0 6m3.966-7.5h-.384c-.506 0-.634-.2-.868-.54-.279-.405-.661-.96-1.69-.96h-2.047c-1.03 0-1.412.555-1.691.96-.234.34-.362.54-.868.54h-.384a2.029 2.029 0 0 0-2.034 2.029v5.43a2.04 2.04 0 0 0 2.034 2.041h7.931a2.04 2.04 0 0 0 2.035-2.042v-5.646c0-1.075-.837-1.812-2.034-1.812",transform:"translate(351.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("EmojiOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:h.jsxs("g",{children:[h.jsx("path",{fillRule:"nonzero",d:"M111 203a9.5 9.5 0 1 1-19 0 9.5 9.5 0 0 1 19 0zm-1.5 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0z",transform:"translate(354.5 205)"}),h.jsx("path",{fillRule:"nonzero",d:"M96.714 205.774c1.07 1.096 2.83 1.726 4.786 1.726 1.957 0 3.716-.63 4.786-1.726a.75.75 0 0 0-1.072-1.048c-.766.783-2.136 1.274-3.714 1.274-1.578 0-2.948-.491-3.714-1.274a.75.75 0 0 0-1.072 1.048z",transform:"translate(354.5 205)"}),h.jsx("path",{d:"M105.25 200a1.251 1.251 0 0 0 0 2.5 1.251 1.251 0 0 0 0-2.5M99 201.25a1.251 1.251 0 0 0-2.5 0 1.251 1.251 0 0 0 2.5 0",transform:"translate(354.5 205)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("PaperClipOutline20.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 20 20",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-446 -398)",children:h.jsx("path",{fillRule:"nonzero",d:"m464.199 401.047-.12-.124a4.851 4.851 0 0 0-6.86 0l-9.585 9.122a3.828 3.828 0 0 0-.013 5.423 3.416 3.416 0 0 0 4.736.091l8.053-7.766a2.39 2.39 0 1 0-3.371-3.39l-4.068 4.068a.75.75 0 1 0 1.06 1.06l4.068-4.068a.89.89 0 0 1 1.26 1.26l-7.959 7.675a1.919 1.919 0 0 1-2.719.01 2.325 2.325 0 0 1 0-3.29l9.585-9.122a3.356 3.356 0 0 1 4.645-.115l.108.103a3.351 3.351 0 0 1 0 4.74l-6.533 6.146a.75.75 0 0 0 1.028 1.093l6.549-6.163a4.856 4.856 0 0 0 .136-6.753z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("SendFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 12 13",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:h.jsx("path",{d:"m458.371 1079.75-6.633.375a.243.243 0 0 0-.22.17l-.964 3.255c-.13.418-.024.886.305 1.175a1.08 1.08 0 0 0 1.205.158l8.836-4.413c.428-.214.669-.677.583-1.167-.06-.346-.303-.633-.617-.79l-8.802-4.396a1.073 1.073 0 0 0-1.183.14c-.345.288-.458.77-.325 1.198l.963 3.25c.03.097.118.165.22.17l6.632.375s.254 0 .254.25-.254.25-.254.25"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("WhatsAppInAppPreviewBody.react",["fbt","CameraFilled12.svg.react","CometIcon.react","EmojiOutline20.svg.react","GeoFlexbox.react","GeoList.react","GeoListGenericItem.react","GeoText.react","PaperClipOutline20.svg.react","SendFilled12.svg.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={width100:{width:"xh8yej3"},root:{backgroundColor:"x2izyaf",pointerEvents:"x47corl"},messagesList:{overflowWrap:"x1mzt3pk",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",wordBreak:"x13faqbe"},messagesListItem:{borderBottom:"xcx8m8w",width:"xh8yej3",paddingBottom:"xs9asl8"},messagesListItemSendItem:{minWidth:"x1u3zrn8"},bottomBar:{display:"x78zum5",justifyContent:"x1qughib",width:"xh8yej3",marginBottom:"xyorhqc"},bottomBarLeft:{"float":"xrbpyxo",display:"x78zum5",justifyContent:"x1l1ennw",marginStart:"x16n37ib"},bottomBarRight:{"float":"x1guec7k",display:"x78zum5",justifyContent:"x1l1ennw",marginEnd:"xq8finb"},bottomBarMessageInput:{color:"xp3w0mo",fontSize:"x1jchvi3",marginStart:"x17adc0v"},bottomBarCameraIcon:{marginStart:"x17adc0v"}};function k(a){a=Array.from(a).map(function(a,b){var d;return i.jsx(c("GeoListGenericItem.react"),{children:i.jsx("div",{className:c("stylex")(j.messagesListItem),children:i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-between",xstyle:j.width100,children:[i.jsx(c("GeoText.react"),{children:(d=a)!=null?d:""}),i.jsx("div",{className:c("stylex")(j.messagesListItemSendItem),children:i.jsx(c("CometIcon.react"),{color:"baseLime",icon:c("SendFilled12.svg.react"),size:20})})]})})},a!=null?b.toString()+a:b.toString())});return i.jsx(c("GeoList.react"),{children:a})}k.displayName=k.name+" [from "+f.id+"]";function a(a){a=a.messages;return i.jsxs("div",{className:c("stylex")(j.root),children:[a.size>0&&i.jsx("div",{className:c("stylex")(j.messagesList),children:k(a)}),i.jsxs("div",{className:c("stylex")(j.bottomBar),children:[i.jsxs("div",{className:c("stylex")(j.bottomBarLeft),children:[i.jsx(c("CometIcon.react"),{color:"tertiary",icon:c("EmojiOutline20.svg.react"),size:20}),i.jsx("div",{className:c("stylex")(j.bottomBarMessageInput),children:h._("Message")})]}),i.jsxs("div",{className:c("stylex")(j.bottomBarRight),children:[i.jsx(c("CometIcon.react"),{color:"tertiary",icon:c("PaperClipOutline20.svg.react"),size:20}),i.jsx("div",{className:c("stylex")(j.bottomBarCameraIcon),children:i.jsx(c("CometIcon.react"),{color:"tertiary",icon:c("CameraFilled12.svg.react"),size:20})})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WhatsAppInAppPreview.react",["ix","CometIcon.react","Image.react","MicrophoneFilled12.svg.react","WhatsAppInAppMessagingPreviewHeader.react","WhatsAppInAppPreviewBody.react","immutable","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b,d=j(a.pageID,a.iceBreakers);b=(b=a.pageName)!=null?b:"";return i.jsx("div",{className:a.className,children:i.jsxs("div",{className:"xqjfwa5 xh8yej3 x5yr21d x10l6tqk",children:[i.jsx("div",{className:"x10wlt62 x6ikm8r x2g32xy x1tfwpuw xv8uw2v x107yiy2 xh8yej3 x5yr21d x10l6tqk",children:i.jsx(c("Image.react"),{src:h("273574")})}),i.jsxs("div",{className:"x1f9tj09 x10l6tqk x1odjw0f x1rq5m6k x1wa3icf xq7jlbq x18f6g3z xqw4mrg x118zf8b x1ykpwxx x2izyaf",children:[i.jsx(c("WhatsAppInAppMessagingPreviewHeader.react"),{message:a.message,pageName:b,pageProfileSrc:a.profileSrc}),i.jsx(c("WhatsAppInAppPreviewBody.react"),{messages:d})]}),i.jsx("div",{className:"x6s0dn4 xl56j7k x78zum5 x1vqgdyp x100vrsf xww2gxu x18nykt9 xudhj91 x14yjl9h x7n1040 xbfrwjf xlr8s2x x10l6tqk",children:i.jsx(c("CometIcon.react"),{color:"white",icon:c("MicrophoneFilled12.svg.react"),size:20})})]})})}a.displayName=a.name+" [from "+f.id+"]";function j(a,b){if(a==null)return c("immutable").List([]);b=((a=b)!=null?a:[]).map(function(a){return a.title});return c("immutable").List(b)}g["default"]=a}),98);
__d("WhatsAppOnFeedPreviewBody.react",["fbt","ix","GeoBaseRadioInput.react","GeoBaseText.react","GeoButton.react","GeoFlexbox.react","GeoList.react","GeoListGenericItem.react","GeoText.react","Image.react","emptyFunction","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=h._("Write your own message"),l=h._("Send on WhatsApp"),m=h._("Message on WhatsApp"),n={width100:{width:"xh8yej3"},root:{backgroundColor:"x2izyaf",pointerEvents:"x47corl"},whatsAppIcebreakerMargin:{marginTop:"xg87l8a"},whatsAppTitle:{paddingTop:"xexx8yu",paddingEnd:"x1iji9kk",paddingBottom:"x18d9i69",paddingStart:"x1sln4lm"},messagesList:{overflowWrap:"x1mzt3pk",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",wordBreak:"x13faqbe"},whatsAppSendButton:{borderTop:"x1pwq7oz",paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l"}};function o(a){var b=Array.from(a).map(function(a,b){var d;return j.jsx(c("GeoListGenericItem.react"),{children:j.jsxs(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-between",xstyle:n.width100,children:[j.jsxs(c("GeoText.react"),{children:['"',(d=a)!=null?d:"",'"']}),j.jsx(c("GeoBaseRadioInput.react"),{checked:b===0,isDisabled:!1,onChange:c("emptyFunction")})]})},a!=null?b.toString()+a:b.toString())});return j.jsxs(c("GeoList.react"),{children:[b,j.jsx(c("GeoListGenericItem.react"),{children:j.jsxs(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-between",xstyle:n.width100,children:[j.jsx(c("GeoText.react"),{children:k}),j.jsx(c("GeoBaseRadioInput.react"),{checked:!1,isDisabled:!1,onChange:c("emptyFunction")})]})},a.size)]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){a=a.messages;return j.jsxs("div",{className:c("stylex")(n.root,n.whatsAppIcebreakerMargin),children:[a.size>0&&j.jsxs(j.Fragment,{children:[j.jsx("div",{className:c("stylex")(n.whatsAppTitle),children:j.jsx(c("GeoBaseText.react"),{color:"value",size:"value",weight:"bold",children:m})}),j.jsx("div",{className:c("stylex")(n.messagesList),children:o(a)})]}),j.jsx("div",{className:c("stylex")(n.whatsAppSendButton),children:j.jsx(c("GeoButton.react"),{icon:j.jsx(c("Image.react"),{src:i("482855")}),label:a.size>0?l:m,variant:"primary",width:328})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WhatsAppOnFeedPreview.react",["AdCampaignDestination","MessagingPreviewHeader.react","WhatsAppOnFeedPreviewBody.react","immutable","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=i(a.pageID,a.iceBreakers);b=(b=a.pageName)!=null?b:"";return h.jsx("div",{className:a.className,children:h.jsxs("div",{className:"xh8yej3 x10l6tqk x1odjw0f xib4v1x x1ey2m1c x10y3i5r xrt01vj xoqspk4 xfh8nwu x2izyaf",children:[h.jsx(c("MessagingPreviewHeader.react"),{destinationType:c("AdCampaignDestination").WHATSAPP,message:a.message,pageName:b,pageProfileSrc:a.profileSrc,whatsAppNumber:a.whatsAppNumber}),h.jsx(c("WhatsAppOnFeedPreviewBody.react"),{messages:d})]})})}a.displayName=a.name+" [from "+f.id+"]";function i(a,b){if(a==null)return c("immutable").List([]);b=((a=b)!=null?a:[]).map(function(a){return a.title});return c("immutable").List(b)}g["default"]=a}),98);
__d("MessageDestinationPreviewContainer.react",["fbt","AdCampaignDestination","AdsClickToDirectTrustSignalsDataProvider","AdsFluxContainer","AdsImageInfoStore","AdsMessengerSavedResponseIndexProvider","AdsPageStore","AdsUEditorAdgroupInstagramSelectors","AdsUEditorContextType","EmptyPreview.react","GeoBaseText.react","InstagramDirectOnFeedPreview.react","MarketMessagesEditTemplatePreview.react","MessengerAdPreviewConversation.react","MessengerAdsPartialAutomatedPreviewContainerV2.react","WhatsAppInAppPreview.react","WhatsAppOnFeedPreview.react","adsAccountGK","adsUEditorAccountSelector","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("AdsClickToDirectTrustSignalsDataProvider").toFluxStore(),k=c("AdsMessengerSavedResponseIndexProvider").toFluxStore();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getStores=function(a,b){a=b.adgroupEditorContext;return[c("AdsImageInfoStore"),c("AdsPageStore"),j,k].concat(d("AdsUEditorAdgroupInstagramSelectors").selectedInstagramAccountSelector.getStores(a),c("adsUEditorAccountSelector").getStores(a))};b.calculateState=function(a,b,e){a=e.adgroupEditorContext;e=b.imageID;var f=null,g=null,h=null;if(b.pageID!=null&&b.pageID.length!==0){var i=c("AdsPageStore").get(b.pageID);f=i.name;i.get_started_nullstate&&(g=i.get_started_nullstate.responsiveness);i.picture&&i.picture.data&&(h=i.picture.data.url)}i=e&&c("AdsImageInfoStore").getFullSize(e);e=b.visualEditorName&&k.getState()[b.visualEditorName];b=d("AdsUEditorAdgroupInstagramSelectors").selectedInstagramAccountSelector(a);var l=b==null?void 0:b.username,m=b==null?void 0:b.id_v2;b=b==null?void 0:b.profile_pic;m=m!=null?j.getState().get(m):null;m=(m==null?void 0:m.hasValue())?m==null?void 0:m.getValueEnforcing():null;return{account:c("adsUEditorAccountSelector")(a),imageLoadObject:i,pageName:f,icebreakerIndex:e,igUsername:l,igProfilePic:b,igResponsiveness:m,responsiveness:g,profileSrc:h}};var e=b.prototype;e.render=function(){var a=this.state.imageLoadObject;a=this.props.imageID&&a&&a.hasValue()?a.getValueEnforcing():null;switch(this.props.destinationType){case c("AdCampaignDestination").WHATSAPP:if(this.props.isJSONPreview===!0||this.props.isLeadGen===!0)return i.jsx(c("EmptyPreview.react"),{className:this.props.className,destinationType:c("AdCampaignDestination").WHATSAPP});if(this.props.isMultiDestination===!1&&c("adsAccountGK")._(this.state.account,"LpKvTJSF"))return i.jsx(c("WhatsAppInAppPreview.react"),{className:this.props.className,iceBreakers:this.props.iceBreakers,message:this.props.message,pageID:this.props.pageID,pageName:this.state.pageName,profileSrc:this.state.profileSrc});else return i.jsx(c("WhatsAppOnFeedPreview.react"),{className:this.props.className,iceBreakers:this.props.iceBreakers,message:this.props.message,pageID:this.props.pageID,pageName:this.state.pageName,profileSrc:this.state.profileSrc,whatsAppNumber:this.props.whatsAppNumber});case c("AdCampaignDestination").INSTAGRAM_DIRECT:if(this.props.isJSONPreview===!0||this.props.isLeadGen===!0)return i.jsx(c("EmptyPreview.react"),{className:this.props.className,destinationType:c("AdCampaignDestination").INSTAGRAM_DIRECT});else return i.jsx(c("InstagramDirectOnFeedPreview.react"),{className:this.props.className,iceBreakers:this.props.iceBreakers,igProfilePic:this.state.igProfilePic,igUsername:this.state.igUsername,message:this.props.message,pageID:this.props.pageID,pageName:this.state.pageName,responsiveness:this.state.igResponsiveness});case c("AdCampaignDestination").MESSENGER:default:if(this.props.isLeadGen===!0&&this.props.accountID!=null&&this.props.questionItems!=null)return i.jsx(c("MessengerAdsPartialAutomatedPreviewContainerV2.react"),{focusedIndex:null,isDialog:!1});else if(this.props.isMarketingMessages===!0)return i.jsx(c("MarketMessagesEditTemplatePreview.react"),{imageURL:this.props.imageURL,message:this.props.message,pageID:this.props.pageID,pageName:this.state.pageName,payload:this.props.payload,profileSrc:this.state.profileSrc,responsiveness:this.state.responsiveness,type:this.props.type});else return i.jsxs("div",{"data-testid":void 0,children:[i.jsx(c("MessengerAdPreviewConversation.react"),{account:this.state.account,adBannerCtaText:this.props.adBannerCtaText,adPrimaryText:this.props.adPrimaryText,callToAction:this.props.callToAction,className:this.props.className,composerState:this.props.composerState,description:this.props.description,hideJSONPreview:this.props.hideJSONPreview,iceBreakers:this.props.iceBreakers,icebreakerIndex:this.state.icebreakerIndex,imageURL:this.props.imageURL,inThreadMultiphotoCarousel:this.props.inThreadMultiphotoCarousel,isJSONPreview:this.props.isJSONPreview,isSponsoredMessage:this.props.isSponsoredMessage,isTextWithQR:this.props.isTextWithQR,jsonImageURL:a&&a.url,message:this.props.message,name:this.props.name,pageID:this.props.pageID,pageName:this.state.pageName,payload:this.props.payload,phoneNumber:this.props.phoneNumber,platformXMD:this.props.platformXMD,profileSrc:this.state.profileSrc,quickreplyIndex:this.state.icebreakerIndex,responsiveness:this.state.responsiveness,surface:this.props.surface,textSecondMessage:this.props.textSecondMessage,type:this.props.type,videoURL:this.props.videoURL}),this.props.inThreadMultiphotoCarousel&&i.jsx("div",{style:{margin:"0px auto 12px auto",width:"340px"},children:i.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"valueDescription",textAlign:"center",children:h._("Images from your ad in chats are currently only displayed on newer versions of the Messenger app.")})})]})}};return b}(i.Component);a.contextTypes=c("AdsUEditorContextType").adgroup;b=c("AdsFluxContainer").create(a,{withContext:!0,withProps:!0,name:f.id});g["default"]=b}),98);
__d("AdsUEditorAdgroupMessageTemplateSectionStrings",["fbt","AdsAPIObjectives","AdsLearnMore.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return h._("Message template")}a.displayName=a.name+" [from "+f.id+"]";function b(a){switch(a){case c("AdsAPIObjectives").MESSAGES:case c("AdsAPIObjectives").OUTCOME_ENGAGEMENT:return h._("Choose a template for beginning the chat after people tap on your ad. {=Learn more}",[h._param("=Learn more",i.jsx(c("AdsLearnMore.react"),{cmsID:"1816962591668838"}))]);case c("AdsAPIObjectives").LEAD_GENERATION:case c("AdsAPIObjectives").OUTCOME_LEADS:return h._("Set up the automated questions people will answer in Messenger. Then follow up with leads in your Page's Inbox.");case c("AdsAPIObjectives").STORE_VISITS:return h._("Help people contact your stores about delivery and pickup options, updated opening hours or other service changes. {=Learn more}",[h._param("=Learn more",i.jsx(c("AdsLearnMore.react"),{cmsID:"1816962591668838"}))]);default:return h._("Encourage people to start a conversation with your business in Messenger after they click on your ad. We'll show your ads to the right people to help you achieve your optimization goal. {=Learn more}",[h._param("=Learn more",i.jsx(c("AdsLearnMore.react"),{cmsID:"1816962591668838"}))])}}function e(a){return h._("Choose the format and enter the text for your sponsored message. You can include an image, and either a button or suggested reply for the customer to tap.")}d=h._("Preview in Messenger");f=h._("Edit Template");var j=h._("Welcome message"),k=h._("Add a short greeting to people who are interested in getting messages from your business."),l=h._("Opt-in request"),m=h._("People who engage with your ad will be sent an opt-in request."),n=h._("Go to Meta Business Suite");g.getSectionHeader=a;g.getDescription=b;g.getSponsoredMessageDescription=e;g.messageTemplatePreviewInMessengerButtonText=d;g.marketingMessagesEditTemplateDialogHeader=f;g.marketingMessagesEditTemplateDialogWelcomeMessageHearder=j;g.marketingMessagesEditTemplateDialogWelcomeMessageDescription=k;g.marketingMessagesEditTemplateDialogOptInRequestHearder=l;g.marketingMessagesEditTemplateDialogOptInRequestDescription=m;g.marketingMessagesEditTemplateDialogOptInRequestNoticeLink=n}),98);
__d("StartConversationsTemplateDialogFooter.react",["fbt","ix","AdsInterfacesLogger","AdsUEditorAdgroupMessageTemplateSectionStrings","GeoButton.react","GeoModalFooter.react","Image.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback;function a(a){var b=a.destinationType,e=a.onClickPreview,f=k(function(){var a;c("AdsInterfacesLogger").log({eventName:"ctx_click_preview_in_messenger_from_modal",data:(a={},a.campaign_destination_type=b,a)});e()},[e,b]);return j.jsx(c("GeoModalFooter.react"),{primaryButton:j.jsx(c("GeoButton.react"),{"data-testid":void 0,isDisabled:a.isFooterButtonDisabled,label:a.shouldSave?h._("Save and finish"):h._("Finish"),variant:"primary",onClick:a.shouldSave?a.onClickFinishAndSave:a.onClickFinish}),secondaryButton:a.isWhatsAppOrInstagramOrComboDestination?null:j.jsx(c("GeoButton.react"),{icon:j.jsx(c("Image.react"),{src:i("505616")}),isDisabled:a.isFooterButtonDisabled||a.isPreviewButtonLoading,isLoading:a.isPreviewButtonLoading,label:d("AdsUEditorAdgroupMessageTemplateSectionStrings").messageTemplatePreviewInMessengerButtonText,variant:"default",onClick:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StartConversationsTemplateGuidanceCard.react",["fbt","GeoGuidanceCard.react","GeoGuidanceCardContent.react","GeoGuidanceCardHeader.react","GeoLink.react","GeoText.react","geoMargin","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=h._("This template has been updated"),d=h._("This ad is using an old version of this template, which can't be edited. You can switch to the new version to use or edit it for this ad, but the old version won't be available."),e=h._("Switch to new version");a.isDeleted&&(b=h._("This template has been deleted"),d=h._("This ad is using a template that's been deleted. To edit it, you must restore it first."),e=h._("Restore template"));return i.jsx(c("GeoGuidanceCard.react"),{header:i.jsx(c("GeoGuidanceCardHeader.react"),{heading:b}),status:"error",xstyle:c("geoMargin").bottom12,children:i.jsxs(c("GeoGuidanceCardContent.react"),{children:[i.jsx(c("GeoText.react"),{children:d}),i.jsx(c("GeoLink.react"),{onClick:a.onClick,children:e})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedFormValidation",["AdsInterfacesLogger","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","MessengerAdsPartialAutomatedConstants","MessengerAdsPartialAutomatedStepDataManager","ads-lib-urllib","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){function h(a){if(a==null||a.ctaType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.NO_BUTTON)return!0;if(a.ctaText==null||a.ctaText==="")return!1;switch(a.ctaType){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.NO_BUTTON:return!0;case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.CALL_BUSINESS:return a.ctaContent!=="";case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.DOWNLOAD:case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.VIEW_WEBSITE:return c("ads-lib-urllib").isUrl(a.ctaContent)}}function i(a){if(a==null||a.attachmentType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.NONE||a.attachmentType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.CTA_BUTTON)return!0;return a.attachmentType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.COMPLETION_OFFER&&a.offerCodeType===d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.ONE_CODE&&c("isStringNullOrEmpty")(a.offerNonUniqueCodeValue)===!1?!0:a.attachmentType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.COMPLETION_OFFER&&a.offerCodeType===d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.UNIQUE_CODE&&a.offerCodeFileID!=null&&a.offerCodeFileUploadErrorMessage===null}function a(a,b,e,f,g,m,p,q,r,s,t,u,v,w,x,y,z,A,B,C){if(v===!0&&(!Boolean(w)||typeof w=="string"&&!w.trim()))return!1;t=d("MessengerAdsPartialAutomatedStepDataManager").hasDisqualify(a)?f!=="":!0;v=!e||k(e.media_type,e.media_content,!0)==null&&(e.media_type==="text"||e.text!=="");w=k(b.media_type,b.media_content,!0)==null;f=/\S/.test(s.toString());e=!(u!=null&&u.toggle&&u.appID==null);s=a.length>0;u=j(a);g=m.length==0||/\S/.test(g.toString());m=j(m);r=r!=null&&r.leadgen_tos_accepted;p=l(p,!0,C)==null;q=/\S/.test(q.toString());b=/\S/.test(b.text.toString());x=x==null||!x.isCustomOn||/\S/.test(x.phoneText)&&/\S/.test(x.emailText)&&/\S/.test(x.multipleChoiceText);y=h(y);z=i(z);A=!o(A);z=y&&z&&t&&v&&w&&s&&u&&g&&m&&q&&b&&p&&r&&f&&e&&x&&A;if(C===!0){g=!n(a);z?c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_VALIDATION_SUCCESS,data:{message:JSON.stringify({validReachableQuestions:g}),objective:B}}):c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_VALIDATION_FAIL,data:{message:JSON.stringify({validConfirmationCTA:y,validDisqualify:t,validIntroMessage:v,validConfirmationMedia:w,validQuestionLength:s,validQuestionItems:u,validReachableQuestions:g,validReminderText:q,validConfirmationMessage:b,validPrivacyPolicyURL:p,validPageLeadgenTOS:r,validStopQuestionMessage:f,validateHopAppSetting:e,validInvalidTexts:x}),objective:B}})}return z}function j(a){return a.every(function(a){if(!a.questionMessage||a.answerType===null||!/\S/.test(a.questionMessage.toString()))return!1;if(a.answerType==="ZIP_CODE"&&a.qualifyingAnswersList!=null)return p(a.qualifyingAnswersList);if(a.answerType!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE)return!0;if(a.optionsFormat==="carousel")return a.answers&&a.answers[0]&&a.answers[1]&&a.answers.every(function(a){return k("image",a.mediaContent,!0)==null&&a.value!==""});else return a.answers&&!a.answers.some(function(a){return c("isStringNullOrEmpty")(a.value)})})}function b(a,b){return a&&/\S/.test(a.toString())||!b?null:d("MessengerAdsPartialAutomatedConstants").EMPTY_FIELD_ERROR_MESSAGE}function k(a,b,e){b=!c("isStringNullOrEmpty")(b)||!e||a==="text";return!b?a==="image"?d("MessengerAdsPartialAutomatedConstants").EMPTY_IMAGE_ERROR_MESSAGE:d("MessengerAdsPartialAutomatedConstants").EMPTY_VIDEO_ERROR_MESSAGE:null}function l(a,b,e){if(!b)return null;b=null;var f=null;a||(b=d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_EMPTY_PRIVACY_LINK,f=d("MessengerAdsPartialAutomatedConstants").EMPTY_FIELD_ERROR_MESSAGE);c("ads-lib-urllib").isUrl(a)||(b=d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_INVALID_PRIVACY_LINK,f=d("MessengerAdsPartialAutomatedConstants").NON_URL_ERROR_MESSAGE);e===!0&&b!==null&&c("AdsInterfacesLogger").log({eventName:b});return f}function e(a,b){return!b||c("ads-lib-urllib").isUrl(a)?null:d("MessengerAdsPartialAutomatedConstants").NON_URL_ERROR_MESSAGE}function m(a){return a.findIndex(function(a){return a.answerType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE&&a.optionsFormat==="text"&&a.answers&&a.answers.length>1&&/\S/.test(a.answers[0].value.toString())&&/\S/.test(a.answers[1].value.toString())&&a.answers.filter(function(a){return/\S/.test(a.value.toString())}).every(function(a){return a.nextStep!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.NEXT_QUESTION})})}function n(a){var b=m(a);return b!=-1&&b<a.length-1}function o(a){return a.some(function(a){return c("isStringNullOrEmpty")(a.key.trim())||c("isStringNullOrEmpty")(a.value.trim())})}function p(a){var b=new RegExp("^$|[a-zA-Z0-9- ],*$");return b.test(a)}g.validateConfirmationAttachment=i;g.validatePartialAutomatedCreationData=a;g.validateEachQuestionItem=j;g.getRequiredTextFieldErrorMessage=b;g.getMediaErrorMessage=k;g.getPrivacyPolicyLinkURLErrorMessage=l;g.getRequiredURLFieldErrorMessage=e;g.getEndingQuestionIndex=m;g.isEmptyTrackingParameters=o;g.isStringCommaSeparated=p}),98);
__d("MessengerAdsPartialAutomatedTOSAgreement.react",["fbt","AdsInterfacesLogger","AdsLeadGenTOSDialog.react","AdsMessengerPartialAutomatedLoggerEvents","AdsPageSignLeadgenTosDataAction","AdsStaticGuidanceCard.react","XAdsLeadGenTOSController","gkx","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function k(a){var b;if(!a.account||!a.selectedPage)return null;if(!a.selectedPage.leadgen_tos_accepted)return i.jsx(c("AdsStaticGuidanceCard.react"),{ccCardProps:{category:a.showError===!0?"ERROR":"LEGAL_AND_POLICY",ctaData:[{type:"BUTTON",data:{text:h._("View Terms"),onCallToAction:a.showTOSDialog}}],messageID:"ads_u_editor_campaign_lead_gen_tos_agreement",textData:[{type:"PARAGRAPH",data:{text:c("gkx")("4558")?h._("Please read and accept Meta's Lead Ads Terms before creating your ad."):h._("Please read and accept Lead Ad Terms before creating your ad.")}}]}});b=c("XAdsLeadGenTOSController").getURIBuilder().setFBID("page_id",(b=a.selectedPage)==null?void 0:b.id).getURI();return i.jsx(c("AdsStaticGuidanceCard.react"),{ccCardProps:{category:"LEGAL_AND_POLICY",ctaData:[{type:"LINK",data:{href:b,text:h._("View Terms"),onCallToAction:a.clickViewTOSlink}}],messageID:"ads_u_editor_campaign_lead_gen_tos_agreement",textData:[{type:"PARAGRAPH",data:{text:c("gkx")("4558")?h._("You've accepted Meta's Lead Ads Terms for this Page."):h._("You've accepted Lead Ad Terms for this Page.")}}]}})}k.displayName=k.name+" [from "+f.id+"]";function l(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_VIEW_TOS})}function a(a){var b=j(!1),e=b[0],f=b[1];b=function(){f(!0),l()};var g=function(){c("AdsPageSignLeadgenTosDataAction").dispatch({adObjectIDs:[],pageID:c("nullthrows")(a.pageID)},{line:"165",module:"MessengerAdsPartialAutomatedTOSAgreement.react.js"}),f(!1),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_ACCEPT_TOS})},h=function(){f(!1),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CANCEL_TOS})};return i.jsxs(i.Fragment,{children:[i.jsx(k,{account:a.account,clickViewTOSlink:l,selectedPage:a.page,showError:a.showError,showTOSDialog:b}),i.jsx(c("AdsLeadGenTOSDialog.react"),{pageID:a.pageID,shown:e,onCancel:h,onConfirm:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StartConversationsTemplatePrivacyPolicySection.react",["fbt","AdsMessengerPartialAutomatedCreationTypes","FlexLayout.react","GeoBaseText.react","GeoTextInput.react","GeoTooltip.react","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedStrings","MessengerAdsPartialAutomatedTOSAgreement.react","react","useDebouncedOnChange"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b,e;function f(b){var c=a.welcomeMessageJSON;c.privacy_policy_url=b;a.onJSONChange(c)}b=(b=a.welcomeMessageJSON.privacy_policy_url)!=null?b:"";b=c("useDebouncedOnChange")(b,f);f=b[0];var g=b[1];b=b[2];e=d("MessengerAdsPartialAutomatedFormValidation").getPrivacyPolicyLinkURLErrorMessage((e=f)!=null?e:"",!0);a.setIsInvalidPrivacyPolicyURL(e!=null);var j=h._("Your Privacy Policy URL");return i.jsxs("div",{className:"x1cnzs8",children:[i.jsx(c("FlexLayout.react"),{align:"center",justify:"start",children:i.jsxs("div",{className:"x1a2a7pz xvq8zen x1ypdohk x1fh7tiu xxxdfa6 x112ta8 xwmqs3e x76ihet",children:[i.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",weight:"bold",children:d("MessengerAdsPartialAutomatedStrings").getHeaderName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY)}),i.jsx(c("GeoTooltip.react"),{content:d("MessengerAdsPartialAutomatedStrings").getSectionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY)})]})}),i.jsx(c("MessengerAdsPartialAutomatedTOSAgreement.react"),{account:a.account,page:a.page,pageID:a.pageID,showError:!0}),i.jsx("div",{className:"xkhd6sd x4uap5 xwib8y2 x1y1aw1k",children:i.jsx("div",{className:e!==null&&f!=null&&f!==""?"x1o6z2jb x1i1ezom x1otrzb0 xhk9q7s x1uyg967 x19f6qq2 x1p5b71b x1h8fp6x x2izyaf":"",children:i.jsx(c("GeoTextInput.react"),{"data-testid":void 0,errorMessage:null,isDisabled:a.isEditDisabled,isLabelHidden:!0,label:j,placeholder:"https://www.pagename.com/privacy-policy",value:f,onBlur:b,onChange:g})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StartConversationsTemplateSaveSection.react",["fbt","AdsMessengerConstants","AdsMessengerContentEditorTabs","FlexLayout.react","GeoBaseText.react","GeoCheckboxInput.react","GeoTextInput.react","GeoTooltip.react","emptyFunction","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsxs("div",{className:"x1cnzs8 x1sy10c2 x85kzmm",children:[i.jsx(c("FlexLayout.react"),{align:"center",justify:"all",children:i.jsxs(c("FlexLayout.react"),{align:"center",justify:"start",children:[i.jsx(c("GeoCheckboxInput.react"),{isDisabled:a.editorTab===c("AdsMessengerContentEditorTabs").USE_EXISTING,label:"",value:a.shouldSave||a.editorTab===c("AdsMessengerContentEditorTabs").USE_EXISTING,onChange:a.editorTab===c("AdsMessengerContentEditorTabs").USE_EXISTING?c("emptyFunction"):a.onToggleSaveCheckbox}),i.jsxs("div",{className:"x1a2a7pz xvq8zen x1ypdohk x1fh7tiu xxxdfa6 x112ta8 xwmqs3e x76ihet",children:[i.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",weight:"bold",children:h._("Save template")}),i.jsx(c("GeoTooltip.react"),{content:h._("You can save this welcome message to use it as an existing template for future campaigns.")})]})]})}),a.shouldSave&&i.jsx("div",{className:"xh8yej3 x14vqqas x11r6d5e",children:i.jsx(c("GeoTextInput.react"),{errorMessage:a.errorMessage,isDisabled:a.isEditDisabled,isLabelHidden:!0,label:"Template Name",maxLength:d("AdsMessengerConstants").MAX_TEMPLATE_LENGTH,value:a.templateName,onChange:a.onTemplateNameChange})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("adsMessengerDataModelGetPhoneNumber",["AdsMessengerJSONPaths","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("getByPath")(a,c("AdsMessengerJSONPaths").PHONE_NUMBER)}g["default"]=a}),98);
__d("adsMessengerDataModelGetQRResponse",["adsMessengerDataModelGetQuickReplies"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("adsMessengerDataModelGetQuickReplies")(a);return a&&a[b]?a[b].response||"":""}g["default"]=a}),98);
__d("StartConversationsTemplateDialog.react",["errorCode","errorDesc","fbt","AdsAPIObjectives","AdsError","AdsInterfacesLogger","AdsJSONBlobField.react","AdsMessengerContentEditorTabs","AdsMessengerPageWelcomeMessageDataManager","AdsMessengerProductInfoDataManager","AdsMessengerVideoUploadResetDataAction","AdsMessengerVisualEditorLoggerEvents","AdsMessengerVisualEditorQRResponseType","AdsMessengerVisualEditorUtils","AdsUEditorHostIDs","AdsUEditorUnifiedCreationUtils","ClickToMessageGuidanceCards.react","FlexLayout.react","GeoBaseText.react","GeoModal.react","GeoModalHeader.react","LayerFadeOnHide","StartConversationsTemplateDialogFooter.react","StartConversationsTemplateEditorSection.react","StartConversationsTemplateGuidanceCard.react","StartConversationsTemplatePreviewSection.react","StartConversationsTemplatePrivacyPolicySection.react","StartConversationsTemplateSaveSection.react","adsAccountGK","adsMessengerDataModelGetIceBreakers","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelGetPhoneNumber","adsMessengerDataModelGetQRResponse","adsMessengerDataModelGetQuickReplies","emptyFunction","getByPath","isStringNullOrWhitespaceOnly","react","setByPath","stylex","withAdsHeroTracing"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=d("react").useState,m=c("withAdsHeroTracing").root("am_messenger_greeting_dialog");function n(a){var b=a.welcomeMessageJSON;d("AdsMessengerVisualEditorUtils").getWelcomeMessageDataType(b)==="JSON_SETUP"&&(b=b.message_data);return k.jsxs(k.Fragment,{children:[k.jsx(c("GeoBaseText.react"),{color:"placeholder",display:"block",size:"valueDescription",children:j._("Edit or paste your customized JSON code here")}),k.jsx("div",{className:"x1y1aw1k",children:k.jsx(c("AdsJSONBlobField.react"),{disableEmpty:!0,isEditDisabled:a.isEditDisabled,label:"",value:b,onChange:a.onJSONChange,onInvalidInput:function(b){return a.setIsInvalidJSON(!0)}})})]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b,e=l(!1),f=e[0],g=e[1];e=l(!1);var h=e[0];e=e[1];var o=l(!1),p=o[0];o[1];o=l(!0);var q=o[0],r=o[1];o=l(!1);var s=o[0],t=o[1];o=l(!1);var u=o[0],v=o[1];o=l("");var w=o[0],x=o[1];o=l(!1);var y=o[0],z=o[1];o=!a.templateName||a.templateName.length==0?new(c("AdsError"))(1815895,i._(function(a,b){return a._("Please enter a template name")},{}),{level:c("AdsError").Level.WARN}):null;b=o!==null||s&&(a.errorSpec!==null||a.phoneNumberData.isPhoneNumberSwitchEnabled&&((b=a.phoneNumberData.phoneNumberView)==null?void 0:b.hasError())===!0||a.ordersData.isOrdersSwitchEnabled&&c("AdsMessengerProductInfoDataManager").validateProductInfoHasError(a.welcomeMessageJSON))||f||h||a.isEditDisabled===!0;h=d("AdsMessengerVisualEditorUtils").getWelcomeMessageDataType(a.welcomeMessageJSON)!=="VISUAL_EDITOR"||a.editorTab===c("AdsMessengerContentEditorTabs").JSON;var A=a.welcomeMessageJSON;h&&d("AdsMessengerVisualEditorUtils").getWelcomeMessageDataType(A)==="JSON_SETUP"&&(A=A.message_data);A=d("AdsUEditorUnifiedCreationUtils").isMultiDestination(a.destinationType)&&h;var B=c("adsAccountGK")._(a.account,"23pjNQ3Vs"),C=d("AdsUEditorUnifiedCreationUtils").isWhatsAppOrInstagramOrComboDestination(a.destinationType);function D(){var b;t(!0);c("AdsMessengerVideoUploadResetDataAction").dispatch({},{line:"275",module:"StartConversationsTemplateDialog.react.js"});if(a.errorSpec!=null)return;if(a.phoneNumberData.isPhoneNumberSwitchEnabled&&((b=a.phoneNumberData.phoneNumberView)==null?void 0:b.hasError())===!0){c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_CALL_ERROR_SHOWN});return}if(a.ordersData.isOrdersSwitchEnabled&&c("AdsMessengerProductInfoDataManager").validateProductInfoHasError(a.welcomeMessageJSON))return;c("AdsInterfacesLogger").log({eventName:a.isExistingPost?c("AdsMessengerVisualEditorLoggerEvents").CTM_EP_FINISH_WITHOUT_SAVING:c("AdsMessengerVisualEditorLoggerEvents").CTM_FINISH_WITHOUT_SAVING});a.onHide()}function E(){z(!0);t(!0);if(!!a.errorSpec||a.pageID==null)return;d("AdsMessengerVisualEditorUtils").getJSONSend(a.welcomeMessageJSON,a.pageID,function(){},H,I,a.objectStoryID,a.adgroupIDs[0])}function F(b){var c=b;if(d("AdsMessengerVisualEditorUtils").getWelcomeMessageDataType(a.welcomeMessageJSON)==="JSON_SETUP"){var e=a.welcomeMessageJSON;e.message_data=b;c=e}a.onJSONChange(c);f&&g(!1)}function G(){if(!a.errorSpec){var b=a.pageID;if(b==null)return;d("AdsMessengerVisualEditorUtils").getJSONSend(a.welcomeMessageJSON,b,function(){},H,function(){},a.objectStoryID)}}function H(a){z(!1),v(!0)}function I(){var a=j._("Please try again.");x(a);z(!1)}function J(){r(function(a){return!a})}function K(){var b;t(!0);c("AdsMessengerVideoUploadResetDataAction").dispatch({},{line:"380",module:"StartConversationsTemplateDialog.react.js"});if(a.errorSpec)return;if(a.phoneNumberData.isPhoneNumberSwitchEnabled&&((b=a.phoneNumberData.phoneNumberView)==null?void 0:b.hasError())===!0){c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_CALL_ERROR_SHOWN});return}if(a.ordersData.isOrdersSwitchEnabled&&c("AdsMessengerProductInfoDataManager").validateProductInfoHasError(a.welcomeMessageJSON))return;c("getByPath")(a.welcomeMessageJSON,["is_visible"])===!1&&c("setByPath")(a.welcomeMessageJSON,["is_visible"],!0);b=JSON.stringify(a.welcomeMessageJSON);c("AdsMessengerPageWelcomeMessageDataManager").createCustomTemplate(a.adgroupIDs,String(a.pageID),b,a.templateName,c("AdsUEditorHostIDs").EDITING,a.accountID,a.isEditTemplate,a.isExistingPost,a.onHide());var e=a.welcomeMessageJSON;b=c("adsMessengerDataModelGetQuickReplies")(e);var f=c("adsMessengerDataModelGetIceBreakers")(e);if(!d("AdsMessengerVisualEditorUtils").isVisualEditorData(e)||b==null&&f==null)return;b==null?void 0:b.map(function(a,b){if(a){var d="";switch(a.response_type){case c("AdsMessengerVisualEditorQRResponseType").TEXT:d=c("adsMessengerDataModelGetQRResponse")(e,b)===""?c("AdsMessengerVisualEditorLoggerEvents").CTM_SAVE_QR_NULL_TEXT_RESPONSE:c("AdsMessengerVisualEditorLoggerEvents").CTM_SAVE_QR_TEXT_RESPONSE;break;case c("AdsMessengerVisualEditorQRResponseType").BOT:d=c("AdsMessengerVisualEditorLoggerEvents").CTM_SAVE_QR_BOT_RESPONSE;break;case c("AdsMessengerVisualEditorQRResponseType").NONE:d=c("AdsMessengerVisualEditorLoggerEvents").CTM_SAVE_QR_NONE_RESPONSE}c("AdsInterfacesLogger").log({eventName:d})}});f==null?void 0:f.map(function(a){if(!c("isStringNullOrWhitespaceOnly")(a==null?void 0:a.title)){a=c("isStringNullOrWhitespaceOnly")(a.response);c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_SAVE_IB_RESPONSE,data:{is_response_empty:a}})}});b=c("adsMessengerDataModelGetMediaFormat")(e);c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_SELECT_GREETING_TYPE,data:{type:b}});f=c("adsMessengerDataModelGetPhoneNumber")(e);f!=null&&c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_CALL_TEMPLATE_CREATED_WITH_PHONE_NUMBER,message:f});a.editorTab!==c("AdsMessengerContentEditorTabs").USE_EXISTING&&(a.onTabChange(c("AdsMessengerContentEditorTabs").USE_EXISTING),a.onCreateNewTemplate&&a.onCreateNewTemplate());a.isExistingPost&&c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_EP_SAVE_TEMPLATE})}return k.jsxs(k.Fragment,{children:[k.jsxs(c("GeoModal.react"),{behaviors:{LayerFadeOnHide:c("LayerFadeOnHide"),LayerHideOnBlur:null},footer:k.jsx(c("StartConversationsTemplateDialogFooter.react"),{destinationType:a.destinationType,isFooterButtonDisabled:b,isPreviewButtonLoading:y,isWhatsAppOrInstagramOrComboDestination:C,shouldSave:q,onClickFinish:D,onClickFinishAndSave:K,onClickPreview:E}),header:k.jsx(c("GeoModalHeader.react"),{heading:h?j._("Advanced JSON setup"):j._("Edit template")}),height:a.isUnifiedCreation?865:830,isShown:a.shown,width:a.isUnifiedCreation?1100:980,onHide:a.isEditDisabled===!0?a.onHide:a.onClose,children:[a.isEditDisabled===!0&&(a.isDeletedTemplate===!0?k.jsx(c("StartConversationsTemplateGuidanceCard.react"),{isDeleted:!0,onClick:(b=a.onClickRestoreTemplate)!=null?b:c("emptyFunction")}):k.jsx(c("StartConversationsTemplateGuidanceCard.react"),{isDeleted:!1,onClick:(y=a.onClickUpdateTemplate)!=null?y:c("emptyFunction")})),k.jsx(m,{children:k.jsxs(c("FlexLayout.react"),{children:[k.jsxs("div",{className:c("stylex")({"border-top-0.3":"x85kzmm","border-end-0.3":"x5jrcca","border-bottom-0.3":"xxw3bol","border-start-0.3":"xxnbxn","height-1":"xpgloq4","min-height-1":"x1pzngab","overflow-x-1":"x14aock7","overflow-y-1":"x1rife3k","padding-top-1":"x1cnzs8","padding-end-1":"xc73u3c","padding-bottom-1":"xx6bls6","padding-start-1":"x5ib6vp","width-1":"x1c4ky7w"},a.isUnifiedCreation?{"height-1":"x1hkkzsz","width-1":"x1jrqhmw"}:null,a.isUnifiedCreation&&A?{"height-1":"x3do9gg"}:null),children:[h?k.jsxs(k.Fragment,{children:[k.jsx(n,{isEditDisabled:a.isEditDisabled,setIsInvalidJSON:g,welcomeMessageJSON:a.welcomeMessageJSON,onJSONChange:F}),a.objective===c("AdsAPIObjectives").OUTCOME_LEADS&&B&&k.jsx(c("StartConversationsTemplatePrivacyPolicySection.react"),{account:a.account,isEditDisabled:a.isEditDisabled===!0||f,page:a.page,pageID:a.pageID,setIsInvalidPrivacyPolicyURL:e,welcomeMessageJSON:a.welcomeMessageJSON,onJSONChange:F})]}):k.jsx(c("StartConversationsTemplateEditorSection.react"),{account:a.account,accountID:a.accountID,adgroupIDs:a.adgroupIDs,composerState:a.composerState,destinationType:a.destinationType,editorTab:a.editorTab,errorSpec:s?a.errorSpec:null,isEditDisabled:a.isEditDisabled,isUnifiedCreation:a.isUnifiedCreation,isVideoLoading:a.isVideoLoading,objective:a.objective,page:a.page,pageID:String(a.pageID),shouldShowErrors:s,videoURL:a.videoURL,welcomeMessageJSON:a.welcomeMessageJSON,onJSONChange:a.onJSONChange}),k.jsx(c("StartConversationsTemplateSaveSection.react"),{editorTab:a.editorTab,errorMessage:o&&o.message,isEditDisabled:a.isEditDisabled,shouldSave:q,templateName:a.templateName,onTemplateNameChange:a.onTemplateNameChange,onToggleSaveCheckbox:J})]}),k.jsxs("div",{className:c("stylex")({"margin-start-1":"xmupa6y","min-height-1":"x1ogtnap","padding-top-1":"xexx8yu","padding-end-1":"x4uap5","padding-bottom-1":"x18d9i69","padding-start-1":"xkhd6sd","width-1":"xxsgkw5"},a.isUnifiedCreation?{"margin-top-1":"x1sy10c2","width-1":"x1faqgj3"}:null),children:[A&&k.jsx(d("ClickToMessageGuidanceCards.react").ClickToMessengerOnlyGuidanceCard,{account:a.account,destinationType:a.destinationType,isLeadGen:!1}),k.jsx(c("StartConversationsTemplatePreviewSection.react"),{destinationType:a.destinationType,isInvalidJSON:f,isPreviewLoading:p,isUnifiedCreation:a.isUnifiedCreation,onPreviewButtonClicked:G})]})]})})]}),d("AdsMessengerVisualEditorUtils").showMessengerPreviewSuccessDialog(u,a.pageName,function(){v(!1)}),d("AdsMessengerVisualEditorUtils").showMessengerPreviewErrorDialog(w.toString(),function(){x("")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StartConversationsTemplateCustomerActionsDropdown.react",["fbt","AdsMessengerJSONMediaFormatType","AdsMessengerVisualEditorCustomerActionType","GeoSelector.react","GeoSelectorItem.react","LeftRight.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={geoSelector:{maxHeight:"x9ybwvh",width:"x1dz1jew"}};function a(a){var b=!(a.format===c("AdsMessengerJSONMediaFormatType").TEXT||a.format===c("AdsMessengerJSONMediaFormatType").IMAGE||a.format===c("AdsMessengerJSONMediaFormatType").VIDEO);return i.jsx(c("LeftRight.react"),{children:i.jsx("div",{className:c("stylex")(c("geoMargin").bottom12),children:i.jsxs(c("GeoSelector.react"),{"data-testid":void 0,isDisabled:a.isEditDisabled,isLabelHidden:!0,label:"Start Conversations Customer Actions Dropdown",layerXStyle:j.geoSelector,value:a.customerAction,onChange:function(b){a.onChangeCustomerAction(b)},children:[i.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,description:h._("Suggest questions that people might want to ask after clicking your ad."),isDisabled:b,label:h._("Frequently asked questions"),value:c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS}),i.jsx(c("GeoSelectorItem.react"),{description:h._("Show short replies that people can send to your business. Multiple quick replies will appear side-by-side as options to tap."),label:h._("Quick replies"),value:c("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES}),i.jsx(c("GeoSelectorItem.react"),{description:h._("Send people to a destination out of Messenger, such as a website."),isDisabled:a.format===c("AdsMessengerJSONMediaFormatType").VIDEO,label:h._("Buttons"),value:c("AdsMessengerVisualEditorCustomerActionType").BUTTONS}),i.jsx(c("GeoSelectorItem.react"),{label:h._("None"),value:c("AdsMessengerVisualEditorCustomerActionType").NONE})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AdsMessengerErrorSpecUtils",["errorCode","fbt","AdsMessengerErrorSpecType","getByPath"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._("There was a problem uploading your video file. Please try again with another file."),j={getErrorMessage:function(a,b){return a&&a[b]},getErrorObjectFromMessengerErrorSpecs:function(a,b){a=j.getErrorMessage(a,b);if(a==null)return null;return Array.isArray(a)?{errorMessage:a}:{errorMessage:[a]}},getCTAError:function(a,b,c){a=j.getErrorMessage(a,b);if(a instanceof Object){b=a&&a[c];return b?{errorMessage:b}:null}return null},getVideoUploadError:function(a,c){if(a){c=b("getByPath")(a,[b("AdsMessengerErrorSpecType").VIDEO_API]);if(c){a=c.error_code===1363025?c.error_title:c.error_message;return a||i}}return null},getVideoError:function(a){return j.getErrorMessage(a,b("AdsMessengerErrorSpecType").ATTACHMENT_ID)||j.getVideoUploadError(a,b("AdsMessengerErrorSpecType").VIDEO_API)}};e.exports=j}),null);
__d("StartConversationsTemplateButtonsSection.react",["cx","fbt","AdsMessengerCTMAdsAPI","AdsMessengerConstants","AdsMessengerErrorSpecType","AdsMessengerErrorSpecUtils","AdsMessengerUtils","AdsUniformValue","FDSDropdownSelector.react","FDSDropdownSelectorOption.react","FDSSimplePopover.react","GeoBaseText.react","GeoCloseButton.react","GeoTextInput.react","Link.react","ShimButton.react","geoMargin","react","useDebouncedOnChange"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l=750;function a(a){var b=k(-1),e=b[0],f=b[1];b=k(-1);var g=b[0],h=b[1];b=j.jsx(c("ShimButton.react"),{className:"_9bs0",onClick:a.onAddButton,children:j.jsx(c("GeoBaseText.react"),{color:"valueLabel",isDisabled:!0,size:"value",children:i._("+ Add a button")})});var l=a.ctas,n=l&&l.length?l.map(function(b,c){return j.jsx(m,{buttonBotInputFocusedIndex:g,buttonTitleFocusedIndex:e,cta:b,ctaCount:l.length,errorSpec:a.errorSpec,index:c,isEditDisabled:a.isEditDisabled,isMessengerPlatformBot:a.isMessengerPlatformBot,onBlurBotAction:function(){h(-1)},onBlurButtonTitle:function(){f(-1)},onButtonTitleChange:a.onButtonTitleChange,onCTATypeChange:a.onCTATypeChange,onFocusBotAction:h,onFocusButtonTitle:f,onRemoveButton:a.onRemoveButton,onURLChange:a.onURLChange},"CTA_"+c)}):null;return j.jsxs(j.Fragment,{children:[n,(!a.ctas||a.ctas.length<d("AdsMessengerUtils").getMaxCTANum())&&b]})}a.displayName=a.name+" [from "+f.id+"]";function m(a){var b=i._("Enter the text for your button"),e=a.cta?a.cta.title:"",f="",g="web_url";a.cta&&(g=a.cta.type,a.cta.type==="web_url"?f=a.cta.url:f=a.cta.payload);var h=g==="web_url",k=i._("Button # {cta_index}",[i._param("cta_index",a.index+1)]),m=a.ctaCount===1;function n(){a.onRemoveButton(a.index)}function o(b){a.onURLChange(a.index,new(c("AdsUniformValue"))(b))}function p(b){a.onButtonTitleChange(a.index,new(c("AdsUniformValue"))(b))}function q(b){a.onCTATypeChange(a.index,b)}function r(){a.onFocusBotAction(a.index)}function s(){a.onFocusButtonTitle(a.index)}e=c("useDebouncedOnChange")((e=e)!=null?e:"",p,l);p=e[0];e=e[1];f=c("useDebouncedOnChange")((f=f)!=null?f:"",o,l);o=f[0];f=f[1];m=m?null:j.jsx("div",{className:"_9br9",children:j.jsx(c("GeoCloseButton.react"),{isDisabled:a.isEditDisabled,onClick:n})});n=h?d("AdsMessengerErrorSpecUtils").getCTAError(a.errorSpec,c("AdsMessengerErrorSpecType").BUTTON_URL,a.index):d("AdsMessengerErrorSpecUtils").getCTAError(a.errorSpec,c("AdsMessengerErrorSpecType").PAYLOAD,a.index);var t=h?i._("Website URL"):j.jsxs("span",{children:[i._("Bot payload"),j.jsx(c("FDSSimplePopover.react"),{content:i._("If you have a bot set up and are sending a postback, enter your payload.{learn more link for payload}",[i._param("learn more link for payload",j.jsx(c("Link.react"),{href:d("AdsMessengerCTMAdsAPI").getPayloadLink(),target:"_blank",children:i._("Learn more")}))]),contentWidthUseSparingly:288})]});h=h?"https://your-website.com/your-page":i._("Optional: This will be sent back to your webhook.");var u=d("AdsMessengerErrorSpecUtils").getCTAError(a.errorSpec,c("AdsMessengerErrorSpecType").BUTTON_TITLE,a.index),v=a.index===a.buttonBotInputFocusedIndex||a.index===a.buttonTitleFocusedIndex;return j.jsxs("div",{className:(v?"":"_9azv")+(v?" _9a-d":""),children:[a.ctaCount>1&&j.jsx("div",{className:"rfloat",children:m}),j.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",weight:"bold",xstyle:[c("geoMargin").top8,c("geoMargin").bottom16],children:k}),j.jsx(c("GeoTextInput.react"),{errorMessage:u?String(u.errorMessage):null,isDisabled:a.isEditDisabled,isLabelHidden:!0,label:"Button Text",maxLength:d("AdsMessengerConstants").BUTTON_LABEL_MAX_LENGTH,placeholder:b,value:p,onBlur:a.onBlurButtonTitle,onChange:e,onFocus:s}),a.isMessengerPlatformBot&&j.jsxs(j.Fragment,{children:[j.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",weight:"bold",xstyle:c("geoMargin").vert8,children:i._("Action")}),j.jsx("div",{className:"_3-94",children:j.jsxs(c("FDSDropdownSelector.react"),{isDisabled:a.isEditDisabled,value:g,onChange:q,children:[j.jsx(c("FDSDropdownSelectorOption.react"),{value:"web_url",children:i._("Open a website")}),j.jsx(c("FDSDropdownSelectorOption.react"),{tooltip:i._("If you have a bot, you can set up a button to send a postback.{learn more link}",[i._param("learn more link",j.jsx(c("Link.react"),{href:d("AdsMessengerCTMAdsAPI").getPayloadLink(),target:"_blank",children:i._("Learn more")}))]),value:"postback",children:i._("Send a postback")})]})})]}),j.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",weight:"bold",xstyle:c("geoMargin").vert8,children:t}),j.jsx(c("GeoTextInput.react"),{errorMessage:n?String(n.errorMessage):null,isDisabled:a.isEditDisabled,isLabelHidden:!0,label:"Website URL",placeholder:h,value:o,onBlur:a.onBlurBotAction,onChange:f,onFocus:r})]},a.index)}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MacroInput.react",["cx","DraftEditor.react","EditorState","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.abstractTextEditorRef=i.createRef(),c.blur=function(){c.abstractTextEditorRef.current&&c.abstractTextEditorRef.current.blur()},c.focus=function(){c.abstractTextEditorRef.current&&c.abstractTextEditorRef.current.focus()},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=c("joinClasses")(this.props.className,this.props.isAdsInterfaceSource?"_4n-0"+(this.props.readOnly?" _43rs":""):"_38bx"+(this.props.readOnly?" _43rs":""));return i.jsx("div",{className:a,onClick:this.focus,onFocus:this.focus,role:"presentation",children:i.jsx("div",{className:"_18_r",children:i.jsx(c("DraftEditor.react"),babelHelpers["extends"]({},this.props,{ref:this.abstractTextEditorRef}))})})};return b}(i.Component);a.propTypes={autoflip:c("prop-types").bool,editorState:c("prop-types").instanceOf(c("EditorState")).isRequired,isAdsInterfaceSource:c("prop-types").bool,onChange:c("prop-types").func.isRequired,placeholder:c("prop-types").string,readOnly:c("prop-types").bool.isRequired,spellCheck:c("prop-types").bool};a.defaultProps=c("DraftEditor.react").defaultProps;g["default"]=a}),98);
__d("PagesReplyComposerEditorView.react",["cx","MacroInput.react","XUISpinner.react","getDefaultKeyBinding","joinClasses","react","removeEmojiFromEditorState"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=8,k=46,l=Object.freeze({EMOJI_BACKSPACE:"emojiBackspace",EMOJI_DELETE:"emojiDelete"});function m(a){if(a.keyCode===j)return l.EMOJI_BACKSPACE;else if(a.keyCode===k)return l.EMOJI_DELETE;return c("getDefaultKeyBinding")(a)}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$1=function(a,b,e){var f;switch(a){case"emojiBackspace":f="backspace";break;case"emojiDelete":f="delete";break}if(f){e=c("removeEmojiFromEditorState")(f,b);if(d.props.composerState.currentContent!==e){d.props.onReplyChange(e);return"handled"}}return"not-handled"},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.render=function(){return i.jsxs("div",{className:this.props.config.isAdsInterfaceSource===!0?c("joinClasses")(this.props.className,"_1hot"+(this.props.isSideToolbar===!0?" _93cc":"")):c("joinClasses")(this.props.className,"_-x3"),children:[i.jsx("div",{className:"_-x4"+(this.props.composerState.isInitialized?" hidden_elem":""),children:i.jsx("div",{className:"_-x5",children:this.props.composerState.isInitialized?null:i.jsx(c("XUISpinner.react"),{size:"large"})})}),i.jsx(c("MacroInput.react"),{className:this.props.config.isAdsInterfaceSource===!0?"_2ph-"+(this.props.isEditDisabled!==!0?" _1hou":"")+(this.props.isEditDisabled===!0?" _7vfc":"")+(this.props.isSideToolbar===!0?" _8-l_":""):this.props.config.isInboxCombinedCustomQuestionTest===!0?c("joinClasses")(this.props.inputClassName,"_8hq-"):c("joinClasses")(this.props.inputClassName,"_-x6"),editorState:this.props.composerState.currentContent,handleKeyCommand:this.$1,isAdsInterfaceSource:this.props.config.isAdsInterfaceSource,keyBindingFn:m,onChange:this.props.onReplyChange,placeholder:this.props.config.placeholderText,readOnly:this.props.composerState.disabled||this.props.isEditDisabled===!0})]})};return b}(i.PureComponent);g["default"]=a}),98);
__d("PagesReplyComposerEmojiButton.react",["AdsInterfacesLogger","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerVisualEditorLoggerEvents","EmojiInputButton.react","addEmojiToEditorState","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(){c("AdsInterfacesLogger").log({eventName:e.props.isCTMLeadGen?d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CLICK_EMOJI_BUTTON:c("AdsMessengerVisualEditorLoggerEvents").CTM_CLICK_EMOJI_BUTTON})},e.$2=function(a){var b=e.props.composerState.currentContent;if(b===null)return;c("addEmojiToEditorState")(a,b,e.props.onReplyChange);c("AdsInterfacesLogger").log({eventName:e.props.isCTMLeadGen?d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_INSERT_EMOJI:c("AdsMessengerVisualEditorLoggerEvents").CTM_INSERT_EMOJI})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){c("AdsInterfacesLogger").log({eventName:this.props.isCTMLeadGen?d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_RENDER_EMOJI_BUTTON:c("AdsMessengerVisualEditorLoggerEvents").CTM_RENDER_EMOJI_BUTTON})};e.render=function(){return h.jsx(c("EmojiInputButton.react"),{buttonClassName:this.props.buttonClassName,iconActiveClassName:this.props.iconActiveClassName,iconClassName:this.props.iconClassName,onClick:this.$1,onSelect:this.$2,padPicker:!0,position:"below"})};return b}(h.PureComponent);g["default"]=a}),98);
__d("PagesReplyComposerEditorContainer.react",["cx","fbt","ix","ContentState","EditorState","FDSButton.react","FileInput.react","FluxContainer","Image.react","Layout.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerEditorView.react","PagesReplyComposerEmojiButton.react","PagesReplyComposerStore","XUIError.react","isNullish","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);b.getStores=function(a){return[c("PagesReplyComposerStore").getByKey(a.config.composerKey)]};b.calculateState=function(a,b){a=c("PagesReplyComposerStore").getByKey(b.config.composerKey).getState();return{composerState:a}};function b(b){var d;d=a.call(this,b)||this;d.$3=function(a){d.$1.notifyContentChange(a)};d.$1=c("PagesReplyComposerActions").getActionsByKey(b.config.composerKey);return d}var d=b.prototype;d.componentDidUpdate=function(a,b){var d,e=this.state.composerState.currentContent.getCurrentContent().getPlainText().trim();b=b.composerState.currentContent.getCurrentContent().getPlainText().trim();d=(d=this.props.welcomeString)==null?void 0:d.toString();var f=this.props.onReplyChange;b!==e&&(f&&f(e));this.props.config.isAdsInterfaceSource===!0&&b===e&&!c("isStringNullOrEmpty")(d)&&d!==e&&this.$2();a.config.automationID!==this.props.config.automationID&&this.$1.initializeStoreWithConfig(this.props.config);b===e&&e!==this.props.config.initialReply&&this.props.config.isBizInbox===!0&&this.$1.initializeStoreWithConfig(this.props.config)};d.$2=function(){c("PagesReplyComposerDispatcher").getByKey(this.props.config.composerKey).explicitlyRegisterStores([c("PagesReplyComposerStore").getByKey(this.props.config.composerKey)]),this.$1.initializeStoreWithConfig(this.props.config),this.props.config.isAdsInterfaceSource===!0&&this.$3&&this.$3(c("EditorState").createWithContent(c("ContentState").createFromText(this.props.welcomeString!=null?this.props.welcomeString.toString():"")))};d.UNSAFE_componentWillMount=function(){this.$2()};d.render=function(){var a=i._("Add an image"),b=i._("Add a video");return k.jsxs(c("Layout.react"),{children:[k.jsx(c("Layout.react").FillColumn,{children:k.jsx(c("PagesReplyComposerEditorView.react"),{className:this.props.className,composerState:this.state.composerState,config:this.props.config,inputClassName:this.props.inputClassName,isEditDisabled:this.props.isEditDisabled,isSideToolbar:this.props.isSideToolbar,onReplyChange:this.$3})}),this.props.isEditDisabled!==!0&&k.jsxs(k.Fragment,{children:[k.jsx(c("Layout.react").Column,{className:(this.props.isSideToolbar===!0?"_9a4z":"")+(this.props.isSideToolbar?"":" _84sp"),children:k.jsx(c("PagesReplyComposerEmojiButton.react"),{buttonClassName:"_84s8",composerState:this.state.composerState,iconActiveClassName:"_84s9 _9a4_",iconClassName:(this.props.isSideToolbar!==!0?"_84sa":"")+(this.props.isSideToolbar?" _9abb":"")+(this.props.isSideToolbar===!0&&!this.props.isFocused===!0&&!this.props.isHovered===!0?" _9a50":""),isCTMLeadGen:this.props.isCTMLeadGen||!1,onReplyChange:this.$3})}),this.props.isSideToolbar===!0&&this.props.showMediaIcons===!0&&k.jsxs(k.Fragment,{children:[k.jsx(c("Layout.react").Column,{className:"_9a62",children:k.jsx(c("FDSButton.react"),{"data-testid":void 0,icon:k.jsx(c("Image.react"),{src:j("784857")}),label:"Image",labelIsHidden:!0,onClick:this.props.onImageIconSelect,style:{visibility:this.props.isFocused===!0||this.props.isHovered===!0?"visible":"hidden",height:16,padding:0},tooltip:a})}),k.jsx(c("Layout.react").Column,{className:"_9a65",children:k.jsx("div",{className:"_9cs4",children:k.jsx(c("XUIError.react"),{xuiError:this.props.videoError,children:k.jsx("div",{children:k.jsx(c("FileInput.react"),{accept:"video/*",name:"file",onChange:this.props.onVideoIconSelect,children:k.jsx(c("FDSButton.react"),{href:{url:"#"},icon:c("isNullish")(this.props.videoError)?k.jsx(c("Image.react"),{src:j("1102366")}):k.jsx(c("Image.react"),{src:j("1620191")}),label:"Image",labelIsHidden:!0,style:{visibility:this.props.isFocused===!0||this.props.isHovered===!0||!c("isNullish")(this.props.videoError)?"visible":"hidden",height:16,padding:0},tooltip:b})})})})})})]})]})]})};return b}(k.PureComponent);b=c("FluxContainer").create(a,{withProps:!0,pure:!0});g["default"]=b}),98);
__d("PagesReplyComposerMacroView.react",["cx","GeoSelectableList.react","GeoSelectableListGenericItem.react","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onSelected(c.props.macro)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){return i.jsx("div",{className:"_q2m",children:i.jsx(c("GeoSelectableList.react"),{itemStyle:"radio",onSelectionChange:this.$1,selectedItemIDs:[],selectionType:"single",variant:"divided",children:i.jsx(c("GeoSelectableListGenericItem.react"),{itemID:this.props.macro.key,children:i.jsx("div",{className:this.props.isAdsInterfaceSource===!0?"_2ph- _63ig":"_q2n",children:this.props.macro.title})})})})};return b}(i.Component);a.propTypes={isAdsInterfaceSource:c("prop-types").bool};g["default"]=a}),98);
__d("PagesReplyComposerMacroBrowserView.react",["cx","PagesReplyComposerMacroView.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){function b(b){return i.jsx(c("PagesReplyComposerMacroView.react"),{isAdsInterfaceSource:a.isAdsInterfaceSource,macro:b,onSelected:a.onMacroSelected},b.key)}b.displayName=b.name+" [from "+f.id+"]";var d=a.composerState.supportedMacros.filter(function(a){return a.key==="user_first_name"||a.key==="user_last_name"||a.key==="user_full_name"||a.key==="page_name"});return i.jsx("div",{className:"_518s",children:a.isAdsInterfaceSource===!0?d.map(function(a){return b(a)}):a.composerState.supportedMacros.map(function(a){return b(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PagesReplyComposerMacroBrowserContainer.react",["FluxContainer","PagesReplyComposerActionKeys","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerMacroBrowserView.react","PagesReplyComposerStore","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);b.getStores=function(a){return[c("PagesReplyComposerStore").getByKey(a.config.composerKey)]};b.calculateState=function(a,b){return{composerState:c("PagesReplyComposerStore").getByKey(b.config.composerKey).getState()}};function b(b){var d;d=a.call(this,b)||this;d.$2=function(a){d.$1.notifyToggleOff(c("PagesReplyComposerActionKeys").TOGGLE_PERSONALIZATION),d.$1.notifyInsertMacro(a)};d.$1=c("PagesReplyComposerActions").getActionsByKey(d.props.config.composerKey);return d}var d=b.prototype;d.UNSAFE_componentWillMount=function(){c("PagesReplyComposerDispatcher").getByKey(this.props.config.composerKey).explicitlyRegisterStores([c("PagesReplyComposerStore").getByKey(this.props.config.composerKey)])};d.render=function(){return h.jsx(c("PagesReplyComposerMacroBrowserView.react"),{className:this.props.className,composerState:this.state.composerState,isAdsInterfaceSource:this.props.config.isAdsInterfaceSource,onMacroSelected:this.$2})};return b}(h.Component);b=c("FluxContainer").create(a,{withProps:!0,pure:!0});g["default"]=b}),98);
__d("PagesReplyComposerToolbarItem.react",["cx","fbt","ix","Alignment","ContextualLayerAutoFlip","ContextualLayerHideOnScroll","FDSButton.react","Image.react","LayerHideOnBlur","Link.react","ReactLayeredComponentMixin_DEPRECATED","XUIContextualDialog.react","classWithMixins","emptyFunction","joinClasses","mixin","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$PagesReplyComposerToolbarItem1=function(a){a||c.props.onFlyoutDisappear()},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=i._("+ Add customer's name"),b=i._("Insert personalization"),d=i._("To protect user privacy, greetings on WhatsApp do not include names."),e=c("joinClasses")(this.props.className,this.props.isFeatureVisible?"":"hidden_elem");return this.props.disabled?k.jsx("span",{className:c("joinClasses")(e,"_owf"),children:a}):k.jsx(c("Link.react"),{className:this.props.isAdsInterfaceSource?"_63i9":c("joinClasses")(e,"_owg"),href:"#",onClick:this.props.isSideToolbar?c("emptyFunction"):this.props.onClick,ref:"root",children:this.props.isSideToolbar?k.jsx(c("FDSButton.react"),{"data-testid":void 0,icon:this.props.disableTokenizationforWhatsApp?k.jsx(c("Image.react"),{src:j("1511849")}):k.jsx(c("Image.react"),{src:j("590307")}),label:a,labelIsHidden:!0,margin:"_3-8_",style:{visibility:this.props.isFocused||this.props.isHovered||this.props.showPopover?"visible":"hidden",height:18,padding:0},tooltip:this.props.disableTokenizationforWhatsApp?d:b,use:"flatWhite"}):a})};d.renderLayers=function(){var a=this;return{contextualDialog:k.jsx(c("XUIContextualDialog.react"),{alignment:c("Alignment").CENTER,behaviors:{ContextualLayerAutoFlip:c("ContextualLayerAutoFlip"),LayerHideOnBlur:c("LayerHideOnBlur"),ContextualLayerHideOnScroll:c("ContextualLayerHideOnScroll")},contextRef:function(){return a.refs.root},label:"",onToggle:this.$PagesReplyComposerToolbarItem1,position:"above",shown:this.props.showPopover,children:this.props.popover})}};return b}(c("classWithMixins")(k.Component,c("mixin")(d("ReactLayeredComponentMixin_DEPRECATED"))));g["default"]=a}),98);
__d("PagesReplyComposerToolbarView.react",["cx","PagesReplyComposerActionKeys","PagesReplyComposerMacroBrowserContainer.react","PagesReplyComposerToolbarItem.react","emptyFunction","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){function b(){a.composerState.disableTokenizationforWhatsApp||a.onToolItemClicked(c("PagesReplyComposerActionKeys").TOGGLE_PERSONALIZATION)}function d(){a.onToolItemPopoverDisappear(c("PagesReplyComposerActionKeys").TOGGLE_PERSONALIZATION)}var e=c("joinClasses")("_1rdk",a.className);a.isFocused===!0&&(e=c("joinClasses")(e,"_85cm"));var f="_9a4y";return i.jsx("div",{className:a.isSideToolbar===!0?f:e,onClick:a.isSideToolbar===!0?b:c("emptyFunction"),children:i.jsx(c("PagesReplyComposerToolbarItem.react"),{className:"_5li7",disableTokenizationforWhatsApp:a.composerState.disableTokenizationforWhatsApp,disabled:a.composerState.disabled,isAdsInterfaceSource:a.config.isAdsInterfaceSource,isFeatureVisible:a.composerState.featureMap.macroBrowse,isFocused:a.isFocused,isHovered:a.isHovered,isSideToolbar:a.isSideToolbar,onClick:b,onFlyoutDisappear:d,popover:i.jsx(c("PagesReplyComposerMacroBrowserContainer.react"),{config:a.config}),showPopover:a.composerState.shouldShowMacroBrowser})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PagesReplyComposerToolbarContainer.react",["FluxContainer","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","PagesReplyComposerToolbarView.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);b.getStores=function(a){return[c("PagesReplyComposerStore").getByKey(a.config.composerKey)]};b.calculateState=function(a,b){return{composerState:c("PagesReplyComposerStore").getByKey(b.config.composerKey).getState()}};function b(b){var d;d=a.call(this,b)||this;d.$2=function(a){d.$1.notifyToggleOff(a)};d.$3=function(a){d.$1.notifyToggleOn(a),d.props.onToolItemClicked&&d.props.onToolItemClicked()};d.$1=c("PagesReplyComposerActions").getActionsByKey(d.props.config.composerKey);return d}var d=b.prototype;d.UNSAFE_componentWillMount=function(){c("PagesReplyComposerDispatcher").getByKey(this.props.config.composerKey).explicitlyRegisterStores([c("PagesReplyComposerStore").getByKey(this.props.config.composerKey)])};d.render=function(){return h.jsx(c("PagesReplyComposerToolbarView.react"),{className:this.props.className,composerState:this.state.composerState,config:this.props.config,isFocused:this.props.isFocused,isHovered:this.props.isHovered,isSideToolbar:this.props.isSideToolbar===!0,onToolItemClicked:this.$3,onToolItemPopoverDisappear:this.$2})};return b}(h.PureComponent);b=c("FluxContainer").create(a,{withProps:!0,pure:!0});g["default"]=b}),98);
__d("StartConversationsTemplateResponseSuggestionSection.react",["fbt","AdsAGBlueTipMultipleSteps.react","AdsIntelligentBlueTip.react","ClickToMessageFeatureGating","GeoBaseSpacingLayout.react","GeoBaseText.react","GeoBaseToken.react","GeoTokenLabelColorEnum","GeoVStack.react","ge","react","stylex","useGeoTheme"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState,l={responsiveWidth:{maxWidth:"x1uz7gt0"},root:{width:"x1x0by9y",marginBottom:"xod5an3",marginTop:"x14vqqas"}},m=h._("Automated responses can start meaningful conversations by helping you respond quickly and efficiently to customer enquiries.");function a(a){var b=c("useGeoTheme")();b=b.selectSpacing;var e=b({context:"component",bounds:"internal",positions:[],offsets:["bottom"]}),f=b({context:"component",bounds:"internal",positions:["top","bottom"],target:"fine"}),g=function(b){a.onIceBreakerChange(a.index,b,"response"),a.setVisible(!1)};b="icebreaker-suggested-response-"+a.index;function j(){if(a.question==null||a.question.trim().length===0)return[];else return["answer 1 for "+a.question,"answer 2 for "+a.question,"answer 3 for "+a.question]}if(d("ClickToMessageFeatureGating").enableAutomatedResponseSuggestionAM(a.account)&&j().length>0&&(a.visible||a.noResponse))return i.jsxs(i.Fragment,{children:[i.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"accent",children:h._("Suggested responses:")}),i.jsxs("div",{id:b,children:[i.jsx(c("GeoVStack.react"),{xstyle:l.root,children:i.jsx(c("GeoBaseSpacingLayout.react"),{wrap:!0,xstyle:e,children:j().map(function(a,b){return i.jsx("div",{className:c("stylex")(f),children:i.jsx(c("GeoBaseToken.react"),{color:c("GeoTokenLabelColorEnum").Blue,label:a,xstyle:l.responsiveWidth,onClick:function(b){return g(a)}},b)})})})}),i.jsx(n,{id:b,showTip:a.showTip})]})]});else return null}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=k(!1),d=b[0],e=b[1];j(function(){e(!0)},[]);return!d||!a.showTip?null:i.jsx(c("AdsAGBlueTipMultipleSteps.react"),{behaviors:c("AdsIntelligentBlueTip.react").DEFAULT_BEHAVIORS,context:[c("ge")(a.id)],messageContentList:[m],position:"below",onClose:function(){e(!1)}})}n.displayName=n.name+" [from "+f.id+"]";g.StartConversationsTemplateResponseSuggestionSection=a}),98);
__d("StartConversationsTemplateFAQ.react",["cx","fbt","AdCampaignDestination","AdsAccountUtils","AdsInterfacesLogger","AdsMessengerConstants","AdsMessengerErrorSpecType","AdsMessengerErrorSpecUtils","AdsMessengerSetSavedResponseIndexAction","AdsMessengerVisualEditorLoggerEvents","AdsUEditorUnifiedCreationUtils","AdsWhatsAppFeatureGating","ClickableArea.react","GeoBaseText.react","GeoCloseButton.react","GeoTextInput.react","Middot.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerTextUtilities","PagesReplyComposerToolbarContainer.react","StartConversationsTemplateResponseSuggestionSection.react","curry","emptyFunction","geoMargin","react","stylex","useDebouncedOnChange"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l={closeButton:{"float":"x1guec7k",marginBottom:"x12nagc"},iceBreakerContainer:{borderTop:"x2zj1ee",borderEnd:"x1rdax98",borderBottom:"x15vx95u",borderStart:"x1ifxtnr",marginBottom:"xod5an3",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8"},iceBreakerContainerSelected:{borderTop:"x15hbf5m",borderEnd:"x14h2g0f",borderBottom:"x1qte9q4",borderStart:"xo62xy0",marginBottom:"xod5an3",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8"},welcomeMessageEditorArea:{backgroundColor:"x34a59n",borderTop:"x1ibpi8b",borderEnd:"x116l1lp",borderBottom:"x1xix8yi",borderStart:"x1fl7wym",position:"x1n2onr6",marginBottom:"xod5an3"},welcomeMessageEditorAreaFocused:{backgroundColor:"x34a59n",borderTop:"x1ljldre",borderEnd:"x1a8kfb",borderBottom:"x1e1xuyr",borderStart:"x11o2x5r"}},m=i._("Enter the answer to this question."),n=750;function a(a){var b,e=k(!1),f=e[0],g=e[1];e=k(!1);var h=e[0],n=e[1];e=d("AdsUEditorUnifiedCreationUtils").destinationIncludesWhatsApp(a.destinationType)&&!d("AdsWhatsAppFeatureGating").isCTWAIcebreakerAutoRepliesSupportEnabled(a.account,(e=a.page)==null?void 0:e.has_whatsapp_business_number);var s=a.destinationType===c("AdCampaignDestination").WHATSAPP&&e,t=c("AdsAccountUtils").hasCapability(a.account,"DISABLE_CTM_FEATURE_FOR_EPD_JURISDICTION"),u=d("AdsMessengerErrorSpecUtils").getCTAError(a.errorSpec,c("AdsMessengerErrorSpecType").ICE_BREAKERS,a.index);u=u?String(u.errorMessage):null;var v=a.isEditDisabled==!0?d("PagesReplyComposerTextUtilities").processMessage(a.getResponseText(a.index)||"",a.composerState.supportedMacros):a.getResponseText(a.index);b={composerKey:a.index.toString(),initialDisabled:a.isEditDisabled===!0,disableTokenizationforWhatsApp:q(a.destinationType,a.account,(b=(b=a.page)==null?void 0:b.has_whatsapp_business_number)!=null?b:!1),initialReply:v||"",isAdsInterfaceSource:!0,maxCharacterLength:d("AdsMessengerConstants").ICE_BREAKER_RESPONSE_MAX_LENGTH,pageID:a.pageID,placeholderText:m};function w(){if(a.editorTab==null)return;c("AdsMessengerSetSavedResponseIndexAction").dispatch({contentEditorTab:a.editorTab,index:a.index},{line:"177",module:"StartConversationsTemplateFAQ.react.js"})}function x(b){a.onIceBreakerChange(a.index,b,"title"),n(!0)}function y(b){a.onIceBreakerChange(a.index,b,"response"),n(!1)}function z(){g(!0)}function A(){g(!1)}function B(){c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_PERSONALIZE_SAVED_RESPONSE})}function C(b){return a.getResponseText(b)==null||((b=a.getResponseText(b))==null?void 0:b.trim().length)===0}v=f?l.iceBreakerContainerSelected:l.iceBreakerContainer;var D=C(a.index);if(D)for(var E=a.index-1;E>=0;E--)if(C(E)){D=!1;break}return j.jsx(c("ClickableArea.react"),{onClick:w,children:j.jsxs("div",{className:c("stylex")(s?c("geoMargin").bottom16:v),"data-testid":void 0,children:[a.showRemove&&!s&&j.jsx("div",{className:c("stylex")(l.closeButton),children:j.jsx(c("GeoCloseButton.react"),{"data-testid":void 0,isDisabled:a.isEditDisabled,onClick:a.isEditDisabled===!0?c("emptyFunction"):c("curry")(a.onRemoveIceBreaker,a.index)})}),s?null:j.jsxs(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",weight:"bold",xstyle:[c("geoMargin").top8,c("geoMargin").bottom12],children:[i._("Question")," #",a.index+1]}),j.jsx(o,{areAutomatedResponsesUnavailable:s,errorMessage:u,index:a.index,isEditDisabled:a.isEditDisabled,title:a.value.title,onBlur:A,onFocus:z,onRemoveIceBreaker:a.onRemoveIceBreaker,onTitleChange:x}),!s&&!t&&j.jsxs(j.Fragment,{children:[j.jsxs(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",weight:"bold",xstyle:[c("geoMargin").top12,c("geoMargin").bottom4],children:[i._("Automated response"),j.jsx(c("Middot.react"),{}),j.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",weight:"bold",children:i._("Optional")})]}),j.jsxs("div",{className:c("stylex")(l.welcomeMessageEditorArea,f&&l.welcomeMessageEditorAreaFocused),"data-testid":void 0,onBlur:A,onFocus:z,children:[j.jsx(p,{config:b,isEditDisabled:a.isEditDisabled,welcomeString:a.getResponseText(a.index),onReplyChange:y}),j.jsx(c("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:b,isFocused:!0,isSideToolbar:!0,onToolItemClicked:B})]}),j.jsx(d("StartConversationsTemplateResponseSuggestionSection.react").StartConversationsTemplateResponseSuggestionSection,{account:a.account,index:a.index,noResponse:C(a.index),question:a.value.title,setVisible:n,showTip:D,visible:h,onIceBreakerChange:a.onIceBreakerChange})]}),!t&&j.jsx(r,{areAutomatedResponsesUnavailableForWA:e,destinationType:a.destinationType})]})})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b;b=c("useDebouncedOnChange")((b=a.title)!=null?b:"",a.onTitleChange,n);var e=b[0];b=b[1];var f=i._("Question #{index}",[i._param("index",a.index+1)]);return a.areAutomatedResponsesUnavailable?j.jsx(c("GeoTextInput.react"),{"data-testid":void 0,errorMessage:a.errorMessage,isDisabled:a.isEditDisabled,label:f,maxLength:d("AdsMessengerConstants").ICE_BREAKER_MAX_LENGTH,placeholder:null,value:e,onBlur:a.onBlur,onChange:b,onClear:a.isEditDisabled===!0?c("emptyFunction"):c("curry")(a.onRemoveIceBreaker,a.index),onFocus:a.onFocus}):j.jsx(c("GeoTextInput.react"),{"data-testid":void 0,errorMessage:a.errorMessage,isDisabled:a.isEditDisabled,isLabelHidden:!0,label:f,maxLength:d("AdsMessengerConstants").ICE_BREAKER_MAX_LENGTH,placeholder:null,value:e,onBlur:a.onBlur,onChange:b,onFocus:a.onFocus})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b;b=c("useDebouncedOnChange")((b=a.welcomeString)!=null?b:"",(b=a.onReplyChange)!=null?b:function(){},n);var d=b[0];b=b[1];return j.jsx(c("PagesReplyComposerEditorContainer.react"),{config:a.config,isEditDisabled:a.isEditDisabled,isFocused:!0,isSideToolbar:!0,welcomeString:d,onReplyChange:b})}p.displayName=p.name+" [from "+f.id+"]";function q(a,b,e){return a===c("AdCampaignDestination").WHATSAPP&&d("AdsWhatsAppFeatureGating").isCTWAIcebreakerAutoRepliesSupportEnabled(b,e)}function r(a){if(a.destinationType===c("AdCampaignDestination").MESSAGING_INSTAGRAM_DIRECT_MESSENGER_WHATSAPP)if(a.areAutomatedResponsesUnavailableForWA)return j.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"accent",children:i._("Automated responses only appear in Messenger and Instagram. People that open ads that click to WhatsApp will not receive an automated response when they tap a question.")});else return null;else if(a.destinationType===c("AdCampaignDestination").MESSAGING_INSTAGRAM_DIRECT_WHATSAPP)if(a.areAutomatedResponsesUnavailableForWA)return j.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"accent",children:i._("Automated responses only appear in Instagram. People that open ads that click to WhatsApp will not receive an automated response when they tap a question.")});else return null;else if(a.destinationType===c("AdCampaignDestination").MESSAGING_MESSENGER_WHATSAPP)return a.areAutomatedResponsesUnavailableForWA?j.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"accent",children:i._("Automated responses only appear in Messenger. People that open ads that click to WhatsApp will not receive an automated response when they tap a question.")}):null;else return null}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StartConversationsTemplateQuickReplyDropdown.react",["fbt","AdsMessengerVisualEditorQRResponseType","GeoSelector.react","GeoSelectorItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return i.jsx("div",{className:"xod5an3",children:i.jsxs(c("GeoSelector.react"),{isDisabled:!1,isLabelHidden:!0,label:"Start Conversations Dropdown with Bot",value:a.selectedResponse,onChange:a.onQRResponseTypeChange,children:[i.jsx(c("GeoSelectorItem.react"),{description:h._("Instantly send a text response."),isDisabled:!1,label:h._("Text"),value:c("AdsMessengerVisualEditorQRResponseType").TEXT}),i.jsx(c("GeoSelectorItem.react"),{description:h._("Prompt your bot to start chatting."),label:h._("Connect your bot"),value:c("AdsMessengerVisualEditorQRResponseType").BOT}),i.jsx(c("GeoSelectorItem.react"),{description:h._("No response will be sent."),label:h._("None"),value:c("AdsMessengerVisualEditorQRResponseType").NONE})]})})}j.displayName=j.name+" [from "+f.id+"]";function k(a){return i.jsx("div",{className:"xod5an3",children:i.jsxs(c("GeoSelector.react"),{isDisabled:!1,isLabelHidden:!0,label:"Start Conversations Dropdown with No Bot",value:a.selectedResponse,onChange:a.onQRResponseTypeChange,children:[i.jsx(c("GeoSelectorItem.react"),{description:h._("Instantly send a text response."),isDisabled:!1,label:h._("Text"),value:c("AdsMessengerVisualEditorQRResponseType").TEXT}),i.jsx(c("GeoSelectorItem.react"),{description:h._("No response will be sent."),label:h._("None"),value:c("AdsMessengerVisualEditorQRResponseType").NONE})]})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){return a.hasBot?i.jsx(j,{selectedResponse:a.selectedResponse,onQRResponseTypeChange:a.onQRResponseTypeChange}):i.jsx(k,{selectedResponse:a.selectedResponse,onQRResponseTypeChange:a.onQRResponseTypeChange})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("adsMessengerDataModelGetQRResponseType",["AdsMessengerVisualEditorQRResponseType","adsMessengerDataModelGetQuickReplies"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("adsMessengerDataModelGetQuickReplies")(a);if(a&&a[b]){a=a[b].response_type;return a?a:c("AdsMessengerVisualEditorQRResponseType").TEXT}return c("AdsMessengerVisualEditorQRResponseType").TEXT}g["default"]=a}),98);
__d("StartConversationsTemplateQuickReply.react",["cx","fbt","AdsAccountUtils","AdsMessengerCTMAdsAPI","AdsMessengerConstants","AdsMessengerErrorSpecType","AdsMessengerErrorSpecUtils","AdsMessengerSetSavedResponseIndexAction","AdsMessengerVisualEditorQRResponseType","AdsUniformValue","ClickableArea.react","GeoBaseText.react","GeoCloseButton.react","GeoTextInput.react","GeoTooltip.react","Link.react","Middot.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","StartConversationsTemplateQuickReplyDropdown.react","adsMessengerDataModelGetQRResponseType","curry","geoMargin","react","stylex","useDebouncedOnChange"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l={iceBreakerContainer:{borderTop:"x2zj1ee",borderEnd:"x1rdax98",borderBottom:"x15vx95u",borderStart:"x1ifxtnr",marginBottom:"xod5an3",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13"},iceBreakerContainerSelected:{borderTop:"x15hbf5m",borderEnd:"x14h2g0f",borderBottom:"x1qte9q4",borderStart:"xo62xy0"},closeButton:{"float":"x1guec7k",marginBottom:"x12nagc"},welcomeMessageEditorArea:{backgroundColor:"x2izyaf",borderTop:"x1ibpi8b",borderEnd:"x116l1lp",borderBottom:"x1xix8yi",borderStart:"x1fl7wym",position:"x1n2onr6"},welcomeMessageEditorAreaFocused:{backgroundColor:"x2izyaf",borderTop:"x1ljldre",borderEnd:"x1a8kfb",borderBottom:"x1e1xuyr",borderStart:"x11o2x5r"}},m=750;function a(a){var b=k(!1),e=b[0],f=b[1];b=k(!1);var g=b[0],h=b[1];b=k(!1);var p=b[0],q=b[1];function r(){a.editorTab!=null&&c("AdsMessengerSetSavedResponseIndexAction").dispatch({contentEditorTab:a.editorTab,index:a.index},{line:"122",module:"StartConversationsTemplateQuickReply.react.js"})}function s(b){a.onQRResponseTypeChange(a.index,b)}function t(b){a.onQRPayloadChange(a.index,new(c("AdsUniformValue"))(b))}function u(b){a.onQRResponseChange(a.index,new(c("AdsUniformValue"))(b))}function v(b){a.onQuickReplyTitleChange(a.index,new(c("AdsUniformValue"))(b))}function w(){q(!0)}function x(){q(!1)}b=a.qr;var y="",z="",A="";b&&(y=b.title!=null?b.title.toString():b.title,z=b.payload==null?"":b.payload,A=b.response==null?"":b.response);y=c("useDebouncedOnChange")((b=y)!=null?b:"",v,m);b=y[0];v=y[1];y=d("AdsMessengerErrorSpecUtils").getCTAError(a.errorSpec,c("AdsMessengerErrorSpecType").QUICK_REPLY,a.index);y=y?String(y.errorMessage):null;e=e||g||p;g=c("adsMessengerDataModelGetQRResponseType")(a.welcomeMessageJSON,a.index);var B=String(a.pageID);B={composerKey:a.index.toString(),initialDisabled:a.isEditDisabled===!0,initialReply:A||"",isAdsInterfaceSource:!0,maxCharacterLength:d("AdsMessengerConstants").QUICK_REPLY_TEXT_RESPONSE_MAX_LENGTH,pageID:B,placeholderText:i._("Enter a response")};var C=c("AdsAccountUtils").hasCapability(a.account,"DISABLE_CTM_FEATURE_FOR_EPD_JURISDICTION");return j.jsx(c("ClickableArea.react"),{onClick:r,children:j.jsxs("div",{className:c("stylex")(l.iceBreakerContainer,e&&l.iceBreakerContainerSelected),children:[a.shouldShowClose&&j.jsx("div",{className:c("stylex")(l.closeButton),children:j.jsx(c("GeoCloseButton.react"),{isDisabled:a.isEditDisabled,onClick:c("curry")(a.onRemoveQuickReply,a.index)})}),j.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",weight:"bold",xstyle:[c("geoMargin").top8,c("geoMargin").bottom16],children:i._("Quick reply #{cta_index}",[i._param("cta_index",a.index+1)])}),j.jsx(c("GeoTextInput.react"),{errorMessage:y,isDisabled:a.isEditDisabled,isLabelHidden:!0,label:"Quick Reply",maxLength:d("AdsMessengerConstants").QUICK_REPLY_TITLE_MAX_LENGTH,placeholder:i._("Suggest a reply, such as \"I'm interested\""),value:b,onBlur:function(){f(!1)},onChange:v,onFocus:function(){f(!0)}}),!C&&j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:c("stylex")(c("geoMargin").vert8),children:[j.jsxs(c("GeoBaseText.react"),{color:"value",size:"value",weight:"bold",children:[i._("Automated response"),j.jsx(c("Middot.react"),{}),j.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",weight:"bold",children:i._("Optional")})]}),j.jsx(c("GeoTooltip.react"),{content:i._("Automatically send this response when someone taps the quick reply.")})]}),j.jsx(c("StartConversationsTemplateQuickReplyDropdown.react"),{hasBot:a.isMessengerPlatformBot,selectedResponse:c("adsMessengerDataModelGetQRResponseType")(a.welcomeMessageJSON,a.index),onQRResponseTypeChange:s}),g===c("AdsMessengerVisualEditorQRResponseType").TEXT&&j.jsx(n,{changeQRResponse:u,config:B,isEditDisabled:a.isEditDisabled||!1,isFocusedTextResponse:p,qrResponseValue:A,onBlur:x,onFocus:w}),g===c("AdsMessengerVisualEditorQRResponseType").BOT&&j.jsx(o,{changeQRPayload:t,dropDownPlaceholder:!0,isEditDisabled:a.isEditDisabled,qrPayloadValue:z,showTitle:!1,onBlurPayload:function(){h(!1)},onFocusPayload:function(){h(!0)}})]})]})})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b;b=c("useDebouncedOnChange")((b=a.qrResponseValue)!=null?b:"",a.changeQRResponse,m);var d=b[0];b=b[1];return j.jsxs("div",{className:c("stylex")(c("geoMargin").bottom12,l.welcomeMessageEditorArea,a.isFocusedTextResponse&&l.welcomeMessageEditorAreaFocused),onBlur:a.onBlur,onFocus:a.onFocus,children:[j.jsx(c("PagesReplyComposerEditorContainer.react"),{config:a.config,isEditDisabled:a.isEditDisabled,isFocused:!0,isSideToolbar:!0,welcomeString:d,onReplyChange:b}),j.jsx(c("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a.config,isFocused:!0,isSideToolbar:!0})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b,e=a.dropDownPlaceholder?i._("Bot payload (this will be sent to your webhook)"):i._("For bots only: This will be sent to your webhook");return j.jsxs(j.Fragment,{children:[a.showTitle&&j.jsxs(j.Fragment,{children:[j.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",weight:"bold",xstyle:c("geoMargin").bottom8,children:i._("Bot payload")}),j.jsx(c("GeoTooltip.react"),{content:i._("If you have a bot set up and are sending a postback, enter your payload. {learn more link for payload}",[i._param("learn more link for payload",j.jsx(c("Link.react"),{href:d("AdsMessengerCTMAdsAPI").getPayloadLink(),target:"_blank",children:i._("Learn more")}))])})]}),j.jsx(c("GeoTextInput.react"),{isDisabled:(b=a.isEditDisabled)!=null?b:!1,isLabelHidden:!0,label:"Bot Payload",placeholder:e,value:a.qrPayloadValue,onBlur:a.onBlurPayload,onChange:a.changeQRPayload,onClear:a.onRemovePayload,onFocus:a.onFocusPayload})]})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StartConversationsTemplateQuickRepliesSection.react",["fbt","AdsMessengerUtils","GeoBaseText.react","ShimButton.react","StartConversationsTemplateQuickReply.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=this,b=this.props.quickReplies,e=i.jsx(c("ShimButton.react"),{className:"x1swvt13 x18d9i69 x4uap5 xz9dl7a x1xmf6yo x10w6t97 x1ypdohk x1xuncpt xp8g1g8 x1702gmn x12of9pz",disabled:this.props.isEditDisabled,onClick:this.props.onAddQuickReply,children:i.jsx(c("GeoBaseText.react"),{color:"valueLabel",isDisabled:!0,size:"value",children:h._("+ Add a quick reply")})});return!b||!b.length?e:i.jsxs(i.Fragment,{children:[b.map(function(d,e){return i.jsx(c("StartConversationsTemplateQuickReply.react"),{account:a.props.account,editorTab:a.props.editorTab,errorSpec:a.props.errorSpec,index:e,isEditDisabled:a.props.isEditDisabled,isMessengerPlatformBot:a.props.isMessengerPlatformBot,pageID:a.props.pageID,qr:d,shouldShowClose:b&&b.length>1,welcomeMessageJSON:a.props.welcomeMessageJSON,onQRPayloadChange:a.props.onQRPayloadChange,onQRResponseChange:a.props.onQRResponseChange,onQRResponseTypeChange:a.props.onQRResponseTypeChange,onQuickReplyTitleChange:a.props.onQuickReplyTitleChange,onRemoveQuickReply:a.props.onRemoveQuickReply},e)}),(!this.props.quickReplies||this.props.quickReplies.length<d("AdsMessengerUtils").getMaxQRNum())&&e]})};return b}(i.Component);g["default"]=a}),98);
__d("adsMessengerDataModelGetCTAs",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelGetGenericElement","adsMessengerDataModelGetMediaFormat","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetMediaFormat")(a);switch(b){case c("AdsMessengerJSONMediaFormatType").IMAGE:b=c("adsMessengerDataModelGetGenericElement")(a);return b&&b.buttons;case c("AdsMessengerJSONMediaFormatType").TEXT:b=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENT_BUTTONS;return c("getByPath")(a,b);default:return null}}g["default"]=a}),98);
__d("adsMessengerDataModelAddCTA",["invariant","AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetCTAs","adsMessengerDataModelGetGenericElement","adsMessengerDataModelGetMediaFormat","setByPath"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=c("adsMessengerDataModelGetMediaFormat")(a),d=c("adsMessengerDataModelGetCTAs")(a)||[];d.push(null);var e=null;switch(b){case c("AdsMessengerJSONMediaFormatType").IMAGE:b=c("adsMessengerDataModelGetGenericElement")(a)||{};b.buttons=d;e=c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS;var f=c("adsMessengerDataModelClone")(a);c("setByPath")(f,e,[b]);return f;case c("AdsMessengerJSONMediaFormatType").TEXT:e=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENT_BUTTONS;b=c("adsMessengerDataModelClone")(a);c("setByPath")(b,e,d);return b;default:return a}}g["default"]=a}),98);
__d("adsMessengerDataModelGetIceBreakerPath",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelGetMediaFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("adsMessengerDataModelGetMediaFormat")(a);switch(a){case c("AdsMessengerJSONMediaFormatType").IMAGE:return c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ICE_BREAKERS;case c("AdsMessengerJSONMediaFormatType").TEXT:return c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ICE_BREAKERS;case c("AdsMessengerJSONMediaFormatType").VIDEO:return c("AdsMessengerJSONPaths").VIDEO_FORMAT.MESSAGE.ICE_BREAKERS;default:return null}}g["default"]=a}),98);
__d("adsMessengerDataModelAddIceBreaker",["adsMessengerDataModelClone","adsMessengerDataModelGetIceBreakerPath","adsMessengerDataModelGetIceBreakers","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetIceBreakers")(a)||[];if(b){var d={title:""};b.push(d)}b=b.filter(function(a){return!!a});d=c("adsMessengerDataModelGetIceBreakerPath")(a);if(!d)return a;a=c("adsMessengerDataModelClone")(a);c("setByPath")(a,d,b);return a}g["default"]=a}),98);
__d("adsMessengerDataModelAddQuickReply",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelGetQuickReplies","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetQuickReplies")(a)||[];b.push(null);var d=c("adsMessengerDataModelGetMediaFormat")(a);switch(d){case c("AdsMessengerJSONMediaFormatType").IMAGE:d=c("adsMessengerDataModelClone")(a);c("setByPath")(d,c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.QUICK_REPLIES,b);return d;case c("AdsMessengerJSONMediaFormatType").VIDEO:d=c("adsMessengerDataModelClone")(a);c("setByPath")(d,c("AdsMessengerJSONPaths").VIDEO_FORMAT.MESSAGE.QUICK_REPLIES,b);return d;case c("AdsMessengerJSONMediaFormatType").TEXT:d=c("adsMessengerDataModelClone")(a);c("setByPath")(d,c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.QUICK_REPLIES,b);return d;default:return a}}g["default"]=a}),98);
__d("adsMessengerDataModelGetIceBreaker",["adsMessengerDataModelGetIceBreakerPath","getByPath"],(function(a,b,c,d,e,f,g){"use strict";var h={title:null};function a(a,b){var d=c("adsMessengerDataModelGetIceBreakerPath")(a);if(d){a=c("getByPath")(a,d);if(a&&a.length>b)return a[b]||h}return h}g["default"]=a}),98);
__d("adsMessengerDataModelRemoveCTA",["invariant","AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetCTAs","adsMessengerDataModelGetGenericElement","adsMessengerDataModelGetMediaFormat","deleteByPath","getByPath","setByPath"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){var d=c("getByPath")(a,c("AdsMessengerJSONPaths").MESSAGE.ATTACHMENT.PAYLOAD.TEMPLATE_TYPE);d=c("adsMessengerDataModelGetCTAs")(a)||[];var e=c("adsMessengerDataModelGetMediaFormat")(a),f=null;switch(e){case c("AdsMessengerJSONMediaFormatType").IMAGE:e=c("adsMessengerDataModelGetGenericElement")(a)||{};d.splice(b,1);e.buttons=d;d.length||delete e.buttons;f=c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS;var g=c("adsMessengerDataModelClone")(a);c("setByPath")(g,f,[e]);return g;case c("AdsMessengerJSONMediaFormatType").TEXT:d.splice(b,1);f=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENT_BUTTONS;e=c("adsMessengerDataModelClone")(a);!d.length?c("deleteByPath")(e,f):c("setByPath")(e,f,d);return e;default:return a}}g["default"]=a}),98);
__d("adsMessengerDataModelRemoveIceBreaker",["adsMessengerDataModelClone","adsMessengerDataModelGetIceBreakerPath","adsMessengerDataModelGetIceBreakers","adsMessengerDataModelGetSurface","deleteByPath","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("adsMessengerDataModelGetIceBreakers")(a)||[];d&&d.splice(b,1);d=d.filter(function(a){return!!a});b=c("adsMessengerDataModelGetIceBreakerPath")(a);if(!b)return a;var e=c("adsMessengerDataModelClone")(a);!d.length?c("adsMessengerDataModelGetSurface")(a)!=="business_tools"&&c("deleteByPath")(e,b):c("setByPath")(e,b,d);return e}g["default"]=a}),98);
__d("adsMessengerDataModelGetQRPath",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelGetMediaFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("adsMessengerDataModelGetMediaFormat")(a);switch(a){case c("AdsMessengerJSONMediaFormatType").IMAGE:return c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.QUICK_REPLIES;case c("AdsMessengerJSONMediaFormatType").VIDEO:return c("AdsMessengerJSONPaths").VIDEO_FORMAT.MESSAGE.QUICK_REPLIES;case c("AdsMessengerJSONMediaFormatType").TEXT:return c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.QUICK_REPLIES;default:return null}}g["default"]=a}),98);
__d("adsMessengerDataModelRemoveQuickReply",["adsMessengerDataModelClone","adsMessengerDataModelGetQRPath","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelGetSurface","deleteByPath","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("adsMessengerDataModelGetQuickReplies")(a)||[];d&&d.splice(b,1);d.filter(function(a){return!!a});b=c("adsMessengerDataModelGetQRPath")(a);if(!b)return a;var e=c("adsMessengerDataModelClone")(a);!d.length?c("adsMessengerDataModelGetSurface")(a)!=="business_tools"&&c("deleteByPath")(e,b):c("setByPath")(e,b,d);return e}g["default"]=a}),98);
__d("adsMessengerDataModelSetCTATitle",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetCTAs","adsMessengerDataModelGetGenericElement","adsMessengerDataModelGetMediaFormat","deleteByPath","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d=d.getValue();var e=c("adsMessengerDataModelGetCTAs")(a)||[],f=c("adsMessengerDataModelGetMediaFormat")(a),g=null;switch(f){case c("AdsMessengerJSONMediaFormatType").IMAGE:f=c("adsMessengerDataModelGetGenericElement")(a)||{};e[b]?(e[b].title=d,!d&&(e[b].url==null||e[b].url=="")&&(e[b]=null)):e[b]={type:"web_url",url:"",title:d};f.buttons=e;e.length||delete f.buttons;g=c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS;var h=c("adsMessengerDataModelClone")(a);c("setByPath")(h,g,[f]);return h;case c("AdsMessengerJSONMediaFormatType").TEXT:e[b]?(e[b].title=d,!d&&(e[b].url==null||e[b].url=="")&&(e[b]=null)):e[b]={type:"web_url",url:"",title:d};g=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENT_BUTTONS;f=c("adsMessengerDataModelClone")(a);!e.length?c("deleteByPath")(f,g):c("setByPath")(f,g,e);return f;default:return a}}g["default"]=a}),98);
__d("adsMessengerDataModelSetCTAType",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetCTAs","adsMessengerDataModelGetGenericElement","adsMessengerDataModelGetMediaFormat","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e,f=c("adsMessengerDataModelGetCTAs")(a)||[],g=c("adsMessengerDataModelGetMediaFormat")(a),h=null,i;switch(g){case c("AdsMessengerJSONMediaFormatType").IMAGE:g=c("adsMessengerDataModelGetGenericElement")(a)||{};i=f[b]?f[b].title:"";f[b]=d==="web_url"?(e={},e.type="web_url",e.url="",e.title=i,e):(e={},e.type="postback",e.payload="",e.title=i,e);g.buttons=f;h=c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS;e=c("adsMessengerDataModelClone")(a);c("setByPath")(e,h,[g]);return e;case c("AdsMessengerJSONMediaFormatType").TEXT:i=f[b]?f[b].title:"";f[b]=d==="web_url"?(g={},g.type="web_url",g.url="",g.title=i,g):(e={},e.type="postback",e.payload="",e.title=i,e);h=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENT_BUTTONS;b=c("adsMessengerDataModelClone")(a);c("setByPath")(b,h,f);return b;default:return a}}g["default"]=a}),98);
__d("adsMessengerDataModelSetCTAURL",["invariant","AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetCTAs","adsMessengerDataModelGetGenericElement","adsMessengerDataModelGetMediaFormat","deleteByPath","setByPath"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,d){d=d.getValue();var e,f=c("adsMessengerDataModelGetCTAs")(a)||[];b<=f.length||h(0,2111);var g=c("adsMessengerDataModelGetMediaFormat")(a),i=null;switch(g){case c("AdsMessengerJSONMediaFormatType").IMAGE:g=c("adsMessengerDataModelGetGenericElement")(a)||{};var j=f[b];e=j?j.type:"web_url";j=j?j.title:"";if(e==="web_url"){var k;f[b]=(k={},k.type="web_url",k.url=d,k.title=j,k)}else{f[b]=(k={},k.type="postback",k.payload=d,k.title=j,k)}g.buttons=f;f.length||delete g.buttons;i=c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS;k=c("adsMessengerDataModelClone")(a);c("setByPath")(k,i,[g]);return k;case c("AdsMessengerJSONMediaFormatType").TEXT:e=f[b]?f[b].type:"web_url";j=f[b]?f[b].title:"";if(e==="web_url"){f[b]=(g={},g.type="web_url",g.url=d,g.title=j,g)}else{f[b]=(k={},k.type="postback",k.payload=d,k.title=j,k)}i=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENT_BUTTONS;e=c("adsMessengerDataModelClone")(a);!f.length?c("deleteByPath")(e,i):c("setByPath")(e,i,f);return e;default:return a}}g["default"]=a}),98);
__d("adsMessengerDataModelSetIceBreaker",["adsMessengerDataModelClone","adsMessengerDataModelGetIceBreakerPath","getByPath","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e=c("adsMessengerDataModelGetIceBreakerPath")(a),f=c("adsMessengerDataModelClone")(a);if(e){a=c("getByPath")(a,e);a&&a.length>b&&(a[b]=d);c("setByPath")(f,e,a)}return f}g["default"]=a}),98);
__d("adsMessengerDataModelSetQR",["adsMessengerDataModelClone","adsMessengerDataModelGetQRPath","deleteByPath","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("adsMessengerDataModelGetQRPath")(a);if(!d)return a;a=c("adsMessengerDataModelClone")(a);!b.length?c("deleteByPath")(a,d):c("setByPath")(a,d,b);return a}g["default"]=a}),98);
__d("adsMessengerDataModelSetQRPayload",["adsMessengerDataModelGetQRResponseType","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelSetQR","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d=d.getValue();var e=c("adsMessengerDataModelGetQuickReplies")(a)||[],f=c("getByPath")(e,[String(b),"title"]),g=c("adsMessengerDataModelGetQRResponseType")(a,b);e[b]={content_type:"text",response_type:g,payload:d,title:f};!f&&!d&&(e[b]=null);return c("adsMessengerDataModelSetQR")(a,e)}g["default"]=a}),98);
__d("adsMessengerDataModelSetQRResponse",["adsMessengerDataModelGetQRResponseType","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelSetQR","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d=d.getValue();var e=c("adsMessengerDataModelGetQuickReplies")(a)||[],f=c("getByPath")(e,[String(b),"title"]),g=c("adsMessengerDataModelGetQRResponseType")(a,b);e[b]={content_type:"text",response_type:g,response:d,title:f};!f&&!d&&(e[b]=null);return c("adsMessengerDataModelSetQR")(a,e)}g["default"]=a}),98);
__d("adsMessengerDataModelSetQRResponseType",["adsMessengerDataModelGetQuickReplies","adsMessengerDataModelSetQR","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e=c("adsMessengerDataModelGetQuickReplies")(a)||[],f=c("getByPath")(e,[String(b),"title"]);e[b]={content_type:"text",response_type:d,title:f};return c("adsMessengerDataModelSetQR")(a,e)}g["default"]=a}),98);
__d("adsMessengerDataModelSetQRTitle",["AdsMessengerVisualEditorQRResponseType","adsMessengerDataModelGetQRResponseType","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelSetQR","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){d=d.getValue();var e=c("adsMessengerDataModelGetQuickReplies")(a)||[],f=c("adsMessengerDataModelGetQRResponseType")(a,b),g=f===c("AdsMessengerVisualEditorQRResponseType").BOT,h=c("getByPath")(e,[String(b),"payload"]),i=c("getByPath")(e,[String(b),"response"]);f===c("AdsMessengerVisualEditorQRResponseType").NONE?e[b]={content_type:"text",response_type:f,title:d}:e[b]=g?{content_type:"text",response_type:f,title:d,payload:h}:{content_type:"text",response_type:f,title:d,response:i};!d&&!(h||i)&&(e[b]=null);return c("adsMessengerDataModelSetQR")(a,e)}g["default"]=a}),98);
__d("StartConversationsTemplateCustomerActionsSection.react",["fbt","AdsInterfacesLogger","AdsLearnMore.react","AdsMessengerUtils","AdsMessengerVisualEditorCustomerActionType","AdsMessengerVisualEditorLoggerEvents","AdsUEditorUnifiedCreationUtils","GeoBaseText.react","ShimButton.react","StartConversationsTemplateButtonsSection.react","StartConversationsTemplateFAQ.react","StartConversationsTemplateQuickRepliesSection.react","adsMessengerDataModelAddCTA","adsMessengerDataModelAddIceBreaker","adsMessengerDataModelAddQuickReply","adsMessengerDataModelGetIceBreaker","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelRemoveCTA","adsMessengerDataModelRemoveIceBreaker","adsMessengerDataModelRemoveQuickReply","adsMessengerDataModelSetCTATitle","adsMessengerDataModelSetCTAType","adsMessengerDataModelSetCTAURL","adsMessengerDataModelSetIceBreaker","adsMessengerDataModelSetQRPayload","adsMessengerDataModelSetQRResponse","adsMessengerDataModelSetQRResponseType","adsMessengerDataModelSetQRTitle","emptyFunction","react","setByPath"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=function(){var b=c("adsMessengerDataModelGetMediaFormat")(a.welcomeMessageJSON);c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_ADD_ICEBREAKERS,data:{type:b}});a.onJSONChange(c("adsMessengerDataModelAddIceBreaker")(a.welcomeMessageJSON))},e=function(b){b=c("adsMessengerDataModelGetIceBreaker")(a.welcomeMessageJSON,b);return b.response},f=function(b,d,e){var f=a.welcomeMessageJSON,g=c("adsMessengerDataModelGetIceBreaker")(f,b);switch(e){case"title":if(d===g.title)return;c("setByPath")(f,["user_edit"],!0);a.onJSONChange(c("adsMessengerDataModelSetIceBreaker")(f,b,(e={},e.title=d,e.response=g.response,e)));break;case"response":if(d===g.response)return;c("setByPath")(f,["user_edit"],!0);a.onJSONChange(c("adsMessengerDataModelSetIceBreaker")(f,b,(e={},e.title=g.title,e.response=d,e)));break}},g=function(b){a.onJSONChange(c("adsMessengerDataModelRemoveIceBreaker")(a.welcomeMessageJSON,b))},j=function(){a.onJSONChange(c("adsMessengerDataModelAddCTA")(a.welcomeMessageJSON))},k=function(b,d){a.onJSONChange(c("adsMessengerDataModelSetCTATitle")(a.welcomeMessageJSON,b,d))},l=function(b,d){a.onJSONChange(c("adsMessengerDataModelSetCTAType")(a.welcomeMessageJSON,b,d))},m=function(b){a.onJSONChange(c("adsMessengerDataModelRemoveCTA")(a.welcomeMessageJSON,b))},n=function(b,d){a.onJSONChange(c("adsMessengerDataModelSetCTAURL")(a.welcomeMessageJSON,b,d))},o=function(){a.onJSONChange(c("adsMessengerDataModelAddQuickReply")(a.welcomeMessageJSON))},p=function(b,d){a.onJSONChange(c("adsMessengerDataModelSetQRPayload")(a.welcomeMessageJSON,b,d))},q=function(b,d){a.onJSONChange(c("adsMessengerDataModelSetQRResponse")(a.welcomeMessageJSON,b,d))},r=function(b,d){a.onJSONChange(c("adsMessengerDataModelSetQRResponseType")(a.welcomeMessageJSON,b,d))},s=function(b,d){a.onJSONChange(c("adsMessengerDataModelSetQRTitle")(a.welcomeMessageJSON,b,d))},t=function(b){a.onJSONChange(c("adsMessengerDataModelRemoveQuickReply")(a.welcomeMessageJSON,b))},u=d("AdsUEditorUnifiedCreationUtils").isMultiDestination(a.destinationType),v=d("AdsUEditorUnifiedCreationUtils").isWhatsAppOrInstagramOrComboDestination(a.destinationType),w=a.iceBreakers?a.iceBreakers.length>1||u:!1;u=a.iceBreakers&&a.iceBreakers.length<d("AdsMessengerUtils").getMaxFAQNum()||(u||v)&&a.iceBreakers==null;switch(a.customerAction){case c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS:return i.jsxs(i.Fragment,{children:[(a.iceBreakers||[]).map(function(b,d){return i.jsx(c("StartConversationsTemplateFAQ.react"),{account:a.account,composerState:a.composerState,destinationType:a.destinationType,editorTab:a.editorTab,errorSpec:a.errorSpec,getResponseText:e,index:d,isEditDisabled:a.isEditDisabled,page:a.page,pageID:String(a.pageID),showRemove:a.isEditDisabled===!0?!1:w,value:b,onIceBreakerChange:f,onRemoveIceBreaker:g},d)}),u&&i.jsx(c("ShimButton.react"),{className:"xz9dl7a x1swvt13 x1xmf6yo x10w6t97 x1ypdohk x1xuncpt xp8g1g8 x1702gmn x12of9pz","data-testid":void 0,onClick:a.isEditDisabled===!0?c("emptyFunction"):b,children:i.jsx(c("GeoBaseText.react"),{color:"valueLabel",isDisabled:!0,size:"value",children:h._("+ Add a question")})})]});case c("AdsMessengerVisualEditorCustomerActionType").BUTTONS:return i.jsx(c("StartConversationsTemplateButtonsSection.react"),{ctas:a.ctas,errorSpec:a.errorSpec,isEditDisabled:a.isEditDisabled,isMessengerPlatformBot:a.isMessengerPlatformBot,onAddButton:j,onButtonTitleChange:k,onCTATypeChange:l,onRemoveButton:m,onURLChange:n});case c("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES:return i.jsx(c("StartConversationsTemplateQuickRepliesSection.react"),{account:a.account,editorTab:a.editorTab,errorSpec:a.errorSpec,isEditDisabled:a.isEditDisabled,isMessengerPlatformBot:a.isMessengerPlatformBot,pageID:a.pageID,quickReplies:a.quickReplies,welcomeMessageJSON:a.welcomeMessageJSON,onAddQuickReply:o,onQRPayloadChange:p,onQRResponseChange:q,onQRResponseTypeChange:r,onQuickReplyTitleChange:s,onRemoveQuickReply:t});default:return i.jsx(c("GeoBaseText.react"),{color:"placeholder",display:"block",size:"valueDescription",children:h._("Add customer actions to make it easier for people to start a conversation with your business. Customers will always be able to type their own message. {=Learn more}",[h._param("=Learn more",i.jsx(c("AdsLearnMore.react"),{cmsID:"2330767566973915"}))])})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AdsMessagingDestinationInThreadMultiphotoCarouselButton",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=Object.freeze({AVAILABILITY:{actionPrefill:h._("Is this item available?"),defaultResponse:h._("Thanks for your interest. We'll get back to you with availability of this item."),title:h._("Ask for availability"),type:"availability"},DETAILS:{actionPrefill:h._("Can you tell me more about this item?"),defaultResponse:h._("Thanks for your interest. We'll get back to you with more about this item."),title:h._("Ask for details"),type:"details"},PRICE:{actionPrefill:h._("What's the price of this item?"),defaultResponse:h._("Thanks for your interest. We'll get back to you with pricing."),title:h._("Ask for price"),type:"price"}});g["default"]=a}),98);
__d("CtmMultiPhotoCarouselAmMultiPhotoCarouselAutomatedResponseCreateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743537");c=b("FalcoLoggerInternal").create("ctm_multi_photo_carousel_am_multi_photo_carousel_automated_response_create",a);e.exports=c}),null);
__d("CtmMultiPhotoCarouselAmMultiPhotoCarouselAutomatedResponseImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743538");c=b("FalcoLoggerInternal").create("ctm_multi_photo_carousel_am_multi_photo_carousel_automated_response_impression",a);e.exports=c}),null);
__d("CtmMultiPhotoCarouselAmMultiPhotoCarouselButtonClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743539");c=b("FalcoLoggerInternal").create("ctm_multi_photo_carousel_am_multi_photo_carousel_button_click",a);e.exports=c}),null);
__d("CtmMultiPhotoCarouselAmMultiPhotoCarouselButtonImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743540");c=b("FalcoLoggerInternal").create("ctm_multi_photo_carousel_am_multi_photo_carousel_button_impression",a);e.exports=c}),null);
__d("adsMessengerDataModelGetInThreadMultiphotoCarouselButton",["AdsMessengerJSONPaths","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("getByPath")(a,c("AdsMessengerJSONPaths").TEXT_FORMAT.IN_THREAD_MULTIPHOTO_CAROUSEL.BUTTON.path)}g["default"]=a}),98);
__d("adsMessengerDataModelSetInThreadMultiphotoCarouselButton",["AdsMessengerJSONPaths","adsMessengerDataModelClone","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("adsMessengerDataModelClone")(a);c("setByPath")(a,c("AdsMessengerJSONPaths").TEXT_FORMAT.IN_THREAD_MULTIPHOTO_CAROUSEL.BUTTON.path,b);return a}g["default"]=a}),98);
__d("AdsMessagingDestinationInThreadMultiphotoCarouselResponseEditor.react",["cx","fbt","AdsMessagingDestinationInThreadMultiphotoCarouselButton","AdsMessengerConstants","AdsMessengerJSONPaths","CtmMultiPhotoCarouselAmMultiPhotoCarouselAutomatedResponseCreateFalcoEvent","CtmMultiPhotoCarouselAmMultiPhotoCarouselAutomatedResponseImpressionFalcoEvent","CtmMultiPhotoCarouselAmMultiPhotoCarouselButtonClickFalcoEvent","CtmMultiPhotoCarouselAmMultiPhotoCarouselButtonImpressionFalcoEvent","FBLogger","GeoSelector.react","GeoSelectorItem.react","GeoText.react","GeoTooltip.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","adsMessengerDataModelGetInThreadMultiphotoCarouselButton","adsMessengerDataModelSetInThreadMultiphotoCarouselButton","react","setByPath"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useState;function a(a){var b=a.welcomeMessageJSON,c=a.onJSONChange,e=p(b,c),f=k(function(d){c(q(b,a.accountID,a.pageID,a.postID,d))},[b,a.accountID,a.pageID,a.postID,c]),g=k(function(d){c(s(b,a.accountID,d,a.pageID,a.postID))},[b,a.accountID,a.pageID,a.postID,c]),h=i._("Here's more info about your selection.");h={composerKey:"inThreadMultiphotoCarouselResponse",initialDisabled:a.isEditDisabled===!0,initialReply:e.response||"",isAdsInterfaceSource:!0,maxCharacterLength:d("AdsMessengerConstants").IN_THREAD_MULTIPHOTO_CAROUSEL_REPLY_MAX_LENGTH,pageID:a.pageID,placeholderText:h};return j.jsxs("div",{className:"_99a1",children:[j.jsx(n,{accountID:a.accountID,isEditDisabled:a.isEditDisabled,pageID:a.pageID,postID:a.postID,type:e.type,onChange:f}),j.jsx(o,{accountID:a.accountID,config:h,isEditDisabled:a.isEditDisabled,pageID:a.pageID,postID:a.postID,type:e.type,onChange:g})]})}a.displayName=a.name+" [from "+f.id+"]";function n(a){l(function(){c("CtmMultiPhotoCarouselAmMultiPhotoCarouselButtonImpressionFalcoEvent").log(function(){var b;return{client_timestamp_ms:Date.now(),page_id:a.pageID,event_location:"unknown",event_data:(b={},b.ad_account_id=a.accountID,b.post_id=a.postID,b)}})},[a.accountID,a.pageID,a.postID]);return j.jsxs(j.Fragment,{children:[j.jsx(c("GeoText.react"),{children:i._("{=m0}",[i._implicitParam("=m0",j.jsx("strong",{children:i._("Button")}))])}),j.jsx(c("GeoTooltip.react"),{content:i._("When people tap the button, their message will send with the image attached. Then they'll receive the automated response you set up.")}),j.jsx("div",{children:j.jsxs(c("GeoSelector.react"),{"data-testid":void 0,isDisabled:a.isEditDisabled===!0,isLabelHidden:!0,label:i._("Button"),value:a.type,onChange:a.onChange,children:[j.jsx(c("GeoSelectorItem.react"),{label:c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").AVAILABILITY.title,value:c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").AVAILABILITY.type}),j.jsx(c("GeoSelectorItem.react"),{label:c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").DETAILS.title,value:c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").DETAILS.type}),j.jsx(c("GeoSelectorItem.react"),{label:c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").PRICE.title,value:c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").PRICE.type})]})})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=m(!1),d=b[0],e=b[1];b=k(function(){e(!1)},[]);var f=k(function(){e(!0)},[]);l(function(){c("CtmMultiPhotoCarouselAmMultiPhotoCarouselAutomatedResponseImpressionFalcoEvent").log(function(){var b;return{client_timestamp_ms:Date.now(),page_id:a.pageID,event_location:"unknown",event_data:(b={},b.ad_account_id=a.accountID,b.post_id=a.postID,b)}})},[a.accountID,a.pageID,a.postID]);return j.jsxs("div",{className:"_3-8y",children:[j.jsx(c("GeoText.react"),{children:i._("{=m0}",[i._implicitParam("=m0",j.jsx("strong",{children:i._("Automated Response (Optional)")}))])}),j.jsxs("div",{className:"_3-96 _99a2"+(d?" _9h7o":""),onBlur:b,onFocus:f,children:[j.jsx(c("PagesReplyComposerEditorContainer.react"),{config:a.config,isEditDisabled:a.isEditDisabled,isFocused:!0,isSideToolbar:!0,onReplyChange:a.onChange},"itmc-response-editor-"+a.type),j.jsx(c("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:a.config,isFocused:!0,isSideToolbar:!0})]})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a,b){var d=c("adsMessengerDataModelGetInThreadMultiphotoCarouselButton")(a);if(d)return d;else{d={action_prefill:c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").AVAILABILITY.actionPrefill,response:c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").AVAILABILITY.defaultResponse.toString(),title:c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").AVAILABILITY.title,type:c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").AVAILABILITY.type};b(c("adsMessengerDataModelSetInThreadMultiphotoCarouselButton")(a,d));return d}}function q(a,b,d,e,f){c("CtmMultiPhotoCarouselAmMultiPhotoCarouselButtonClickFalcoEvent").log(function(){var a;return{client_timestamp_ms:Date.now(),page_id:d,event_location:"unknown",event_data:(a={},a.ad_account_id=b,a.button_content=f,a.post_id=e,a)}});var g=c("adsMessengerDataModelGetInThreadMultiphotoCarouselButton")(a)||{},h=r(f);h==null?c("FBLogger")("messenger_destination_ads","in_thread_multiphoto_carousel").warn("Invalid button type: %s",f):(g.action_prefill=h.actionPrefill,g.response=h.defaultResponse.toString(),g.type=f,g.title=h.title);return c("adsMessengerDataModelSetInThreadMultiphotoCarouselButton")(a,g)}function r(a){switch(a){case c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").AVAILABILITY.type:return c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").AVAILABILITY;case c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").DETAILS.type:return c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").DETAILS;case c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").PRICE.type:return c("AdsMessagingDestinationInThreadMultiphotoCarouselButton").PRICE;default:return null}}function s(a,b,d,e,f){c("CtmMultiPhotoCarouselAmMultiPhotoCarouselAutomatedResponseCreateFalcoEvent").log(function(){var a;return{client_timestamp_ms:Date.now(),page_id:e,event_location:"unknown",event_data:(a={},a.ad_account_id=b,a.automated_response=d,a.post_id=f,a)}});c("setByPath")(a,c("AdsMessengerJSONPaths").TEXT_FORMAT.IN_THREAD_MULTIPHOTO_CAROUSEL.BUTTON.RESPONSE,d);return a}g["default"]=a}),98);
__d("CtmMultiPhotoCarouselAmMultiPhotoCarouselOptionClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743541");c=b("FalcoLoggerInternal").create("ctm_multi_photo_carousel_am_multi_photo_carousel_option_click",a);e.exports=c}),null);
__d("CtmMultiPhotoCarouselAmMultiPhotoCarouselOptionImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743542");c=b("FalcoLoggerInternal").create("ctm_multi_photo_carousel_am_multi_photo_carousel_option_impression",a);e.exports=c}),null);
__d("adsMessengerDataModelSetInThreadMultiphotoCarousel",["AdsMessengerJSONPaths","adsMessengerDataModelClone","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("adsMessengerDataModelClone")(a);c("setByPath")(a,c("AdsMessengerJSONPaths").TEXT_FORMAT.IN_THREAD_MULTIPHOTO_CAROUSEL.path,b);return a}g["default"]=a}),98);
__d("AdsMessagingDestinationInThreadMultiphotoCarouselEditor.react",["cx","fbt","AdsIntelligentBlueTip.react","AdsMessagingDestinationInThreadMultiphotoCarouselResponseEditor.react","AdsMessengerContentEditorTabs","AdsMessengerJSONPaths","CtmMultiPhotoCarouselAmMultiPhotoCarouselOptionClickFalcoEvent","CtmMultiPhotoCarouselAmMultiPhotoCarouselOptionImpressionFalcoEvent","FlexLayout.react","GeoBaseText.react","GeoCheckboxInput.react","GeoTooltip.react","adsMessengerDataModelGetInThreadMultiphotoCarousel","adsMessengerDataModelSetInThreadMultiphotoCarousel","react","setByPath","uniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useState,n=c("uniqueID")();function a(a){var b=a.onJSONChange,d=p(a.welcomeMessageJSON,a.editorTab,b),e=d.welcomeMessageJSON;d=d.inThreadMultiphotoCarousel;d=m(d.is_enabled);var f=d[0],g=d[1];d=k(function(){g(!f),b(o(e,a.accountID,!f,a.pageID,a.postID))},[e,a.accountID,f,a.pageID,a.postID,b]);l(function(){c("CtmMultiPhotoCarouselAmMultiPhotoCarouselOptionImpressionFalcoEvent").log(function(){var b;return{client_timestamp_ms:Date.now(),page_id:a.pageID,event_location:"unknown",event_data:(b={},b.ad_account_id=a.accountID,b.post_id=a.postID,b)}})},[a.accountID,a.pageID,a.postID]);return j.jsxs("div",{className:"_3-95",children:[j.jsx("div",{className:"_3-95",children:j.jsx(c("FlexLayout.react"),{align:"center",justify:"all",children:j.jsxs(c("FlexLayout.react"),{align:"center",justify:"start",children:[j.jsx(c("GeoCheckboxInput.react"),{"data-testid":void 0,isDisabled:a.isEditDisabled,label:" ",value:f,onChange:d}),j.jsxs("div",{className:"_98n2",children:[j.jsx(c("GeoBaseText.react"),{color:"placeholder",size:"value",weight:"bold",children:i._("Include images from your ad and optional automated response")}),j.jsx("span",{id:n,children:j.jsx(c("GeoTooltip.react"),{align:"middle",content:i._("If selected, the images from your ad will appear in your chat. Up to 10 images will be included.")})})]})]})})}),f&&j.jsx(c("AdsMessagingDestinationInThreadMultiphotoCarouselResponseEditor.react"),{accountID:a.accountID,isEditDisabled:a.isEditDisabled,pageID:a.pageID,postID:a.postID,welcomeMessageJSON:e,onJSONChange:b}),j.jsx(c("AdsIntelligentBlueTip.react"),{contextNodeID:n,messageID:"in_thread_multiphoto_carousel_setup"})]})}a.displayName=a.name+" [from "+f.id+"]";function o(a,b,d,e,f){c("CtmMultiPhotoCarouselAmMultiPhotoCarouselOptionClickFalcoEvent").log(function(){var a;return{client_timestamp_ms:Date.now(),page_id:e,event_location:"unknown",event_data:(a={},a.ad_account_id=b,a.opt_in=d,a.post_id=f,a)}});c("setByPath")(a,c("AdsMessengerJSONPaths").TEXT_FORMAT.IN_THREAD_MULTIPHOTO_CAROUSEL.IS_ENABLED,d);return a}function p(a,b,d){var e=c("adsMessengerDataModelGetInThreadMultiphotoCarousel")(a);if(e)return{welcomeMessageJSON:a,inThreadMultiphotoCarousel:e};else{e={is_enabled:b===c("AdsMessengerContentEditorTabs").CREATE_NEW};b=c("adsMessengerDataModelSetInThreadMultiphotoCarousel")(a,e);d(b);return{welcomeMessageJSON:b,inThreadMultiphotoCarousel:e}}}g["default"]=a}),98);
__d("AdsMessagingDestinationInThreadMultiphotoCarouselContainer.react",["invariant","AdsFluxHooks","AdsMessagingDestinationInThreadMultiphotoCarouselEditor.react","AdsMessengerJSONMediaFormatType","AdsUEditorAdgroupExistingPostCTACommonSelectors","AdsUEditorHooks","GeoSpinner.react","loadObjectComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("loadObjectComponent")({loading:function(){return i.jsx(c("GeoSpinner.react"),{size:"small"})},empty:function(){return null},error:function(a){return null},loaded:function(a,b){if(b.format!==c("AdsMessengerJSONMediaFormatType").TEXT||!a.showInThreadMultiphotoCarousel)return null;a=a.postID;a!=null||h(0,23067);return i.jsx(c("AdsMessagingDestinationInThreadMultiphotoCarouselEditor.react"),{accountID:b.accountID,editorTab:b.editorTab,isEditDisabled:b.isEditDisabled,pageID:b.pageID,postID:a,welcomeMessageJSON:b.welcomeMessageJSON,onJSONChange:b.onJSONChange})}});function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsUEditorAdgroupExistingPostCTACommonSelectors").inThreadMultiphotoCarouselSourceSelector);b=b.state;return i.jsx(j,{account:a.account,accountID:a.accountID,editorTab:a.editorTab,format:a.format,isEditDisabled:a.isEditDisabled,object:b,pageID:a.pageID,welcomeMessageJSON:a.welcomeMessageJSON,onJSONChange:a.onJSONChange})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("adsMessengerDataModelGetActionTypePath",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelGetMediaFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(c("adsMessengerDataModelGetMediaFormat")(a)){case c("AdsMessengerJSONMediaFormatType").TEXT:return c("AdsMessengerJSONPaths").TEXT_FORMAT.CUSTOMER_ACTION_TYPE;case c("AdsMessengerJSONMediaFormatType").IMAGE:return c("AdsMessengerJSONPaths").IMAGE_FORMAT.CUSTOMER_ACTION_TYPE;case c("AdsMessengerJSONMediaFormatType").VIDEO:return c("AdsMessengerJSONPaths").VIDEO_FORMAT.CUSTOMER_ACTION_TYPE;default:return null}}g["default"]=a}),98);
__d("adsMessengerDataModelGetActionType",["AdsMessengerVisualEditorCustomerActionType","adsMessengerDataModelGetActionTypePath","adsMessengerDataModelGetIceBreakers","adsMessengerDataModelGetQuickReplies","getByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetActionTypePath")(a);if(b)return c("getByPath")(a,b);if(c("adsMessengerDataModelGetQuickReplies")(a))return c("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES;else if(c("adsMessengerDataModelGetIceBreakers")(a))return c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS;else return c("AdsMessengerVisualEditorCustomerActionType").BUTTONS}g["default"]=a}),98);
__d("adsMessengerDataModelRemoveAllCTA",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetGenericElement","adsMessengerDataModelGetMediaFormat","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetMediaFormat")(a),d=null;switch(b){case c("AdsMessengerJSONMediaFormatType").IMAGE:b=c("adsMessengerDataModelGetGenericElement")(a)||{};b.buttons=[];d=c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS;var e=c("adsMessengerDataModelClone")(a);c("setByPath")(e,d,[b]);return e;case c("AdsMessengerJSONMediaFormatType").TEXT:d=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENT_BUTTONS;b=c("adsMessengerDataModelClone")(a);c("setByPath")(b,d,[null]);return b;default:return a}}g["default"]=a}),98);
__d("adsMessengerDataModelRemoveAllQR",["adsMessengerDataModelSetQR"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("adsMessengerDataModelSetQR")(a,[])}g["default"]=a}),98);
__d("adsMessengerDataModelRemoveIceBreakers",["adsMessengerDataModelGetIceBreakerPath","deleteByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetIceBreakerPath")(a);b&&c("deleteByPath")(a,b)}g["default"]=a}),98);
__d("adsMessengerDataModelSetActionType",["adsMessengerDataModelGetActionTypePath","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("adsMessengerDataModelGetActionTypePath")(a);d&&c("setByPath")(a,d,b)}g["default"]=a}),98);
__d("adsMessengerDataModelSetIceBreakers",["adsMessengerDataModelClone","adsMessengerDataModelGetIceBreakerPath","deleteByPath","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("adsMessengerDataModelGetIceBreakerPath")(a);if(!d)return a;a=c("adsMessengerDataModelClone")(a);!b?c("deleteByPath")(a,d):c("setByPath")(a,d,b);return a}g["default"]=a}),98);
__d("adsMessengerDataModelSetImageFormat",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","AdsMessengerJSONTemplateType","AdsMessengerVisualEditorCustomerActionType","adsMessengerDataModelClone","adsMessengerDataModelGetActionType","adsMessengerDataModelGetCTAs","adsMessengerDataModelGetGenericElement","adsMessengerDataModelGetIceBreakers","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelRemoveAllCTA","adsMessengerDataModelRemoveAllQR","adsMessengerDataModelRemoveIceBreakers","adsMessengerDataModelSetActionType","adsMessengerDataModelSetIceBreakers","adsMessengerDataModelSetQR","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetCTAs")(a),d=b||[null],e=c("adsMessengerDataModelGetQuickReplies")(a),f=e||[null],g=c("adsMessengerDataModelGetIceBreakers")(a),h=c("adsMessengerDataModelClone")(a),i=c("adsMessengerDataModelGetGenericElement")(h)||{buttons:[]};a=c("adsMessengerDataModelGetActionType")(a);c("setByPath")(h,c("AdsMessengerJSONPaths").MEDIA_TYPE,c("AdsMessengerJSONMediaFormatType").IMAGE);c("setByPath")(h,c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.TYPE,"template");c("setByPath")(h,c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.TEMPLATE_TYPE,c("AdsMessengerJSONTemplateType").GENERIC);c("setByPath")(h,c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS,[i]);if(a===c("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES||e&&e.length>0){c("adsMessengerDataModelSetActionType")(h,c("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES);c("adsMessengerDataModelRemoveIceBreakers")(h);return c("adsMessengerDataModelSetQR")(c("adsMessengerDataModelRemoveAllCTA")(h),f)}else if(a===c("AdsMessengerVisualEditorCustomerActionType").BUTTONS||b&&b.length>0){c("adsMessengerDataModelSetActionType")(h,c("AdsMessengerVisualEditorCustomerActionType").BUTTONS);i.buttons=d;c("setByPath")(h,c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS,[i]);c("adsMessengerDataModelRemoveIceBreakers")(h);return c("adsMessengerDataModelRemoveAllQR")(h)}else if(a===c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS||g&&g.length>0){c("adsMessengerDataModelSetActionType")(h,c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS);return c("adsMessengerDataModelSetIceBreakers")(c("adsMessengerDataModelRemoveAllQR")(c("adsMessengerDataModelRemoveAllCTA")(h)),g)}return h}g["default"]=a}),98);
__d("adsMessengerDataModelAddButtonTemplate",["AdsMessengerJSONPaths","AdsMessengerJSONTemplateType","adsMessengerDataModelClone","adsMessengerDataModelGetWelcomeMessage","adsMessengerDataModelIsTextWithQR","deleteByPath","setByPath"],(function(a,b,c,d,e,f,g){"use strict";var h={type:"template",payload:{template_type:c("AdsMessengerJSONTemplateType").BUTTON,buttons:[null]}};function a(a){if(!c("adsMessengerDataModelIsTextWithQR")(a))return a;var b=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.SECOND_TEXT,d=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT,e=c("adsMessengerDataModelClone")(a);c("setByPath")(e,d.path,h);d=c("adsMessengerDataModelGetWelcomeMessage")(a);c("setByPath")(e,c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.TEXT,d);c("deleteByPath")(e,c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.TEXT);c("deleteByPath")(e,b);return e}g["default"]=a}),98);
__d("adsMessengerDataModelRemoveButtonTemplate",["AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetWelcomeMessage","deleteByPath","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT,d=c("adsMessengerDataModelClone")(a);a=c("adsMessengerDataModelGetWelcomeMessage")(a);c("setByPath")(d,c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.TEXT,a);c("deleteByPath")(d,b.path);return d}g["default"]=a}),98);
__d("adsMessengerDataModelSetTextFormat",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","AdsMessengerVisualEditorCustomerActionType","adsMessengerDataModelAddButtonTemplate","adsMessengerDataModelClone","adsMessengerDataModelGetActionType","adsMessengerDataModelGetCTAs","adsMessengerDataModelGetIceBreakers","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelIsTextWithQR","adsMessengerDataModelRemoveAllQR","adsMessengerDataModelRemoveButtonTemplate","adsMessengerDataModelRemoveIceBreakers","adsMessengerDataModelSetActionType","adsMessengerDataModelSetIceBreakers","adsMessengerDataModelSetQR","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetCTAs")(a),d=b||[null],e=c("adsMessengerDataModelGetQuickReplies")(a),f=e||[null],g=c("adsMessengerDataModelGetIceBreakers")(a),h=c("adsMessengerDataModelClone")(a);c("setByPath")(h,c("AdsMessengerJSONPaths").MEDIA_TYPE,c("AdsMessengerJSONMediaFormatType").TEXT);a=c("adsMessengerDataModelGetActionType")(a);if(a===c("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES||e){h=c("adsMessengerDataModelRemoveButtonTemplate")(h);c("adsMessengerDataModelRemoveIceBreakers")(h);c("adsMessengerDataModelSetActionType")(h,a);return c("adsMessengerDataModelSetQR")(h,f)}else if(a===c("AdsMessengerVisualEditorCustomerActionType").BUTTONS||b&&b.length)c("adsMessengerDataModelIsTextWithQR")(h)&&(h=c("adsMessengerDataModelRemoveAllQR")(c("adsMessengerDataModelAddButtonTemplate")(h)),c("adsMessengerDataModelRemoveIceBreakers")(h)),c("adsMessengerDataModelSetActionType")(h,a),c("setByPath")(h,c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENT_BUTTONS,d);else if(a===c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS||g&&g.length>0){c("adsMessengerDataModelSetActionType")(h,a);return c("adsMessengerDataModelSetIceBreakers")(c("adsMessengerDataModelRemoveAllQR")(c("adsMessengerDataModelRemoveButtonTemplate")(h)),g)}return h}g["default"]=a}),98);
__d("adsMessengerDataModelSetVideoFormat",["AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","AdsMessengerVisualEditorCustomerActionType","adsMessengerDataModelClone","adsMessengerDataModelGetActionType","adsMessengerDataModelGetIceBreakers","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelRemoveAllCTA","adsMessengerDataModelRemoveAllQR","adsMessengerDataModelRemoveIceBreakers","adsMessengerDataModelSetActionType","adsMessengerDataModelSetIceBreakers","adsMessengerDataModelSetQR","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("adsMessengerDataModelGetActionType")(a),d=c("adsMessengerDataModelGetQuickReplies")(a),e=d||[null],f=c("adsMessengerDataModelGetIceBreakers")(a);a=c("adsMessengerDataModelClone")(a);c("setByPath")(a,c("AdsMessengerJSONPaths").MEDIA_TYPE,c("AdsMessengerJSONMediaFormatType").VIDEO);c("setByPath")(a,c("AdsMessengerJSONPaths").VIDEO_FORMAT.MESSAGE.ATTACHMENT.TYPE,"video");if(b===c("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES||d&&d.length>0){c("adsMessengerDataModelRemoveIceBreakers")(a);return c("adsMessengerDataModelSetQR")(c("adsMessengerDataModelRemoveAllCTA")(a),e)}else if(b===c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS||f&&f.length>0){c("adsMessengerDataModelSetActionType")(a,c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS);return c("adsMessengerDataModelSetIceBreakers")(c("adsMessengerDataModelRemoveAllQR")(c("adsMessengerDataModelRemoveAllCTA")(a)),f)}return a}g["default"]=a}),98);
__d("adsMessengerDataModelChangeFormat",["AdsMessengerJSONMediaFormatType","adsMessengerDataModelSetImageFormat","adsMessengerDataModelSetTextFormat","adsMessengerDataModelSetVideoFormat"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b){case c("AdsMessengerJSONMediaFormatType").TEXT:return c("adsMessengerDataModelSetTextFormat")(a);case c("AdsMessengerJSONMediaFormatType").IMAGE:return c("adsMessengerDataModelSetImageFormat")(a);case c("AdsMessengerJSONMediaFormatType").VIDEO:return c("adsMessengerDataModelSetVideoFormat")(a);default:return a}}g["default"]=a}),98);
__d("StartConversationsTemplateGreetingDropdown.react",["fbt","AdsMessengerJSONMediaFormatType","GeoSelector.react","GeoSelectorItem.react","LeftRight.react","adsMessengerDataModelChangeFormat","adsMessengerDataModelGetMediaFormat","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(c("LeftRight.react"),{children:i.jsx("div",{className:c("stylex")(c("geoMargin").bottom12),children:i.jsxs(c("GeoSelector.react"),{"data-testid":void 0,isDisabled:a.isEditDisabled,isLabelHidden:!0,label:"Start Conversations Template Greeting Dropdown",value:c("adsMessengerDataModelGetMediaFormat")(a.welcomeMessageJSON),onChange:function(b){a.onJSONChange(c("adsMessengerDataModelChangeFormat")(a.welcomeMessageJSON,b))},children:[i.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,label:h._("Text only"),value:c("AdsMessengerJSONMediaFormatType").TEXT}),i.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,label:h._("Text & image"),value:c("AdsMessengerJSONMediaFormatType").IMAGE}),i.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,label:h._("Text & video"),value:c("AdsMessengerJSONMediaFormatType").VIDEO})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedSelectImage",["AdsImageSelectorV2Types","AdsUEditorImageSelectorV2Container.react","immutable","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,e,f,g){b=b?c("immutable").OrderedSet([b]):c("immutable").OrderedSet();var i=c("immutable").OrderedSet([d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,d("AdsImageSelectorV2Types").AdsImageSource.UPLOAD_IMAGE]);if(a==null)return null;var j=function(a){a=a.toJSON();g(a)};return h.jsx(c("AdsUEditorImageSelectorV2Container.react"),{accountID:a,initialSource:d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,isShown:e,maxSelectedImageIDs:1,selectedImageIDs:b,sourceTypeList:i,onConfirmLegacy:j,onHide:f})}a.displayName=a.name+" [from "+f.id+"]";g.getImageDialog=a}),98);
__d("StartConversationsTemplateGreetingImageSelector.react",["cx","fbt","ix","AdsFBIconDownsized.react","AdsFullSizeImageBoxContainer.react","GeoBaseText.react","GeoButton.react","GeoFlexbox.react","GeoNotice.react","LeftRight.react","MessengerAdsPartialAutomatedSelectImage","ShimButton.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=d("react").useState,m={condensedImageRightContainer:{marginEnd:"xe58rh2"},imageRightContainer:{marginEnd:"xsnwnut"},newDescriptionContainer:{paddingBottom:"xwib8y2"}};function n(a){var b=i._("Placeholder for selected image");return k.jsx(c("ShimButton.react"),{className:"_9a-f",onClick:a.onSelectImageClick,children:k.jsx(c("AdsFBIconDownsized.react"),{"aria-label":b,className:"_9a-g",src:j("412549"),onClick:a.onSelectImageClick})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){return k.jsx(c("AdsFullSizeImageBoxContainer.react"),{className:"_9a-h",crop:null,height:72,imageID:a.imageID,renderStyle:"SCALE_CROP",width:128,onClick:a.onSelectImageClick})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=l(!1),e=b[0],f=b[1];function g(b){a.onImageSelect(b),f(!1)}function h(){f(!0)}function j(){f(!1)}b=a.imageID;var p;Array.isArray(a.imageError)?p=a.imageError:a.imageError!=null?p=[a.imageError]:p=[];p=p.map(function(a){return k.jsx(c("GeoNotice.react"),{status:"error",xstyle:c("geoMargin").bottom16,children:a},a)});return k.jsxs("div",{children:[k.jsxs(c("LeftRight.react"),{direction:"left",children:[k.jsx("div",{className:c("stylex")(c("geoMargin").end20),children:a.isCondensedFormat!==!0?b?k.jsx(o,{imageID:b,onSelectImageClick:h}):k.jsx(n,{onSelectImageClick:h}):null}),k.jsxs("div",{className:a.isCondensedFormat===!0?c("stylex")(m.condensedImageRightContainer):a.isShortWidth===!0?c("stylex")(c("geoMargin").end0):c("stylex")(m.imageRightContainer),children:[k.jsx("div",{className:c("stylex")(m.newDescriptionContainer),children:k.jsx(c("GeoBaseText.react"),{color:"placeholder",display:"block",size:"accent",children:i._("Recommended image size: 1200 x 628 pixels")})}),k.jsxs(c("GeoFlexbox.react"),{direction:"column",children:[p,k.jsx(c("GeoButton.react"),{"data-testid":void 0,isDisabled:a.isEditDisabled,label:b?i._("Change Image"):i._("Select image"),variant:"default",onClick:h})]})]})]}),d("MessengerAdsPartialAutomatedSelectImage").getImageDialog(a.accountID,b,e,j,g)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StartConversationsTemplateGreetingImageFormat.react",["fbt","AdsBulkTextInput_DEPRECATED.react","AdsMessengerConstants","AdsMessengerErrorSpecType","AdsMessengerErrorSpecUtils","AdsUniformValue","GeoBaseText.react","Middot.react","StartConversationsTemplateGreetingImageSelector.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={formatSpecificElements:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8"},newImage:{borderTop:"x85kzmm",borderEnd:"x5jrcca",borderBottom:"xxw3bol",borderStart:"xxnbxn",maxWidth:"x65f84u",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou"}};function a(a){var b=d("AdsMessengerErrorSpecUtils").getErrorMessage(a.errorSpec,c("AdsMessengerErrorSpecType").TITLE);return i.jsx("div",{className:c("stylex")(j.formatSpecificElements),children:i.jsxs("div",{className:c("stylex")(j.newImage),children:[i.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",weight:"bold",xstyle:c("geoMargin").bottom12,children:h._("Image")}),i.jsx(c("StartConversationsTemplateGreetingImageSelector.react"),{accountID:a.accountID,imageError:d("AdsMessengerErrorSpecUtils").getErrorMessage(a.errorSpec,c("AdsMessengerErrorSpecType").IMAGE_HASH),imageID:a.imageID,isEditDisabled:a.isEditDisabled,onImageSelect:a.onImageSelect}),a.imageID&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:c("stylex")(c("geoMargin").top16),children:[i.jsx(c("GeoBaseText.react"),{color:"value",size:"value",weight:"bold",children:h._("Image title")}),i.jsx(c("Middot.react"),{}),i.jsx(c("GeoBaseText.react"),{color:"headingDescription",size:"value",weight:"bold",children:h._("Optional")}),i.jsx("div",{className:c("stylex")(c("geoMargin").top4),children:i.jsx(c("AdsBulkTextInput_DEPRECATED.react"),{disabled:a.isEditDisabled,enforceMaxLength:!0,errors:b==null?null:{error:b},hideMaxLength:!0,maxLength:d("AdsMessengerConstants").TITLE_MAX_LENGTH,placeholder:h._("Enter a title for your image"),value:new(c("AdsUniformValue"))(a.title),onChange:a.onTitleChange})})]}),i.jsxs("div",{className:c("stylex")(c("geoMargin").top16),children:[i.jsx(c("GeoBaseText.react"),{color:"value",size:"value",weight:"bold",children:h._("Image subtitle")}),i.jsx(c("Middot.react"),{}),i.jsx(c("GeoBaseText.react"),{color:"headingDescription",size:"value",weight:"bold",children:h._("Optional")}),i.jsx("div",{className:c("stylex")(c("geoMargin").top4),children:i.jsx(c("AdsBulkTextInput_DEPRECATED.react"),{disabled:a.isEditDisabled,enforceMaxLength:!0,hideMaxLength:!0,maxLength:d("AdsMessengerConstants").SUBTITLE_MAX_LENGTH,placeholder:h._("Enter a subtitle to provide more information"),value:new(c("AdsUniformValue"))(a.subTitle),onChange:a.onSubTitleChange})})]})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerContentEditorVideoSelectorUtils",["fbt","FDSText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=25;a=function(){return i.jsx(c("FDSText.react"),{color:"secondary",display:"block",size:"meta1",children:h._(".MOV or .MP4. At least 720p. 25MB max.")})};b=function(a){a=a.currentTarget.files;a=a&&a[0];a=a.size/1024/1024;a=a>j?h._("Video size larger than 25MB limit, please select another video"):null;return a};e=function(a){a=a.currentTarget.files;a=a&&a[0];a=a.type;a=a=="image/gif"?h._("The video you're trying to upload is in a format that isn't supported. Please try again with a video in a surported format"):null;return a};g.getVideoSelectorDescription=a;g.getVideoSizeError=b;g.getVideoTypeError=e}),98);
__d("StartConversationsTemplateGreetingVideoSelector.react",["cx","fbt","ix","AdsFBIconDownsized.react","AdsFullSizeImageBoxContainer.react","AdsImageIDClasses","AdsInterfacesLogger","AdsMessengerVideoUploadStartDataAction","AdsMessengerVisualEditorLoggerEvents","AdsUniformValue","GeoButton.react","GeoFlexbox.react","GeoNotice.react","GeoSpinner.react","LeftRight.react","MessengerContentEditorVideoSelectorUtils","ReactDOM","ShimButton.react","VideoUploadFile","VideoUploadFileValidator","VideoUploadMetadataParser","geoMargin","isStringNullOrEmpty","killswitch","react","stylex"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l={errorContainer:{display:"x78zum5"},newDescriptionContainer:{paddingBottom:"xwib8y2"},hiddenFilesInput:{display:"x1s85apg"},condensedVideoRightContainer:{marginEnd:"x1n7qcdo"},videoRightContainer:{marginEnd:"xkbujdu"}},m=new(c("VideoUploadFileValidator"))({minAspectRatio:.25,maxAspectRatio:4,extensions:{mov:!0,mp4:!0}});function n(a){var b=a.isVideoSelected?i._("Change video"):i._("Select video");b=k.jsx("div",{className:c("stylex")(l.errorContainer),children:k.jsxs(c("GeoFlexbox.react"),{direction:"column",children:[a.videoError!=null&&k.jsx(c("GeoNotice.react"),{status:"error",xstyle:c("geoMargin").bottom16,children:a.videoError},a.videoError),k.jsx(c("GeoButton.react"),{"data-testid":void 0,isDisabled:a.isEditDisabled===!0||a.isVideoLoading,label:b,variant:"default",onClick:a.onVideoSelect})]})});return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:c("stylex")(l.newDescriptionContainer),children:d("MessengerContentEditorVideoSelectorUtils").getVideoSelectorDescription()}),b]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){if(a.isLoading)return k.jsx(c("GeoSpinner.react"),{});if(!a.showPreview)return null;if(!c("isStringNullOrEmpty")(a.videoURL)){var b=d("AdsImageIDClasses").AdsImageID.fromExternalURL(a.videoURL);return k.jsx(c("AdsFullSizeImageBoxContainer.react"),{className:"_9a-h",crop:null,height:100,imageID:b,renderStyle:"SCALE",width:160,onClick:a.onVideoSelect})}else return k.jsx(c("ShimButton.react"),{className:"_9a-f",onClick:a.onVideoSelect,children:k.jsx(c("AdsFBIconDownsized.react"),{className:"_9a-g",src:j("406686")})})}o.displayName=o.name+" [from "+f.id+"]";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={videoClientError:null},e.$2=function(){c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_SELECT_VIDEO_UPLOAD});var a=d("ReactDOM").findDOMNode(e.refs.hiddenFilesInput);a instanceof HTMLInputElement&&a.click()},e.$1=function(a){var b=d("MessengerContentEditorVideoSelectorUtils").getVideoSizeError(a);if(b!=null&&b!==""){e.setState({videoClientError:b});return}var f=d("MessengerContentEditorVideoSelectorUtils").getVideoTypeError(a);if(b!=null&&b!==""){e.setState({videoClientError:f});return}b=a.currentTarget.files[0];f=c("VideoUploadFile").fromFile(b);new(c("VideoUploadMetadataParser"))(f,e.$3.bind(babelHelpers.assertThisInitialized(e),b,f),!c("killswitch")("VIDEO_DIMENSIONS_FROM_PLAYER_IN_UPLOAD_DIALOG")).parse()},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.state.videoClientError!=null&&this.state.videoClientError!==""?this.state.videoClientError:this.props.videoError;a=this.props.isLoading?null:a;var b=k.jsx("input",{accept:"video/*",className:c("stylex")(l.hiddenFilesInput),multiple:!1,ref:"hiddenFilesInput",type:"file",value:"",onChange:this.$1});return k.jsxs("div",{children:[k.jsxs(c("LeftRight.react"),{direction:"left",children:[k.jsx("div",{className:c("stylex")(c("geoMargin").end20),children:k.jsx(o,{isLoading:this.props.isLoading,showPreview:this.props.showPreview,videoURL:this.props.videoURL,onVideoSelect:this.$2})}),k.jsx("div",{className:this.props.isCondensedFormat?c("stylex")(l.condensedVideoRightContainer):c("stylex")(l.videoRightContainer),children:k.jsx(n,{isEditDisabled:this.props.isEditDisabled,isVideoLoading:this.props.isLoading,isVideoSelected:!!this.props.videoURL,videoError:a,onVideoSelect:this.$2})})]}),b]})};e.$3=function(a,b,d){b=m.getValidationErrorMessage(b,d);if(b){this.setState({videoClientError:b.description});return}this.setState({videoClientError:null});this.props.pageID instanceof c("AdsUniformValue")&&c("AdsMessengerVideoUploadStartDataAction").dispatch({videoFile:a,pageID:this.props.pageID.getValue()},{line:"280",module:"StartConversationsTemplateGreetingVideoSelector.react.js"})};return b}(k.Component);g["default"]=a}),98);
__d("StartConversationsTemplateGreetingVideoFormat.react",["fbt","AdsMessengerErrorSpecUtils","AdsUniformValue","GeoBaseText.react","StartConversationsTemplateGreetingVideoSelector.react","geoMargin","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=d("AdsMessengerErrorSpecUtils").getVideoError(a.errorSpec);return i.jsx("div",{className:"xsag5q8 xz9dl7a",children:i.jsxs("div",{className:"x1ye3gou xsag5q8 xn6708d xz9dl7a x65f84u xxnbxn xxw3bol x5jrcca x85kzmm",children:[i.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",weight:"bold",xstyle:c("geoMargin").bottom12,children:h._("Video")}),i.jsx(c("StartConversationsTemplateGreetingVideoSelector.react"),{isCondensedFormat:!1,isEditDisabled:a.isEditDisabled,isLoading:a.isVideoLoading,pageID:new(c("AdsUniformValue"))(a.pageID),showPreview:!0,videoError:b,videoURL:a.videoURL})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("adsMessengerDataModelGetGenericSubtitle",["adsMessengerDataModelGetGenericElement"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("adsMessengerDataModelGetGenericElement")(a);return a&&a.subtitle}g["default"]=a}),98);
__d("adsMessengerDataModelSelectImage",["AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetGenericElement","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){if(!d)return a;var e=c("adsMessengerDataModelGetGenericElement")(a)||{};if(d.hash!=null)e.image_hash=b+":"+d.hash;else return a;b=c("adsMessengerDataModelClone")(a);c("setByPath")(b,c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS,[e]);return b}g["default"]=a}),98);
__d("adsMessengerDataModelSetGenericSubtitle",["AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetGenericElement","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=b.getValue();var d=c("adsMessengerDataModelGetGenericElement")(a)||{};d.subtitle=b;b=c("adsMessengerDataModelClone")(a);c("setByPath")(b,c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS,[d]);return b}g["default"]=a}),98);
__d("adsMessengerDataModelSetGenericTitle",["AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetGenericElement","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=b.getValue();var d=c("adsMessengerDataModelGetGenericElement")(a)||{};d.title=b;b=c("adsMessengerDataModelClone")(a);c("setByPath")(b,c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.ELEMENTS,[d]);return b}g["default"]=a}),98);
__d("StartConversationsTemplateGreetingFormatSection.react",["AdsMessengerJSONMediaFormatType","StartConversationsTemplateGreetingImageFormat.react","StartConversationsTemplateGreetingVideoFormat.react","adsMessengerDataModelGetGenericSubtitle","adsMessengerDataModelGetGenericTitle","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelSelectImage","adsMessengerDataModelSetGenericSubtitle","adsMessengerDataModelSetGenericTitle","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){function b(b){b=b[0];a.onJSONChange(c("adsMessengerDataModelSelectImage")(a.welcomeMessageJSON,a.accountID,b))}function d(b){a.onJSONChange(c("adsMessengerDataModelSetGenericTitle")(a.welcomeMessageJSON,b))}function e(b){a.onJSONChange(c("adsMessengerDataModelSetGenericSubtitle")(a.welcomeMessageJSON,b))}switch(c("adsMessengerDataModelGetMediaFormat")(a.welcomeMessageJSON)){case c("AdsMessengerJSONMediaFormatType").IMAGE:return h.jsx(c("StartConversationsTemplateGreetingImageFormat.react"),{accountID:a.accountID,errorSpec:a.errorSpec,imageID:a.imageID,isEditDisabled:a.isEditDisabled,subTitle:c("adsMessengerDataModelGetGenericSubtitle")(a.welcomeMessageJSON),title:c("adsMessengerDataModelGetGenericTitle")(a.welcomeMessageJSON),onImageSelect:b,onSubTitleChange:e,onTitleChange:d});case c("AdsMessengerJSONMediaFormatType").VIDEO:return h.jsx(c("StartConversationsTemplateGreetingVideoFormat.react"),{errorSpec:a.errorSpec,isEditDisabled:a.isEditDisabled,isVideoLoading:a.isVideoLoading,pageID:a.pageID,videoURL:a.videoURL});default:return h.jsx(h.Fragment,{})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("StartConversationsTemplateGreetingSection.react",["fbt","AdCampaignDestination","AdsMessagingDestinationInThreadMultiphotoCarouselContainer.react","AdsMessengerConstants","AdsMessengerErrorSpecType","AdsMessengerErrorSpecUtils","AdsUEditorUnifiedCreationUtils","GeoBaseText.react","GeoLink.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerTextUtilities","PagesReplyComposerToolbarContainer.react","StartConversationsTemplateGreetingDropdown.react","StartConversationsTemplateGreetingFormatSection.react","URI","adsMessengerDataModelGetImageID","adsMessengerDataModelGetMediaFormat","geoMargin","react","stylex","useDebouncedOnChange"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k=750;function a(a){var b=j(!1),e=b[0],f=b[1];b=a.getGreetingText();a.isEditDisabled==!0&&(b=d("PagesReplyComposerTextUtilities").processMessage(a.getGreetingText()||"",a.composerState.supportedMacros));var g=h._("Type a greeting, like \"Hi! Please let us know how we can help you.\"");b={composerKey:"welcomeMessage",initialDisabled:a.isEditDisabled===!0,disableTokenizationforWhatsApp:m(a.destinationType),initialReply:b||"",isAdsInterfaceSource:!0,maxCharacterLength:d("AdsMessengerConstants").WELCOME_MESSAGE_MAX_LENGTH,pageID:a.pageID,placeholderText:g};return i.jsxs(i.Fragment,{children:[i.jsx(l,{account:a.account,accountID:a.accountID,config:b,destinationType:a.destinationType,editorTab:a.editorTab,errorSpec:a.errorSpec,greetingText:a.getGreetingText(),isEditDisabled:a.isEditDisabled,isFocused:e,isUnifiedCreation:a.isUnifiedCreation,pageID:a.pageID,welcomeMessageJSON:a.welcomeMessageJSON,onBlur:function(){f(!1)},onFocus:function(){f(!0)},onGreetingTextChange:a.onGreetingTextChange,onJSONChange:a.onJSONChange}),i.jsx(c("StartConversationsTemplateGreetingFormatSection.react"),{accountID:a.accountID,errorSpec:a.errorSpec,imageID:c("adsMessengerDataModelGetImageID")(a.welcomeMessageJSON),isEditDisabled:a.isEditDisabled,isVideoLoading:a.isVideoLoading,pageID:a.pageID,videoURL:a.videoURL,welcomeMessageJSON:a.welcomeMessageJSON,onJSONChange:a.onJSONChange})]})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b;b=c("useDebouncedOnChange")((b=a.greetingText)!=null?b:"",a.onGreetingTextChange,k);var e=b[0];b=b[1];var f=h._("Greeting"),g=h._("Welcome people to the conversation after they tap on your ad. {Tips and examples about CTM ad}",[h._param("Tips and examples about CTM ad",i.jsx(c("GeoLink.react"),{href:new(c("URI"))("/business/m/one-sheeters/improve-click-to-messenger"),target:"_blank",children:h._("See Tips and Examples.")}))]),j=d("AdsMessengerErrorSpecUtils").getErrorMessage(a.errorSpec,c("AdsMessengerErrorSpecType").WELCOME_MESSAGE_TEXT),l=!(d("AdsUEditorUnifiedCreationUtils").isMultiDestination(a.destinationType)||a.destinationType===c("AdCampaignDestination").WHATSAPP||a.destinationType===c("AdCampaignDestination").INSTAGRAM_DIRECT),m=c("adsMessengerDataModelGetMediaFormat")(a.welcomeMessageJSON);return i.jsxs(i.Fragment,{children:[i.jsx(c("GeoBaseText.react"),{color:"heading",display:"block",size:"header2",weight:"bold",xstyle:c("geoMargin").bottom4,children:f}),i.jsx(c("GeoBaseText.react"),{color:"headingDescription",display:"block",size:"value",xstyle:c("geoMargin").bottom12,children:g}),l&&i.jsx(c("StartConversationsTemplateGreetingDropdown.react"),{isEditDisabled:a.isEditDisabled,welcomeMessageJSON:a.welcomeMessageJSON,onJSONChange:a.onJSONChange}),a.isUnifiedCreation&&i.jsx(c("GeoBaseText.react"),{color:"heading",display:"block",size:"value",weight:"bold",children:d("AdsMessengerConstants").TEXT}),i.jsxs("div",{className:c("stylex")({"margin-bottom-1":"xod5an3","background-color-1":"x1c5tqo3","border-top-0.3":"xgqjv89","border-end-0.3":"x3nkqmp","border-bottom-0.3":"x45hy6c","border-start-0.3":"x18j5cpe","position-1":"x1n2onr6"},j!=null?{"border-top-0.3":"x5hzp4f","border-end-0.3":"xy74368","border-bottom-0.3":"x12k2kq5","border-start-0.3":"x1ikfmwh"}:null,a.isFocused&&j==null?{"border-top-0.3":"x1ljldre","border-end-0.3":"x1a8kfb","border-bottom-0.3":"x1e1xuyr","border-start-0.3":"x11o2x5r"}:null),onBlur:a.onBlur,onFocus:a.onFocus,children:[i.jsx(c("PagesReplyComposerEditorContainer.react"),{config:a.config,isEditDisabled:a.isEditDisabled,isFocused:!0,isSideToolbar:!0,welcomeString:e,onReplyChange:b}),i.jsx(c("PagesReplyComposerToolbarContainer.react"),{config:a.config,isFocused:!0,isSideToolbar:!0,xstyle:"xurb0ha xwib8y2 x1sxyh0 x1y1aw1k"})]}),i.jsx(c("AdsMessagingDestinationInThreadMultiphotoCarouselContainer.react"),{account:a.account,accountID:a.accountID,editorTab:a.editorTab,format:m,isEditDisabled:a.isEditDisabled,pageID:a.pageID,welcomeMessageJSON:a.welcomeMessageJSON,onJSONChange:a.onJSONChange})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){return a===c("AdCampaignDestination").WHATSAPP}g["default"]=a}),98);
__d("StartConversationsTemplateOrdersSectionFields.react",["fbt","AdsAbstractCurrencyInput.react","GeoFlexbox.react","GeoHeading.react","GeoNotice.react","GeoTextArea.react","GeoTextInput.react","StartConversationsTemplateGreetingImageSelector.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={orderInputField:{marginTop:"x14vqqas"},orderMediaInputField:{marginTop:"x1anpbxc"}};function a(a){h._("Product Information");h._("You\u2019ll be able to edit before confirming an order placed by a customer.");var b=h._("Product name"),d=h._("Enter a short, descriptive name"),e=h._("Price"),f=h._("Add details about this product including any unique features or benefits."),g=h._("Description"),l=h._("Image"),m=h._("Please enter a product name.");return i.jsxs(c("GeoFlexbox.react"),{direction:"column",children:[i.jsx(c("GeoTextInput.react"),{errorMessage:a.productNameHasError?m:null,label:b,placeholder:d,value:a.productName,xstyle:j.orderInputField,onChange:a.onProductInfoNameChange}),i.jsx("div",{className:c("stylex")(j.orderInputField),children:i.jsx(c("AdsAbstractCurrencyInput.react"),{currency:"USD","data-testid":void 0,description:"",eventType:"change",invalidInputIsNull:!1,isDisabled:!1,isOptional:!1,label:e,labelIsHidden:null,negativeIsNull:!0,nonnegative:!1,placeholder:null,rightContent:null,showRightContent:!1,showSymbol:!0,textAlign:"right",textInputClass:k(a.productPriceHasError),tooltipText:null,value:a.productPrice,withDecimals:!0,withISO:!1,withNumberDelimiters:!0,xuiError:null,onDataUpdate:a.onProductInfoPriceChange,onKeyUp:null,onMultiplePaste:null,onUnderlyingValueChange:null})}),i.jsx(c("GeoFlexbox.react"),{xstyle:j.orderInputField,children:i.jsx(c("GeoTextArea.react"),{isOptional:!0,isResizable:!1,label:g,placeholder:f,rows:3,value:(m=a.productDescription)!=null?m:"",onChange:a.onProductInfoDescriptionChange})}),i.jsxs(c("GeoFlexbox.react"),{direction:"column",xstyle:j.orderInputField,children:[i.jsx(c("GeoHeading.react"),{level:4,children:l}),i.jsxs("div",{className:c("stylex")(j.orderMediaInputField),children:[i.jsx(c("StartConversationsTemplateGreetingImageSelector.react"),{accountID:a.accountID,imageError:null,imageID:a.productImage,isEditDisabled:!1,onImageSelect:a.onProductInfoImageChange}),a.productImageHasError&&i.jsx(c("GeoNotice.react"),{status:"error",children:h._("Please add an image.")})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";function k(a){return function(b){babelHelpers.inheritsLoose(d,b);function d(){return b.apply(this,arguments)||this}var e=d.prototype;e.render=function(){var b=h._("Please enter a valid price.");return i.jsx(c("GeoTextInput.react"),babelHelpers["extends"]({},this.props,{errorMessage:a?b:null}))};return d}(i.PureComponent)}g["default"]=a}),98);
__d("StartConversationsTemplateOrdersSection.react",["fbt","AdsImageIDUtils","AdsMessengerProductInfoDataManager","GeoBaseText.react","GeoSwitch.react","StartConversationsTemplateOrdersSectionFields.react","adsMessengerDataModelGetProductInfo","adsMessengerDataModelSetProductInfo","geoMargin","react","useDebounced"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useState;function a(a){var b=750,e=a.accountID,f=a.shouldShowErrors,g=a.onWelcomeMessageJSONChange,n=l(!0),o=n[0],p=n[1];n=l(d("adsMessengerDataModelGetProductInfo").adsMessengerDataModelGetProductInfoField(a.welcomeMessageJSON,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Name));var q=n[0],r=n[1];n=l(parseFloat((n=d("adsMessengerDataModelGetProductInfo").adsMessengerDataModelGetProductInfoField(a.welcomeMessageJSON,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Price))!=null?n:"0"));var s=n[0],t=n[1];n=l(d("adsMessengerDataModelGetProductInfo").adsMessengerDataModelGetProductInfoField(a.welcomeMessageJSON,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Description));var u=n[0],v=n[1];n=l(d("adsMessengerDataModelGetProductInfo").convertImageHashToImageId(d("adsMessengerDataModelGetProductInfo").adsMessengerDataModelGetProductInfoField(a.welcomeMessageJSON,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Image)));var w=n[0],x=n[1];n=l(!1);var y=n[0],z=n[1];n=l(!1);var A=n[0],B=n[1];n=l(!1);var C=n[0],D=n[1];n=function(a){p(a),c("AdsMessengerProductInfoDataManager").toggleProductInfoSection(a)};var E=a.welcomeMessageJSON;k(function(){f&&o&&c("AdsMessengerProductInfoDataManager").validateNameHasError(q)&&z(!0)},[f,o,q]);k(function(){f&&o&&c("AdsMessengerProductInfoDataManager").validatePriceHasError(s)&&B(!0)},[f,o,s]);k(function(){f&&o&&c("AdsMessengerProductInfoDataManager").validateImageHasError(w)&&D(!0)},[f,o,w]);var F=j(function(a){g(d("adsMessengerDataModelSetProductInfo").adsMessengerDataModelSetProductInfoField(E,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Name,a))},[g,E]),G=c("useDebounced")(F,b);F=j(function(a){r(a),z(c("AdsMessengerProductInfoDataManager").validateNameHasError(a)),G.reset(),G(a)},[G]);var H=j(function(a){g(d("adsMessengerDataModelSetProductInfo").adsMessengerDataModelSetProductInfoField(E,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Price,a.toString()))},[g,E]),I=c("useDebounced")(H,b);H=j(function(a){t(a),B(c("AdsMessengerProductInfoDataManager").validatePriceHasError(a)),I.reset(),I(a)},[I]);var J=j(function(a){v(a),g(d("adsMessengerDataModelSetProductInfo").adsMessengerDataModelSetProductInfoField(E,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Description,a))},[g,E]),K=c("useDebounced")(J,b);J=j(function(a){v(a),K.reset(),K(a)},[K]);b=j(function(a){a=d("adsMessengerDataModelSetProductInfo").convertLegacyImagesToImageHash(a,e);var b=d("AdsImageIDUtils").getImageID({accountID:e,hash:a});D(c("AdsMessengerProductInfoDataManager").validateImageHasError(b));x(b);g(d("adsMessengerDataModelSetProductInfo").adsMessengerDataModelSetProductInfoField(E,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Image,a))},[g,E,e]);var L=h._("List a product that people can buy directly in Messenger. You can edit orders before confirming them.");return i.jsxs("div",{className:"x1cnzs8 x1sy10c2 x85kzmm",children:[m(o,n),i.jsx(c("GeoBaseText.react"),{color:"headingDescription",display:"block",size:"value",xstyle:c("geoMargin").bottom12,children:L}),o&&i.jsx(c("StartConversationsTemplateOrdersSectionFields.react"),{accountID:a.accountID,productDescription:u,productImage:d("adsMessengerDataModelGetProductInfo").convertImageHashToImageId(d("adsMessengerDataModelGetProductInfo").adsMessengerDataModelGetProductInfoField(a.welcomeMessageJSON,d("adsMessengerDataModelSetProductInfo").ProductInfoField.Image)),productImageHasError:C,productName:q,productNameHasError:y,productPrice:s,productPriceHasError:A,onProductInfoDescriptionChange:J,onProductInfoImageChange:b,onProductInfoNameChange:F,onProductInfoPriceChange:H})]})}a.displayName=a.name+" [from "+f.id+"]";function m(a,b){var d=h._("Include product listing");return i.jsxs("div",{className:"x1qughib x1q0g3np x78zum5",children:[i.jsx(c("GeoBaseText.react"),{color:"heading",display:"block",size:"header2",weight:"bold",xstyle:c("geoMargin").bottom4,children:d}),i.jsx(c("GeoSwitch.react"),{isDisabled:!1,isLabelHidden:!0,label:"Orders enabled",value:a,onChange:b})]})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("adsMessengerDataModelRemoveAllActionType",["AdsMessengerJSONMediaFormatType","AdsMessengerVisualEditorCustomerActionType","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelRemoveAllCTA","adsMessengerDataModelRemoveAllQR","adsMessengerDataModelRemoveButtonTemplate","adsMessengerDataModelRemoveIceBreakers","adsMessengerDataModelSetActionType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("adsMessengerDataModelSetActionType")(a,c("AdsMessengerVisualEditorCustomerActionType").NONE);var b=c("adsMessengerDataModelGetMediaFormat")(a);c("adsMessengerDataModelRemoveIceBreakers")(a);if(b!==c("AdsMessengerJSONMediaFormatType").VIDEO)return c("adsMessengerDataModelRemoveAllQR")(c("adsMessengerDataModelRemoveButtonTemplate")(a));else return c("adsMessengerDataModelRemoveAllQR")(c("adsMessengerDataModelRemoveAllCTA")(a))}g["default"]=a}),98);
__d("adsMessengerDataModelSetWelcomeMessage",["AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetSurface","adsMessengerDataModelGetWelcomeMessage","getByPath","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=b.getValue();if(d===c("adsMessengerDataModelGetWelcomeMessage")(a))return a;b=c("getByPath")(a,c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.path);b=b?c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.ATTACHMENT.PAYLOAD.TEXT:c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.TEXT;c("adsMessengerDataModelGetSurface")(a)==="business_tools"&&(b=c("AdsMessengerJSONPaths").TEXT_FORMAT.MESSAGE.TEXT);b=[c("AdsMessengerJSONPaths").IMAGE_FORMAT.MESSAGE.TEXT,b,c("AdsMessengerJSONPaths").VIDEO_FORMAT.MESSAGE.TEXT];var e=c("adsMessengerDataModelClone")(a);b.forEach(function(a){c("setByPath")(e,a,d)});return e}g["default"]=a}),98);
__d("adsMessengerDataModelSwitchToButtons",["AdsMessengerVisualEditorCustomerActionType","adsMessengerDataModelAddButtonTemplate","adsMessengerDataModelIsTextWithQR","adsMessengerDataModelRemoveAllQR","adsMessengerDataModelRemoveIceBreakers","adsMessengerDataModelSetActionType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("adsMessengerDataModelSetActionType")(a,c("AdsMessengerVisualEditorCustomerActionType").BUTTONS);c("adsMessengerDataModelRemoveIceBreakers")(a);if(c("adsMessengerDataModelIsTextWithQR")(a))return c("adsMessengerDataModelRemoveAllQR")(c("adsMessengerDataModelAddButtonTemplate")(a));else return c("adsMessengerDataModelRemoveAllQR")(a)}g["default"]=a}),98);
__d("adsMessengerDataModelSwitchToIceBreakers",["AdsMessengerVisualEditorCustomerActionType","AdsMessengerVisualEditorUtils","adsMessengerDataModelGetIceBreakerPath","adsMessengerDataModelRemoveAllQR","adsMessengerDataModelRemoveButtonTemplate","adsMessengerDataModelSetActionType","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("adsMessengerDataModelSetActionType")(a,c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS);b=d("AdsMessengerVisualEditorUtils").getDefaultIceBreakers(b);var e=c("adsMessengerDataModelGetIceBreakerPath")(a);if(e){c("setByPath")(a,e,b);return c("adsMessengerDataModelRemoveAllQR")(c("adsMessengerDataModelRemoveButtonTemplate")(a))}return a}g["default"]=a}),98);
__d("adsMessengerDataModelSwitchToQuickReplies",["AdsMessengerJSONMediaFormatType","AdsMessengerVisualEditorCustomerActionType","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelRemoveAllCTA","adsMessengerDataModelRemoveButtonTemplate","adsMessengerDataModelRemoveIceBreakers","adsMessengerDataModelSetActionType","adsMessengerDataModelSetQR"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("adsMessengerDataModelSetActionType")(a,c("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES);var d=c("adsMessengerDataModelGetMediaFormat")(a);c("adsMessengerDataModelRemoveIceBreakers")(a);if(d!==c("AdsMessengerJSONMediaFormatType").VIDEO)return c("adsMessengerDataModelSetQR")(c("adsMessengerDataModelRemoveButtonTemplate")(a),b||[]);else return c("adsMessengerDataModelSetQR")(c("adsMessengerDataModelRemoveAllCTA")(a),b||[])}g["default"]=a}),98);
__d("StartConversationsTemplateEditorSection.react",["fbt","AdCampaignDestination","AdsInterfacesLogger","AdsMessengerCTMAdsAPI","AdsMessengerVisualEditorCustomerActionType","AdsMessengerVisualEditorLoggerEvents","AdsUEditorUnifiedCreationUtils","AdsUniformValue","AdsWhatsAppFeatureGating","BIOOrderSectionGatingStoreUtils","ClickToMessageFeatureGating","GeoBaseText.react","GeoNotice.react","StartConversationsTemplateCustomerActionsDropdown.react","StartConversationsTemplateCustomerActionsSection.react","StartConversationsTemplateGreetingSection.react","StartConversationsTemplateOrdersSection.react","StartConversationsTemplatePhoneNumberSectionContainer.react","adsMessengerDataModelGetActionType","adsMessengerDataModelGetCTAs","adsMessengerDataModelGetIceBreakers","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelGetWelcomeMessage","adsMessengerDataModelRemoveAllActionType","adsMessengerDataModelSetWelcomeMessage","adsMessengerDataModelSwitchToButtons","adsMessengerDataModelSwitchToIceBreakers","adsMessengerDataModelSwitchToQuickReplies","geoMargin","react","setByPath","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=[{title:h._("I'd like to learn more"),content_type:"text",response_type:"text"}];function a(a){var b;function e(){return c("adsMessengerDataModelGetWelcomeMessage")(a.welcomeMessageJSON)}function f(){return c("adsMessengerDataModelGetIceBreakers")(a.welcomeMessageJSON)}function g(b){var d=a.welcomeMessageJSON,e=c("adsMessengerDataModelGetWelcomeMessage")(d);if(e===b)return;c("setByPath")(d,["user_edit"],!0);a.onJSONChange(c("adsMessengerDataModelSetWelcomeMessage")(d,new(c("AdsUniformValue"))(b)))}function h(b){var d=c("adsMessengerDataModelGetMediaFormat")(a.welcomeMessageJSON);b&&c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_SELECT_CUSTOMER_ACTION_TYPE,data:{customer_action_type:b,welcome_message_type:d}});switch(b){case c("AdsMessengerVisualEditorCustomerActionType").BUTTONS:a.onJSONChange(c("adsMessengerDataModelSwitchToButtons")(a.welcomeMessageJSON));break;case c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS:a.onJSONChange(c("adsMessengerDataModelSwitchToIceBreakers")(a.welcomeMessageJSON,a.pageID));break;case c("AdsMessengerVisualEditorCustomerActionType").QUICK_REPLIES:a.onJSONChange(c("adsMessengerDataModelSwitchToQuickReplies")(a.welcomeMessageJSON,j));break;case c("AdsMessengerVisualEditorCustomerActionType").NONE:a.onJSONChange(c("adsMessengerDataModelRemoveAllActionType")(a.welcomeMessageJSON))}}var o=c("adsMessengerDataModelGetMediaFormat")(a.welcomeMessageJSON),p=m(e(),a.destinationType,a.account),q=n(f(),a.destinationType,a.account,a.page);b=((b=a.account)==null?void 0:b.is_tier_0)===!1&&d("ClickToMessageFeatureGating").isInPhoneCallsHoldout(a.account,!0)&&d("AdsUEditorUnifiedCreationUtils").destinationIncludesMessenger(a.destinationType);var r=d("BIOOrderSectionGatingStoreUtils").isInBioAdsBannerCtaQE(a.pageID,!0);return i.jsxs(i.Fragment,{children:[i.jsx(c("StartConversationsTemplateGreetingSection.react"),{account:a.account,accountID:a.accountID,composerState:a.composerState,destinationType:a.destinationType,editorTab:a.editorTab,errorSpec:a.shouldShowErrors?a.errorSpec:null,getGreetingText:e,isEditDisabled:a.isEditDisabled,isUnifiedCreation:a.isUnifiedCreation,isVideoLoading:a.isVideoLoading,pageID:String(a.pageID),videoURL:a.videoURL,welcomeMessageJSON:a.welcomeMessageJSON,onGreetingTextChange:g,onJSONChange:a.onJSONChange}),b&&i.jsx(c("StartConversationsTemplatePhoneNumberSectionContainer.react"),{adgroupIDs:a.adgroupIDs,destinationType:a.destinationType,objective:a.objective,shouldShowErrors:a.shouldShowErrors,welcomeMessageJSON:a.welcomeMessageJSON,onWelcomeMessageJSONChange:a.onJSONChange}),r&&i.jsx(c("StartConversationsTemplateOrdersSection.react"),{accountID:a.accountID,shouldShowErrors:a.shouldShowErrors,welcomeMessageJSON:a.welcomeMessageJSON,onWelcomeMessageJSONChange:a.onJSONChange}),p&&i.jsx(l,{destinationType:a.destinationType,noticeType:"GREETING"}),i.jsx(k,{account:a.account,destinationType:a.destinationType,welcomeMessage:e()}),a.destinationType===c("AdCampaignDestination").MESSENGER&&i.jsx(c("StartConversationsTemplateCustomerActionsDropdown.react"),{customerAction:c("adsMessengerDataModelGetActionType")(a.welcomeMessageJSON),format:o,isEditDisabled:a.isEditDisabled,onChangeCustomerAction:h}),q&&i.jsx("div",{className:"x1e56ztr",children:i.jsx(l,{destinationType:a.destinationType,noticeType:"AUTO_REPLY"})}),i.jsx(c("StartConversationsTemplateCustomerActionsSection.react"),{account:a.account,composerState:a.composerState,ctas:c("adsMessengerDataModelGetCTAs")(a.welcomeMessageJSON),customerAction:c("adsMessengerDataModelGetActionType")(a.welcomeMessageJSON),destinationType:a.destinationType,editorTab:a.editorTab,errorSpec:a.shouldShowErrors?a.errorSpec:null,iceBreakers:f(),isEditDisabled:a.isEditDisabled,isMessengerPlatformBot:!!d("AdsMessengerCTMAdsAPI").getIsMessengerPlatformBot(a.pageID),page:a.page,pageID:a.pageID,quickReplies:c("adsMessengerDataModelGetQuickReplies")(a.welcomeMessageJSON),welcomeMessageJSON:a.welcomeMessageJSON,onJSONChange:a.onJSONChange})]})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=a.destinationType,e=b===c("AdCampaignDestination").MESSENGER,f=d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithMessenger(b),g=d("AdsUEditorUnifiedCreationUtils").isWhatsAppOrInstagramOrComboDestination(b),j=d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithInstagram(b),k=a.destinationType===c("AdCampaignDestination").INSTAGRAM_DIRECT;return i.jsxs("div",{className:c("stylex")({"border-top-0.3":"x85kzmm","margin-top-1":"x1sy10c2","padding-top-1":"x1cnzs8"},m(a.welcomeMessage,b,a.account)?{"margin-top-1":"x1xmf6yo"}:null),children:[i.jsx(c("GeoBaseText.react"),{color:"heading",display:"block",size:"header2",weight:"bold",xstyle:c("geoMargin").bottom4,children:e?h._("Customer actions"):h._("Frequently asked questions")}),i.jsx(c("GeoBaseText.react"),{color:"headingDescription",display:"block",size:"value",xstyle:c("geoMargin").bottom12,children:f||k||j?h._("Suggest questions for people to ask. Then set up automated responses to those questions."):g?h._("Suggest questions for people to tap."):h._("Suggest questions or replies for customers to tap, or use a button to send people to your site.")})]})}k.displayName=k.name+" [from "+f.id+"]";function l(a){switch(a.destinationType){case c("AdCampaignDestination").MESSAGING_INSTAGRAM_DIRECT_MESSENGER_WHATSAPP:return a.noticeType==="GREETING"?i.jsx(c("GeoNotice.react"),{"data-testid":void 0,status:"info",children:h._("Greeting names only appear in Messenger and Instagram. People that open ads that click to WhatsApp will see a greeting without their name.")}):i.jsx(c("GeoNotice.react"),{"data-testid":void 0,status:"info",children:h._("Automated responses only include names in Messenger and Instagram. People that open ads that click to WhatsApp will see responses without their name.")});case c("AdCampaignDestination").MESSAGING_INSTAGRAM_DIRECT_WHATSAPP:return a.noticeType==="GREETING"?i.jsx(c("GeoNotice.react"),{"data-testid":void 0,status:"info",children:h._("Greeting names only appear in Instagram. People that open ads that click to WhatsApp will see a greeting without their name.")}):i.jsx(c("GeoNotice.react"),{"data-testid":void 0,status:"info",children:h._("Automated responses only include names in Instagram. People that open ads that click to WhatsApp will see responses without their name.")});case c("AdCampaignDestination").MESSAGING_MESSENGER_WHATSAPP:default:return a.noticeType==="GREETING"?i.jsx(c("GeoNotice.react"),{"data-testid":void 0,status:"info",children:h._("Greeting names only appear in Messenger. People that open ads that click to WhatsApp will see a greeting without their name.")}):i.jsx(c("GeoNotice.react"),{"data-testid":void 0,status:"info",children:h._("Automated responses only include names in Messenger. People that open ads that click to WhatsApp will see responses without their name.")})}}l.displayName=l.name+" [from "+f.id+"]";function m(a,b,c){c=/\{{(.*?)\}}/g;return d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithWhatsApp(b)&&a!=null&&c.test(a)}function n(a,b,c,e){var f=/\{{(.*?)\}}/g;if(a==null)return!1;if(!d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithWhatsApp(b))return!1;if(!d("AdsWhatsAppFeatureGating").isCTWAIcebreakerAutoRepliesSupportEnabled(c,e==null?void 0:e.has_whatsapp_business_number))return!1;b=a.map(function(a){return a.response});return b.some(function(a){return a!=null&&f.test(a)})}g["default"]=a}),98);
__d("StartConversationsTemplatePhoneNumberSection.react",["fbt","AdCampaignDestination","AdsUEditorAdgroupPhoneCallField.react","GeoBaseText.react","GeoSwitch.react","LoadObject","PhoneNumberView","emptyFunction","geoMargin","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Your phone number pre-populates from your ad creative or Page info."),k=c("LoadObject").withValue(c("PhoneNumberView").getEmptyView());function a(a){var b=h._("Show your business phone number so that people can call you.");return i.jsxs("div",{className:"x1cnzs8 x1sy10c2 x85kzmm",children:[l(a.destinationType,a.isPhoneNumberSwitchEnabled,a.onPhoneNumberSwitchToggle),i.jsx(c("GeoBaseText.react"),{color:"headingDescription",display:"block",size:"value",xstyle:c("geoMargin").bottom12,children:b}),a.isPhoneNumberSwitchEnabled&&i.jsx(c("AdsUEditorAdgroupPhoneCallField.react"),{helpText:j,isBulkEditDialog:!1,objective:a.objective,placeholder:null,shouldShowErrors:a.shouldShowErrors,view:(b=a.phoneNumberView)!=null?b:k,onPhoneNumberChange:a.onPhoneNumberChange,onPhoneNumberSubmit:c("emptyFunction")},"ctm-phone-number-"+String(a.adgroupIDs[0]))]})}a.displayName=a.name+" [from "+f.id+"]";function l(a,b,d){a=a===c("AdCampaignDestination").MESSENGER?h._("Include phone number"):h._("Include phone number \u00b7 Messenger only");return i.jsxs("div",{className:"x1qughib x1q0g3np x78zum5",children:[i.jsx(c("GeoBaseText.react"),{color:"heading",display:"block",size:"header2",weight:"bold",xstyle:c("geoMargin").bottom4,children:a}),i.jsx(c("GeoSwitch.react"),{isDisabled:!1,isLabelHidden:!0,label:"Phone enabled",value:b,onChange:d})]})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("adsMessengerDataModelSetPhoneNumber",["AdsMessengerJSONPaths","adsMessengerDataModelClone","adsMessengerDataModelGetPhoneNumber","setByPath"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=b.getValue();if(b===c("adsMessengerDataModelGetPhoneNumber")(a))return a;a=c("adsMessengerDataModelClone")(a);c("setByPath")(a,c("AdsMessengerJSONPaths").PHONE_NUMBER,b);return a}g["default"]=a}),98);
__d("StartConversationsTemplatePhoneNumberSectionContainer.react",["AdsFluxHooks","AdsInterfacesLogger","AdsMessengerPhoneNumberDataManager","AdsMessengerPhoneNumberSwitchToggleAction","AdsMessengerVisualEditorLoggerEvents","AdsUEditorHooks","AdsUEditorMessengerContentEditorSelectors","AdsUniformValue","StartConversationsTemplatePhoneNumberSection.react","adsMessengerDataModelGetPhoneNumber","adsMessengerDataModelSetPhoneNumber","react","setByPath"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsUEditorMessengerContentEditorSelectors").phoneNumberSectionSelector);b=b.state;var e=b.phoneNumberData,f=b.adPrimaryText,g=b.adDescriptionText;j(function(){if(e.rawPhoneNumber!=null)return;var b=c("AdsMessengerPhoneNumberDataManager").getPhoneNumberFromAdText(g);b!=null&&c("AdsMessengerPhoneNumberDataManager").validatePhoneNumber(b,!1,function(d){d!=null&&c("AdsInterfacesLogger").logOnce({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_CALL_DEFAULTED_AD_DESCRIPTION,data:{message:b,objective:a.objective}})});var d=c("AdsMessengerPhoneNumberDataManager").getPhoneNumberFromAdText(f);d!=null&&c("AdsMessengerPhoneNumberDataManager").validatePhoneNumber(d,!1,function(b){b!=null&&c("AdsInterfacesLogger").logOnce({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_CALL_DEFAULTED_AD_PRIMARY_TEXT,data:{message:d,objective:a.objective}})})},[f,g,e,a.objective]);b=a.adgroupIDs;var k=a.objective,l=a.shouldShowErrors,m=a.welcomeMessageJSON,n=a.onWelcomeMessageJSONChange,o=m,p=c("adsMessengerDataModelGetPhoneNumber")(o);m=i(function(b){c("AdsMessengerPhoneNumberSwitchToggleAction").dispatch({isPhoneNumberEnabled:b},{line:"114",module:"StartConversationsTemplatePhoneNumberSectionContainer.react.js"}),n(c("adsMessengerDataModelSetPhoneNumber")(o,new(c("AdsUniformValue"))(null))),c("AdsInterfacesLogger").log({eventName:c("AdsMessengerVisualEditorLoggerEvents").CTM_CALL_TOGGLE,data:{message:b,objective:a.objective}})},[o,n,a.objective]);var q=i(function(a){n(c("adsMessengerDataModelSetPhoneNumber")(o,new(c("AdsUniformValue"))(a)))},[o,n]),r=i(function(a){if(p===a)return;c("setByPath")(o,["user_edit"],!0);c("AdsMessengerPhoneNumberDataManager").validatePhoneNumber(a,!0,q)},[p,o,q]);return h.jsx(c("StartConversationsTemplatePhoneNumberSection.react"),{adgroupIDs:b,destinationType:a.destinationType,isPhoneNumberSwitchEnabled:e.isPhoneNumberSwitchEnabled,objective:k,phoneNumberView:e.phoneNumberView,shouldShowErrors:l,onPhoneNumberChange:r,onPhoneNumberSwitchToggle:m})}a.displayName=a.name+" [from "+f.id+"]";e=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=e}),98);
__d("StartConversationsTemplatePreviewSection.react",["fbt","AdsMessengerUtils","CometPlaceholder.react","GeoBaseText.react","GeoSpinner.react","JSResource","MessagingDestinationExperiencePreviewContainer.react","geoMargin","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("lazyLoadComponent")(c("JSResource")("AdsUEditorAdgroupMessageDestinationPreviewContainer.react").__setRef("StartConversationsTemplatePreviewSection.react"));function a(a){var b=d("AdsMessengerUtils").getPreviewDisclaimer(a.destinationType);if(a.isUnifiedCreation)return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"xgk8upj x1qt0ttw xnhgr82 x1a2cdl4 x16cqb6v x1a647mc x4rjez0 x1r40k29 xqjfwa5",children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("GeoSpinner.react"),{center:!0}),children:i.jsx(j,{isDialog:!0})})}),i.jsx("div",{className:"x1xmf6yo x1pg5gke x1rj4l1e",children:b})]});else return i.jsxs(i.Fragment,{children:[i.jsx(c("GeoBaseText.react"),{color:"value",display:"block",size:"value",weight:"bold",xstyle:[c("geoMargin").top24,c("geoMargin").bottom16],children:h._("Preview")}),i.jsxs("div",{className:"x1gan7if xxbr6pl",children:[a.isPreviewLoading&&i.jsx("div",{className:"x1gryazu xkrivgy x14vqqas x1lliihq",children:i.jsx(c("GeoSpinner.react"),{})}),i.jsx(c("MessagingDestinationExperiencePreviewContainer.react"),{invalidJSON:a.isInvalidJSON,onJSONSend:a.onPreviewButtonClicked})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MarketingMessagesEditTemplateEditorHeaderAndDescription.react",["GeoBaseText.react","geoMargin","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs(h.Fragment,{children:[h.jsx(c("GeoBaseText.react"),{color:"heading",display:"block",size:"header2",weight:"bold",xstyle:c("geoMargin").bottom4,children:a.header}),h.jsx(c("GeoBaseText.react"),{color:"headingDescription",display:"block",size:"value",xstyle:c("geoMargin").bottom16,children:a.description})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MarketingMessagesEditTemplateEditorOptInRequestSection.react",["AdsIntelligentInlineNux.react","AdsMessengerMarketingMessagesUtils","AdsUEditorAdgroupMessageTemplateSectionStrings","MarketingMessagesEditTemplateEditorHeaderAndDescription.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=d("AdsMessengerMarketingMessagesUtils").getMarketingMessagesNavigationLink(a.pageID);return h.jsxs(h.Fragment,{children:[h.jsx(c("MarketingMessagesEditTemplateEditorHeaderAndDescription.react"),{description:d("AdsUEditorAdgroupMessageTemplateSectionStrings").marketingMessagesEditTemplateDialogOptInRequestDescription,header:d("AdsUEditorAdgroupMessageTemplateSectionStrings").marketingMessagesEditTemplateDialogOptInRequestHearder}),h.jsx(c("AdsIntelligentInlineNux.react"),{manualCCProps:{ctaData:[{type:"LINK",data:{disabled:!1,href:a,text:d("AdsUEditorAdgroupMessageTemplateSectionStrings").marketingMessagesEditTemplateDialogOptInRequestNoticeLink,onCallToAction:c("emptyFunction")}}]},messageGroup:"CREATION_AND_EDITING_L1",messageID:"ctm_marketing_messages_opt_in_request_notice"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MarketingMessagesEditTemplateWelcomeMessageSection.react",["AdsMessengerConstants","AdsUEditorAdgroupMessageTemplateSectionStrings","MarketingMessagesEditTemplateEditorHeaderAndDescription.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","react","useDebouncedOnChange"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=750;function a(a){var b;b=c("useDebouncedOnChange")((b=a.getWelcomeMessage())!=null?b:"",a.onWelcomeMessageChange,i);var e=b[0];b=b[1];var f={composerKey:"marketingMessages",initialDisabled:!1,initialReply:a.getWelcomeMessage()||"",isAdsInterfaceSource:!0,maxCharacterLength:d("AdsMessengerConstants").MARKETING_MESSAGE_MAX_LENGTH,pageID:String(a.pageID),placeholderText:d("AdsMessengerConstants").DEFAULT_MARKETING_MESSAGES_WELCOME_MESSAGE_PLACE_HOLDER};return h.jsxs(h.Fragment,{children:[h.jsx(c("MarketingMessagesEditTemplateEditorHeaderAndDescription.react"),{description:d("AdsUEditorAdgroupMessageTemplateSectionStrings").marketingMessagesEditTemplateDialogWelcomeMessageDescription,header:d("AdsUEditorAdgroupMessageTemplateSectionStrings").marketingMessagesEditTemplateDialogWelcomeMessageHearder}),h.jsxs("div",{className:"x1n2onr6 x1o6z2jb x1i1ezom x1otrzb0 xhk9q7s x18j5cpe x45hy6c x3nkqmp xgqjv89 x1c5tqo3 x1yztbdb",children:[h.jsx(c("PagesReplyComposerEditorContainer.react"),{config:f,isFocused:!0,isSideToolbar:!0,welcomeString:e,onReplyChange:b}),h.jsx(c("PagesReplyComposerToolbarContainer.react"),{config:f,isFocused:!0,isSideToolbar:!0,welcomeString:a.getWelcomeMessage()})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MarketingMessagesEditTemplateEditorSection.react",["AdsUniformValue","MarketingMessagesEditTemplateEditorOptInRequestSection.react","MarketingMessagesEditTemplateWelcomeMessageSection.react","adsMessengerDataModelGetWelcomeMessage","adsMessengerDataModelSetWelcomeMessage","react","setByPath"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){function b(){return c("adsMessengerDataModelGetWelcomeMessage")(a.welcomeMessageJSON)}function d(b){var d=a.welcomeMessageJSON,e=c("adsMessengerDataModelGetWelcomeMessage")(d);if(e===b)return;c("setByPath")(d,["user_edit"],!0);a.onJSONChange(c("adsMessengerDataModelSetWelcomeMessage")(d,new(c("AdsUniformValue"))(b)))}return h.jsxs(h.Fragment,{children:[h.jsx(c("MarketingMessagesEditTemplateWelcomeMessageSection.react"),{getWelcomeMessage:b,pageID:a.pageID,onWelcomeMessageChange:d}),h.jsx(c("MarketingMessagesEditTemplateEditorOptInRequestSection.react"),{pageID:a.pageID})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MarketingMessagesTemplateDialogFooter.react",["fbt","ix","AdsUEditorAdgroupMessageTemplateSectionStrings","GeoButton.react","GeoModalFooter.react","Image.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){return j.jsx(c("GeoModalFooter.react"),{primaryButton:j.jsx(c("GeoButton.react"),{"data-testid":void 0,label:h._("Save"),variant:"primary",onClick:a.onClickSave}),secondaryButton:j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:j.jsx(c("Image.react"),{src:i("505616")}),isLoading:a.isPreviewButtonLoading,label:d("AdsUEditorAdgroupMessageTemplateSectionStrings").messageTemplatePreviewInMessengerButtonText,variant:"default",onClick:a.onClickPreview})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MarketingMessagesTemplateDialog.react",["AdsMessengerUtils","AdsMessengerVisualEditorUtils","AdsUEditorAdgroupMessageDestinationPreviewContainer.react","AdsUEditorAdgroupMessageTemplateSectionStrings","CometPlaceholder.react","FlexLayout.react","GeoModal.react","GeoModalHeader.react","GeoSpinner.react","MarketingMessagesEditTemplateEditorSection.react","MarketingMessagesTemplateDialogFooter.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState,j=968,k=786;function a(a){var b=d("AdsMessengerUtils").getPreviewDisclaimer(),e=i(!1),f=e[0],g=e[1];e=i(!1);var l=e[0],m=e[1];function n(){a.onHide();return}function o(){m(!0);var b=a.pageID;if(b==null)return;d("AdsMessengerVisualEditorUtils").getJSONSend(a.welcomeMessageJSON,b,function(){},p,function(){},a.objectStoryID,a.adgroupIDs[0])}function p(a){m(!1),g(!0)}return h.jsxs(h.Fragment,{children:[h.jsx(c("GeoModal.react"),{"data-testid":void 0,footer:h.jsx(c("MarketingMessagesTemplateDialogFooter.react"),{isPreviewButtonLoading:l,onClickPreview:o,onClickSave:n}),header:h.jsx(c("GeoModalHeader.react"),{heading:d("AdsUEditorAdgroupMessageTemplateSectionStrings").marketingMessagesEditTemplateDialogHeader}),height:k,isShown:!0,width:j,onHide:a.onClickClose,children:h.jsx("div",{className:"xxw3bol x85kzmm",children:h.jsxs(c("FlexLayout.react"),{children:[h.jsx("div",{className:"x1976lvk x5ib6vp xx6bls6 xc73u3c x1cnzs8 x1e0zi5t x5jrcca",children:h.jsx(c("MarketingMessagesEditTemplateEditorSection.react"),{pageID:a.pageID,welcomeMessageJSON:a.welcomeMessageJSON,onJSONChange:a.onJSONChange})}),h.jsxs("div",{className:"x1w3zrk8 xkhd6sd x18d9i69 x4uap5 xexx8yu x1v2kdr2 x16n37ib x1rhet7l",children:[h.jsx("div",{className:"xgk8upj x1qt0ttw xnhgr82 x1a2cdl4 x16cqb6v x1a647mc x4rjez0 x1r40k29 xqjfwa5",children:h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("GeoSpinner.react"),{center:!0}),children:h.jsx(c("AdsUEditorAdgroupMessageDestinationPreviewContainer.react"),{isDialog:!0})})}),h.jsx("div",{className:"x1pl4821 x1xmf6yo x1pg5gke x1rj4l1e",children:b})]})]})})}),d("AdsMessengerVisualEditorUtils").showMessengerPreviewSuccessDialog(f,a.pageName,function(){g(!1)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessagingDestinationExperiencePreview.react",["cx","AdsFluxContainer","AdsMessengerJSONMediaFormatType","AdsMessengerUtils","AdsMessengerVisualEditorUtils","AdsUtils","MessageDestinationPreviewContainer.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","PagesReplyComposerTextUtilities","adsCreateSelector","adsMessengerDataModelGetIceBreakers","adsMessengerDataModelGetImageID","adsMessengerDataModelGetJSONPayload","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelGetPayload","adsMessengerDataModelGetQuickReplies","adsMessengerDataModelGetSurface","adsMessengerDataModelGetTemplateType","adsMessengerDataModelGetWelcomeMessage","adsMessengerDataModelIsTextWithQR","adsStoreToSelector","react","setByPath"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="MessengerJSONPreview",k=c("adsCreateSelector")([c("adsStoreToSelector")(c("PagesReplyComposerStore").getByKey(j))],function(a){return{composerState:a,showJSONPreview:!0}},{name:f.id+".stateSelector"});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.setState({showJSONPreview:!1})},b)||babelHelpers.assertThisInitialized(c)}b.getStores=function(){return k.getStores()};b.calculateState=function(){return k()};var e=b.prototype;e.UNSAFE_componentWillMount=function(){c("PagesReplyComposerDispatcher").getByKey(j).explicitlyRegisterStore(c("PagesReplyComposerStore").getByKey(j)),c("PagesReplyComposerActions").getActionsByKey(j).initializeStoreWithConfig({composerKey:j,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!0,pageID:this.props.pageID||"",placeholderText:""})};e.renderPersonalizedWelcomeMessage=function(a){return d("PagesReplyComposerTextUtilities").processMessage(a||"",this.state.composerState.supportedMacros)};e.render=function(){var a,b=d("AdsMessengerVisualEditorUtils").isJSONData(this.props.welcomeMessageJSON),e=null,f=null,g=null;e=c("adsMessengerDataModelGetWelcomeMessage")(this.props.welcomeMessageJSON);f=b?d("AdsUtils").clone(c("adsMessengerDataModelGetJSONPayload")(this.props.welcomeMessageJSON)):d("AdsUtils").clone(c("adsMessengerDataModelGetPayload")(this.props.welcomeMessageJSON));this.props.pageID!=null&&(e=this.renderPersonalizedWelcomeMessage(e));f&&c("adsMessengerDataModelGetMediaFormat")(this.props.welcomeMessageJSON)===c("AdsMessengerJSONMediaFormatType").TEXT&&!c("adsMessengerDataModelIsTextWithQR")(this.props.welcomeMessageJSON)&&(c("setByPath")(f,["text"],e),e=null);var h=c("adsMessengerDataModelGetQuickReplies")(this.props.welcomeMessageJSON);h=h&&h.filter(function(a){return!!a});h=h&&h.length?(a={},a.quick_replies=h,a):null;g=c("adsMessengerDataModelGetIceBreakers")(this.props.welcomeMessageJSON);a=b?!this.state.showJSONPreview||e==null&&f==null||this.props.invalidJSON:!d("AdsMessengerVisualEditorUtils").isVisualEditorData(this.props.welcomeMessageJSON);if(a===!0)return d("AdsMessengerVisualEditorUtils").getPreviewDisabledNotice(this.props.onJSONSend,b,this.props.invalidJSON);a=d("AdsMessengerUtils").getPreviewDisclaimer(this.props.destinationType);return i.jsxs(i.Fragment,{children:[i.jsx(c("MessageDestinationPreviewContainer.react"),{className:"_9ayb _9ayc",composerState:this.state.composerState,destinationType:this.props.destinationType,hideJSONPreview:this.$1,iceBreakers:g,imageID:c("adsMessengerDataModelGetImageID")(this.props.welcomeMessageJSON),inThreadMultiphotoCarousel:this.props.inThreadMultiphotoCarousel,isJSONPreview:b,isTextWithQR:c("adsMessengerDataModelIsTextWithQR")(this.props.welcomeMessageJSON),message:e,pageID:this.props.pageID,payload:f,platformXMD:h,surface:c("adsMessengerDataModelGetSurface")(this.props.welcomeMessageJSON),type:c("adsMessengerDataModelGetTemplateType")(this.props.welcomeMessageJSON),videoURL:this.props.videoURL,visualEditorName:this.props.visualEditorName,whatsAppNumber:this.props.whatsAppNumber}),i.jsx("div",{className:"x1xmf6yo x1pg5gke x1rj4l1e",children:a})]})};return b}(i.Component);b=c("AdsFluxContainer").create(a,{name:f.id});g["default"]=b}),98);
__d("MessagingDestinationExperiencePreviewContainer.react",["AdsCampaignRecordAccessors","AdsMessengerInThreadMultiphotoCarousel","AdsMessengerJSONMediaFormatType","AdsMessengerVisualEditorUtils","AdsUEditorAdgroupExistingPostCTACommonSelectors","AdsUEditorContainer.react","AdsUEditorMessengerContentEditorSelectors","AdsUEditorSelectors","AdsWhatsAppUtils","MessagingDestinationExperiencePreview.react","adsCreateStructuredSelector","adsGetUniformValueSelector","adsMessengerDataModelGetMediaFormat","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=c("adsCreateStructuredSelector")({destinationType:c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").destination_type.get)),inThreadMultiphotoCarouselSourceLoadObject:d("AdsUEditorAdgroupExistingPostCTACommonSelectors").inThreadMultiphotoCarouselSourceSelector,messengerExperienceEditorState:d("AdsUEditorMessengerContentEditorSelectors").adsUEditorMessengerExperienceEditorSelector},f.id+".messagingDestinationExperiencePreviewSelector");b=d("AdsUEditorContainer.react").createAdgroupContainer(function(a){var b=a.invalidJSON,e=a.onJSONSend,f=a.destinationType,g=a.inThreadMultiphotoCarouselSourceLoadObject;a=a.messengerExperienceEditorState;var i=d("AdsWhatsAppUtils").getPageWhatsAppData(a.page);i=i.hasWhatsAppNumber?i.whatsAppNumber:null;var j=d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(a.pageID,a.welcomeMessage,f),k=null;if(c("adsMessengerDataModelGetMediaFormat")(j)===c("AdsMessengerJSONMediaFormatType").TEXT){g=g.hasValueWithoutError()?g.getValue():null;k=d("AdsMessengerInThreadMultiphotoCarousel").getMaybeInThreadMultiphotoCarousel(g,j)}return h.jsx(c("MessagingDestinationExperiencePreview.react"),{destinationType:f,inThreadMultiphotoCarousel:k,invalidJSON:b,pageID:a.pageID,videoURL:a.videoURL,visualEditorName:a.visualEditorName,welcomeMessageJSON:j,whatsAppNumber:i,onJSONSend:e})},a,f.id);e=b;g["default"]=e}),98);
__d("MessengerAdsPartialAutomatedChatTab.react",["GeoGuidanceCard.react","GeoGuidanceCardContent.react","GeoGuidanceCardHeader.react","GeoSection.react","MessengerAdsPartialAutomatedAdditionalQuestionsSectionContainer.react","MessengerAdsPartialAutomatedConfirmationMessageContainer.react","MessengerAdsPartialAutomatedConstants","MessengerAdsPartialAutomatedDisqualifyMessageContainer.react","MessengerAdsPartialAutomatedIntroMessageContainer.react","MessengerAdsPartialAutomatedPrivacyPolicyContainer.react","MessengerAdsPartialAutomatedQuestionsCompleteMessageContainer.react","MessengerAdsPartialAutomatedQuestionsSectionContainer.react","adsAccountQE","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={convertFormsCard:{marginBottom:"xod5an3",marginTop:"x1oboqm0"}};function a(a){var b;b=(b=c("adsAccountQE")._(a.account,"1ZOyRhlVt:2Tr52mj2BKg",{},{log:!1}))!=null?b:!1;var e=h.jsx(c("GeoGuidanceCard.react"),{header:h.jsx(c("GeoGuidanceCardHeader.react"),{heading:d("MessengerAdsPartialAutomatedConstants").CONVERT_FORMS_CARD_HEADER}),status:"active-feedback",xstyle:i.convertFormsCard,children:h.jsx(c("GeoGuidanceCardContent.react"),{children:d("MessengerAdsPartialAutomatedConstants").CONVERT_FORMS_CARD_BODY})});return h.jsxs(c("GeoSection.react"),{children:[a.showConvertFormsCard&&e,h.jsx(c("MessengerAdsPartialAutomatedIntroMessageContainer.react"),{sectionValidationErrors:a.sectionValidationErrors,showError:a.showError}),h.jsx(c("MessengerAdsPartialAutomatedQuestionsSectionContainer.react"),{focusedIndex:a.focusedIndex,sectionValidationErrors:a.sectionValidationErrors,setDialogFocusedIndex:a.setFocusedIndex,showError:a.showError}),h.jsx(c("MessengerAdsPartialAutomatedConfirmationMessageContainer.react"),{isInPostLeadQuestionsQE:b,sectionValidationErrors:a.sectionValidationErrors,showError:a.showError}),b&&h.jsxs(h.Fragment,{children:[h.jsx(c("MessengerAdsPartialAutomatedAdditionalQuestionsSectionContainer.react"),{isDialogShown:a.isDialogShown,setDialogFocusedIndex:a.setFocusedIndex,showError:a.showError}),h.jsx(c("MessengerAdsPartialAutomatedQuestionsCompleteMessageContainer.react"),{sectionValidationErrors:a.sectionValidationErrors,showError:a.showError})]}),h.jsx(c("MessengerAdsPartialAutomatedDisqualifyMessageContainer.react"),{sectionValidationErrors:a.sectionValidationErrors,showError:a.showError}),h.jsx(c("MessengerAdsPartialAutomatedPrivacyPolicyContainer.react"),{sectionValidationErrors:a.sectionValidationErrors,showError:a.showError})]})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedDialogFooter.react",["fbt","ix","GeoButton.react","GeoModalFooter.react","GeoSpinner.react","Image.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.showError&&!a.isValidSpec;return j.jsx(c("GeoModalFooter.react"),{primaryButton:j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:b?j.jsx(c("Image.react"),{src:i("480268")}):null,isDisabled:b,label:a.isTemplateVisible?h._("Save and finish"):h._("Finish"),variant:"primary",onClick:a.onFinishButtonClicked}),secondaryButton:j.jsx(c("GeoButton.react"),{icon:a.isGeneratingPreview?j.jsx(c("GeoSpinner.react"),{size:"small"}):j.jsx(c("Image.react"),{src:i("505616")}),isDisabled:b||a.isGeneratingPreview,label:h._("Preview in Messenger"),onClick:a.onPreviewButtonClicked}),startContent:j.jsx(c("GeoButton.react"),{label:h._("Cancel"),onClick:a.onCancelButtonClicked})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedDialog.react",["fbt","ix","AdsInterfacesLogger","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","FlexLayout.react","GeoHeading.react","GeoModal.react","GeoModalHeader.react","GeoSection.react","GeoTab.react","GeoTabGroup.react","Image.react","MessengerAdsPartialAutomatedAdvancedTabContainer.react","MessengerAdsPartialAutomatedChatTab.react","MessengerAdsPartialAutomatedDialogFooter.react","MessengerAdsPartialAutomatedPreviewContainerV2.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useState,n=931,o={headline:{alignItems:"x6s0dn4",backgroundColor:"x2izyaf",borderBottom:"x16aiyyn",display:"x78zum5",height:"xn3w4p2",paddingEnd:"x1pi30zi",paddingStart:"x1swvt13",paddingTop:"xexx8yu",paddingBottom:"x18d9i69",position:"x10l6tqk",top:"x1v4kod4",zIndex:"xhtitgo"},headlineLeft:{width:"x19jyc8h"},leadGenLeft:{borderEnd:"x5jrcca",height:"xozhpjv",minHeight:"xp22266",overflowX:"x14aock7",overflowY:"x1rife3k",width:"xvue9z"},leadGenPreview:{minHeight:"xp22266",width:"x1l895tw"},root:{height:"xozhpjv",overflowX:"x6ikm8r",overflowY:"x10wlt62"},headlineRight:{width:"x196w2dt"}};function a(a){var b=m(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationTabs.CHAT),e=b[0],f=b[1];b=m(null);var g=b[0];b=b[1];var p=k(function(){var b=[d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.ADDITIONAL_QUESTIONS,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS_COMPLETE_MESSAGE,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY];return b.find(function(b){return a.sectionValidationErrors.has(b)})},[a.sectionValidationErrors]),q=k(function(){var b=[d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.TEMPLATE_NAME,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.STOP_QUESTION_MESSAGE,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.VALIDATION_MESSAGE,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.REMINDER,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.TRACKING_PARAMETERS];return b.find(function(b){return a.sectionValidationErrors.has(b)})},[a.sectionValidationErrors]),r=p(),s=q();l(t,[a.showError]);function t(){r?f(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationTabs.CHAT):s&&f(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationTabs.ADVANCED);var b=a.sectionValidationErrors.values().next().value;if(b){var c=document.getElementById(b);c?c.scrollIntoView({behavior:"smooth"}):window.setTimeout(function(){var a=document.getElementById(b);a&&a.scrollIntoView({behavior:"smooth"})},1e3)}}p=h._("Content");q=d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationTabs.CHAT;t=j.jsx(c("GeoTab.react"),{label:p,value:q});a.showError&&r&&(t=j.jsx(c("GeoTab.react"),{icon:j.jsx(c("Image.react"),{src:i("480268")}),label:p,value:q}));p=h._("Advanced");q=d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationTabs.ADVANCED;p=a.showError&&s?j.jsx(c("GeoTab.react"),{icon:j.jsx(c("Image.react"),{src:i("480268")}),label:p,value:q}):j.jsx(c("GeoTab.react"),{"data-testid":void 0,label:p,value:q});function u(b){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CHANGE_TABS,data:{message:JSON.stringify(b),objective:a.objective}}),f(b)}return j.jsx(c("GeoModal.react"),{footer:j.jsx(c("MessengerAdsPartialAutomatedDialogFooter.react"),{isGeneratingPreview:a.isGeneratingPreview,isTemplateVisible:a.isTemplateVisible,isValidSpec:a.isValidSpec,showError:a.showError,onCancelButtonClicked:a.onCancelButtonClicked,onFinishButtonClicked:a.onFinishButtonClicked,onPreviewButtonClicked:a.onPreviewButtonClicked}),header:j.jsx(c("GeoModalHeader.react"),{heading:h._("Create template")}),hideOnBlur:!1,isShown:a.isShown,label:"Create Chat",width:n,onHide:a.onCancelButtonClicked,children:j.jsx("div",{className:c("stylex")(o.root),children:j.jsxs(c("FlexLayout.react"),{children:[j.jsx("div",{className:c("stylex")(o.leadGenLeft),children:j.jsxs("div",{children:[j.jsx("div",{className:c("stylex")(o.headline,o.headlineLeft),children:j.jsx("div",{className:c("stylex")(c("geoMargin").top8,c("geoMargin").bottom12),children:j.jsxs(c("GeoTabGroup.react"),{value:e,onChange:u,children:[t,p]})})}),e===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationTabs.CHAT?j.jsx(c("MessengerAdsPartialAutomatedChatTab.react"),{account:a.account,focusedIndex:g,isDialogShown:a.isShown,sectionValidationErrors:a.sectionValidationErrors,setFocusedIndex:b,showConvertFormsCard:a.showConvertFormsCard,showError:a.showError}):j.jsx(c("MessengerAdsPartialAutomatedAdvancedTabContainer.react"),{isBlockSendAPI:a.isBlockSendAPI,isCreateNew:a.isCreateNew,isFieldIDToggleOn:a.isFieldIDToggleOn,isTemplateVisible:a.isTemplateVisible,sectionValidationErrors:a.sectionValidationErrors,setBlockSendAPI:a.setBlockSendAPI,setFieldIDToggleOn:a.setFieldIDToggleOn,setTemplateName:a.setTemplateName,setTemplateVisibility:a.setTemplateVisibility,setTrackingParameters:a.setTrackingParameters,showError:a.showError,templateName:a.templateName,trackingParameters:a.trackingParameters})]})}),j.jsxs("div",{className:c("stylex")(o.leadGenPreview),children:[j.jsx("div",{className:c("stylex")(o.headline,o.headlineRight),children:j.jsx(c("GeoHeading.react"),{level:3,children:h._("Messenger preview")})}),j.jsx(c("GeoSection.react"),{children:j.jsx(c("MessengerAdsPartialAutomatedPreviewContainerV2.react"),{focusedIndex:g,isDialog:!0})})]})]})})})}a.displayName=a.name+" [from "+f.id+"]";e=j.memo(a);g["default"]=e}),98);
__d("MessengerAdsPartialAutomatedGuidanceCard.react",["fbt","AdsMessengerPartialAutomatedCreationTypes","GeoGuidanceCard.react","GeoGuidanceCardContent.react","GeoGuidanceCardHeader.react","GeoText.react","MessengerAdsPartialAutomatedStrings","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=null,e=null;switch(a.guidanceCardType){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationLeadGenQuestionGuidanceType.PII:b=h._("Get more people to respond");e=h._("Ask for contact info later on to get more responses. Be upfront about how you'll use this information.");break;case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationLeadGenQuestionGuidanceType.NAME:b=h._("Get more people to answer your questions");e=d("MessengerAdsPartialAutomatedStrings").getNameQuestionInfoCardText(a.answerType);break;case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationLeadGenQuestionGuidanceType.NONE:return null}return!b||!e?null:i.jsx("div",{className:c("stylex")(c("geoMargin").bottom12),children:i.jsx(c("GeoGuidanceCard.react"),{header:i.jsx(c("GeoGuidanceCardHeader.react"),{heading:b}),status:"active-feedback",children:i.jsx(c("GeoGuidanceCardContent.react"),{children:i.jsx(c("GeoText.react"),{children:e})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedQuestionCollapsed.react",["ix","AdsMessengerPartialAutomatedCreationTypes","GeoBaseText.react","GeoFlexbox.react","GeoSection.react","GeoText.react","Image.react","MessengerAdsPartialAutomatedStrings","PagesReplyComposerStore","PagesReplyComposerTextUtilities","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={collapsedOptionArrow:{marginEnd:"xw3qccf",marginStart:"xsgj6o6",marginTop:"xr9ek0c",marginBottom:"xjpr12u"}};function a(a){function b(b){var e;if(!a.questionItem.answers)return;return i.jsx("div",{className:c("stylex")(c("geoMargin").start16),children:(e=a.questionItem.answers)==null?void 0:e.map(function(a,e){var f=a.nextStep!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.NEXT_QUESTION?d("MessengerAdsPartialAutomatedStrings").getGoToOptionName(a.nextStep):"";return i.jsxs(c("GeoFlexbox.react"),{xstyle:c("geoMargin").top16,children:[i.jsx("li",{style:{listStyleType:"disc"},children:i.jsx(c("GeoText.react"),{children:a.value})},e),b&&f!==""&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:c("stylex")(j.collapsedOptionArrow),children:i.jsx(c("Image.react"),{src:h("1263098")})}),i.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:!0,size:"value",children:f})]})]},e)})})}b.displayName=b.name+" [from "+f.id+"]";var e=c("PagesReplyComposerStore").getByKey("CTMLeadGenQuestion"+a.questionIndex.toString()).getState();return i.jsxs(c("GeoSection.react"),{children:[i.jsx(c("GeoText.react"),{children:e?d("PagesReplyComposerTextUtilities").processMessage(a.questionItem.questionMessage,e.supportedMacros):a.questionItem.questionMessage}),a.questionItem.answerType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE&&b((e=a.showOptionNextStep)!=null?e:!1)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedQuestionMessage.react",["cx","fbt","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationTypes","GeoText.react","GeoTextArea.react","MessengerAdsPartialAutomatedFormValidation","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","adsAccountGK","emptyFunction","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useEffect,l=b.useRef,m={leadGenComposer:{marginTop:"xdj266r",position:"x1n2onr6"},messageEditorArea:{backgroundColor:"x1c5tqo3",borderTop:"xgqjv89",borderEnd:"x3nkqmp",borderBottom:"x45hy6c",borderStart:"x18j5cpe",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginTop:"x1xmf6yo"},messageEditorAreaError:{backgroundColor:"x1c5tqo3",borderTop:"x1ju2mve",borderEnd:"xraqonv",borderBottom:"x12hbt4u",borderStart:"x1b791bb",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginTop:"x1xmf6yo"}};function a(a){var b=l(null);k(function(){if(a.isFocused){var c;(c=b.current)==null?void 0:c.focus()}},[a.isFocused]);var e=i._("Text"),f=d("MessengerAdsPartialAutomatedFormValidation").getRequiredTextFieldErrorMessage(a.questionItem.questionMessage,a.showError),g=i._("Enter the text for your question"),h={composerKey:a.uniqueQuestionKey,initialDisabled:!1,initialReply:a.questionItem.questionMessage,isAdsInterfaceSource:!0,pageID:a.pageID||"",placeholderText:g};function n(b){a.setIsHovered&&a.setIsHovered(b)}if(!a.showPersonalization)return j.jsxs("div",{className:c("stylex")(c("geoMargin").top8),children:[j.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").bottom4,children:e}),j.jsx(c("GeoTextArea.react"),{errorMessage:f,isLabelHidden:!0,label:e,maxLength:d("AdsMessengerConstants").WELCOME_MESSAGE_MAX_LENGTH,placeholder:g,rows:a.defaultNumTextRows,shouldAutoGrow:!0,textareaRef:b,value:a.questionItem.questionMessage,onChange:a.onQuestionTextChange})]});g=a.questionItem.answerType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE||c("adsAccountGK")._(a.account,"1XP85qam9")&&a.questionItem.answerType==="PHONE";return j.jsxs(j.Fragment,{children:[j.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").bottom4,children:e}),j.jsx("div",{className:c("stylex")(f==null?m.messageEditorArea:m.messageEditorAreaError,m.leadGenComposer),onBlur:function(b){a.onBlur(b)},onFocus:a.onFocus,onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},children:g?j.jsx(c("GeoTextArea.react"),{isDisabled:!0,isLabelHidden:!0,isResizable:!1,label:a.questionItem.questionMessage,maxHeight:100,rows:a.defaultNumTextRows,shouldAutoGrow:!1,value:a.questionItem.questionMessage,onChange:c("emptyFunction")}):j.jsxs(j.Fragment,{children:[j.jsx(c("PagesReplyComposerEditorContainer.react"),{config:h,isCTMLeadGen:!0,isFocused:a.isQuestionFocused,isHovered:a.isQuestionHovered,isSideToolbar:!0,welcomeString:a.questionItem.questionMessage,onReplyChange:a.onQuestionTextChange}),j.jsx(c("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:h,isFocused:a.isQuestionFocused,isHovered:a.isQuestionHovered,isSideToolbar:!0,onToolItemClicked:a.onToolItemClicked})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedImageThumbnail.react",["fbt","ix","AdsFBIconDownsized.react","AdsFullSizeImageBoxContainer.react","GeoButton.react","GeoTooltip.react","Image.react","ShimButton.react","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useRef,l={thumbnailContainer:{display:"x3nfvp2",position:"x1n2onr6"},thumbnailContainerError:{borderTop:"x9576ge",borderEnd:"x1ky0mjk",borderBottom:"xo1i06y",borderStart:"x1eg106k"},placeholderContainer:{backgroundColor:"x1pjtg3p",height:"xy75621",width:"x2pejg6"},placeholderIcon:{marginTop:"xqui205",marginEnd:"xz0yn93",marginBottom:"x1hq5gj4",marginStart:"x7oiw7k"},removeContainer:{bottom:"x1r730lr",start:"x1cr4vjf",position:"x10l6tqk"},removeImg:{backgroundColor:"x12peec7",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c"}};function a(a){a=a===void 0?{}:a;var b=a.errorText,d=a.imageID,e=a.xstyle,f=a.onClick;f=f===void 0?function(){return void 0}:f;a=a.onRemoveClick;a=a===void 0?function(){return void 0}:a;var g=k(null),m=h._("Placeholder for selected image"),n=h._("Remove");return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:c("stylex")(l.thumbnailContainer,b!=null&&l.thumbnailContainerError,e),ref:g,children:d?j.jsxs(j.Fragment,{children:[j.jsx(c("AdsFullSizeImageBoxContainer.react"),{crop:null,height:72,imageID:d,renderStyle:"SCALE_CROP",width:128}),j.jsx("div",{className:c("stylex")(l.removeContainer),children:j.jsx(c("GeoButton.react"),{icon:j.jsx(c("Image.react"),{src:i("551324"),xstyle:c("stylex")(l.removeImg)}),isLabelHidden:!0,label:n,variant:"flatInverted",onClick:a})})]}):j.jsx(c("ShimButton.react"),{className:c("stylex")(l.placeholderContainer),onClick:f,children:j.jsx(c("AdsFBIconDownsized.react"),{"aria-label":m,className:c("stylex")(l.placeholderIcon),src:i("412549"),onClick:f})})}),b!=null&&j.jsx(c("GeoTooltip.react"),{content:b,heading:"",position:"right",triggerRef:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedQuestionOptionItem.react",["fbt","ix","AdsImageIDUtils","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationTypes","GeoCloseButton.react","GeoFlexbox.react","GeoInputGroup.react","GeoSelector.react","GeoSelectorItem.react","GeoTextInput.react","Image.react","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedImageThumbnail.react","MessengerAdsPartialAutomatedSelectImage","MessengerAdsPartialAutomatedStrings","adsAccountQE","curry","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={hidden:{visibility:"xlshs6z"},inputGroup:{width:"xh8yej3"},inputGroupError:{backgroundColor:"x2izyaf",borderTop:"x1h8fp6x",borderEnd:"x1p5b71b",borderBottom:"x19f6qq2",borderStart:"x1uyg967",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",width:"xh8yej3"},selectorImage:{backgroundColor:"x2izyaf",height:"x5yr21d",width:"xh8yej3"},textInput:{minWidth:"x140pc4w"},visible:{visibility:"xnpuxes"}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={isFocused:!1,isHovered:!1,showImageDialog:!1},c.$6=function(){c.props.onAnswerRemove(c.props.index)},c.$2=function(a){c.props.onNextStepChange(c.props.index,a)},c.$1=function(a){c.props.onAnswersChange(a,c.props.index)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a,b=this;a=((a=this.props.account)==null?void 0:a.account_id)||null;var e=this.props.answer.mediaContent;a=d("AdsImageIDUtils").getImageID({accountID:a,hash:e});e=this.props.optionsFormat==="carousel";var f=d("MessengerAdsPartialAutomatedFormValidation").getRequiredTextFieldErrorMessage(this.props.answer.value,this.props.showError),g=e?d("MessengerAdsPartialAutomatedFormValidation").getMediaErrorMessage("image",this.props.answer.mediaContent,this.props.showError):null,l=j.jsx(c("GeoTextInput.react"),{isLabelHidden:!0,isReadOnly:!this.props.isEditable,label:this.props.answer.value,maxLength:d("AdsMessengerConstants").OPTION_MAX_LENGTH,placeholder:h._("Enter an option"),value:this.props.answer.value,xstyle:k.textInput,onChange:this.$1,onFocus:this.props.onFocus});return j.jsxs("div",{onBlur:function(a){c("curry")(function(a){return b.setState(a)},{isFocused:!1}),b.props.onBlur(a)},onFocus:function(){c("curry")(function(a){return b.setState(a)},{isFocused:!0})},onMouseEnter:c("curry")(function(a){return b.setState(a)},{isHovered:!0}),onMouseLeave:c("curry")(function(a){return b.setState(a)},{isHovered:!1}),children:[j.jsxs(c("GeoFlexbox.react"),{alignContent:"center",xstyle:c("geoMargin").bottom8,children:[j.jsx(c("GeoFlexbox.react"),{xstyle:f===null?k.inputGroup:k.inputGroupError,children:!this.props.isSkipToEnabled||e?l:j.jsxs(c("GeoInputGroup.react"),{isDisabled:!this.props.isEditable,isLabelHidden:!0,label:h._("Option label and result"),children:[l,j.jsxs(c("GeoSelector.react"),{isDisabled:!this.props.isEditable,label:h._("Result"),media:j.jsx(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"center",xstyle:k.selectorImage,children:j.jsx(c("Image.react"),{src:i("1520261")})}),value:this.props.answer.nextStep,onChange:this.$2,children:[this.$3(),this.$4(),this.$5()]})]})}),j.jsx("div",{className:this.state.isHovered||this.state.isFocused?c("stylex")(k.visible):c("stylex")(k.hidden),children:this.props.isEditable&&j.jsx(c("GeoCloseButton.react"),{label:h._("Remove"),xstyle:c("geoMargin").start4,onClick:this.$6})})]}),e&&j.jsx(c("MessengerAdsPartialAutomatedImageThumbnail.react"),{errorText:g,imageID:a,xstyle:c("geoMargin").bottom16,onClick:function(){return b.setState({showImageDialog:!0})},onRemoveClick:this.props.onAnswerUnsetImage}),this.props.account&&d("MessengerAdsPartialAutomatedSelectImage").getImageDialog((f=this.props.account)==null?void 0:f.account_id,a,this.state.showImageDialog,function(){return b.setState({showImageDialog:!1})},this.props.onAnswerSetImage)]},"option_item."+this.props.index)};e.$3=function(){return j.jsx(c("GeoSelectorItem.react"),{description:d("MessengerAdsPartialAutomatedStrings").getGoToOptionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.NEXT_QUESTION),label:d("MessengerAdsPartialAutomatedStrings").getGoToOptionName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.NEXT_QUESTION),value:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.NEXT_QUESTION})};e.$4=function(){var a;if(this.props.isAdditionalQuestion)return null;a=(a=c("adsAccountQE")._(this.props.account,"1ZOyRhlVt:2Tr52mj2BKg",{},{log:!1}))!=null?a:!1;return j.jsx(c("GeoSelectorItem.react"),{description:d("MessengerAdsPartialAutomatedStrings").getGoToOptionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.CONFIRMATION_MESSAGE,a),label:d("MessengerAdsPartialAutomatedStrings").getGoToOptionName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.CONFIRMATION_MESSAGE,a),value:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.CONFIRMATION_MESSAGE})};e.$5=function(){return this.props.isAdditionalQuestion?null:j.jsx(c("GeoSelectorItem.react"),{description:d("MessengerAdsPartialAutomatedStrings").getGoToOptionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.DISQUALIFY_MESSAGE),label:d("MessengerAdsPartialAutomatedStrings").getGoToOptionName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.DISQUALIFY_MESSAGE),value:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.DISQUALIFY_MESSAGE})};return b}(j.Component);g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedQuestionOptions.react",["MessengerAdsPartialAutomatedQuestionOptionItem.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var b=a.account,d=a.questionIndex,e=a.questionItem,f=a.showError,g=a.onAnswerRemove,j=a.onQuestionItemChange,k=e.optionsFormat,l=i(0),m=l[0];l=l[1];if(k==null)return null;var n=e.answers==null?0:e.answers.length;m>=n&&l(n-1);var o=function(a,b){var c=babelHelpers["extends"]({},e);if(!c.answers)return;c.answers[b].value=a;j(c,d)},p=function(a,b){var c=babelHelpers["extends"]({},e);b=b&&b[0];if(!b||!c.answers||typeof b.hash!=="string")return;c.answers[a].mediaContent=b.hash;j(c,d)},q=function(a){var b=babelHelpers["extends"]({},e);if(!b.answers)return;b.answers[a].mediaContent="";j(b,d)};return h.jsx("div",{className:c("stylex")(c("geoMargin").top8),children:e.answers&&e.answers.map(function(d,e){return h.jsx(c("MessengerAdsPartialAutomatedQuestionOptionItem.react"),{account:b,answer:d,index:e,isAdditionalQuestion:a.isAdditionalQuestion,isEditable:a.isEditable,isSkipToEnabled:a.isSkipToEnabled,optionsFormat:k,showError:f,onAnswerRemove:g,onAnswerSetImage:function(a){return p(e,a)},onAnswerUnsetImage:function(){return q(e)},onAnswersChange:o,onBlur:a.onBlur,onFocus:a.onFocus,onNextStepChange:a.onNextStepChange},e)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedQuestion.react",["fbt","ix","AdsMessengerPartialAutomatedCreationTypes","AdsStaticGuidanceCard.react","GeoBaseText.react","GeoButton.react","GeoCard.react","GeoCheckboxInput.react","GeoGenericCardHeader.react","GeoGuidanceCard.react","GeoGuidanceCardContent.react","GeoGuidanceCardHeader.react","GeoSection.react","GeoText.react","GeoTextArea.react","GeoTooltip.react","GeoTooltipText.react","Image.react","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedGuidanceCard.react","MessengerAdsPartialAutomatedQuestionCollapsed.react","MessengerAdsPartialAutomatedQuestionMessage.react","MessengerAdsPartialAutomatedQuestionOptions.react","MessengerAdsPartialAutomatedQuestionStrings","MessengerAdsPartialAutomatedStepDataManager","MessengerAdsPartialAutomatedStrings","adsAccountGK","adsAccountQE","geoMargin","justknobx","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={addOptionButton:{backgroundColor:"x2izyaf",borderTop:"x1j5ihxw",borderEnd:"xipgal8",borderBottom:"x1bjq843",borderStart:"x1vr4idg",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",width:"x1ad75hp"},leadGenQuestionBody:{borderTop:"x1tciwvm",paddingTop:"xyamay9"},leadGenQuestionItemTitleIcon:{alignItems:"x6s0dn4",display:"x78zum5"},questionHeader:{marginTop:"x4arcmf",marginBottom:"xh3wvx0"},questionHeaderButtonContainer:{zIndex:"x1vjfegm"},questionHeaderContent:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"x1qughib"},questionHeaderRemoveButtonContainer:{marginEnd:"x1m39q7l"},questionHeaderRemoveButtonContainerNewPreview:{marginEnd:"x1gja9t"},questionHeaderTitleContainer:{display:"x78zum5",flexGrow:"x1iyjqo2"}};function l(a,b,e,f,g,l,m,n,o){m=m&&!d("MessengerAdsPartialAutomatedFormValidation").validateEachQuestionItem([a]);a=j.jsxs("span",{className:c("stylex")(k.questionHeaderTitleContainer),children:[j.jsx("span",{className:c("stylex")(k.leadGenQuestionItemTitleIcon),children:d("MessengerAdsPartialAutomatedStrings").getEnabledQuestionTypeIcon(a.answerType,a.optionsFormat)}),j.jsx(c("GeoBaseText.react"),{color:"value",size:"header3",weight:"bold",xstyle:c("geoMargin").horiz8,children:a.answerType&&d("MessengerAdsPartialAutomatedStrings").getQuestionName(d("MessengerAdsPartialAutomatedStrings").getAnswerSpec(a.answerType,a.optionsFormat))}),(m||n)&&j.jsx("span",{className:c("stylex")(k.leadGenQuestionItemTitleIcon),children:j.jsx(c("Image.react"),{src:m?i("480268"):i("480790")})})]});n=l||e>1?j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:j.jsx(c("Image.react"),{src:i("541092")}),isLabelHidden:!0,label:h._("Remove"),variant:"flat",onClick:f},"Remove"):null;m=j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:j.jsx(c("Image.react"),{src:b?i("486562"):i("515080")}),isLabelHidden:!0,label:h._("Edit"),variant:"flat",onClick:g},"Edit");return j.jsx(c("GeoGenericCardHeader.react"),{xstyle:k.questionHeader,children:j.jsxs("span",{className:c("stylex")(k.questionHeaderContent),children:[a,j.jsx("div",{className:c("stylex")(o===!0?k.questionHeaderRemoveButtonContainerNewPreview:k.questionHeaderRemoveButtonContainer,k.questionHeaderButtonContainer),children:n}),o!==!0&&j.jsx("div",{className:c("stylex")(k.questionHeaderButtonContainer),children:m})]})})}l.displayName=l.name+" [from "+f.id+"]";function m(a,b,d,e,f,g){return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:c("stylex")(k.leadGenQuestionItemTitleIcon,c("geoMargin").top12),children:b?j.jsx(c("GeoCheckboxInput.react"),{isDisabled:!f,label:h._("Accept other answers"),value:!a,onChange:g}):j.jsxs(j.Fragment,{children:[j.jsx(c("GeoCheckboxInput.react"),{isDisabled:!f,label:h._("Answer validation"),value:a,onChange:g}),j.jsx("span",{className:"_3-99",children:j.jsx(c("GeoTooltip.react"),{content:h._("Answers that appear invalid will prompt the question again."),heading:"",position:"right"})})]})}),!a&&!b&&e&&j.jsx("div",{className:c("stylex")(c("geoMargin").top12),children:j.jsx(c("AdsStaticGuidanceCard.react"),{ccCardProps:{category:"ACTIVE_FEEDBACK",header:h._("Are you sure you want to turn off validation?"),messageID:"ctm_lead_gen_lg_objective_pii_feedback",textData:[{type:"PARAGRAPH",data:{text:r(d)}}]}})})]})}function n(){return j.jsx(c("GeoGuidanceCard.react"),{header:j.jsx(c("GeoGuidanceCardHeader.react"),{heading:h._("People can't proceed to the next question")}),status:"warning",xstyle:c("geoMargin").vert8,children:j.jsx(c("GeoGuidanceCardContent.react"),{children:j.jsx(c("GeoTooltipText.react"),{children:h._("All options skip to disqualification or completion. Select Next question for one option to let people continue to your next question.")})})})}n.displayName=n.name+" [from "+f.id+"]";function o(a,b,d){return j.jsxs("div",{className:c("stylex")(k.leadGenQuestionItemTitleIcon,c("geoMargin").top12),children:[j.jsx(c("GeoCheckboxInput.react"),{isDisabled:a,label:h._("Allow to skip"),value:b,onChange:d}),j.jsx("span",{className:"_3-99",children:a?j.jsx(c("GeoTooltip.react"),{content:h._("All follow-up questions can be skipped. Use primary questions to ask for required information."),heading:"",position:"right"}):j.jsx(c("GeoTooltip.react"),{content:h._("People can choose to skip this question and continue to the next one."),heading:"",position:"right"})})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a,b,e){var f=null;b?f=d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationLeadGenQuestionGuidanceType.PII:e&&(f=d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationLeadGenQuestionGuidanceType.NAME);return f!==null?j.jsx(c("MessengerAdsPartialAutomatedGuidanceCard.react"),{answerType:a,guidanceCardType:f}):null}p.displayName=p.name+" [from "+f.id+"]";function q(a,b,e,f){return j.jsx("div",{className:c("stylex")(c("geoMargin").top12),children:j.jsx(c("GeoTextArea.react"),{errorMessage:d("MessengerAdsPartialAutomatedFormValidation").isStringCommaSeparated(b)?null:h._("Please enter only ZIP codes separated by comma."),isOptional:!0,label:h._("Valid ZIP codes"),maxHeight:100,placeholder:h._("Enter ZIP codes separated by comma. (e.g. 94025, 94085, 90005)"),rows:2,shouldAutoGrow:!1,tooltip:h._("Leads in locations not in the list of valid ZIP codes will be disqualified."),value:b,onBlur:f,onChange:function(b){a(b)},onFocus:e})})}q.displayName=q.name+" [from "+f.id+"]";function r(a){return a?h._("Validation improves the accuracy of location information by preventing errors."):h._("Validation improves the accuracy of contact information by preventing errors, and helps you follow up with people.")}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a,b=this;a=(a=c("adsAccountQE")._(this.props.account,"lf2BUMQWw:aCqqQFttjfB",{}))!=null?a:!1;var e=c("adsAccountGK")._(this.props.account,"1XP85qam9")&&this.props.questionItem.answerType==="PHONE",f=c("adsAccountGK")._(this.props.account,"1XP85qam9")&&this.props.questionItem.answerType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE,g=this.props.questionItem.answerType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE||this.props.questionItem.answerType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CUSTOM,i=this.props.questionItem.answerType==="ZIP_CODE",r=d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedReplyTempLocationValidationType.includes(this.props.questionItem.answerType),s=this.props.questionItem.answers?this.props.questionItem.answers.length>=d("MessengerAdsPartialAutomatedStepDataManager").getMaxOptionNumber():!1,t=d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedReplyValidationType.includes(this.props.questionItem.answerType)&&this.props.disableValidation!==!0;t=this.props.questionItem.answerType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE?t&&this.props.questionItem.answers!=null&&this.props.questionItem.answers.length>1:t;var u=!this.props.isAdditionalQuestion&&this.props.questionItem.answerType==="PHONE"&&this.props.questionIndex===0,v=this.props.questionItem.answerType==="FIRST_NAME"||this.props.questionItem.answerType==="LAST_NAME"||this.props.questionItem.answerType==="FULL_NAME",w=!g&&!v&&this.props.questionItem.answerType!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE,x=(this.props.isAdditionalQuestion?"CTMLeadGenAdditionalQuestion":"CTMLeadGenQuestion")+this.props.questionIndex.toString(),y=f?{answerType:"PHONE",questionMessage:d("MessengerAdsPartialAutomatedQuestionStrings").getDefaultQuestionMessage("PHONE",this.props.account).toString()}:{answerType:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE,questionMessage:d("MessengerAdsPartialAutomatedQuestionStrings").getDefaultQuestionMessage(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE,this.props.account).toString()},z=this.props.questionItem.answerType&&d("MessengerAdsPartialAutomatedStrings").getSwitchQuestionItemLabel(this.props.questionItem.answerType);return j.jsx(c("GeoCard.react"),{header:l(this.props.questionItem,this.props.isCollapsed,this.props.questionCount,this.props.onRemoveLinkClick,this.props.onToggleIsCollapsed,this.props.isAdditionalQuestion,this.props.showError,this.props.isEndingQuestion,this.props.showNewDialog),children:j.jsxs("div",{className:c("stylex")(k.leadGenQuestionBody),children:[this.props.isCollapsed?j.jsx(c("MessengerAdsPartialAutomatedQuestionCollapsed.react"),{questionIndex:this.props.questionIndex,questionItem:this.props.questionItem,showOptionNextStep:!0}):j.jsxs(c("GeoSection.react"),{children:[p(this.props.questionItem.answerType,u,v),j.jsx(c("MessengerAdsPartialAutomatedQuestionMessage.react"),{account:this.props.account,defaultNumTextRows:f?3:2,isFocused:this.props.isFocused,isQuestionFocused:this.props.isQuestionFocused,isQuestionHovered:this.props.isQuestionHovered,pageID:this.props.pageID,questionItem:this.props.questionItem,setIsHovered:this.props.setIsHovered,showError:this.props.showError,showPersonalization:this.props.showPersonalization,uniqueQuestionKey:x,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onQuestionTextChange:this.props.onQuestionTextChange,onToolItemClicked:this.props.onToolItemClicked}),e&&z!=null&&c("justknobx")._("647")&&j.jsx("div",{className:c("stylex")(c("geoMargin").top12),children:j.jsx(c("GeoButton.react"),{grow:"fill",label:z,onClick:function(){return b.props.onQuestionItemChange(babelHelpers["extends"]({answerValidationEnabled:!0,answers:[d("MessengerAdsPartialAutomatedQuestionStrings").getMultipleChoiceAnswer("Yes"),d("MessengerAdsPartialAutomatedQuestionStrings").getMultipleChoiceAnswer("No")],fieldID:"",optionalQuestionEnabled:!1,optionsFormat:"text"},y),b.props.questionIndex)}})}),(g||f)&&j.jsxs("div",{className:"_3-8y",children:[j.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").bottom4,children:h._("Options")}),j.jsx(c("MessengerAdsPartialAutomatedQuestionOptions.react"),{account:this.props.account,isAdditionalQuestion:this.props.isAdditionalQuestion,isEditable:!f,isSkipToEnabled:this.props.isSkipToEnabled,questionIndex:this.props.questionIndex,questionItem:this.props.questionItem,showError:this.props.showError,onAnswerRemove:this.props.onAnswerRemove,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onNextStepChange:this.props.onNextStepChange,onQuestionItemChange:this.props.onQuestionItemChange}),!(s||f)&&j.jsx("div",{className:c("stylex")(k.addOptionButton),children:j.jsx(c("GeoButton.react"),{grow:"fill",label:h._("+ Add option"),variant:"flat",onClick:this.props.onAddOption})}),this.props.isEndingQuestion&&n()]}),t&&m(Boolean(this.props.questionItem.answerValidationEnabled),g,r,!u,!e,this.props.onAnswerValidationEnabledToggle),t&&this.props.questionItem.answerValidationEnabled===!0&&a&&i&&q(this.props.onQualifyingZipCodeListUpdate,(v=this.props.questionItem.qualifyingAnswersList)!=null?v:"",this.props.onFocus,this.props.onBlur),w&&o(this.props.isAdditionalQuestion||e,this.props.questionItem.optionalQuestionEnabled||!1,this.props.onQuestionOptionalChange)]}),f&&j.jsx("div",{className:"_3-96",children:j.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:!0,size:"accent",xstyle:c("geoMargin").all20,children:h._("You can attempt 4 calls within 14 days after permission is received")})})]})})};return b}(j.Component);g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedQuestionItem.react",["AdsInterfacesLogger","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","MessengerAdsPartialAutomatedQuestion.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={autoFocus:!1,carouselSelectedItem:0,isCollapsed:e.props.isInitiallyCollapsed,isQuestionFocused:!1,showMoreOptions:!0,visibleGoToOptions:[],isQuestionHovered:!1},e.$12=function(){var a=e.state.isCollapsed;e.setState({isCollapsed:!a})},e.$10=function(a){a=babelHelpers["extends"]({},e.props.questionItem,{questionMessage:a});e.props.onQuestionItemChange(a,e.props.questionIndex)},e.$4=function(){var a=babelHelpers["extends"]({},e.props.questionItem,{answerValidationEnabled:!e.props.questionItem.answerValidationEnabled});e.props.onQuestionItemChange(a,e.props.questionIndex)},e.$8=function(a){a=babelHelpers["extends"]({},e.props.questionItem,{qualifyingAnswersList:a});e.props.onQuestionItemChange(a,e.props.questionIndex)},e.$9=function(){var a=babelHelpers["extends"]({},e.props.questionItem,{optionalQuestionEnabled:!e.props.questionItem.optionalQuestionEnabled});c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_TOGGLE_SKIPPABLE,data:{message:JSON.stringify(!e.props.questionItem.optionalQuestionEnabled)}});e.props.onQuestionItemChange(a,e.props.questionIndex)},e.$3=function(a){var b,c=e.props.questionItem.optionsFormat||"text";b=(b=e.props.questionItem.answers)!=null?b:[];b=b.filter(function(b,c){return c!==a});var f=b.length>0?d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CUSTOM;f=babelHelpers["extends"]({},e.props.questionItem,{answers:b,answerType:f,answerValidationEnabled:b.length>1?e.props.questionItem.answerValidationEnabled:!1,optionsFormat:c});e.props.onQuestionItemChange(f,e.props.questionIndex)},e.$2=function(){var a,b=e.props.questionItem.optionsFormat||"text";a=(a=e.props.questionItem.answers)!=null?a:[];a=a.concat({fieldID:"",value:"",nextStep:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.NEXT_QUESTION,mediaContent:""});a=babelHelpers["extends"]({},e.props.questionItem,{answers:a,answerType:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE,answerValidationEnabled:a.length>2?e.props.questionItem.answerValidationEnabled:a.length>1,optionsFormat:b});c("AdsInterfacesLogger").log({eventName:e.props.isAdditionalQuestion?d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_ADDITIONAL_QUESTION_ADD_OPTION:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_QUESTION_ADD_OPTION});e.props.onQuestionItemChange(a,e.props.questionIndex)},e.$11=function(){e.props.onRemoveQuestion(e.props.questionIndex)},e.$6=function(){e.setState({isQuestionFocused:!0}),e.props.onClick()},e.$5=function(a){e.setState({isQuestionFocused:!1});var b=function(a){return a instanceof HTMLInputElement&&a.getAttribute("type")==="checkbox"},c=function(a){return a instanceof HTMLDivElement&&a.getAttribute("role")==="button"},d=function(a){return a instanceof HTMLDivElement&&(a.getAttribute("role")==="listbox"||a.getAttribute("role")==="option"||a.getAttribute("role")==="combobox")},f=function(a){return a instanceof HTMLInputElement&&a.getAttribute("type")==="text"||a instanceof HTMLDivElement&&a.getAttribute("role")==="textbox"};a.relatedTarget instanceof Element&&(c(a.relatedTarget)||d(a.relatedTarget)||b(a.relatedTarget)||f(a.relatedTarget))?a.preventDefault():e.props.onBlur()},e.$1=function(a){e.setState({isQuestionHovered:a})},e.$7=function(a,b){var f=babelHelpers["extends"]({},e.props.questionItem);if(!f.answers)return;f.answers[a].nextStep=b;c("AdsInterfacesLogger").log({eventName:e.props.isAdditionalQuestion?d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_ADDITIONAL_QUESTION_GO_TO:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_QUESTION_GO_TO,data:{message:b}});e.props.onQuestionItemChange(f,e.props.questionIndex)},b)||babelHelpers.assertThisInitialized(e)}b.getDerivedStateFromProps=function(a,b){if(b.visibleGoToOptions.length!==0)return babelHelpers["extends"]({},b);a=a.questionItem.answers?a.questionItem.answers.map(function(a){return a.nextStep!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.NEXT_QUESTION}):[];return babelHelpers["extends"]({},b,{visibleGoToOptions:a})};var e=b.prototype;e.render=function(){var a=(this.props.isAdditionalQuestion?d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.ADDITIONAL_QUESTIONS+"-":d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS+"-")+(""+this.props.questionIndex);return h.jsx("div",{className:"xwib8y2 x1y1aw1k x1vjfegm",id:a,children:h.jsx(c("MessengerAdsPartialAutomatedQuestion.react"),{account:this.props.account,disableValidation:this.props.disableValidation,isAdditionalQuestion:this.props.isAdditionalQuestion,isCollapsed:this.state.isCollapsed,isEndingQuestion:this.props.isEndingQuestion,isFocused:this.props.isFocused,isQuestionFocused:this.state.isQuestionFocused,isQuestionHovered:this.state.isQuestionHovered,isSkipToEnabled:this.props.isSkipToEnabled,pageID:this.props.pageID,questionCount:this.props.questionCount,questionIndex:this.props.questionIndex,questionItem:this.props.questionItem,setIsHovered:this.$1,showError:this.props.showError,showNewDialog:this.props.showNewDialog,showPersonalization:this.props.showPersonalization,onAddOption:this.$2,onAnswerRemove:this.$3,onAnswerValidationEnabledToggle:this.$4,onBlur:this.$5,onFocus:this.$6,onNextStepChange:this.$7,onQualifyingZipCodeListUpdate:this.$8,onQuestionItemChange:this.props.onQuestionItemChange,onQuestionOptionalChange:this.$9,onQuestionTextChange:this.$10,onRemoveLinkClick:this.$11,onToggleIsCollapsed:this.$12,onToolItemClicked:this.$13})})};e.$13=function(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_ADD_PERSONALIZATION,data:{message:"Question"}})};return b}(h.Component);g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedQuestionDraggableItem.react",["cx","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","MessengerAdsPartialAutomatedQuestionItem.react","react","withAbstractDraggableDataSource"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(a){a.stopPropagation()},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=this.props.item,b=a.id,d=a.isMovable;a=babelHelpers.objectWithoutPropertiesLoose(a,["id","isMovable"]);return i.jsxs(c("FBOverlayContainer.react"),{className:this.props.dragging?"_7s8r":"",style:{width:this.props.width},onClick:this.$1,children:[i.jsx(c("FBOverlayBase.react"),{children:i.jsx(c("MessengerAdsPartialAutomatedQuestionItem.react"),babelHelpers["extends"]({},a))}),i.jsx(c("FBOverlayElement.react"),{horizontal:"fit",ref:this.props.setRef,vertical:"top",children:i.jsx("div",{className:(d?"_8nkj":"")+(d?" _8xip":"")+(d&&a.showNewDialog!==!0?" _99k_":"")+(d&&a.showNewDialog===!0?" _9w_h":"")})})]},b)};return b}(i.Component);b=c("withAbstractDraggableDataSource")(a);g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedQuestionDropdown.react",["fbt","ix","AdsMessengerPartialAutomatedCreationTypes","GeoDropdownMenu.react","GeoMenuItem.react","GeoMenuSubmenu.react","Image.react","MessengerAdsPartialAutomatedQuestionStrings","MessengerAdsPartialAutomatedStrings","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function k(a,b){return b.includes(d("MessengerAdsPartialAutomatedStrings").getQuestionCMSID(a))}function l(a,b,e,f,g,h){g===void 0&&(g=!1);g=d("MessengerAdsPartialAutomatedStrings").getQuestionName(a,g);var i=e?d("MessengerAdsPartialAutomatedStrings").getEnabledQuestionTypeIcon(a.answerType,a.optionsFormat):d("MessengerAdsPartialAutomatedStrings").getDisabledQuestionTypeIcon(a.answerType,a.optionsFormat);return b&&i!=null?j.jsx(c("GeoMenuItem.react"),{"data-testid":void 0,icon:i,isDisabled:!e,label:g,onClick:function(){return f(a,h)}},a.answerType):j.jsx(c("GeoMenuItem.react"),{"data-testid":void 0,isDisabled:!e,label:g,onClick:function(){return f(a,h)}},a.answerType)}function m(a){var b=new Set([]);a.forEach(function(a){a.answerType==="FULL_NAME"?b=new Set(["FULL_NAME","FIRST_NAME","LAST_NAME"]):(a.answerType==="FIRST_NAME"||a.answerType==="LAST_NAME")&&(b.add(a.answerType),b.add("FULL_NAME"))});return b}function a(a){var b,e=(b=(b=a.leadGenSAFRConfig)==null?void 0:b.questions_blacklist.map(function(a){return a.toString()}))!=null?b:[];b=["CITY","STATE","PROVINCE","ZIP_CODE","POST_CODE","COUNTRY"];b=b.filter(function(a){return!k(a,e)}).map(function(b){switch(b){case"POST_CODE":if(a.showNewQuestionTypes)return l(d("MessengerAdsPartialAutomatedStrings").getAnswerSpec(b),!1,!0,a.onClick);break;case"PROVINCE":if(a.showNewQuestionTypes)return l(d("MessengerAdsPartialAutomatedStrings").getAnswerSpec(b),!1,!0,a.onClick);break;default:return l(d("MessengerAdsPartialAutomatedStrings").getAnswerSpec(b),!1,!0,a.onClick)}});var f=[];if(!a.isAdditionalQuestions){var g=["FULL_NAME","FIRST_NAME","LAST_NAME"],n=m(a.questionItems);f=g.filter(function(a){return!k(a,e)}).map(function(b){return l(d("MessengerAdsPartialAutomatedStrings").getAnswerSpec(b),!1,!n.has(b),a.onClick)})}var o=a.questionItems.find(function(a){return a.answerType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE||a.answerType==="PHONE"})!=null;g=[];a.showCallPreferenceQuestion&&g.push(l(d("MessengerAdsPartialAutomatedStrings").getAnswerSpec(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE),!0,!o,a.onClick,!1,[d("MessengerAdsPartialAutomatedQuestionStrings").getMultipleChoiceAnswer("Yes",d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.NEXT_QUESTION),d("MessengerAdsPartialAutomatedQuestionStrings").getMultipleChoiceAnswer("No",d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.DISQUALIFY_MESSAGE)]));var p=["PHONE","EMAIL"].filter(function(a){return!k(a,e)});g.push(p.map(function(b){return l(d("MessengerAdsPartialAutomatedStrings").getAnswerSpec(b),!0,b!=="PHONE"||!o,a.onClick)}));b.length!==0&&g.push(j.jsx(c("GeoMenuSubmenu.react"),{icon:j.jsx(c("Image.react"),{src:i("481941")}),label:h._("Address"),children:b},"Address"));f.length!==0&&g.push(j.jsx(c("GeoMenuSubmenu.react"),{icon:j.jsx(c("Image.react"),{src:i("496905")}),label:h._("User information"),children:f},"UserInformation"));p=["JOB_TITLE","COMPANY_NAME","GENDER","RELATIONSHIP_STATUS","MARITAL_STATUS","MILITARY_STATUS","WORK_EMAIL","STREET_ADDRESS"].filter(function(a){return!k(a,e)});g.push(p.map(function(b){switch(b){case"RELATIONSHIP_STATUS":case"MARITAL_STATUS":case"WORK_EMAIL":case"MILITARY_STATUS":case"STREET_ADDRESS":if(a.showNewQuestionTypes)return l(d("MessengerAdsPartialAutomatedStrings").getAnswerSpec(b),!1,!0,a.onClick);break;default:return l(d("MessengerAdsPartialAutomatedStrings").getAnswerSpec(b),!0,!0,a.onClick)}}));g.push(l(d("MessengerAdsPartialAutomatedStrings").getAnswerSpec(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CUSTOM,"text"),!0,!0,a.onClick));g.push(l(d("MessengerAdsPartialAutomatedStrings").getAnswerSpec(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE,"carousel"),!0,!0,a.onClick));return j.jsx(c("GeoDropdownMenu.react"),{icon:a.icon,label:a.label,children:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedQuestionsSectionBody.react",["fbt","ix","AbstractDraggableList.react","AdsRegulatedCategoryLeadGenerationNoticeCard.react","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedQuestionDraggableItem.react","MessengerAdsPartialAutomatedQuestionDropdown.react","MessengerAdsPartialAutomatedStepDataManager","adsAccountGK","adsAccountQE","curry","emptyFunction","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b,e=c("adsAccountGK")._(a.account,"1XP85qam9"),g=(b=c("adsAccountQE")._(a.account,"2kIYzLNRM:aGt9Hymp2Fn",{}))!=null?b:!1;function k(b,c){a.onAddQuestion(b.answerType,c,b.optionsFormat)}function l(b){a.setFocusedIndex(b)}function m(){a.setFocusedIndex(null)}function n(b,c){var d=a.questionItems.slice(),e=d.splice(b,1)[0];c=c==null?d.length:b>c?c:c-1;d.splice(c,0,e);a.onSetQuestions(d);e=a.focusedIndex;e!=null&&(b>e&&c<=e?l(e+1):b<e&&c>=e?l(e-1):b===e&&l(c))}function o(){if(!a.questionItems||a.questionItems.length==0)return null;var b=a.questionItems.map(function(a,b){return b}),e={},f=d("MessengerAdsPartialAutomatedFormValidation").getEndingQuestionIndex(a.questionItems);a.questionItems&&a.questionItems.forEach(function(b,d){e[d]={account:a.account,disableValidation:a.disableValidation,id:d,isEndingQuestion:f===d,isFocused:a.focusedIndex===d,isInitiallyCollapsed:!1,isMovable:a.isAdditionalQuestions||a.questionItems.length>1,isAdditionalQuestion:a.isAdditionalQuestions,isSkipToEnabled:a.isSkipToEnabled,pageID:a.pageID,placeholderClassName:"x1fgtraw x9f619 x199158v x1enjb0b x1c83p5e x1npaq5j x1tg63ek x1vetfo6 x1jjyp9w xiy2p4g",questionCount:a.questionItems==null?0:a.questionItems.length,questionIndex:d,questionItem:b,showError:a.showError,showPersonalization:a.showPersonalization,onBlur:m,onClick:c("curry")(l,d),onQuestionItemChange:a.onQuestionItemChange,onRemoveQuestion:a.onRemoveQuestion}});return j.jsx(c("AbstractDraggableList.react"),{itemIDs:b,itemsByID:e,itemsRenderer:c("MessengerAdsPartialAutomatedQuestionDraggableItem.react"),onRemove:c("emptyFunction"),onReorder:n})}o.displayName=o.name+" [from "+f.id+"]";function p(){return a.questionItems.length>=d("MessengerAdsPartialAutomatedStepDataManager").getMaxQuestionNumber()?null:j.jsx("div",{className:"x10l6tqk xwib8y2 x1y1aw1k xkhd6sd x4uap5 x1ey2m1c",children:j.jsx(c("MessengerAdsPartialAutomatedQuestionDropdown.react"),{icon:d("fbicon")._(i("483768"),16),isAdditionalQuestions:a.isAdditionalQuestions,label:h._("Add question"),leadGenSAFRConfig:a.leadGenSAFRConfig,questionItems:a.questionItems,showCallPreferenceQuestion:e,showNewQuestionTypes:g,onClick:k})})}p.displayName=p.name+" [from "+f.id+"]";return j.jsxs(j.Fragment,{children:[p(),o(),a.leadGenSAFRConfig!=null?j.jsx(d("AdsRegulatedCategoryLeadGenerationNoticeCard.react").AdsRegulatedCategoryLeadGenerationNoticeCard,{}):null]})}g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedAdditionalQuestionsSection.react",["fbt","AdsMessengerPartialAutomatedCreationTypes","GeoBaseText.react","GeoFlexbox.react","GeoGuidanceCard.react","GeoGuidanceCardContent.react","GeoGuidanceCardHeader.react","MessengerAdsPartialAutomatedConstants","MessengerAdsPartialAutomatedQuestionsSectionBody.react","MessengerAdsPartialAutomatedStrings","geoMargin","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState;function a(a){var b=k(0),e=b[0],f=b[1];b=k(!0);var g=b[0],l=b[1];b=i.jsx(c("GeoGuidanceCard.react"),{header:i.jsx(c("GeoGuidanceCardHeader.react"),{heading:d("MessengerAdsPartialAutomatedConstants").ADDITIONAL_QUESTIONS_CARD_HEADER,onClose:function(){return l(!1)}}),status:"active-feedback",xstyle:c("geoMargin").bottom8,children:i.jsx(c("GeoGuidanceCardContent.react"),{children:d("MessengerAdsPartialAutomatedConstants").ADDITIONAL_QUESTIONS_CARD_BODY})});j(function(){l(a.isDialogShown)},[a.isDialogShown]);function m(b){f(b),a.setDialogFocusedIndex(b)}return i.jsxs("div",{className:"x1l90r2v",id:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.ADDITIONAL_QUESTIONS,children:[i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[i.jsx(c("GeoBaseText.react"),{color:"value",display:"inline",size:"header3",weight:"bold",xstyle:c("geoMargin").end4,children:d("MessengerAdsPartialAutomatedStrings").getHeaderName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.ADDITIONAL_QUESTIONS)}),i.jsx(c("GeoBaseText.react"),{color:"placeholder",display:"inline",size:"header3",weight:"bold",children:h._("\u2022 Optional")})]}),i.jsxs("div",{className:"x1n2onr6 x1xmf6yo x1egpv2n",children:[g&&b,i.jsx(c("MessengerAdsPartialAutomatedQuestionsSectionBody.react"),{account:a.account,disableValidation:!1,focusedIndex:e,isAdditionalQuestions:!0,isSkipToEnabled:!0,leadGenSAFRConfig:a.leadGenSAFRConfig,pageID:a.pageID,questionItems:a.additionalQuestionItems,setFocusedIndex:m,showError:a.showError,showPersonalization:!0,onAddQuestion:a.onAddQuestion,onQuestionItemChange:a.onQuestionItemChange,onRemoveQuestion:a.onRemoveQuestion,onSetQuestions:a.onSetQuestions})]})]})}a.displayName=a.name+" [from "+f.id+"]";e=i.memo(a);g["default"]=e}),98);
__d("MessengerAdsPartialAutomatedAdditionalQuestionsSectionContainer.react",["AdsFluxHooks","AdsInterfacesLogger","AdsMessengerPACreationStateAdditionalQuestionItemsAction","AdsMessengerPartialAutomatedCreationSelectors","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","AdsUEditorHooks","MessengerAdsPartialAutomatedAdditionalQuestionsSection.react","MessengerAdsPartialAutomatedConstants","MessengerAdsPartialAutomatedQuestionStrings","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsMessengerPartialAutomatedCreationSelectors").AdsMessengerPartialAutomatedCreationDialogContainerSelector),e=b.state;b=i(function(a,b,f){var g=a?d("MessengerAdsPartialAutomatedQuestionStrings").getDefaultQuestionMessage(a,e.account).toString():"";e.additionalQuestionItems.length===0&&(g=d("MessengerAdsPartialAutomatedConstants").ADDITIONAL_QUESTIONS_FIRST_QUESTION_PREFIX.toString()+" "+g);c("AdsMessengerPACreationStateAdditionalQuestionItemsAction").dispatch({additionalQuestionItems:e.additionalQuestionItems.concat({fieldID:"",questionMessage:g.trim(),answerType:a||null,answerValidationEnabled:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedReplyValidationType.includes(a),answers:b||null,optionalQuestionEnabled:!0,optionsFormat:f||"text"})},{line:"68",module:"MessengerAdsPartialAutomatedAdditionalQuestionsSectionContainer.react.js"});c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_ADDITIONAL_QUESTION_ADD,data:{message:JSON.stringify(a),objective:e.objective}})},[e.additionalQuestionItems,e.objective]);var f=i(function(a){c("AdsMessengerPACreationStateAdditionalQuestionItemsAction").dispatch({additionalQuestionItems:e.additionalQuestionItems.filter(function(b,c){return c!==a})},{line:"97",module:"MessengerAdsPartialAutomatedAdditionalQuestionsSectionContainer.react.js"}),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_ADDITIONAL_QUESTION_REMOVE,data:{message:JSON.stringify(e.additionalQuestionItems),objective:e.objective}})},[e.additionalQuestionItems,e.objective]),g=function(a){c("AdsMessengerPACreationStateAdditionalQuestionItemsAction").dispatch({additionalQuestionItems:a},{line:"116",module:"MessengerAdsPartialAutomatedAdditionalQuestionsSectionContainer.react.js"}),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_ADDITIONAL_QUESTION_REORDER,data:{message:JSON.stringify(e.additionalQuestionItems),objective:e.objective}})},j=i(function(a,b){var f=e.additionalQuestionItems.slice();f[b]=a;c("AdsMessengerPACreationStateAdditionalQuestionItemsAction").dispatch({additionalQuestionItems:f},{line:"132",module:"MessengerAdsPartialAutomatedAdditionalQuestionsSectionContainer.react.js"});c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_ADDITIONAL_QUESTION_EDIT,data:{message:JSON.stringify(a),objective:e.objective}})},[e.additionalQuestionItems,e.objective]),k=a.setDialogFocusedIndex,l=i(function(a){a!=null&&k(a+e.questionItems.length)},[k,e.questionItems]);return h.jsx(c("MessengerAdsPartialAutomatedAdditionalQuestionsSection.react"),{account:e.account,additionalQuestionItems:e.additionalQuestionItems,isDialogShown:a.isDialogShown,leadGenSAFRConfig:e.leadGenSAFRConfig,pageID:e.pageID,setDialogFocusedIndex:l,showError:a.showError,onAddQuestion:b,onQuestionItemChange:j,onRemoveQuestion:f,onSetQuestions:g})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedBlockSendAPI.react",["fbt","AdsInterfacesLogger","AdsMessengerPartialAutomatedLoggerEvents","GeoBaseText.react","GeoSwitch.react","GeoTooltip.react","geoMargin","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=function(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CHANGE_BLOCK_SEND_API,data:{message:JSON.stringify(!a.isBlockSendAPI)}}),a.setBlockSendAPI(!a.isBlockSendAPI)},e=h._("Block API messages while your automated questions are in progress.");return i.jsx("div",{className:"xkhd6sd x4uap5 xwib8y2 x1y1aw1k",children:i.jsxs("div",{className:"x78zum5",style:{display:"flex",alignItems:"center"},children:[i.jsx(c("GeoSwitch.react"),{isDisabled:!1,isLabelHidden:!0,label:"Block API Send",value:a.isBlockSendAPI,onChange:b}),i.jsx("span",{className:"xsgj6o6",children:i.jsx(c("GeoBaseText.react"),{color:"value",display:"inline",size:"header3",weight:"bold",xstyle:c("geoMargin").start4,children:h._("Block send API")})}),i.jsx(c("GeoTooltip.react"),{content:e,position:"right"})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedFieldIDAnswers.react",["GeoTextInput.react","MessengerAdsPartialAutomatedStrings","curryRight","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){function b(b,c,d,e){c=babelHelpers["extends"]({},c);if(!c.answers)return;c.answers[d].fieldID=b;a.onQuestionItemChange(c,e)}return a.questionItem.answers?a.questionItem.answers.map(function(e,f){return h.jsx(c("GeoTextInput.react"),{"data-testid":void 0,label:"",placeholder:d("MessengerAdsPartialAutomatedStrings").getPlaceholderFieldID(e.value),value:e.fieldID,onChange:c("curryRight")(b,a.questionIndex,f,a.questionItem)},f)}):null}g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedFieldIDQuestion.react",["AdsMessengerPartialAutomatedCreationTypes","GeoText.react","GeoTextInput.react","MessengerAdsPartialAutomatedStrings","curryRight","geoMargin","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){function b(b,c,d){c=babelHelpers["extends"]({},c,{fieldID:b});a.onQuestionItemChange(c,d)}var e=a.questionItem.answerType&&a.questionItem.answerType.length>0?d("MessengerAdsPartialAutomatedStrings").getAnswerTypeName(a.questionItem.answerType)[0]:"",f=a.questionItem.answerType?d("MessengerAdsPartialAutomatedStrings").getPlaceholderFieldID(a.questionItem.answerType):"",g=a.questionItem.answerType==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CUSTOM||a.questionItem.answerType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE;g=g?d("MessengerAdsPartialAutomatedStrings").getPlaceholderFieldID(a.questionItem.questionMessage):f;return h.jsxs(h.Fragment,{children:[h.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").bottom4,children:e}),h.jsx(c("GeoTextInput.react"),{"data-testid":void 0,isLabelHidden:!0,label:e,placeholder:g,value:a.questionItem.fieldID,onChange:c("curryRight")(b,a.questionIndex,a.questionItem)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedFieldIDSection.react",["AdsInterfacesLogger","AdsMessengerPACreationStateAdditionalQuestionItemsAction","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","GeoBaseText.react","GeoSwitch.react","GeoTooltip.react","MessengerAdsPartialAutomatedFieldIDAnswers.react","MessengerAdsPartialAutomatedFieldIDQuestion.react","MessengerAdsPartialAutomatedStrings","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback,j={leadGenSectionContentSwitch:{alignItems:"x6s0dn4",display:"x78zum5"},paddingVertical8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2"}};function a(a){function b(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CLICK_EDIT_FIELD_ID,data:{message:JSON.stringify(!a.isFieldIDToggleOn)}}),a.setFieldIDToggleOn(!a.isFieldIDToggleOn)}var e=d("MessengerAdsPartialAutomatedStrings").getSectionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.FIELD_IDS),f=i(function(b,d){var e=a.additionalQuestionItems.slice();e[d]=b;c("AdsMessengerPACreationStateAdditionalQuestionItemsAction").dispatch({additionalQuestionItems:e},{line:"73",module:"MessengerAdsPartialAutomatedFieldIDSection.react.js"})},[a.additionalQuestionItems]);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:c("stylex")(j.paddingVertical8),children:h.jsxs("div",{className:c("stylex")(j.leadGenSectionContentSwitch),children:[h.jsx(c("GeoSwitch.react"),{isLabelHidden:!0,label:"Save Template",value:a.isFieldIDToggleOn,onChange:b}),h.jsx("span",{className:c("stylex")(c("geoMargin").start4),children:h.jsx(c("GeoBaseText.react"),{color:"value",display:"inline",size:"header3",weight:"bold",xstyle:c("geoMargin").start4,children:d("MessengerAdsPartialAutomatedStrings").getHeaderName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.FIELD_IDS)})}),h.jsx(c("GeoTooltip.react"),{content:e,position:"right"})]})}),a.isFieldIDToggleOn&&[].concat(k(0,a.questionItems,a.onQuestionItemChange),k(a.questionItems.length,a.additionalQuestionItems,f))]})}function k(a,b,d){return b.map(function(b,e){return h.jsxs("div",{className:c("stylex")(j.paddingVertical8),children:[h.jsx(c("MessengerAdsPartialAutomatedFieldIDQuestion.react"),{questionIndex:e,questionItem:b,onQuestionItemChange:d}),h.jsx(c("MessengerAdsPartialAutomatedFieldIDAnswers.react"),{questionIndex:e,questionItem:b,onQuestionItemChange:d})]},a+e)})}g["default"]=a}),98);
__d("MessengerAdsLeadGenHOPAppSelectorStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({SHOW_APP_SELECTOR:"show_app_selector",SHOW_HOP_SETTING_WARNING:"show_hop_setting_warning",SHOW_NOTHING:"show_nothing",SHOW_MISSING_ROLE_PERMISSION:"show_missing_role_permission",SHOW_MISSING_APP_HOP_SETUP:"show_missing_app_hop_setup"});f["default"]=a}),66);
__d("MessengerAdsPartialAutomatedHOP.react",["fbt","AdsLearnMore.react","FlexLayout.react","GeoBaseText.react","GeoCheckboxInput.react","GeoSelector.react","GeoSelectorItem.react","GeoSwitch.react","GeoText.react","GeoTooltip.react","MessengerAdsLeadGenHOPAppSelectorStatus","adsAccountGK","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={toggleSection:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingEnd:"x4uap5",paddingStart:"xkhd6sd",display:"x78zum5",alignItems:"x6s0dn4"},hopInnerContent:{paddingBottom:"xwib8y2"},hopSummary:{paddingBottom:"xwib8y2",display:"x78zum5",alignItems:"x6s0dn4"}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$5=function(a){var b=babelHelpers["extends"]({},c.props.hopAppSetting);b.appID=a;c.props.onHOPAppSettingChange(b)},c.$6=function(a){var b=babelHelpers["extends"]({},c.props.hopAppSetting);b.summary=a;c.props.onHOPAppSettingChange(b)},c.$4=function(a){var b=babelHelpers["extends"]({},c.props.hopAppSetting);b.toggle=a;if(b.appID==null){a=c.props.hopAppData.appList.values().next().value;a!=null&&(b.appID=a.appID)}c.props.onHOPAppSettingChange(b)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){var a=this.props.hopAppData.appSelectorStatus!==c("MessengerAdsLeadGenHOPAppSelectorStatus").SHOW_NOTHING;return a?i.jsxs(i.Fragment,{children:[this.$1(),this.$2(),this.$3()]}):null};d.$1=function(){var a=h._("To connect an app to this automated chat, set up at least one app under Advanced messaging in your Page's settings."),b=h._("Only a Page admin or editor can connect an app to automated chat."),d=this.props.hopAppData.appSelectorStatus!==c("MessengerAdsLeadGenHOPAppSelectorStatus").SHOW_APP_SELECTOR;b=this.props.hopAppData.appSelectorStatus===c("MessengerAdsLeadGenHOPAppSelectorStatus").SHOW_MISSING_ROLE_PERMISSION?b:this.props.hopAppData.appSelectorStatus===c("MessengerAdsLeadGenHOPAppSelectorStatus").SHOW_MISSING_APP_HOP_SETUP?a:null;a=h._("Connect an app");var e=h._("Choose an app to manage the conversation after people complete your automated chat. {=Learn more}",[h._param("=Learn more",i.jsx(c("AdsLearnMore.react"),{cmsID:"2537732283158198"}))]);return i.jsxs("div",{className:c("stylex")(j.toggleSection),children:[i.jsx(c("GeoSwitch.react"),{isDisabled:d,isLabelHidden:!0,label:"Connect an App",value:this.props.hopAppSetting.toggle,onChange:this.$4}),i.jsx("span",{className:c("stylex")(c("geoMargin").start4),children:i.jsx(c("GeoBaseText.react"),{color:"value",display:"inline",isDisabled:d,size:"header3",weight:"bold",xstyle:c("geoMargin").start4,children:a})}),i.jsx(c("GeoTooltip.react"),{content:(d=b)!=null?d:[e,"\n",h._("Apps work with Messenger to provide automated messaging or connect people with live agents. The apps shown were set up in your Page's settings under Advanced messaging.")],position:"right"})]})};d.$2=function(){var a=this.props.hopAppData.appList,b=[];a.forEach(function(a){a.appID!=null&&a.appName!=null&&b.push(i.jsx(c("GeoSelectorItem.react"),{description:a.appID,label:a.appName,value:a.appID},a.appID))});return i.jsx(i.Fragment,{children:this.props.hopAppSetting.toggle&&i.jsxs("div",{className:c("stylex")(j.hopInnerContent),children:[i.jsx(c("FlexLayout.react"),{align:"center",direction:"horizontal",children:i.jsx(c("GeoText.react"),{xstyle:c("geoMargin").bottom4,children:h._("App")})}),i.jsx(c("GeoSelector.react"),{isLabelHidden:!0,label:"Hop App Selector",value:this.props.hopAppSetting.appID,onChange:this.$5,children:b})]})})};d.$3=function(){var a,b=c("adsAccountGK")._(this.props.account,"4G6xdsM2B");if(!b)return i.jsx(i.Fragment,{});b=h._("Send a summary of the lead's answers to your automated questions to the connected app. It can only be seen on that app and will not be seen by leads.");return i.jsx(i.Fragment,{children:this.props.hopAppSetting.toggle&&i.jsxs("div",{className:c("stylex")(j.hopSummary),children:[i.jsx(c("GeoCheckboxInput.react"),{isDisabled:!1,label:h._("Send lead's answers to app"),value:(a=this.props.hopAppSetting.summary)!=null?a:!0,onChange:this.$6}),i.jsx(c("GeoTooltip.react"),{content:b,position:"right"})]})})};return b}(i.Component);g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedInvalidation.react",["fbt","ix","AdsInterfacesLogger","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","GeoBaseText.react","GeoFlexbox.react","GeoSwitch.react","GeoText.react","GeoTextInput.react","GeoTooltip.react","Image.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={leadGenSectionContent:{paddingEnd:"x4uap5",paddingStart:"xkhd6sd",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2"},optionEditorAreaError:{backgroundColor:"x2izyaf",borderTop:"x1ju2mve",borderEnd:"xraqonv",borderBottom:"x12hbt4u",borderStart:"x1b791bb",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb"}};function a(a){var b=a.questionItems.some(function(a){return a.answerType==="PHONE"&&a.answerValidationEnabled}),e=a.questionItems.some(function(a){return a.answerType==="EMAIL"&&a.answerValidationEnabled}),g=a.questionItems.some(function(a){return a.answerType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE&&a.answerValidationEnabled}),l=a.questionItems.some(function(a){return a.answerType==="WORK_EMAIL"&&a.answerValidationEnabled}),m=b||e||g||l;function n(){var b=h._("Customize error messages"),e=h._("Customize the message users receive if they provide an invalid answer.");return j.jsx("div",{className:c("stylex")(k.leadGenSectionContent),children:j.jsxs(c("GeoFlexbox.react"),{alignItems:"center",style:{paddingBottom:4},children:[j.jsx(c("GeoSwitch.react"),{isDisabled:!1,isLabelHidden:!0,label:b,value:a.customInvalidTextFields.isCustomOn,onChange:function(b){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CLICK_CUSTOMIZE_ERROR_MESSAGES,data:{message:JSON.stringify(b)}}),a.onCustomInvalidTextFieldsChange({isCustomOn:b,phoneText:a.customInvalidTextFields.phoneText,emailText:a.customInvalidTextFields.emailText,multipleChoiceText:a.customInvalidTextFields.multipleChoiceText,workEmailText:a.customInvalidTextFields.workEmailText})}}),j.jsx("span",{className:c("stylex")(c("geoMargin").start4),children:j.jsx(c("GeoBaseText.react"),{color:"value",display:"inline",size:"header3",weight:"bold",xstyle:c("geoMargin").start4,children:b})}),j.jsx(c("GeoTooltip.react"),{content:e,position:"right"}),a.showError&&a.sectionValidationErrors.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.VALIDATION_MESSAGE)&&j.jsx(c("Image.react"),{src:i("480268"),style:{marginLeft:4}})]})})}n.displayName=n.name+" [from "+f.id+"]";function o(){return j.jsxs(j.Fragment,{children:[b&&j.jsxs("div",{className:c("stylex")(k.leadGenSectionContent),children:[j.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").bottom4,children:h._("Error message - Invalid phone number")}),j.jsx("div",{className:c("stylex")(a.showError&&a.customInvalidTextFields.phoneText.trim()==""&&k.optionEditorAreaError),children:j.jsx(c("GeoTextInput.react"),{isLabelHidden:!0,label:"Phone invalid text input field",value:a.customInvalidTextFields.phoneText,onChange:function(b){a.onCustomInvalidTextFieldsChange({isCustomOn:a.customInvalidTextFields.isCustomOn,phoneText:b,emailText:a.customInvalidTextFields.emailText,multipleChoiceText:a.customInvalidTextFields.multipleChoiceText,workEmailText:a.customInvalidTextFields.workEmailText})}})})]}),e&&j.jsxs("div",{className:c("stylex")(k.leadGenSectionContent),children:[j.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").bottom4,children:h._("Error message - Invalid email")}),j.jsx("div",{className:c("stylex")(a.showError&&a.customInvalidTextFields.emailText.trim()==""&&k.optionEditorAreaError),children:j.jsx(c("GeoTextInput.react"),{isLabelHidden:!0,label:"Email invalid text input field",value:a.customInvalidTextFields.emailText,onChange:function(b){a.onCustomInvalidTextFieldsChange({isCustomOn:a.customInvalidTextFields.isCustomOn,phoneText:a.customInvalidTextFields.phoneText,emailText:b,multipleChoiceText:a.customInvalidTextFields.multipleChoiceText,workEmailText:a.customInvalidTextFields.workEmailText})}})})]}),l&&j.jsxs("div",{className:c("stylex")(k.leadGenSectionContent),children:[j.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").bottom4,children:h._("Error message - Invalid work email")}),j.jsx("div",{className:c("stylex")(a.showError&&a.customInvalidTextFields.workEmailText.trim()==""&&k.optionEditorAreaError),children:j.jsx(c("GeoTextInput.react"),{isLabelHidden:!0,label:"Work email invalid text input field",value:a.customInvalidTextFields.workEmailText,onChange:function(b){a.onCustomInvalidTextFieldsChange({isCustomOn:a.customInvalidTextFields.isCustomOn,phoneText:a.customInvalidTextFields.phoneText,emailText:a.customInvalidTextFields.emailText,multipleChoiceText:a.customInvalidTextFields.multipleChoiceText,workEmailText:b})}})})]}),g&&j.jsxs("div",{className:c("stylex")(k.leadGenSectionContent),children:[j.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").bottom4,children:h._("Error message - Other questions")}),j.jsx("div",{className:c("stylex")(a.showError&&a.customInvalidTextFields.multipleChoiceText.trim()==""&&k.optionEditorAreaError),children:j.jsx(c("GeoTextInput.react"),{"data-testid":void 0,isLabelHidden:!0,label:"Multiple choice question invalid text input field",value:a.customInvalidTextFields.multipleChoiceText,onChange:function(b){a.onCustomInvalidTextFieldsChange({isCustomOn:a.customInvalidTextFields.isCustomOn,phoneText:a.customInvalidTextFields.phoneText,emailText:a.customInvalidTextFields.emailText,multipleChoiceText:b,workEmailText:a.customInvalidTextFields.workEmailText})}})})]})]})}o.displayName=o.name+" [from "+f.id+"]";return j.jsx(j.Fragment,{children:m&&j.jsxs(j.Fragment,{children:[n(),a.customInvalidTextFields.isCustomOn&&o()]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedReminderMessage.react",["ix","AdsMessengerPartialAutomatedCreationTypes","GeoBaseText.react","GeoTooltip.react","Image.react","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedStrings","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","curry","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function a(a){var b=j(!1),e=b[0];b=b[1];var f=j(!1),g=f[0];f=f[1];var k={composerKey:"reminderMessageCTMLeadGen",initialDisabled:!1,initialReply:a.reminderText||"",isAdsInterfaceSource:!0,pageID:a.pageID||"",placeholderText:d("MessengerAdsPartialAutomatedStrings").getSectionPlaceholder(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.REMINDER)},l=d("MessengerAdsPartialAutomatedStrings").getSectionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.REMINDER),m=d("MessengerAdsPartialAutomatedFormValidation").getRequiredTextFieldErrorMessage(a.reminderText,a.showError);return i.jsxs("div",{className:"xwxc41k",id:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.REMINDER,children:[i.jsx("div",{className:"xsag5q8",children:i.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[i.jsx(c("GeoBaseText.react"),{color:"value",display:"inline",size:"header3",weight:"bold",children:d("MessengerAdsPartialAutomatedStrings").getHeaderName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.REMINDER)}),i.jsx(c("GeoTooltip.react"),{content:l,heading:"",position:"right"}),a.showError&&a.sectionValidationErrors.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.REMINDER)&&i.jsx(c("Image.react"),{src:h("480268"),style:{marginLeft:4}})]})}),i.jsxs("div",{className:c("stylex")(m==null?{"background-color-1":"x1c5tqo3","border-top-0.3":"xgqjv89","border-end-0.3":"x3nkqmp","border-bottom-0.3":"x45hy6c","border-start-0.3":"x18j5cpe","border-top-start-radius-1":"x1lq5wgf","border-top-end-radius-1":"xgqcy7u","border-bottom-end-radius-1":"x30kzoy","border-bottom-start-radius-1":"x9jhf4c","margin-top-1":"x1xmf6yo"}:{"background-color-1":"x1c5tqo3","border-top-0.3":"x1ju2mve","border-end-0.3":"xraqonv","border-bottom-0.3":"x12hbt4u","border-start-0.3":"x1b791bb","border-top-start-radius-1":"x1lq5wgf","border-top-end-radius-1":"xgqcy7u","border-bottom-end-radius-1":"x30kzoy","border-bottom-start-radius-1":"x9jhf4c","margin-top-1":"x1xmf6yo"},{"margin-top-1":"xdj266r","position-1":"x1n2onr6"}),onBlur:c("curry")(b,!1),onFocus:c("curry")(b,!0),onMouseEnter:c("curry")(f,!0),onMouseLeave:c("curry")(f,!1),children:[i.jsx(c("PagesReplyComposerEditorContainer.react"),{config:k,isCTMLeadGen:!0,isFocused:e,isHovered:g,isSideToolbar:!0,welcomeString:a.reminderText,onReplyChange:a.onReminderTextChange}),i.jsx(c("PagesReplyComposerToolbarContainer.react"),{config:k,isFocused:e,isHovered:g,isSideToolbar:!0,xstyle:"xurb0ha xwib8y2 x1sxyh0 x1y1aw1k"})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedStopMessage.react",["ix","AdsMessengerPartialAutomatedCreationTypes","GeoBaseText.react","GeoTooltip.react","Image.react","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedStrings","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","curry","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function a(a){var b=j(!1),e=b[0];b=b[1];var f=j(!1),g=f[0];f=f[1];var k={composerKey:"stopQuestionMessageCTMLeadGen",initialDisabled:!1,initialReply:a.stopQuestionMessage||"",isAdsInterfaceSource:!0,pageID:a.pageID||"",placeholderText:d("MessengerAdsPartialAutomatedStrings").getSectionPlaceholder(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.STOP_QUESTION_MESSAGE)},l=d("MessengerAdsPartialAutomatedStrings").getSectionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.STOP_QUESTION_MESSAGE),m=d("MessengerAdsPartialAutomatedFormValidation").getRequiredTextFieldErrorMessage(a.stopQuestionMessage,a.showError);return i.jsxs("div",{className:"xwxc41k",id:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.STOP_QUESTION_MESSAGE,children:[i.jsx("div",{className:"xsag5q8",children:i.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[i.jsx(c("GeoBaseText.react"),{color:"value",display:"inline",size:"header3",weight:"bold",children:d("MessengerAdsPartialAutomatedStrings").getHeaderName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.STOP_QUESTION_MESSAGE)}),i.jsx(c("GeoTooltip.react"),{content:l,heading:"",position:"right"}),a.showError&&a.sectionValidationErrors.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.STOP_QUESTION_MESSAGE)&&i.jsx(c("Image.react"),{src:h("480268"),style:{marginLeft:4}})]})}),i.jsxs("div",{className:c("stylex")(m==null?{"background-color-1":"x1c5tqo3","border-top-0.3":"xgqjv89","border-end-0.3":"x3nkqmp","border-bottom-0.3":"x45hy6c","border-start-0.3":"x18j5cpe","border-top-start-radius-1":"x1lq5wgf","border-top-end-radius-1":"xgqcy7u","border-bottom-end-radius-1":"x30kzoy","border-bottom-start-radius-1":"x9jhf4c","margin-top-1":"x1xmf6yo"}:{},m!=null?{"background-color-1":"x1c5tqo3","border-top-0.3":"x1ju2mve","border-end-0.3":"xraqonv","border-bottom-0.3":"x12hbt4u","border-start-0.3":"x1b791bb","border-top-start-radius-1":"x1lq5wgf","border-top-end-radius-1":"xgqcy7u","border-bottom-end-radius-1":"x30kzoy","border-bottom-start-radius-1":"x9jhf4c","margin-top-1":"x1xmf6yo"}:null,{"margin-top-1":"xdj266r","position-1":"x1n2onr6"}),onBlur:c("curry")(b,!1),onFocus:c("curry")(b,!0),onMouseEnter:c("curry")(f,!0),onMouseLeave:c("curry")(f,!1),children:[i.jsx(c("PagesReplyComposerEditorContainer.react"),{config:k,isCTMLeadGen:!0,isFocused:e,isHovered:g,isSideToolbar:!0,welcomeString:a.stopQuestionMessage,onReplyChange:a.onStopQuestionMessageChange}),i.jsx(c("PagesReplyComposerToolbarContainer.react"),{config:k,isFocused:e,isHovered:g,isSideToolbar:!0,xstyle:"xurb0ha xwib8y2 x1sxyh0 x1y1aw1k"})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedTemplateName.react",["errorCode","errorDesc","fbt","ix","AdsError","AdsInterfacesLogger","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","GeoBaseText.react","GeoSwitch.react","GeoText.react","GeoTextInput.react","GeoTooltip.react","Image.react","MessengerAdsPartialAutomatedStrings","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=d("react"),m=80,n={leadGenQuestionItemTitleIcon:{alignItems:"x6s0dn4",display:"x78zum5"},leadGenSection:{marginTop:"xn0ockd",marginBottom:"x1hq5gj4"},leadGenSectionContentSwitch:{display:"x78zum5"},optionEditorAreaError:{backgroundColor:"x34a59n",borderTop:"x1ju2mve",borderEnd:"xraqonv",borderBottom:"x12hbt4u",borderStart:"x1b791bb",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb"}};function a(a){function b(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_TEMPLATE_SAVE}),a.setTemplateVisibility(!a.isTemplateVisible)}function e(b){if(b.length>m)return;c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_TEMPLATE_NAME});a.setTemplateName(b)}var f=a.templateName.trim()?null:new(c("AdsError"))(1815895,i._(function(a,b){return a._("Please enter a template name")},{}),{level:c("AdsError").Level.WARN}),g=j._("Template name"),h=d("MessengerAdsPartialAutomatedStrings").getSectionPlaceholder(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.TEMPLATE_NAME),o=d("MessengerAdsPartialAutomatedStrings").getSectionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.TEMPLATE_NAME);f=a.showError?f&&f.message:null;return l.jsxs("div",{className:c("stylex")(n.leadGenSection),id:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.TEMPLATE_NAME,children:[l.jsx("div",{className:c("stylex")(c("geoMargin").bottom12),children:l.jsxs("div",{className:c("stylex")(n.leadGenQuestionItemTitleIcon),children:[l.jsxs("div",{className:c("stylex")(n.leadGenSectionContentSwitch),children:[l.jsx(c("GeoSwitch.react"),{isDisabled:!a.isCreateNew,isLabelHidden:!0,label:"Save Template",value:a.isTemplateVisible,onChange:b}),l.jsx("span",{className:c("stylex")(c("geoMargin").start4),children:l.jsx(c("GeoBaseText.react"),{color:"value",display:"inline",size:"header3",weight:"bold",xstyle:c("geoMargin").start4,children:j._("Save template")})})]}),l.jsx(c("GeoTooltip.react"),{content:o,heading:"",position:"right"}),a.showError&&a.sectionValidationErrors.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.TEMPLATE_NAME)&&l.jsx(c("Image.react"),{src:k("480268"),style:{marginLeft:4}})]})}),a.isTemplateVisible&&l.jsxs(l.Fragment,{children:[l.jsx(c("GeoText.react"),{display:"block",xstyle:c("geoMargin").bottom4,children:g}),l.jsx("div",{className:c("stylex")(f!=null&&n.optionEditorAreaError),children:l.jsx(c("GeoTextInput.react"),{isLabelHidden:!0,label:g,placeholder:h,value:a.templateName,onChange:e})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedTrackingParameters.react",["fbt","ix","AdsInterfacesLogger","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","GeoBaseText.react","GeoButton.react","GeoCloseButton.react","GeoFlexbox.react","GeoText.react","GeoTextInput.react","GeoTooltip.react","Image.react","MessengerAdsPartialAutomatedFormValidation","isStringNullOrEmpty","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useState,m={addOptionButton:{backgroundColor:"x2izyaf",borderTop:"x1j5ihxw",borderEnd:"xipgal8",borderBottom:"x1bjq843",borderStart:"x1vr4idg",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginBottom:"x1hq5gj4",marginTop:"x14vqqas",width:"xa12whe"},nameLabel:{marginEnd:"x1krglpp",marginTop:"x1gslohp"},valueLabel:{marginStart:"x1lpp0xw",marginTop:"x1gslohp"},hidden:{marginTop:"x1xmf6yo",visibility:"xlshs6z"},visible:{marginTop:"x1xmf6yo",visibility:"xnpuxes"},inputAreaError:{backgroundColor:"x34a59n",borderTop:"x1ju2mve",borderEnd:"xraqonv",borderBottom:"x12hbt4u",borderStart:"x1b791bb",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",marginEnd:"x1emribx",marginTop:"x1xmf6yo"},inputArea:{marginEnd:"x1emribx",marginTop:"x1xmf6yo"}};function a(a){var b=h._("You can include tracking parameters to help you identify where your leads come from. These fields won't appear in the form users see when they submit their info, but you'll be able to see it when you access your leads via API, download, or configured CRM.");return j.jsxs(j.Fragment,{children:[j.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[j.jsx(c("GeoBaseText.react"),{color:"value",display:"inline",size:"header3",weight:"bold",children:h._("Tracking parameters")}),j.jsx(c("GeoTooltip.react"),{content:b,position:"right"}),a.showError&&a.sectionValidationErrors.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.TRACKING_PARAMETERS)&&j.jsx(c("Image.react"),{src:i("480268"),style:{marginLeft:4}})]}),a.trackingParameters.map(function(b,c){return j.jsx(n,{index:c,setTrackingParameters:a.setTrackingParameters,showError:a.showError,trackingParam:b,trackingParameters:a.trackingParameters},"tracking_parameter_"+c.toString())}),j.jsx(o,{setTrackingParameters:a.setTrackingParameters,trackingParameters:a.trackingParameters})]})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.index,d=a.showError,e=a.trackingParam,f=a.trackingParameters,g=a.setTrackingParameters;a=l(!1);var i=a[0],n=a[1];a=h._("e.g. Language");var o=h._("e.g. English"),q=k(function(a){var c=f.update(b,function(b){return{key:a,value:b.value}});g(c)},[b,f,g]),r=k(function(a){var c=f.update(b,function(b){return{key:b.key,value:a}});g(c)},[b,f,g]);return j.jsxs(j.Fragment,{children:[b===0&&j.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[j.jsx(c("GeoText.react"),{display:"block",xstyle:m.nameLabel,children:h._("Parameter name")}),j.jsx(c("GeoText.react"),{display:"block",xstyle:m.valueLabel,children:h._("Parameter value")})]}),j.jsx("div",{onMouseLeave:function(){return n(!1)},onMouseOver:function(){return n(!0)},children:j.jsxs(c("GeoFlexbox.react"),{alignItems:"start",children:[j.jsx("div",{className:c("stylex")(d&&c("isStringNullOrEmpty")(e.key.trim())?m.inputAreaError:m.inputArea),children:j.jsx(c("GeoTextInput.react"),{isLabelHidden:!0,label:a,placeholder:a,value:e.key,onChange:q})}),j.jsx("div",{className:c("stylex")(d&&c("isStringNullOrEmpty")(e.value.trim())?m.inputAreaError:m.inputArea),children:j.jsx(c("GeoTextInput.react"),{isLabelHidden:!0,label:o,placeholder:o,value:e.value,onChange:r})}),j.jsx(p,{index:b,isHovered:i,setTrackingParameters:g,trackingParameters:f})]})})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.trackingParameters,e=a.setTrackingParameters;a=k(function(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_ADD_TRACKING_PARAMETER,data:{message:JSON.stringify(b.size)}}),e(b.push({key:"",value:""}))},[b,e]);var f=d("MessengerAdsPartialAutomatedFormValidation").isEmptyTrackingParameters(b);return j.jsx("div",{className:c("stylex")(m.addOptionButton),children:j.jsx(c("GeoButton.react"),{grow:"fill",isDisabled:f,label:h._("+ Add parameter"),variant:"flat",onClick:a})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.index,e=a.isHovered,f=a.trackingParameters,g=a.setTrackingParameters;a=k(function(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_REMOVE_TRACKING_PARAMETER,data:{message:JSON.stringify(f.size)}}),g(f.filter(function(a,c){return c!==b}))},[b,f,g]);return j.jsx("div",{className:e?c("stylex")(m.visible):c("stylex")(m.hidden),children:j.jsx(c("GeoCloseButton.react"),{label:h._("Remove"),onClick:a})})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedAdvancedTab.react",["fbt","GeoBaseText.react","GeoSection.react","MessengerAdsPartialAutomatedBlockSendAPI.react","MessengerAdsPartialAutomatedFieldIDSection.react","MessengerAdsPartialAutomatedHOP.react","MessengerAdsPartialAutomatedInvalidation.react","MessengerAdsPartialAutomatedReminderMessage.react","MessengerAdsPartialAutomatedStopMessage.react","MessengerAdsPartialAutomatedTemplateName.react","MessengerAdsPartialAutomatedTrackingParameters.react","geoMargin","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsxs(c("GeoSection.react"),{children:[i.jsx(c("MessengerAdsPartialAutomatedTemplateName.react"),{isCreateNew:a.isCreateNew,isTemplateVisible:a.isTemplateVisible,sectionValidationErrors:a.sectionValidationErrors,setTemplateName:a.setTemplateName,setTemplateVisibility:a.setTemplateVisibility,showError:a.showError,templateName:a.templateName}),i.jsx(c("MessengerAdsPartialAutomatedStopMessage.react"),{pageID:a.pageID,sectionValidationErrors:a.sectionValidationErrors,showError:a.showError,stopQuestionMessage:a.stopQuestionMessage,onStopQuestionMessageChange:a.onStopQuestionMessageChange}),i.jsx(c("MessengerAdsPartialAutomatedReminderMessage.react"),{pageID:a.pageID,reminderText:a.reminderText,sectionValidationErrors:a.sectionValidationErrors,showError:a.showError,onReminderTextChange:a.onReminderTextChange}),i.jsx(c("MessengerAdsPartialAutomatedTrackingParameters.react"),{sectionValidationErrors:a.sectionValidationErrors,setTrackingParameters:a.setTrackingParameters,showError:a.showError,trackingParameters:a.trackingParameters}),i.jsx(c("GeoBaseText.react"),{color:"value",display:"inline",size:"header3",weight:"bold",xstyle:c("geoMargin").bottom4,children:h._("Other settings")}),i.jsx(c("MessengerAdsPartialAutomatedBlockSendAPI.react"),{isBlockSendAPI:a.isBlockSendAPI,setBlockSendAPI:a.setBlockSendAPI}),a.hopAppData!=null&&a.hopAppData.hasValue()&&i.jsx(c("MessengerAdsPartialAutomatedHOP.react"),{account:a.account,hopAppData:a.hopAppData.getValueEnforcing(),hopAppSetting:a.hopAppSetting,onHOPAppSettingChange:a.onHopAppSettingChange}),i.jsx(c("MessengerAdsPartialAutomatedFieldIDSection.react"),{additionalQuestionItems:a.additionalQuestionItems,isFieldIDToggleOn:a.isFieldIDToggleOn,questionItems:a.questionItems,setFieldIDToggleOn:a.setFieldIDToggleOn,onQuestionItemChange:a.onQuestionItemChange}),a.customInvalidTextFields&&i.jsx(c("MessengerAdsPartialAutomatedInvalidation.react"),{customInvalidTextFields:a.customInvalidTextFields,questionItems:a.questionItems,sectionValidationErrors:a.sectionValidationErrors,showError:a.showError,onCustomInvalidTextFieldsChange:a.onCustomInvalidTextFieldsChange})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedAdvancedTabContainer.react",["AdsFluxHooks","AdsInterfacesLogger","AdsMessengerPACreationStateCustomInvalidTextFieldsAction","AdsMessengerPACreationStateHopAppSettingAction","AdsMessengerPACreationStateQuestionItemsAction","AdsMessengerPACreationStateReminderTextAction","AdsMessengerPACreationStateStopQuestionMessageAction","AdsMessengerPartialAutomatedCreationSelectors","AdsMessengerPartialAutomatedLoggerEvents","AdsUEditorHooks","MessengerAdsPartialAutomatedAdvancedTab.react","areEqual","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsMessengerPartialAutomatedCreationSelectors").AdsMessengerPartialAutomatedCreationDialogContainerSelector),e=b.state;b=i(function(a){c("AdsMessengerPACreationStateCustomInvalidTextFieldsAction").dispatch({customInvalidTextFields:a},{line:"69",module:"MessengerAdsPartialAutomatedAdvancedTabContainer.react.js"}),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_CUSTOMIZE_INVALID_TEXT,data:{message:JSON.stringify(a),objective:e.objective}})},[e.objective]);var f=i(function(a){c("AdsMessengerPACreationStateHopAppSettingAction").dispatch({hopAppSetting:a},{line:"85",module:"MessengerAdsPartialAutomatedAdvancedTabContainer.react.js"}),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_HOP,data:{message:JSON.stringify(a),objective:e.objective}})},[e.objective]),g=i(function(a,b){var f=e.questionItems.slice(),g=!c("areEqual")(f[b],a);f[b]=a;c("AdsMessengerPACreationStateQuestionItemsAction").dispatch({questionItems:f},{line:"104",module:"MessengerAdsPartialAutomatedAdvancedTabContainer.react.js"});g&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_QUESTION,data:{message:JSON.stringify(f),objective:e.objective}})},[e.questionItems,e.objective]),j=i(function(a){var b=!c("areEqual")(e.reminderText,a);c("AdsMessengerPACreationStateReminderTextAction").dispatch({reminderText:a},{line:"122",module:"MessengerAdsPartialAutomatedAdvancedTabContainer.react.js"});b&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_REMINDER,data:{message:a,objective:e.objective}})},[e.reminderText,e.objective]),k=i(function(a){c("AdsMessengerPACreationStateStopQuestionMessageAction").dispatch({stopQuestionMessage:a},{line:"139",module:"MessengerAdsPartialAutomatedAdvancedTabContainer.react.js"}),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_STOP_MESSAGE,data:{message:a,objective:e.objective}})},[e.objective]);return h.jsx(c("MessengerAdsPartialAutomatedAdvancedTab.react"),{account:e.account,additionalQuestionItems:e.additionalQuestionItems,customInvalidTextFields:e.customInvalidTextFields,hopAppData:e.hopAppData,hopAppSetting:e.hopAppSetting,isBlockSendAPI:a.isBlockSendAPI,isCreateNew:a.isCreateNew,isFieldIDToggleOn:a.isFieldIDToggleOn,isTemplateVisible:a.isTemplateVisible,pageID:e.pageID,questionItems:e.questionItems,reminderText:e.reminderText,sectionValidationErrors:a.sectionValidationErrors,setBlockSendAPI:a.setBlockSendAPI,setFieldIDToggleOn:a.setFieldIDToggleOn,setTemplateName:a.setTemplateName,setTemplateVisibility:a.setTemplateVisibility,setTrackingParameters:a.setTrackingParameters,showError:a.showError,stopQuestionMessage:e.stopQuestionMessage,templateName:a.templateName,trackingParameters:a.trackingParameters,onCustomInvalidTextFieldsChange:b,onHopAppSettingChange:f,onQuestionItemChange:g,onReminderTextChange:j,onStopQuestionMessageChange:k})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedCTA.react",["fbt","AdsMessengerPartialAutomatedCreationTypes","GeoSelector.react","GeoSelectorItem.react","GeoText.react","GeoTextInput.react","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedStrings","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Required");function a(a){var b;if(a.account==null||((b=a.account)==null?void 0:b.is_tier_0))return null;b=[d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.NO_BUTTON,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.DOWNLOAD,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.VIEW_WEBSITE];var e=h._("Call-to-action button"),f=h._("Call-to-action text");return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"xw7yly9",children:[i.jsx(c("GeoText.react"),{children:e}),i.jsx(c("GeoSelector.react"),{isLabelHidden:!0,label:e,placeholder:j,value:a.cta.ctaType,onChange:function(b){return a.onCTAChange({ctaType:b,ctaText:a.cta.ctaText,ctaContent:""})},children:b.map(function(a){return i.jsx(c("GeoSelectorItem.react"),{label:d("MessengerAdsPartialAutomatedStrings").getCTAButtonText(a),value:a},a)})})]}),a.cta.ctaType!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.NO_BUTTON&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"xw7yly9",children:[i.jsx(c("GeoText.react"),{children:f}),i.jsx(c("GeoTextInput.react"),{errorMessage:d("MessengerAdsPartialAutomatedFormValidation").getRequiredTextFieldErrorMessage(a.cta.ctaText,a.showError),isLabelHidden:!0,label:f,maxLength:60,placeholder:j,value:a.cta.ctaText,onChange:function(b){return a.onCTAChange(babelHelpers["extends"]({},a.cta,{ctaText:b}))}})]}),k(a.cta,a.showError,a.onCTAChange)]})]})}a.displayName=a.name+" [from "+f.id+"]";function k(a,b,e){var f=h._("Link");switch(a.ctaType){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.CALL_BUSINESS:return i.jsx("div",{});case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.DOWNLOAD:case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.VIEW_WEBSITE:return i.jsxs(i.Fragment,{children:[i.jsx(c("GeoText.react"),{children:f}),i.jsx(c("GeoTextInput.react"),{errorMessage:d("MessengerAdsPartialAutomatedFormValidation").getRequiredURLFieldErrorMessage(a.ctaContent,b),isLabelHidden:!0,label:f,placeholder:j,value:a.ctaContent,onChange:function(b){return e(babelHelpers["extends"]({},a,{ctaContent:b}))}})]});case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.NO_BUTTON:return null}}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedOfferCodesFileInput.react",["fbt","ix","AdsCampaignOfferDataLoader","AdsMessengerPartialAutomatedCreationTypes","GeoBaseText.react","GeoButton.react","MessengerAdsPartialAutomatedConstants","MessengerAdsPartialAutomatedFormDataManager","URI","fbicon","geoMargin","react","useFileInput"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useState;function a(a){var b=m(null),e=b[0],f=b[1];l(function(){d("MessengerAdsPartialAutomatedFormDataManager").fetchOfferCodeTemplateFileUrl(f)},[]);var g="instore_discount_codes";b=m([]);var n=b[0],o=b[1];b=m(!1);var p=b[0],q=b[1];b=k(function(b){o(b),b.length>0&&(a.account!=null&&d("AdsCampaignOfferDataLoader").uploadUniqueCodesFile(a.account.account_id,b[0],g,null).then(function(c){a.onAttachmentChange(babelHelpers["extends"]({},a.attachment,{offerCodeFileID:c.payload.uniqueCodesFileID,offerCodeFileName:b[0].name,offerCodeFileUploadErrorMessage:null,offerNonUniqueCodeValue:void 0,offerCodeType:d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.UNIQUE_CODE})),q(!1)})["catch"](function(a){q(!0)}))},[]);b=c("useFileInput")(b,{accept:[".csv"],allowMultiple:!1});var r=a.attachment.offerCodeFileUploadErrorMessage!==null?a.attachment.offerCodeFileUploadErrorMessage:p?d("MessengerAdsPartialAutomatedConstants").COUPON_FILE_FAILED_UPLOAD_ERROR_TEXT:n.length===0?d("MessengerAdsPartialAutomatedConstants").COUPON_FILE_NO_UPLOAD_TEXT:null;return j.jsxs(j.Fragment,{children:[j.jsx(c("GeoBaseText.react"),{color:"value",size:"value",xstyle:c("geoMargin").top8,children:h._("{=m0} to create a list of unique promo codes as a CSV file.",[h._implicitParam("=m0",j.jsx("a",{href:new(c("URI"))(e),children:h._("Download a template")}))])}),j.jsx(c("GeoButton.react"),{icon:d("fbicon")._(i("568446"),16),label:d("MessengerAdsPartialAutomatedConstants").COUPON_FILE_UPLOAD_BUTTON_LABEL,xstyle:c("geoMargin").top12,onClick:b}),a.attachment.offerCodeFileID!=null&&!p&&j.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:!0,size:"accent",xstyle:c("geoMargin").top12,children:a.attachment.offerCodeFileName}),(a.attachment.offerCodeFileUploadErrorMessage!==null||p||n.length===0)&&j.jsx(c("GeoBaseText.react"),{color:"error",isDisabled:!0,size:"accent",xstyle:c("geoMargin").all4,children:r})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedOfferInputSection.react",["fbt","AdsMessengerPartialAutomatedCreationTypes","GeoSelector.react","GeoSelectorItem.react","GeoText.react","GeoTextInput.react","MessengerAdsPartialAutomatedOfferCodesFileInput.react","MessengerAdsPartialAutomatedStrings","geoMargin","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Promo code type"),k=h._("Share as"),l=h._("Required"),m=h._("Discount code"),n=h._("Enter discount code");function a(a){return i.jsxs("div",{children:[i.jsxs("p",{className:"x1hmvnq2 xdt5ytf x78zum5",children:[i.jsx(c("GeoText.react"),{children:j}),i.jsxs(c("GeoSelector.react"),{isLabelHidden:!0,label:j,placeholder:l,value:a.attachment.offerCodeType,xstyle:c("geoMargin").top4,onChange:function(b){a.onAttachmentChange(babelHelpers["extends"]({},a.attachment,{offerCodeType:b}))},children:[i.jsx(c("GeoSelectorItem.react"),{description:d("MessengerAdsPartialAutomatedStrings").getPromotionCodeTypeDescription(d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.ONE_CODE),label:d("MessengerAdsPartialAutomatedStrings").getPromotionCodeTypeLabel(d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.ONE_CODE),value:d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.ONE_CODE}),i.jsx(c("GeoSelectorItem.react"),{description:d("MessengerAdsPartialAutomatedStrings").getPromotionCodeTypeDescription(d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.UNIQUE_CODE),label:d("MessengerAdsPartialAutomatedStrings").getPromotionCodeTypeLabel(d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.UNIQUE_CODE),value:d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.UNIQUE_CODE})]})]}),i.jsxs("p",{className:"x1hmvnq2 xdt5ytf x78zum5",children:[i.jsx(c("GeoText.react"),{children:k}),i.jsxs(c("GeoSelector.react"),{isLabelHidden:!0,label:k,placeholder:l,value:a.attachment.offerCodeFormat,xstyle:c("geoMargin").top4,onChange:function(b){a.onAttachmentChange(babelHelpers["extends"]({},a.attachment,{offerCodeFormat:b}))},children:[i.jsx(c("GeoSelectorItem.react"),{description:d("MessengerAdsPartialAutomatedStrings").getPromotionCodeFormatDescription(d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.TEXT_CODE),label:d("MessengerAdsPartialAutomatedStrings").getPromotionCodeFormatLabel(d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.TEXT_CODE),value:d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.TEXT_CODE}),i.jsx(c("GeoSelectorItem.react"),{description:d("MessengerAdsPartialAutomatedStrings").getPromotionCodeFormatDescription(d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.QR_CODE),label:d("MessengerAdsPartialAutomatedStrings").getPromotionCodeFormatLabel(d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.QR_CODE),value:d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.QR_CODE})]}),a.attachment.offerCodeType===d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.ONE_CODE?i.jsxs("div",{className:"x1hmvnq2 xdt5ytf x78zum5",children:[i.jsx(c("GeoText.react"),{children:m}),i.jsx(c("GeoTextInput.react"),{isLabelHidden:!0,label:m,placeholder:n,value:a.attachment.offerNonUniqueCodeValue,xstyle:c("geoMargin").top4,onChange:function(b){a.onAttachmentChange(babelHelpers["extends"]({},a.attachment,{offerCodeFileID:void 0,offerCodeFileName:void 0,offerCodeFileUploadErrorMessage:null,offerNonUniqueCodeValue:b}))}})]}):null]}),a.attachment.offerCodeType===d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.UNIQUE_CODE?i.jsx("p",{className:"x1hmvnq2 xdt5ytf x78zum5",children:i.jsx(c("MessengerAdsPartialAutomatedOfferCodesFileInput.react"),{account:a.account,attachment:a.attachment,onAttachmentChange:a.onAttachmentChange})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedConfirmationAttachment.react",["AdsMessengerPartialAutomatedCreationTypes","GeoBaseText.react","GeoSelector.react","GeoSelectorItem.react","MessengerAdsPartialAutomatedCTA.react","MessengerAdsPartialAutomatedConstants","MessengerAdsPartialAutomatedOfferCodesFileInput.react","MessengerAdsPartialAutomatedOfferInputSection.react","MessengerAdsPartialAutomatedStrings","adsAccountGK","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={sectionContainer:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xw7yly9"}};function a(a){var b=[d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.NONE,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.CTA_BUTTON,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.COMPLETION_OFFER];return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:c("stylex")(c("geoMargin").top16),children:[h.jsx(c("GeoBaseText.react"),{color:"value",size:"value",weight:"bold",children:d("MessengerAdsPartialAutomatedConstants").ATTACHMENTS_SECTION_LABEL}),h.jsx(c("GeoSelector.react"),{isLabelHidden:!0,label:d("MessengerAdsPartialAutomatedConstants").ATTACHMENTS_SECTION_LABEL,placeholder:d("MessengerAdsPartialAutomatedConstants").REQUIRED_INPUT_PLACEHOLDER,value:a.attachment.attachmentType,xstyle:c("geoMargin").top8,onChange:function(b){a.onAttachmentChange({attachmentType:b,offerCodeFileID:void 0,offerCodeFileName:void 0,offerCodeFileUploadErrorMessage:null,offerNonUniqueCodeValue:void 0,offerCodeFormat:d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.TEXT_CODE,offerCodeType:d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.ONE_CODE}),a.onCTAChange({ctaType:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationCTAType.NO_BUTTON,ctaText:"",ctaContent:""})},children:b.map(function(a){return h.jsx(c("GeoSelectorItem.react"),{description:d("MessengerAdsPartialAutomatedStrings").getCompletionMessageAttachmentDescription(a),label:d("MessengerAdsPartialAutomatedStrings").getCompletionMessageAttachmentLabel(a),value:a},a)})})]}),j(a.account,a.cta,a.showError,a.attachment,a.onAttachmentChange,a.onCTAChange)]})}a.displayName=a.name+" [from "+f.id+"]";function j(a,b,e,f,g,i){switch(f.attachmentType){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.CTA_BUTTON:return h.jsx(c("MessengerAdsPartialAutomatedCTA.react"),{account:a,cta:b,showError:e,onCTAChange:i});case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.COMPLETION_OFFER:return k(a,f,g);case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.NONE:return null}}j.displayName=j.name+" [from "+f.id+"]";function k(a,b,d){return c("adsAccountGK")._(a,"1GkQSyeoR")?h.jsx(c("MessengerAdsPartialAutomatedOfferInputSection.react"),{account:a,attachment:b,onAttachmentChange:d}):h.jsx("div",{className:c("stylex")(i.sectionContainer),children:h.jsx(c("MessengerAdsPartialAutomatedOfferCodesFileInput.react"),{account:a,attachment:b,onAttachmentChange:d})})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedMessageFormat.react",["cx","AdsImageIDClasses","AdsImageIDUtils","FileInputUploader","GeoSpinner.react","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedImageThumbnail.react","MessengerAdsPartialAutomatedSelectImage","MessengerContentEditorVideoSelectorUtils","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","URI","curry","geoMargin","isNullish","isStringNullOrEmpty","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="/ajax/mercury/upload.php";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={isVideoLoading:!1,showImageDialog:!1,videoError:null},e.$2=function(a){var b=babelHelpers["extends"]({},e.props.message);b.text=a;e.props.onMessageChange(b)},e.$1=function(){e.setState({showImageDialog:!0});if(e.props.message.media_type==="image"){e.$5("text");return}e.$5("image")},e.$3=function(a){e.setState({isVideoLoading:!0,videoError:null});var b=d("MessengerContentEditorVideoSelectorUtils").getVideoSizeError(a);if(!c("isNullish")(b)){e.setState({isVideoLoading:!1,videoError:b});return}b=d("MessengerContentEditorVideoSelectorUtils").getVideoTypeError(a);if(!c("isNullish")(b)){e.setState({isVideoLoading:!1,videoError:b});return}b=c("isStringNullOrEmpty")(e.props.pageID)?c("URI").normalize(j):new(c("URI"))(j).addQueryData({request_user_id:e.props.pageID}).toString();a=new(c("FileInputUploader"))(a.target).setURI(b);a!=null?(a.subscribe("success",e.$6),a.subscribe("failure",e.$7),a.send()):e.$7()},e.$6=function(a,b){e.setState({isVideoLoading:!1}),e.$8(b)},e.$7=function(){e.setState({isVideoLoading:!1})},e.$5=function(a){if(e.props.message.media_type===a)return;var b=babelHelpers["extends"]({},e.props.message);b.media_content="";b.media_type=a;e.props.onVideoRemove();e.props.onMessageChange(b)},e.$9=function(){e.setState({showImageDialog:!1}),e.$5("text")},e.$10=function(a){var b=babelHelpers["extends"]({},e.props.message);a=a&&a[0];if(!a)return;a.hash!=null&&(b.media_content=a.hash,b.media_type="image");e.props.onMessageChange(b)},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=d("MessengerAdsPartialAutomatedFormValidation").getRequiredTextFieldErrorMessage(this.props.message.text,this.props.showError);return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:c("stylex")({"margin-top-1":"xdj266r","position-1":"x1n2onr6"},a==null?{"background-color-1":"x1c5tqo3","border-top-color-0.4":"x1hohm31","border-end-color-0.4":"x1omblsb","border-bottom-color-0.4":"x139c44z","border-start-color-0.4":"x1v8hdpi","border-top-start-radius-1":"x1lq5wgf","border-top-end-radius-1":"xgqcy7u","border-bottom-end-radius-1":"x30kzoy","border-bottom-start-radius-1":"x9jhf4c","border-top-style-0.4":"x13fuv20","border-end-style-0.4":"xu3j5b3","border-bottom-style-0.4":"x1q0q8m5","border-start-style-0.4":"x26u7qi","border-top-width-0.4":"x178xt8z","border-end-width-0.4":"xm81vs4","border-bottom-width-0.4":"xso031l","border-start-width-0.4":"xy80clv"}:{"background-color-1":"x1c5tqo3","border-top-color-0.4":"x14n43ww","border-end-color-0.4":"x18o6rzi","border-bottom-color-0.4":"x16pxo4y","border-start-color-0.4":"xhmcvv3","border-top-start-radius-1":"x1lq5wgf","border-top-end-radius-1":"xgqcy7u","border-bottom-end-radius-1":"x30kzoy","border-bottom-start-radius-1":"x9jhf4c","border-top-style-0.4":"x13fuv20","border-end-style-0.4":"xu3j5b3","border-bottom-style-0.4":"x1q0q8m5","border-start-style-0.4":"x26u7qi","border-top-width-0.4":"x178xt8z","border-end-width-0.4":"xm81vs4","border-bottom-width-0.4":"xso031l","border-start-width-0.4":"xy80clv"}),children:[i.jsx(c("PagesReplyComposerEditorContainer.react"),{config:this.props.config,isCTMLeadGen:!0,isHovered:!0,isSideToolbar:!0,showMediaIcons:!0,videoError:this.state.videoError,welcomeString:this.props.message&&this.props.message.text,onImageIconSelect:this.$1,onReplyChange:this.$2,onVideoIconSelect:this.$3}),i.jsx(c("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:this.props.config,isHovered:!0,isSideToolbar:!0,onToolItemClicked:this.props.onAddPersonalization})]}),this.$4()]})};e.$8=function(a){a=(a=a)!=null?(a=a.response)!=null?(a=a.payload)!=null?(a=a.metadata)!=null?(a=a[0])!=null?a.video_id:a:a:a:a:a;if(a!=null){var b=babelHelpers["extends"]({},this.props.message);b.media_content=a.toString();b.media_type="video";this.props.onMessageChange(b)}};e.$4=function(){if(this.state.isVideoLoading)return i.jsx(c("GeoSpinner.react"),{});var a=this.props.account!=null?this.props.account.account_id:"",b=this.props.message.media_content;b=this.props.message.media_type==="image"?d("AdsImageIDUtils").getImageID({accountID:a,hash:b}):c("isStringNullOrEmpty")(this.props.videoPreview)?null:d("AdsImageIDClasses").AdsImageID.fromExternalURL(this.props.videoPreview);var e=c("curry")(this.$5,"text");return i.jsxs(i.Fragment,{children:[b&&i.jsx(c("MessengerAdsPartialAutomatedImageThumbnail.react"),{errorText:null,imageID:b,xstyle:c("geoMargin").top8,onRemoveClick:e}),d("MessengerAdsPartialAutomatedSelectImage").getImageDialog(a,b,this.state.showImageDialog,this.$9,this.$10)]})};return b}(i.Component);g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedTemplateEditorSection.react",["ix","AdsMessengerPAExpandedSectionIDsAction","AdsMessengerPartialAutomatedCreationTypes","FBAnimateContentHeightOnEntryExit.react","GeoBaseText.react","GeoFlexbox.react","Image.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={chevronIsActive:{transform:"x135icu2"},errorIconCollapsedMode:{marginStart:"x1i64zmx",opacity:"x1hc1fzr"},errorIconExpandedMode:{marginStart:"x1i64zmx",opacity:"xbyyjgo"},headerBorder:{borderBottom:"x16aiyyn"},headerSection:{cursor:"x1ypdohk",height:"xsdox4t"}},k=h("411168");function l(a){var b=function(){c("AdsMessengerPAExpandedSectionIDsAction").dispatch({expandedSectionID:a.sectionID},{line:"59",module:"MessengerAdsPartialAutomatedTemplateEditorSection.react.js"})},e=function(a){switch(a){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE:return"intro-message";case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS:return"questions";case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.ADDITIONAL_QUESTIONS:return"additional-questions";case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE:return"confirmation-message";case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS_COMPLETE_MESSAGE:return"questions-complete-message";case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY:return"privacy-policy";case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE:return"disqualify-message";default:return""}},f=i.jsx(c("Image.react"),{className:c("stylex")(a.isExpanded&&j.chevronIsActive),src:k});e=e(a.sectionID);return i.jsx("div",{"data-testid":void 0,role:"none",onClick:b,children:i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-between",xstyle:j.headerSection,children:[i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",children:[i.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:a.isExpanded,size:"header2",weight:"bold",children:a.label}),a.hasError&&i.jsx(c("Image.react"),{className:c("stylex")(a.isExpanded?j.errorIconExpandedMode:j.errorIconCollapsedMode),src:h("480268")})]}),f]})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){return i.jsxs("div",{className:a.children==null&&c("stylex")(j.headerBorder),children:[i.jsx(l,babelHelpers["extends"]({},a)),i.jsx(c("FBAnimateContentHeightOnEntryExit.react"),{animationDuration:200,animationKey:a.sectionID,children:a.children})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedConfirmationMessage.react",["AdsMessengerPartialAutomatedCreationTypes","GeoBaseText.react","MessengerAdsPartialAutomatedCTA.react","MessengerAdsPartialAutomatedConfirmationAttachment.react","MessengerAdsPartialAutomatedMessageFormat.react","MessengerAdsPartialAutomatedStrings","MessengerAdsPartialAutomatedTemplateEditorSection.react","adsAccountGK","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=h.jsx(i,babelHelpers["extends"]({},a));return h.jsx(c("MessengerAdsPartialAutomatedTemplateEditorSection.react"),{hasError:a.showError&&a.sectionValidationErrors.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE),isExpanded:a.isExpanded,label:d("MessengerAdsPartialAutomatedStrings").getHeaderName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE),sectionID:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE,children:a.isExpanded?b:null})}a.displayName=a.name+" [from "+f.id+"]";function i(a){var b={composerKey:"confirmationMessageCTMLeadGen",initialDisabled:!1,initialReply:a.message.text,isAdsInterfaceSource:!0,pageID:a.pageID||"",placeholderText:d("MessengerAdsPartialAutomatedStrings").getSectionPlaceholder(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE)},e=d("MessengerAdsPartialAutomatedStrings").getSectionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE);return h.jsxs("div",{className:"x1hhzuzn",id:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE,children:[h.jsx("div",{className:"xsag5q8",children:h.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:!0,size:"accent",children:e})}),h.jsx(c("MessengerAdsPartialAutomatedMessageFormat.react"),{account:a.account,config:b,message:a.message,pageID:a.pageID,showError:a.showError,videoPreview:a.videoPreview,onAddPersonalization:a.onAddPersonalization,onMessageChange:a.onMessageChange,onVideoRemove:a.onVideoRemove}),c("adsAccountGK")._(a.account,"2FI8CldvX")?h.jsx(c("MessengerAdsPartialAutomatedConfirmationAttachment.react"),{account:a.account,attachment:a.attachment,cta:a.cta,showError:a.showError,onAttachmentChange:a.onAttachmentChange,onCTAChange:a.onCTAChange}):h.jsx(c("MessengerAdsPartialAutomatedCTA.react"),{account:a.account,cta:a.cta,showError:a.showError,onCTAChange:a.onCTAChange})]})}i.displayName=i.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedConfirmationMessageContainer.react",["AdsFluxHooks","AdsInterfacesLogger","AdsMessengerPACreationStateConfirmationAttachmentAction","AdsMessengerPACreationStateConfirmationCTAAction","AdsMessengerPACreationStateConfirmationMessageAction","AdsMessengerPartialAutomatedCreationSelectors","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","AdsUEditorHooks","MessengerAdsPartialAutomatedConfirmationMessage.react","areEqual","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsMessengerPartialAutomatedCreationSelectors").AdsMessengerPartialAutomatedCreationDialogContainerSelector),e=b.state;b=i(function(a){var b=!c("areEqual")(e.confirmationAttachment,a);c("AdsMessengerPACreationStateConfirmationAttachmentAction").dispatch({attachment:a},{line:"56",module:"MessengerAdsPartialAutomatedConfirmationMessageContainer.react.js"});b&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_ATTACHMENT_TYPE,data:{message:JSON.stringify(a)}})},[e.confirmationAttachment]);var f=i(function(a){var b=!c("areEqual")(e.confirmationCTA,a);c("AdsMessengerPACreationStateConfirmationCTAAction").dispatch({confirmationCTA:a},{line:"73",module:"MessengerAdsPartialAutomatedConfirmationMessageContainer.react.js"});b&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_CONFIRMATION_CTA,data:{message:JSON.stringify(a)}})},[e.confirmationCTA]),g=i(function(a){var b=!c("areEqual")(e.confirmationMessage,a),f=!c("areEqual")(e.confirmationMessage.media_type,a.media_type)||!c("areEqual")(e.confirmationMessage.media_content,a.media_content);c("AdsMessengerPACreationStateConfirmationMessageAction").dispatch({confirmationMessage:a},{line:"93",module:"MessengerAdsPartialAutomatedConfirmationMessageContainer.react.js"});b&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_CONFIRMATION,data:{message:JSON.stringify(a),objective:e.objective}});f&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_MEDIA,data:{message:JSON.stringify(a),objective:e.objective}})},[e.confirmationMessage,e.objective]),j=i(function(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_ADD_PERSONALIZATION,data:{message:"Confirmation"}})},[]);return h.jsx(c("MessengerAdsPartialAutomatedConfirmationMessage.react"),{account:e.account,attachment:e.confirmationAttachment,cta:e.confirmationCTA,isExpanded:e.expandedSectionIDs.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE),isInPostLeadQuestionsQE:a.isInPostLeadQuestionsQE,message:e.confirmationMessage,pageID:e.pageID,sectionValidationErrors:a.sectionValidationErrors,showError:a.showError,videoPreview:e.confirmationVideoPreview,onAddPersonalization:j,onAttachmentChange:b,onCTAChange:f,onMessageChange:g,onVideoRemove:c("emptyFunction")})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedCancelDialog.react",["fbt","GeoButton.react","GeoModal.react","GeoModalFooter.react","GeoModalHeader.react","GeoSection.react","MessengerAdsPartialAutomatedConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(c("GeoModal.react"),{footer:i.jsx(c("GeoModalFooter.react"),{primaryButton:i.jsx(c("GeoButton.react"),{label:h._("Confirm"),variant:"primary",onClick:a.onConfirm}),secondaryButton:i.jsx(c("GeoButton.react"),{label:h._("Cancel"),onClick:a.onCancel})}),header:i.jsx(c("GeoModalHeader.react"),{heading:d("MessengerAdsPartialAutomatedConstants").CANCEL_DIALOG_TITLE}),isShown:a.isShown,onHide:a.onCancel,children:i.jsx(c("GeoSection.react"),{children:d("MessengerAdsPartialAutomatedConstants").CANCEL_DIALOG_DESCRIPTION})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedDialogSectionErrors",["AdsMessengerPartialAutomatedCreationTypes","MessengerAdsPartialAutomatedFormValidation","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){c=c.some(function(a){return a.answers&&a.answers.some(function(a){return a.nextStep===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.DISQUALIFY_MESSAGE})});c&&!b&&a.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE)}function i(a,b,c){(d("MessengerAdsPartialAutomatedFormValidation").getPrivacyPolicyLinkURLErrorMessage(b,!0)||c!=null&&!c.leadgen_tos_accepted)&&a.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY)}function j(a){return a!=null&&!c("isStringNullOrEmpty")(a.text)&&d("MessengerAdsPartialAutomatedFormValidation").getMediaErrorMessage(a.media_type,a.media_content,!0)===null}function a(a){var b=a.confirmationMessage,e=a.confirmationAttachment,f=a.disqualifyMessage,g=a.introMessage,k=a.isTemplateVisible,l=a.page,m=a.privacyPolicyURL,n=a.questionItems,o=a.reminderText,p=a.stopQuestionMessage,q=a.templateName,r=a.customInvalidTextFields,s=a.questionsCompleteMessage,t=a.additionalQuestionItems;a=a.trackingParameters;var u=new Set();j(g)||u.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE);d("MessengerAdsPartialAutomatedFormValidation").validateEachQuestionItem(n)||u.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS);d("MessengerAdsPartialAutomatedFormValidation").validateEachQuestionItem(t)||u.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.ADDITIONAL_QUESTIONS);t.length>0&&c("isStringNullOrEmpty")(s)&&u.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS_COMPLETE_MESSAGE);o||u.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.REMINDER);(!j(b)||!d("MessengerAdsPartialAutomatedFormValidation").validateConfirmationAttachment(e))&&u.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE);h(u,f,n);i(u,m,l);k&&!q.trim()&&u.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.TEMPLATE_NAME);p||u.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.STOP_QUESTION_MESSAGE);r&&r.isCustomOn&&(!r.phoneText||!r.emailText||!r.multipleChoiceText)&&u.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.VALIDATION_MESSAGE);d("MessengerAdsPartialAutomatedFormValidation").isEmptyTrackingParameters(a)&&u.add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.TRACKING_PARAMETERS);return u}g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedFinishDialog.react",["fbt","GeoButton.react","GeoModal.react","GeoModalFooter.react","GeoModalHeader.react","GeoSection.react","GeoText.react","MessengerAdsPartialAutomatedConstants","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Cannot edit after saving"),k=h._("You will not be able to edit a template after it's saved. To make changes, you will need to duplicate it and save it as a new template."),l=h._("Duplicated forms that you save can be found later as existing chats.");function a(a){var b=a.shouldAutoConvert?j:d("MessengerAdsPartialAutomatedConstants").FINISH_DIALOG_TITLE,e=a.shouldAutoConvert?i.jsxs(c("GeoSection.react"),{children:[" ",i.jsx(c("GeoText.react"),{display:"block",textAlign:"start",children:k}),i.jsx("br",{}),i.jsx(c("GeoText.react"),{display:"block",textAlign:"start",children:l})," "]}):i.jsx(c("GeoSection.react"),{children:d("MessengerAdsPartialAutomatedConstants").FINISH_DIALOG_DESCRIPTION});return i.jsx(c("GeoModal.react"),{footer:i.jsx(c("GeoModalFooter.react"),{primaryButton:i.jsx(c("GeoButton.react"),{"data-testid":void 0,label:h._("Got it"),variant:"primary",onClick:a.onConfirm}),secondaryButton:i.jsx(c("GeoButton.react"),{label:h._("Cancel"),onClick:a.onCancel})}),header:i.jsx(c("GeoModalHeader.react"),{heading:b}),isShown:a.isShown,onHide:a.onCancel,children:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedDialogContainer.react",["AdsCampaignOfferDataLoader","AdsFluxHooks","AdsInterfacesLogger","AdsMessengerPACreationStateAdditionalQuestionItemsAction","AdsMessengerPACreationStateConfirmationAttachmentAction","AdsMessengerPACreationStateQuestionsCompleteMessageAction","AdsMessengerPAExpandErrorSectionsAction","AdsMessengerPartialAutomatedCreationSelectors","AdsMessengerPartialAutomatedCreationStateDataAction","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorUtils","AdsUEditorHooks","MessengerAdsPartialAutomatedCancelDialog.react","MessengerAdsPartialAutomatedConstants","MessengerAdsPartialAutomatedDialog.react","MessengerAdsPartialAutomatedDialogSectionErrors","MessengerAdsPartialAutomatedFinishDialog.react","MessengerAdsPartialAutomatedFormDataManager","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedStrings","adsAccountQE","areEqual","deepEquals","immutable","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState;function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsMessengerPartialAutomatedCreationSelectors").AdsMessengerPartialAutomatedCreationDialogContainerSelector),e=b.state,f=d("AdsUEditorHooks").useUEditorAdgroupContext();b=k(!1);var g=b[0],l=b[1];b=k(!1);var m=b[0],n=b[1];b=k(!1);var o=b[0],p=b[1];b=k(!1);var q=b[0],r=b[1];b=k(!1);var s=b[0],t=b[1];b=k(null);var u=b[0],v=b[1];b=k((b=a.selectedTemplateName)!=null?b:e.account?d("MessengerAdsPartialAutomatedStrings").getDefaultTemplateName(e.account):"");var w=b[0],x=b[1];b=k(null);var y=b[0],z=b[1];b=k(!0);var A=b[0];b=b[1];var B=k(!1),C=B[0];B=B[1];var D=k(!0),E=D[0];D=D[1];var F=k(c("immutable").List()),G=F[0];F=F[1];var H=k(new Set()),I=H[0],J=H[1],K=j(function(){return{additionalQuestionItems:e.additionalQuestionItems,confirmationCTA:e.confirmationCTA,confirmationMessage:e.confirmationMessage,confirmationAttachment:e.confirmationAttachment,customInvalidTextFields:e.customInvalidTextFields,disqualifyMessage:e.disqualifyMessage,introMessage:e.introMessage,isTemplateVisible:A,page:e.page,privacyPolicyURL:e.privacyPolicyURL,questionItems:e.questionItems,questionsCompleteMessage:e.questionsCompleteMessage,reminderText:e.reminderText,stopQuestionMessage:e.stopQuestionMessage,templateName:w,trackingParameters:G}},[A,e,w,G]);H=c("MessengerAdsPartialAutomatedDialogSectionErrors")(K);c("areEqual")(I,H)||J(H);var L=d("MessengerAdsPartialAutomatedFormValidation").validatePartialAutomatedCreationData(e.questionItems,e.confirmationMessage,e.introMessage,e.disqualifyMessage,e.questionsCompleteMessage,e.additionalQuestionItems,e.privacyPolicyURL,e.reminderText,e.page,e.stopQuestionMessage,e.account,e.hopAppSetting,A,w,e.customInvalidTextFields,e.confirmationCTA,e.confirmationAttachment,G,e.objective,m);H=c("usePrevious")(a.isShown);var M=(H==null||H===!1)&&a.isShown===!0;i(function(){if(M){var a;z(K);((a=c("adsAccountQE")._(e.account,"1ZOyRhlVt:2Tr52mj2BKg",{}))!=null?a:!1)===!1&&(c("AdsMessengerPACreationStateAdditionalQuestionItemsAction").dispatch({additionalQuestionItems:[]},{line:"176",module:"MessengerAdsPartialAutomatedDialogContainer.react.js"}),c("AdsMessengerPACreationStateQuestionsCompleteMessageAction").dispatch({questionsCompleteMessage:d("MessengerAdsPartialAutomatedConstants").POST_LEAD_DEFAULT_QUESTIONS_COMPLETE_MESSAGE.toString()},{line:"180",module:"MessengerAdsPartialAutomatedDialogContainer.react.js"}))}},[M,K,z,e.account]);i(function(){var b;x((b=a.selectedTemplateName)!=null?b:e.account?d("MessengerAdsPartialAutomatedStrings").getDefaultTemplateName(e.account):"")},[a.selectedTemplateName,e.account]);i(function(){e.templateID!=null&&d("MessengerAdsPartialAutomatedFormDataManager").fetchAndLoadLeadGenTemplate(e.templateID.toString(),e.account)},[]);if(!a.isShown)return null;var N=function(){t(!0),l(!1),n(!1)},O=function(a){v(a),l(!1),n(!1)};function P(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_PREVIEW_BUTTON_CLICKED,data:{objective:e.objective}});if(!e.pageWelcomeMessage)return;L&&e.pageID!=null&&w?(d("MessengerAdsPartialAutomatedFormDataManager").generatePreview(e.pageID,e.introMessage,e.questionItems,e.confirmationMessage,e.additionalQuestionItems,e.questionsCompleteMessage,e.disqualifyMessage,e.followUpMessage,e.reminderText,c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW,e.account,e.privacyPolicyURL,e.stopQuestionMessage,E,e.hopAppSetting,e.customInvalidTextFields,N,O,e.confirmationCTA,e.confirmationAttachment),l(!0)):c("AdsMessengerPAExpandErrorSectionsAction").dispatch({errorSections:I},{line:"254",module:"MessengerAdsPartialAutomatedDialogContainer.react.js"});n(!0)}function Q(){var b=JSON.stringify([{introMessage:e.introMessage},{questionItems:e.questionItems},{disqualifyMessage:e.disqualifyMessage},{confirmationMessage:e.confirmationMessage},{privacyPolicyURL:e.privacyPolicyURL},{reminderText:e.reminderText},{followUpMessage:e.followUpMessage},{stopQuestionMessage:e.stopQuestionMessage}]);c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_CANCEL_LEAD_GEN_DIALOG,data:{message:b,objective:e.objective}});e.templateID!=null?d("MessengerAdsPartialAutomatedFormDataManager").fetchAndLoadLeadGenTemplate(e.templateID,e.account):a.convertedStepListState!=null?c("AdsMessengerPartialAutomatedCreationStateDataAction").dispatch({additionalQuestionItems:a.convertedStepListState.additionalQuestionItems,confirmationAttachment:a.convertedStepListState.confirmationAttachment,confirmationCTA:a.convertedStepListState.confirmationCTA,confirmationMessage:a.convertedStepListState.confirmationMessage,customInvalidTextFields:a.convertedStepListState.customInvalidTextFields,disqualifyMessage:a.convertedStepListState.disqualifyMessage,hopAppSetting:a.convertedStepListState.hopAppSetting,introMessage:a.convertedStepListState.introMessage,privacyURL:a.convertedStepListState.privacyURL,questionItems:a.convertedStepListState.questionItems,questionsCompleteMessage:a.convertedStepListState.questionsCompleteMessage,reminderText:a.convertedStepListState.reminderText,showConvertFormsCard:a.convertedStepListState.showConvertFormsCard,stopQuestionMessage:a.convertedStepListState.stopQuestionMessage,expandedSectionIDs:new Set()},{line:"284",module:"MessengerAdsPartialAutomatedDialogContainer.react.js"}):c("AdsMessengerPartialAutomatedCreationStateDataAction").dispatch(d("MessengerAdsPartialAutomatedStrings").getDefaultCTMLeadGenForm(),{line:"308",module:"MessengerAdsPartialAutomatedDialogContainer.react.js"});a.onToggle(!1);n(!1)}function R(){!c("deepEquals")(K,y)?p(!0):(c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_CANCEL_LEAD_GEN_DIALOG_NO_CHANGES,data:{objective:e.objective}}),Q())}function S(){p(!1),Q()}function T(){if(L){var a;((a=e.confirmationAttachment)==null?void 0:a.offerCodeFileID)!=null?W(e.confirmationAttachment.offerCodeFileID):A===!0?r(!0):V()}else c("AdsMessengerPAExpandErrorSectionsAction").dispatch({errorSections:I},{line:"345",module:"MessengerAdsPartialAutomatedDialogContainer.react.js"}),n(!0)}function U(){r(!1),V()}function V(){if(!e.pageWelcomeMessage)return;if(L&&e.pageID!=null&&e.adgroupIDs!=null&&w){d("MessengerAdsPartialAutomatedFormDataManager").createForm(e.adgroupIDs,{adgroupEditorContext:f},e.objective,e.pageID,e.introMessage,e.questionItems,e.confirmationMessage,e.disqualifyMessage,e.followUpMessage,e.privacyPolicyURL,e.questionsCompleteMessage,e.additionalQuestionItems,e.reminderText,w,c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW,e.account,e.stopQuestionMessage,A,e.isExistingPost,e.hopAppSetting,E,e.customInvalidTextFields,e.confirmationCTA,e.confirmationAttachment,G);var b={additionalQuestionItems:e.additionalQuestionItems,confirmationAttachment:e.confirmationAttachment,confirmationCTA:e.confirmationCTA,confirmationMessage:e.confirmationMessage,customInvalidTextFields:e.customInvalidTextFields,disqualifyMessage:e.disqualifyMessage,followUpMessage:e.followUpMessage,hopAppSetting:e.hopAppSetting,introMessage:e.introMessage,privacyURL:e.privacyPolicyURL,questionItems:e.questionItems,questionsCompleteMessage:e.questionsCompleteMessage,reminderText:e.reminderText,showConvertFormsCard:e.showConvertFormsCard,stopQuestionMessage:e.stopQuestionMessage,expandedSectionIDs:e.expandedSectionIDs};c("AdsMessengerPartialAutomatedCreationStateDataAction").dispatch(b,{line:"412",module:"MessengerAdsPartialAutomatedDialogContainer.react.js"});a.onToggle(!1);c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_FINISH_LEAD_GEN_DIALOG,data:{message:JSON.stringify(b),objective:e.objective}})}n(!0)}function W(a){d("AdsCampaignOfferDataLoader").getUniqueCodesFileUploadStatus(a).then(function(a){var b=a.payload.status;if(b==="successful")A===!0?r(!0):V();else{a=b==="failed"?a.payload.uniqueCodesFileUploadErrorSummary:b==="in_progress"?d("MessengerAdsPartialAutomatedConstants").COUPON_FILE_STATUS_UPLOADING_TEXT:d("MessengerAdsPartialAutomatedConstants").COUPON_FILE_FAILED_UPLOAD_ERROR_TEXT;c("AdsMessengerPACreationStateConfirmationAttachmentAction").dispatch({attachment:babelHelpers["extends"]({},e.confirmationAttachment,{offerCodeFileUploadErrorMessage:a})},{line:"442",module:"MessengerAdsPartialAutomatedDialogContainer.react.js"});J(new Set().add(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE));n(!0)}})["catch"](function(a){c("AdsMessengerPACreationStateConfirmationAttachmentAction").dispatch({attachment:babelHelpers["extends"]({},e.confirmationAttachment,{offerCodeFileUploadErrorMessage:d("MessengerAdsPartialAutomatedConstants").COUPON_FILE_FAILED_UPLOAD_ERROR_TEXT})},{line:"457",module:"MessengerAdsPartialAutomatedDialogContainer.react.js"})})}return h.jsxs(h.Fragment,{children:[h.jsx(c("MessengerAdsPartialAutomatedDialog.react"),{account:e.account,isBlockSendAPI:E,isCreateNew:a.isCreateNew,isFieldIDToggleOn:C,isGeneratingPreview:g,isShown:a.isShown,isTemplateVisible:A,isValidSpec:L,objective:e.objective,sectionValidationErrors:I,setBlockSendAPI:D,setFieldIDToggleOn:B,setTemplateName:x,setTemplateVisibility:b,setTrackingParameters:F,showConvertFormsCard:e.showConvertFormsCard,showError:m,templateName:w,trackingParameters:G,onCancelButtonClicked:R,onFinishButtonClicked:T,onPreviewButtonClicked:P}),h.jsx(c("MessengerAdsPartialAutomatedCancelDialog.react"),{isShown:o,onCancel:function(){return p(!1)},onConfirm:S}),h.jsx(c("MessengerAdsPartialAutomatedFinishDialog.react"),{isShown:q,shouldAutoConvert:a.shouldAutoConvert,onCancel:function(){return r(!1)},onConfirm:U}),d("AdsMessengerVisualEditorUtils").showMessengerPreviewSuccessDialog(s,e.pageName,function(){return t(!1)}),d("AdsMessengerVisualEditorUtils").showMessengerPreviewErrorDialog(u,function(){return v(null)})]})}a.displayName=a.name+" [from "+f.id+"]";e=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=e}),98);
__d("MessengerAdsPartialAutomatedDisqualifyMessage.react",["cx","AdsMessengerPartialAutomatedCreationTypes","GeoBaseText.react","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedStrings","MessengerAdsPartialAutomatedTemplateEditorSection.react","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","adsAccountGK","curry","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState;function k(a,b){var e=c("adsAccountGK")._(b,"1XP85qam9");return a.some(function(a){if(a.answerType==="PHONE"&&e)return!0;if(a.qualifyingAnswersList!=null)return a.qualifyingAnswersList.length>0;if(!a.answers)return;return a.answers.some(function(a){return a.nextStep===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationGoToOption.DISQUALIFY_MESSAGE})})}function a(a){var b=i.jsx(l,babelHelpers["extends"]({},a));return k(a.questionItems,a.account)?i.jsx(c("MessengerAdsPartialAutomatedTemplateEditorSection.react"),{hasError:a.showError&&a.sectionValidationErrors.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE),isExpanded:a.isExpanded,label:d("MessengerAdsPartialAutomatedStrings").getHeaderName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE),sectionID:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE,children:a.isExpanded?b:null}):null}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=j(!1),e=b[0];b=b[1];var f=j(!1),g=f[0];f=f[1];if(!k(a.questionItems,a.account))return null;var h={composerKey:"disqualifyMessageCTMLeadGen",initialDisabled:!1,initialReply:a.disqualifyMessage||"",isAdsInterfaceSource:!0,pageID:a.pageID||"",placeholderText:d("MessengerAdsPartialAutomatedStrings").getSectionPlaceholder(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE)},l=d("MessengerAdsPartialAutomatedFormValidation").getRequiredTextFieldErrorMessage(a.disqualifyMessage,a.showError),m=d("MessengerAdsPartialAutomatedStrings").getSectionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE);return i.jsxs("div",{className:"x1hhzuzn",id:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE,children:[i.jsxs("div",{className:"xsag5q8",children:[i.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:!0,size:"accent",children:m})," "]}),i.jsxs("div",{className:c("stylex")(l==null?{"background-color-1":"x1c5tqo3","border-top-0.3":"xgqjv89","border-end-0.3":"x3nkqmp","border-bottom-0.3":"x45hy6c","border-start-0.3":"x18j5cpe","border-top-start-radius-1":"x1lq5wgf","border-top-end-radius-1":"xgqcy7u","border-bottom-end-radius-1":"x30kzoy","border-bottom-start-radius-1":"x9jhf4c","margin-top-1":"x1xmf6yo"}:{},l!=null?{"background-color-1":"x1c5tqo3","border-top-0.3":"x1ju2mve","border-end-0.3":"xraqonv","border-bottom-0.3":"x12hbt4u","border-start-0.3":"x1b791bb","border-top-start-radius-1":"x1lq5wgf","border-top-end-radius-1":"xgqcy7u","border-bottom-end-radius-1":"x30kzoy","border-bottom-start-radius-1":"x9jhf4c","margin-top-1":"x1xmf6yo"}:null,{"margin-top-1":"xdj266r","position-1":"x1n2onr6"}),onBlur:c("curry")(b,!1),onFocus:c("curry")(b,!0),onMouseEnter:c("curry")(f,!0),onMouseLeave:c("curry")(f,!1),children:[i.jsx(c("PagesReplyComposerEditorContainer.react"),{config:h,isCTMLeadGen:!0,isFocused:e,isHovered:g,isSideToolbar:!0,welcomeString:a.disqualifyMessage,onReplyChange:a.onDisqualifyMessageChange}),i.jsx(c("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:h,isFocused:e,isHovered:g,isSideToolbar:!0,onToolItemClicked:a.onAddPersonalization})]})]})}l.displayName=l.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedDisqualifyMessageContainer.react",["AdsFluxHooks","AdsInterfacesLogger","AdsMessengerPACreationStateDisqualifyMessageAction","AdsMessengerPartialAutomatedCreationSelectors","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","AdsUEditorHooks","MessengerAdsPartialAutomatedDisqualifyMessage.react","areEqual","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsMessengerPartialAutomatedCreationSelectors").AdsMessengerPartialAutomatedCreationDialogContainerSelector),e=b.state;b=i(function(a){var b=!c("areEqual")(e.disqualifyMessage,a);c("AdsMessengerPACreationStateDisqualifyMessageAction").dispatch({disqualifyMessage:a},{line:"43",module:"MessengerAdsPartialAutomatedDisqualifyMessageContainer.react.js"});b&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_DISQUALIFY,data:{message:a,objective:e.objective}})},[e.disqualifyMessage,e.objective]);var f=i(function(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_ADD_PERSONALIZATION,data:{message:"Disqualify"}})},[]);return h.jsx(c("MessengerAdsPartialAutomatedDisqualifyMessage.react"),{account:e.account,disqualifyMessage:e.disqualifyMessage,isExpanded:e.expandedSectionIDs.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE),pageID:e.pageID,questionItems:e.questionItems,sectionValidationErrors:a.sectionValidationErrors,showError:a.showError,onAddPersonalization:f,onDisqualifyMessageChange:b})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedIntroMessage.react",["fbt","AdsMessengerPartialAutomatedCreationTypes","GeoBaseText.react","MessengerAdsPartialAutomatedMessageFormat.react","MessengerAdsPartialAutomatedStrings","MessengerAdsPartialAutomatedTemplateEditorSection.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx("div",{className:a.isFirstChild&&"xib59rt",children:i.jsx(c("MessengerAdsPartialAutomatedTemplateEditorSection.react"),{hasError:a.showError&&a.sectionValidationErrors.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE),isExpanded:a.isExpanded,label:h._("Welcome message"),sectionID:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE,children:a.isExpanded?i.jsx(j,babelHelpers["extends"]({},a)):null})})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b;b=(b=a.introMessage)!=null?b:{text:"",media_type:"text",media_content:null};var e={composerKey:"introMessageCTMLeadGen",initialDisabled:!1,initialReply:b.text,isAdsInterfaceSource:!0,pageID:a.pageID||"",placeholderText:d("MessengerAdsPartialAutomatedStrings").getSectionPlaceholder(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE)};return i.jsxs(i.Fragment,{children:[i.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:!0,size:"accent",children:d("MessengerAdsPartialAutomatedStrings").getSectionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE)}),i.jsx("div",{className:"xz9dl7a x1hhzuzn",children:i.jsx(c("MessengerAdsPartialAutomatedMessageFormat.react"),{account:a.account,config:e,message:b,pageID:a.pageID,showError:a.showError,videoPreview:a.introVideoPreview,onAddPersonalization:a.onAddPersonalization,onMessageChange:a.onIntroMessageChange,onVideoRemove:a.onIntroVideoRemove})})]})}j.displayName=j.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedIntroMessageContainer.react",["AdsFluxHooks","AdsInterfacesLogger","AdsMessengerPACreationStateIntroMessageAction","AdsMessengerPartialAutomatedCreationSelectors","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","AdsUEditorHooks","MessengerAdsPartialAutomatedIntroMessage.react","areEqual","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsMessengerPartialAutomatedCreationSelectors").AdsMessengerPartialAutomatedCreationDialogContainerSelector),e=b.state;b=i(function(a){var b,f=!c("areEqual")(e.introMessage,a);b=!c("areEqual")((b=e.introMessage)==null?void 0:b.media_type,a.media_type)||!c("areEqual")((b=e.introMessage)==null?void 0:b.media_content,a.media_content);c("AdsMessengerPACreationStateIntroMessageAction").dispatch({introMessage:a},{line:"50",module:"MessengerAdsPartialAutomatedIntroMessageContainer.react.js"});f&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_INTRO,data:{message:JSON.stringify(a),objective:e.objective}});b&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_MEDIA,data:{message:JSON.stringify(a),objective:e.objective}})},[e.introMessage,e.objective]);var f=i(function(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_ADD_PERSONALIZATION,data:{message:"Intro"}})},[]);return h.jsx(c("MessengerAdsPartialAutomatedIntroMessage.react"),{account:e.account,introMessage:e.introMessage,introVideoPreview:e.introVideoPreview,isExpanded:e.expandedSectionIDs.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE),isFirstChild:!e.showConvertFormsCard,pageID:e.pageID,sectionValidationErrors:a.sectionValidationErrors,showError:a.showError,onAddPersonalization:f,onIntroMessageChange:b,onIntroVideoRemove:c("emptyFunction")})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedStepsPreview",["fbt","AdsMessengerPartialAutomatedCreationTypes","CTMUtilsAndFeatureGating","CurrentUser","ImmutableObject","MercuryIDs","MessengerAdsPartialAutomatedStrings","isTruthy"],(function(a,b,c,d,e,f,g,h){"use strict";var i=180,j=170,k=106;function l(a){var b;if(a==null)return null;a=a.map(function(a){return{title:a,content_type:"text"}});a=(b={},b.quick_replies=a,b);return JSON.stringify(a)}function m(a,b,c){var d=null;c!=null&&b!=null&&(d=c(a,b));return d}function a(a,b,e,f,g,h,l,n,o){var p=[];if(b==null)return p;p.push(new(c("ImmutableObject"))({body:b.text,author:e,timestamp:Date.now()-1,message_id:h+":"+Date.now().toString(),message_type:o,key:Date.now()-1,thread_id:f,isFocused:n}));if(b.media_type==="text")return p;var q=null,r=k,s=j;if(b.media_type==="image"){a=m(a,b.media_content,g);b=1;a!=null&&(b=a.height/a.width,s=Math.min(a.width,i),r=b*s);q=a&&a.url||d("CTMUtilsAndFeatureGating").DEFAULT_IMAGE}else q=c("isTruthy")(l)?l:d("CTMUtilsAndFeatureGating").DEFAULT_VIDEO;p.push(new(c("ImmutableObject"))({attachments:[{attach_type:"photo",preview_height:r,preview_url:q,preview_width:s}],author:e,has_attachment:!0,message_id:h+"_image_"+Date.now().toString(),message_type:o,key:Date.now()-1,timestamp:Date.now()-1,thread_id:f,platform_xmd:JSON.stringify(null),isFocused:n}));return p}function b(a,b,e,f,g,i){var j=h._("Skip question");a="question_"+a.toString()+":"+Date.now().toString();var k=[];switch(b.answerType){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE:case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.MULTIPLE_CHOICE:if(b.optionsFormat==="carousel"){var o=b.answers&&b.answers[0];f=m(c("CurrentUser").getAccountID(),o==null?void 0:o.mediaContent,f);var p={id:0,action_link:"#",action_type:2,title:o==null?void 0:o.value};o={name:"",title:o==null?void 0:o.value,thumb_url:f&&f.url||d("CTMUtilsAndFeatureGating").DEFAULT_IMAGE,call_to_actions:[p]};return new(c("ImmutableObject"))({attachments:[{attach_type:"share",upload_id:0,share:{style_list:["business_message_items","fallback"],target:{items:[o]}}}],author:e,has_attachment:!0,message_id:"carousel_options_"+Date.now().toString(),message_type:i,key:Date.now()-1,timestamp:Date.now()-1,thread_id:d("MercuryIDs").getThreadIDFromUserID(c("CurrentUser").getAccountID()),body:b.questionMessage,platform_xmd:JSON.stringify(null),isFocused:g})}b.answers!=null&&(k=b.answers.map(function(a){return a.value}));b.optionalQuestionEnabled&&k.push(j.toString());return new(c("ImmutableObject"))({body:b.questionMessage,author:e,timestamp:Date.now()-1,message_id:a,message_type:i,key:Date.now()-1,thread_id:d("MercuryIDs").getThreadIDFromUserID(c("CurrentUser").getAccountID()),platform_xmd:l(k),isFocused:g});case"ZIP_CODE":case"CITY":case"STATE":case"COUNTRY":case"EMAIL":case"PHONE":case"JOB_TITLE":case"COMPANY_NAME":case"GENDER":case"DOB":case"FULL_ADDRESS":case"WORK_EMAIL":k.push(n((f=b.answerType)!=null?f:"",void 0)[0].toString());b.optionalQuestionEnabled&&k.push(j.toString());return new(c("ImmutableObject"))({body:b.questionMessage,author:e,timestamp:Date.now()-1,message_id:a,message_type:i,key:Date.now()-1,thread_id:d("MercuryIDs").getThreadIDFromUserID(c("CurrentUser").getAccountID()),platform_xmd:l(k),isFocused:g});case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CUSTOM:default:return new(c("ImmutableObject"))({body:b.questionMessage,author:e,timestamp:Date.now()-1,message_id:a,message_type:i,key:Date.now()-1,isFocused:g})}}function n(a,b,c){switch(a){case"CITY":return[h._("San Francisco")];case"COUNTRY":return[h._("US")];case"EMAIL":case"WORK_EMAIL":return[h._("test\u0040test.com")];case"PHONE":return[h._("555-555-5555")];case"STATE":return[h._("CA")];default:return d("MessengerAdsPartialAutomatedStrings").getAnswerTypeName(a,b,c)}}g.getMediaMessage=a;g.getQuestionMessage=b;g.getAnswerPreview=n}),98);
__d("ChatTypingIndicator.react",["cx","fbt","Image.react","MercuryIDs","MercuryTypingAnimation_DEPRECATED.react","MessengerParticipants.bs","MessengerPersonas.bs","QE2Logger","ReactComponentWithPureRenderMixin","createReactClass_DEPRECATED","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){var j=d("react");a=c("createReactClass_DEPRECATED")({displayName:"ChatTypingIndicator",mixins:[c("ReactComponentWithPureRenderMixin")],propTypes:{setBubbleRef:c("prop-types").func,isOnline:c("prop-types").bool,userID:c("prop-types").string,showName:c("prop-types").bool},componentDidMount:function(){d("QE2Logger").logExposureForUser("messenger_growth_tombstone")},render:function(){var a,b=this.getPersona();this.props.userID&&(a=d("MessengerParticipants.bs").getNow(this.props.userID));return!a&&!b?null:j.jsxs("div",{className:"_4tdt",children:[k(a,b),this._renderBubble()]})},getPersona:function(){var a=this.props.userID;return!a?null:d("MessengerPersonas.bs").getNow(d("MercuryIDs").getUserIDFromParticipantID(a))},_renderBubble:function(){var a=this.props,b=a.setBubbleRef;a=a.showName;return j.jsx("div",{className:"_4tdv",children:j.jsx("div",{className:"_5wd4 _1nc7 _2cnu"+(a?" _5ysy":""),children:j.jsx("div",{className:"_5wd9 _n4o",children:j.jsx("div",{className:"_5w1r _5wdf _3_om",children:j.jsx(c("MercuryTypingAnimation_DEPRECATED.react"),{className:"_5x7x",ref:b})})})})})}});function k(a,b){var d=b?b.name:a?a.name:null;b=b?b.profile_picture_url:a?a.image_src:null;a=a?a.href:null;d=i._("{name}",[i._param("name",d)]);return j.jsx("div",{className:"_31o4 _3njy",children:j.jsx("a",{"aria-label":d,className:"_4tdw","data-hover":"tooltip","data-tooltip-content":d,"data-tooltip-position":"left",href:a||"#",ref:"link",children:j.jsx(c("Image.react"),{src:b,ref:"image"})})})}k.displayName=k.name+" [from "+f.id+"]";b=a;g["default"]=b}),98);
__d("MessengerTypingUtils.bs",["bs_belt_Map","bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==void 0)return b("bs_belt_Map").keysToArray(b("bs_caml_option").valFromOption(a));else return[]}f.getTypingUserIDs=a}),null);
__d("ChatTypingIndicators.react",["cx","fbt","ChatConfig","ChatTypingIndicator.react","CurrentUser","DOM","MercuryIDs","MessengerEnvironment","MessengerParticipants.bs","MessengerPersonas.bs","MessengerState.bs","MessengerTypingUtils.bs","ReactDOM","TooltipData","emptyFunction","react"],(function(a,b,c,d,e,f,g,h,i){var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=!1,c.bubbleRefs={},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.$1=!0};e.componentWillUnmount=function(){this.$1=!1};e.shouldComponentUpdate=function(a){return a.threadID!==this.props.threadID||a.viewer!==this.props.viewer||a.rootClassName!==this.props.rootClassName||a.typingUserIDs!==this.props.typingUserIDs};e.componentDidUpdate=function(){var a=this,b=d("MessengerTypingUtils.bs").getTypingUserIDs(this.props.typingUserIDs);b.length>0?this.props.indicatorsDidShow():this.props.indicatorsDidHide();d("MessengerParticipants.bs").getMulti(b,function(c){a.$1&&b.forEach(function(b){var e=c[b],f=a.bubbleRefs[b];if(f&&e){b=d("MessengerPersonas.bs").getNow(d("MercuryIDs").getUserIDFromParticipantID(b));b=b?b.name:e.short_name;d("TooltipData").set(d("ReactDOM").findDOMNode(f),a.renderTooltip(b),"above","left")}})})};e.$2=function(){var a=this,b=d("MercuryIDs").isGroupChat(this.props.threadID);return j.jsx("div",{className:this.props.rootClassName,children:d("MessengerTypingUtils.bs").getTypingUserIDs(this.props.typingUserIDs).sort().map(function(c){return a.$3(c,!!b)})})};e.render=function(){if(!d("MercuryIDs").isValid(this.props.threadID))return null;var a=d("MessengerState.bs").getThreadMetaNow(c("CurrentUser").getID(),this.props.threadID);if(a&&!a.is_subscribed)return null;if(c("CurrentUser").isWorkUser()&&a!=null&&a.participants.length===1)return null;a=c("CurrentUser").isWorkUser()&&c("MessengerEnvironment").messengerui;if(!a&&d("ChatConfig").getBool("chat_tab_has_gradients"))return j.jsx("div",{className:"_4gd0",children:this.$2()});else return this.$2()};e.$3=function(a,b){var c=this,d=this.props.indicatorClass;return j.jsx(d,{setBubbleRef:function(b){c.bubbleRefs[a]=b},showName:b,userID:a},a)};e.renderTooltip=function(a){var b=c("DOM").create("span");d("ReactDOM").render(j.jsx("span",{children:i._("{name} is typing...",[i._param("name",a)])}),b);return b};return b}(j.Component);a.defaultProps={indicatorClass:c("ChatTypingIndicator.react"),indicatorsDidShow:c("emptyFunction"),indicatorsDidHide:c("emptyFunction")};g["default"]=a}),98);
__d("ChatTypingIndicatorsWrapper.bs",["ChatTypingIndicators.react","MessengerState.bs","bs_belt_MapString","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.indicatorClass,d=a.indicatorsDidHide,e=a.indicatorsDidShow,f=a.viewer,g=a.rootClassName,i=a.threadID;return h.jsx(b("MessengerState.bs").Provider.make,{fbid:f,children:function(a){return h.jsx(b("ChatTypingIndicators.react"),{indicatorClass:c,indicatorsDidShow:e,indicatorsDidHide:d,rootClassName:g,threadID:i,viewer:f,typingUserIDs:b("bs_belt_MapString").get(a.typing,i)},i)}})}c=a;d=a;f.make=c;f.jsComponent=d}),null);
__d("FantaPageGreetingLoader.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","getPageIDFromThreadID","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.thread;a=a.threadID;if(b!=null){b=((b=b)!=null?b.is_canonical_neo_user:b)||!1;if(b)return null}else return null;return c("getPageIDFromThreadID")(a)?i.jsx("div",{className:"_7bl4",children:i.jsx(c("BootloadOnRender.react"),{loader:c("JSResource")("MercuryPagesGreetingContainer.react").__setRef("FantaPageGreetingLoader.react"),placeholder:i.jsx("div",{}),component:i.jsx(c("LazyComponent.react"),{threadID:a})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MercuryMessageGroup",["MercuryAttachmentLayoutTypeHelper","MercuryShareAttachmentRenderLocations","MercuryThreadlistConstants","MessengerLightweightActionUtils","MessengerMessage.bs","enumerate"],(function(a,b,c,d,e,f){"use strict";var g={calculateMessageGroups:function(a,c){var d=[],e=null,f={value:null};a=b("enumerate")(a);var h;while(!(h=a.next()).done){var i=g.canAppendMessageToLastGroup(f.value,h.value,c);i||(e=[],d.push(e));e.push(h.value);f=h}return d},canAppendMessageToLastGroup:function(a,c,d){var e=b("MercuryThreadlistConstants").GROUPING_THRESHOLD;if(!a||h(a,d)||h(c,d)||a.author!=c.author||a.timestamp<c.timestamp-e||a.is_spoof_warning!==c.is_spoof_warning||a.page_admin_notes||c.replied_to_message||c.is_forwarded)return!1;d=b("MessengerMessage.bs").getPersona(a);e=b("MessengerMessage.bs").getPersona(c);return!d&&!e?!0:d===null||e===null?!1:d.id===e.id}};function h(a,c){var d=a.has_attachment;d&&(c===b("MercuryShareAttachmentRenderLocations").MESSENGER||c===b("MercuryShareAttachmentRenderLocations").CHAT)&&(d=i(a));return!!(b("MessengerLightweightActionUtils").isLWAMessage(a)||a.action_type=="ma-type:log-message"||d||a.html_body||a.body&&a.body.length>b("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK)}function i(a){a=a.attachments[0];return!a||a.attach_type==="sticker"||a.attach_type==="animated_image"||b("MercuryAttachmentLayoutTypeHelper").isAdminType(a)}e.exports=g}),null);
__d("MessengerParticipantUtils.bs",["MercuryIDs","bs_belt_Set","bs_caml_obj"],(function(a,b,c,d,e,f){"use strict";function g(a,c,d){var e=b("MercuryIDs").getParticipantIDFromUserID(a);a=d.participants.filter(function(a){return b("bs_caml_obj").caml_notequal(a,e)});return a.filter(function(a){return b("bs_belt_Set").has(c,a)})}d=b("bs_belt_Set").has;function h(a,b,c){if(c.is_canonical)return[];else return g(a,b,c)}function a(a,b,c){return h(a,b,c).length>0}function c(a,b,c){return g(a,b,c).length>0}f.findIntersection=g;f.has=d;f.participantsInGroupThread=h;f.areParticipantsInGroupThread=a;f.areParticipantsInThread=c}),null);
__d("MessengerPersistantViewerKeyedSubscriptionComponent.bs",["CurrentUser","RemoteAction.bs","bs_caml_option","bs_curry","bs_js_dict","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c={contents:0},d={},e=function(a,c){a=a!==void 0?b("bs_caml_option").valFromOption(a):b("CurrentUser").getID();var e=b("bs_js_dict").get(d,a);if(e!==void 0)return b("RemoteAction.bs").send(e.remoteAction,c);e=f(a,void 0,void 0);return b("RemoteAction.bs").send(e.remoteAction,c)},f=function(f,g,i){i=g!==void 0?b("bs_caml_option").valFromOption(g):b("RemoteAction.bs").create(void 0);var j=new Set(),k={contents:b("bs_curry")._1(a.initialState,f)};b("RemoteAction.bs").subscribe(function(c){var d=k.contents;k.contents=b("bs_curry")._2(a.reducer,c,d);if(k.contents!==d){j.forEach(function(a){return b("bs_curry")._1(a.fn,void 0)});return}},i);g=function(a,d){var e=h.useState(function(){return k.contents}),f=e[1],g=e[0],l=h.useCallback(function(c){if(a!==void 0)if(b("bs_curry")._2(a,g,k.contents))return b("bs_curry")._1(f,function(a){return k.contents});else return;else return b("bs_curry")._1(f,function(a){return k.contents})},[a,g,k.contents]);h.useEffect(function(){c.contents=c.contents+1|0;var a=c.contents,d={id:a,fn:l};j.add(d);b("bs_curry")._1(l,void 0);return function(a){j["delete"](d)}},[l]);return b("bs_curry")._1(d,g)};i={remoteAction:i,componentFunction:g};d[f]=i;var l=b("bs_caml_option").some(f);b("bs_curry")._2(a.onFirstMount,f,function(a){return e(l,a)});return i},g=function(a){var c=a.shouldUpdate,e=a.remoteAction,g=a.fbid;a=a.children;g=g!==void 0?b("bs_caml_option").valFromOption(g):b("CurrentUser").getID();var h=b("bs_js_dict").get(d,g);if(h!==void 0)return b("bs_curry")._2(h.componentFunction,c,a);else return b("bs_curry")._2(f(g,e,void 0).componentFunction,c,a)};g.displayName="MessengerPersistantViewerKeyedSubscriptionComponent("+(a.displayName+")");return{make:g,send:e}}f.Make=a}),null);
__d("OnlineUserIds.bs",["ParticipantId.bs","bs_belt_Set"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("bs_belt_Set").make(b("ParticipantId.bs"))}function c(a){return b("bs_belt_Set").fromArray(a,b("ParticipantId.bs"))}f.make=a;f.fromArray=c}),null);
__d("MessengerPresenceProvider.bs",["Arbiter","AvailableListConstants","FBID.bs","MercuryIDs","MessengerPersistantViewerKeyedSubscriptionComponent.bs","OnlineUserIds.bs","ParticipantId.bs","PresencePrivacy","PresenceStatus","bs_belt_Array","bs_belt_Option","bs_belt_Set","bs_caml_obj","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=["privacy-changed","privacy-availability-changed","privacy-user-presence-response"];function a(a){return b("OnlineUserIds.bs").make(void 0)}function c(a,c){if(!a)return b("bs_belt_Set").fromArray(b("bs_belt_Array").map(b("PresenceStatus").getOnlineIDs(),function(a){return b("MercuryIDs").getParticipantIDFromUserID(a)}),b("ParticipantId.bs"));a=a._0;var d=b("bs_caml_obj").caml_equal(b("PresenceStatus").get(a),b("AvailableListConstants").ACTIVE);if(d)return b("bs_belt_Set").add(c,b("MercuryIDs").getParticipantIDFromUserID(a));else return b("bs_belt_Set").remove(c,b("MercuryIDs").getParticipantIDFromUserID(a))}function d(a,c){b("PresencePrivacy").subscribe(i,function(a){return b("bs_curry")._1(c,0)}),b("bs_curry")._1(c,0),b("Arbiter").subscribe(b("AvailableListConstants").ON_AVAILABILITY_CHANGED,function(a,d){if(d==null)return;a=b("FBID.bs").ofStringExn(d);return b("bs_curry")._1(c,{_0:a})})}a=b("MessengerPersistantViewerKeyedSubscriptionComponent.bs").Make({initialState:a,reducer:c,onFirstMount:d,displayName:"MessengerPresenceProvider"});var j=a.make;function k(a,c,d,e,f){f={children:e};a!==void 0&&(f.shouldUpdate=b("bs_caml_option").valFromOption(a));c!==void 0&&(f.remoteAction=b("bs_caml_option").valFromOption(c));d!==void 0&&(f.fbid=b("bs_caml_option").valFromOption(d));return f}function l(a){var c=a.subscribeToIDs,d=a.remoteAction,e=a.fbid;a=a.children;d=k(function(a,d){if(c===void 0)return!1;d=b("bs_belt_Set").union(b("bs_belt_Set").diff(a,d),b("bs_belt_Set").diff(d,a));return!b("bs_belt_Set").isEmpty(b("bs_belt_Set").intersect(d,b("bs_caml_option").valFromOption(c)))},d,e,a,void 0);return h.createElement(j,d)}function e(a){var c=b("ParticipantId.bs"),d={children:a.children},e=b("bs_belt_Option").map(b("bs_caml_option").nullable_to_opt(a.subscribeToIDs),function(a){return b("bs_belt_Set").fromArray(a,c)});e!==void 0&&(d.subscribeToIDs=b("bs_caml_option").valFromOption(e));e=b("bs_caml_option").nullable_to_opt(a.fbid);e!==void 0&&(d.fbid=b("bs_caml_option").valFromOption(e));return l(d)}c=a.send;d=l;f.privacyEvents=i;f.send=c;f.makePropsOriginal=k;f.make=d;f.jsComponent=e}),null);
__d("MessageList.react",["cx","Actor","CurrentUser","MercuryIDs","MercuryMessageGroup","MercuryShareAttachmentRenderLocations","MessengerDomIDs.bs","MessengerLightweightActionUtils","MessengerMessage.bs","MessengerObjectAssociationType","MessengerParticipantUtils.bs","MessengerPresenceProvider.bs","ReactDOM","cr:1140097","cr:832269","gkx","immutable","nullthrows","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=2,k=1e3*60*60,l=6,m=function(a){var b;b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;switch(b){case"group_poll":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.question_id:b:b:b;case"instant_game_update":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.game_id:b:b:b;case"lightweight_event_create":case"lightweight_event_update":case"lightweight_event_delete":case"lightweight_event_update_time":case"lightweight_event_update_title":case"lightweight_event_update_location":case"lightweight_event_notify_before_event":case"lightweight_event_notify":case"lightweight_event_rsvp":return(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.event_id:b:b:b;case"confirm_friend_request":b=((b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.friend_request_subtype:b:b:b)||((b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.subtype:b:b:b);return!b||b.toLowerCase()!=="icebreaker"?null:p(a);case"messenger_icebreaker_vote_cast":return p(a);default:return null}},n=function(a){return d("MessengerLightweightActionUtils").isLWAMessage(a)?"lwa":null};a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={activeMessageID:null,messageGroups:[],prevMessages:null,newMessagesGroupIndex:Infinity,lastReadTimestamp:((b=d.props.thread)==null?void 0:b.last_read_timestamp)||Infinity,newMessagesCountForDisplay:0},d.$5=function(a){d.setState(function(b){return{activeMessageID:b.activeMessageID===a?null:b.activeMessageID}})},d.$6=function(a){d.setState({activeMessageID:a})},c)||babelHelpers.assertThisInitialized(d)}e.getDerivedStateFromProps=function(a,c){if(c.prevMessages!==a.messages)if(b("cr:832269")!=null){var e=c.lastReadTimestamp;c=a.location;var f=a.messages,g=a.thread,h=d("MercuryIDs").getParticipantIDFromUserID(a.viewer);(g==null?void 0:g.snippet_sender)===h&&(e=Infinity);g=f.findLast(function(a){return a.author===h});g&&g.timestamp>e&&(e=g.timestamp);g=a.messages.filter(function(a){return a.timestamp<=e});var i=a.messages.filter(function(a){return a.timestamp>e});g=d("MercuryMessageGroup").calculateMessageGroups(g,c);c=d("MercuryMessageGroup").calculateMessageGroups(i,c);i=i.filter(function(a){return a.log_message_type==null}).size;return{messageGroups:[].concat(g,c),prevMessages:f,newMessagesGroupIndex:g.length,newMessagesCountForDisplay:i,lastReadTimestamp:e}}else return{messageGroups:d("MercuryMessageGroup").calculateMessageGroups(a.messages,a.location),prevMessages:a.messages};else return null};var f=e.prototype;f.render=function(){var a=this,e=this.props,f=e.DateBreak,g=e.forGameChat,h=e.location,p=e.selectedMessageId,q=e.MessageGroup,v=e.CollapsedLogMessageGroup,w=[],x=[];e=this.props.thread&&this.props.thread.solid_color;var y=e?{backgroundColor:e}:null,z=this.state.activeMessageID,A=this.state.messageGroups,B=A.length,C=this.props.readReceipts;e=C.last();var D=e?e.watermark:0,E=d("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),F={};for(var e=this.props.messages.size-1;e>=0;e--){var G=this.props.messages.get(e),H=m(G)||n(G);H&&!F[H]&&(F[H]=G.message_id)}var I=function(m){var I=m>0?A[m-1]:null;I=I&&I.length>0?I[I.length-1]:null;var K=A[m],L=K[0],M=K[K.length-1],N=!1;b("cr:832269")!=null&&m>0&&m===a.state.newMessagesGroupIndex&&a.state.newMessagesCountForDisplay>0&&w.push(i.jsx("div",{ref:"newMessageDivider",children:i.jsx(b("cr:832269"),{newMessagesCount:a.state.newMessagesCountForDisplay})},"new-message-divider"));if(!I||L.timestamp-I.timestamp>k){N=!0;I=i.jsx(f,{date:new Date(L.timestamp),ref:"db:"+L.message_id},"db:"+L.message_id);x.length===0&&w.push(I)}I=n(L);if(I&&F[I]!==L.message_id){I=a.$1(L,F);w.push(I);return"continue"}if(L.action_type=="ma-type:log-message"){I=(H=L)!=null?(H=H.log_message_data)!=null?H.message_type:H:H;var O=(G=L)!=null?(G=G.log_message_data)!=null?(G=G.untypedData)!=null?G.friend_request_subtype:G:G:G,P=I==="parties_presence",Q=I==="instant_game_update",R=I==="group_poll";O=I==="messenger_icebreaker_vote_cast"||I==="confirm_friend_request"&&O&&O.toLowerCase()==="icebreaker";var S=["lightweight_event_create","lightweight_event_update","lightweight_event_delete","lightweight_event_update_time","lightweight_event_update_title","lightweight_event_update_location","lightweight_event_notify_before_event","lightweight_event_notify","lightweight_event_rsvp"].includes(I);if((h===d("MercuryShareAttachmentRenderLocations").CHAT||h===d("MercuryShareAttachmentRenderLocations").MESSENGER)&&(L.log_message_type==="log:video-call"||L.log_message_type==="log:phone-call"||I==="messenger_call_log")){I=a.$2(L,E,A,B,m,C,D,M,F,p);w.push(I)}else{I=a.$3(L,F);e=L.message_id;!Q&&!R&&!S&&!O&&x.push(I);if(P)return"continue";(x.length===K.length||Q||R||S||O)&&(a.$4(x,w,e,y,v),x=[]);(Q||R||S||O)&&w.push(I)}return"continue"}K=c("immutable").List(K);var T=r(A,B,m,F),U=!t(C,K,T),V=s(D,M),W=u(a.props.deliveryTimestamp,M),X=K.first().author,Y=d("MessengerMessage.bs").getPersona(M),Z=E===L.author;P=Z?0:l+j;var $=a.props.maxBubbleWidth?a.props.maxBubbleWidth-P:null;w.push(i.jsx(d("MessengerPresenceProvider.bs").jsComponent,{subscribeToIDs:X?[X]:null,children:function(b){return i.jsx(q,{activeMessageID:o(z,K),author:X,deliveryTimestamp:W,forGameChat:g,hasDateBreak:N,isCanonical:a.props.isCanonical,isFromViewer:Z,isPageMessage:a.props.isPageMessage,isLastMessageGroup:m===B-1,isOnline:X?d("MessengerParticipantUtils.bs").has(b,X):!1,lastReadTimestamp:V,maxBubbleWidth:$,messages:K,nextTimestamp:T,onReactionSwap:a.props.onReactionSwap,onAttachmentLoad:a.props.onAttachmentLoad,onMessageDeselect:a.$5,onMessageSelect:a.$6,onStickerClick:a.props.onStickerClick,onReplyToMessage:a.props.onReplyToMessage,pageID:a.props.isPageMessage===!0?a.props.viewer:null,persona:Y,readReceipts:U?C:c("immutable").OrderedMap(),ref:function(b){return a.refs["mg:"+L.message_id]=b},thread:a.props.thread,threadID:a.props.threadID,scrollToRepliedMessage:a.props.scrollToRepliedMessage,selectedMessageId:p,rolesIDWithColor:a.props.rolesIDWithColor},"mg:"+L.message_id)}},"pp:"+L.message_id))};for(var J=0;J<B;J++){var K=I(J);if(K==="continue")continue}K=this.props.thread;I=this.props.threadID||(K==null?void 0:K.thread_id)||(K==null?void 0:K.thread_fbid);J=null;h===d("MercuryShareAttachmentRenderLocations").MESSENGER&&I&&!this.props.isPageMessage&&b("cr:1140097")&&!c("gkx")("1332693")&&((K==null?void 0:K.object_association_type)===c("MessengerObjectAssociationType").GENERAL_CHAT||(K==null?void 0:K.work_associated_group)!=null)&&(K==null?void 0:(I=K.participants)==null?void 0:I.length)===1&&(J=i.jsx(b("cr:1140097"),{}));return i.jsx(d("Actor").ActorProvider,{initialActorID:c("CurrentUser").getID(),readonly:!0,children:i.jsxs("div",{id:h===d("MercuryShareAttachmentRenderLocations").MESSENGER?d("MessengerDomIDs.bs").ids.CONVERSATION:null,children:[J,w]})})};f.getNewMessageDivider=function(){return this.refs.newMessageDivider};f.getMessageElement=function(a,b){if(b===!0){var c=this.refs["db:"+a];if(c)return d("ReactDOM").findDOMNode(c)}c=this.$7(a);if(!c)return null;c=c[0].message_id;var e=this.refs["mg:"+c];if(!e)return null;return b===!0&&c===a?d("ReactDOM").findDOMNode(e):e.getMessageElement(a)};f.getMessageComponent=function(a){var b=this.$7(a);if(!b)return null;b=b[0].message_id;b=this.refs["mg:"+b];return!b?null:b.getMessage(a)};f.$7=function(a){return this.state.messageGroups.find(function(b){return b.some(function(b){return b.message_id===a})})};f.$4=function(a,b,c,d,e){a.length!==0&&(a.length>1?b.push(i.jsx(e,{style:d,children:a},"mg:"+c)):b.push(i.jsx("div",{children:a},"mg:"+c)))};f.$2=function(a,b,e,f,g,h,j,k,l,m){var n=this,o,p,q=this.props.MessageGroup;p=((p=a)!=null?(p=p.log_message_data)!=null?p.untypedData:p:p)||{};o=(o=a)!=null?(o=o.log_message_data)!=null?o.message_type:o:o;if(o==="messenger_call_log"){o={message_type:"messenger_call_log",call_capture_attachments:p.call_capture_attachments,caller:d("MercuryIDs").getParticipantIDFromUserID(c("nullthrows")(p.caller_id,"caller id")),callee:d("MercuryIDs").getParticipantIDFromUserID(c("nullthrows")(p.callee_id,"callee id")),server_info_data:p.server_info,thread_id:a.thread_fbid,answered:p.event!=="missed_call",log_message_type:p.video?"log:video-call":"log:phone-call",event:p.event,added_participants:null,removed_participants:null,untypedData:null,image:null,name:null};a=babelHelpers["extends"]({},a,{log_message_data:o})}p={attach_type:"share",share:{style_list:["rtc_call_log","fallback"],log_message_body:a.log_message_body,log_message_data:a.log_message_data,log_message_type:a.log_message_type,timestamp:a.timestamp}};o=babelHelpers["extends"]({},a,{attachments:[p],body:""});var v=c("immutable").List([o]),w=r(e,f,g,l),x=!t(h,v,w),y=s(j,k),z=u(this.props.deliveryTimestamp,k),A=v.first().author;return i.jsx(d("MessengerPresenceProvider.bs").jsComponent,{subscribeToIDs:A?[A]:null,children:function(e){return i.jsx(q,{author:v.first().author,deliveryTimestamp:z,forGameChat:n.props.forGameChat,isCanonical:n.props.isCanonical,isFromViewer:b===a.author,isOnline:A?d("MessengerParticipantUtils.bs").has(e,A):!1,isPageMessage:n.props.isPageMessage,lastReadTimestamp:y,maxBubbleWidth:n.props.maxBubbleWidth,messages:v,nextTimestamp:w,onAttachmentLoad:n.props.onAttachmentLoad,onMessageDeselect:n.$5,onMessageSelect:n.$6,onStickerClick:n.props.onStickerClick,readReceipts:x?h:c("immutable").OrderedMap(),selectedMessageId:m,thread:n.props.thread,threadID:n.props.threadID})}},a.message_id)};f.$3=function(a,b){var c=this.props.LogMessage,e=m(a);b=e?b[e]:null;return a.log_message_type!=="log:error-msg"?i.jsx(c,{className:this.props.location===d("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,isPageMessage:this.props.isPageMessage,thread:this.props.thread,isLastOfType:b===a.message_id},a.message_id):null};f.$1=function(a,b){b=b[c("nullthrows")(n(a),"other group id first message")];var e=this.props.LogMessage;return i.jsx(e,{className:this.props.location===d("MercuryShareAttachmentRenderLocations").CHAT?"_5w0o":null,onLogMessageExpanded:this.props.onAttachmentLoad,loadMoreMessages:this.props.loadMoreMessages,message:a,onImageLoad:this.props.onAttachmentLoad,viewer:this.props.viewer,thread:this.props.thread,isLastOfType:b===a.message_id},a.message_id)};return e}(i.PureComponent);a.propTypes={CollapsedLogMessageGroup:c("prop-types").func.isRequired,DateBreak:c("prop-types").func.isRequired,deliveryTimestamp:c("prop-types").number.isRequired,forGameChat:c("prop-types").bool,isCanonical:c("prop-types").bool,isPageMessage:c("prop-types").bool,location:c("prop-types").string.isRequired,LogMessage:c("prop-types").func.isRequired,loadMoreMessages:c("prop-types").func,MessageGroup:c("prop-types").func.isRequired,messages:c("prop-types").instanceOf(c("immutable").List).isRequired,onReactionSwap:c("prop-types").func,onAttachmentLoad:c("prop-types").func,onStickerClick:c("prop-types").func,onReplyToMessage:c("prop-types").func,readReceipts:c("prop-types").instanceOf(c("immutable").OrderedMap).isRequired,viewer:c("prop-types").string.isRequired,thread:c("prop-types").object,threadID:c("prop-types").string,scrollToRepliedMessage:c("prop-types").func,rolesIDWithColor:c("prop-types").any};function o(a,b){return b.find(function(b){return b.message_id===a})?a:null}function p(a){return(a=a)!=null?(a=a.log_message_data)!=null?(a=a.untypedData)!=null?a.icebreaker_type:a:a:a}function q(a){var b=(a==null?void 0:a.action_type)==="ma-type:log-message";a=(a==null?void 0:(a=a.log_message_data)==null?void 0:a.message_type)==="messenger_call_log";return b&&!a}function r(a,b,c,d){if(c>=b-1)return Infinity;var e=a[c+1][0],f=n(e);if(f&&d[f]!==e.message_id||q(e))return r(a,b,c+1,d);else return e.timestamp}function s(a,b){return b.timestamp>a?a:Infinity}function t(a,b,c){return b.isEmpty()||!a.isEmpty()&&(a.last().action<b.first().timestamp||a.first().action>=c)}function u(a,b){return b.timestamp>a?a:Infinity}g["default"]=a}),98);
__d("MessengerAdsMessageSeenThreadFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743992");c=b("FalcoLoggerInternal").create("messenger_ads_message_seen_thread",a);e.exports=c}),null);
__d("EmojiSticker.react",["cx","Image.react","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.componentDidMount=function(){this.props.onAttachmentLoad&&this.props.onAttachmentLoad()};d.render=function(){var a=this.props.emojiImage?this.props.emojiImage:i.jsx(c("Image.react"),{src:this.props.sourceURI});return i.jsx("div",{"aria-label":this.props.emoji,className:c("joinClasses")(this.props.className,"_383m"),tabIndex:"0",children:a})};return b}(i.Component);a.propTypes={emoji:c("prop-types").string,emojiImage:c("prop-types").any,onAttachmentLoad:c("prop-types").func,sourceURI:c("prop-types").string.isRequired};g["default"]=a}),98);
__d("MessengerErrorBoundary.react",["cx","fbt","ChatReliabilityInstrumentation","ErrorBoundary.react","LogHistory","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("LogHistory").getInstance("messenger_error_boundary"),l=function(a){return i._({"conversation list":"Could not display conversation list.","conversation":"Could not display conversation.","composer":"Could not display composer.","conversation information":"Could not display conversation information.","attachment":"Could not display attachment.","pinned conversation list":"Could not display pinned conversation list.","video":"Could not display video."},[i._enum(a,{"conversation list":"conversation list",conversation:"conversation",composer:"composer","conversation information":"conversation information",attachment:"attachment","pinned conversation list":"pinned conversation list",video:"video"})])},m=function(a,b){return function(){return j.jsx("div",{className:c("joinClasses")("_5jpt",b),children:a})}};a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$1=function(a,b){var e="React error in "+b+" got "+a.message;k.error(e,JSON.stringify(a));d("ChatReliabilityInstrumentation").logERROR(e);c.props.onHandleError&&c.props.onHandleError(a,b)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props,b=a.className;a=a.component;return j.jsx(c("ErrorBoundary.react"),{fallback:m(l(a),b),onError:this.$1,children:this.props.children})};return b}(j.Component);g["default"]=a}),98);
__d("MercuryShareAttachment.react",["cx","BootloadedComponent.react","DOM","Event","FlexLayout.react","MercuryShareAttachmentReactShape","MercuryShareAttachmentRenderLocations","MercuryShareStyleMap","MessengerErrorBoundary.react","ReactDOM","WorkChatRedesignedMessageListCheck.re","emptyFunction","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$3=function(a){e.$1(a),c("DOM").scry(d("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(e)),"img").forEach(function(a){var b=c("Event").listen(a,"load",function(){e.$1(a.height),b.remove()})})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){this.$1()};e.$2=function(a,b){this.props.location===d("MercuryShareAttachmentRenderLocations").MESSENGER&&!this.props.isSubattachment&&(b=c("joinClasses")((d("WorkChatRedesignedMessageListCheck.re").enabled?"":"_52mr")+" _2poz _ui9","_4skb",b));return i.jsxs("div",{className:b,children:[a,this.props.afterDecorators!=null&&this.props.afterDecorators.length>1?i.jsx(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_7moe",children:this.props.afterDecorators}):this.props.afterDecorators]})};e.render=function(){var a=d("MercuryShareStyleMap").getStyleFactory(this.props.attachment);if(!a)return null;var b=a.attachment;a=a.factory;return this.$2(i.jsx(c("MessengerErrorBoundary.react"),babelHelpers["extends"]({},this.props,{component:"attachment",children:i.createElement(c("BootloadedComponent.react"),babelHelpers["extends"]({},this.props,{attachment:b,bootloadLoader:a.componentLoader,bootloadPlaceholder:i.jsx("div",{}),key:(b=this)!=null?(b=b.props)!=null?(b=b.attachment)!=null?b.share_id:b:b:b,module:a.componentName,onComponentLoad:this.$3}))})),a.cx&&a.cx.get(this.props.location))};e.$1=function(a){this.props.onComponentLoaded(a)};return b}(i.Component);a.propTypes={attachment:c("MercuryShareAttachmentReactShape"),isFromViewer:c("prop-types").bool,isPageMessage:c("prop-types").bool,isSponsored:c("prop-types").bool,isSubattachment:c("prop-types").bool,isVisible:c("prop-types").bool,location:c("prop-types").oneOf(d("MercuryShareAttachmentRenderLocations").getValues()),messageID:c("prop-types").string,onComponentLoaded:c("prop-types").func.isRequired,onSelect:c("prop-types").func,pageID:c("prop-types").string,threadID:c("prop-types").string.isRequired,afterDecorators:c("prop-types").array,timestamp:c("prop-types").number,author:c("prop-types").string,thread:c("prop-types").object};a.defaultProps={onComponentLoaded:c("emptyFunction")};g["default"]=a}),98);
__d("MessengerErrorAttachment.react",["cx","fbt","CurrentUser","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.props.attachment.error_msg||i._("This attachment could not be loaded.");return j.jsx("div",{className:"_1o12 _52mr",children:j.jsxs("div",{className:"_1o13",children:[a,this.$1()]})})};d.$1=function(){return!this.props.attachment.error_msg&&c("CurrentUser").isEmployee()&&c("CurrentUser").hasWorkUser()&&!c("CurrentUser").isWorkUser()?j.jsx("div",{children:i._("It was probably meant for your \u0040workplace account.")}):null};return b}(j.PureComponent);g["default"]=a}),98);
__d("MessengerFileAttachment.bs",["cx","Link.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.attachment;var c=a.name;c=c==null?null:c;a=a.url;if(a==null)return null;else return i.jsxs(b("Link.react"),{className:"_4pcn _2uf4",href:a.toString(),target:"_blank",children:[i.jsx("div",{className:"_2uf5"}),c]})}c=a;f.make=c}),null);
__d("MessengerFileAttachment.re",["MessengerFileAttachment.bs"],(function(a,b,c,d,e,f){a=b("MessengerFileAttachment.bs").make;f.make=a}),null);
__d("MessengerFromViewerUtils",["CurrentUser","MercuryIDs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.author===d("MercuryIDs").getParticipantIDFromUserID(c("CurrentUser").getID())}g.isFromViewer=a}),98);
__d("HotLikeSound",["MercurySoundsConfig","SoundPlayer","StickerConstants"],(function(a,b,c,d,e,f,g){"use strict";var h=[c("MercurySoundsConfig").hot_like_grow_mp3_url,c("MercurySoundsConfig").hot_like_grow_ogg_url],i=[c("MercurySoundsConfig").hot_like_pop_mp3_url,c("MercurySoundsConfig").hot_like_pop_ogg_url],j=[c("MercurySoundsConfig").hot_like_outgoing_small_mp3_url,c("MercurySoundsConfig").hot_like_outgoing_small_ogg_url],k=[c("MercurySoundsConfig").hot_like_outgoing_medium_mp3_url,c("MercurySoundsConfig").hot_like_outgoing_medium_ogg_url],l=[c("MercurySoundsConfig").hot_like_outgoing_large_mp3_url,c("MercurySoundsConfig").hot_like_outgoing_large_ogg_url],m=function(){return!1};function a(a){m=a}function b(){o(h)}function n(){d("SoundPlayer").stop(h)}function e(){n(),o(i)}function f(a){n(),a===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID&&o(j),a===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID&&o(k),a===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID&&o(l)}function o(a){m()&&d("SoundPlayer").play(a)}g.setCheckSoundEnabledFunc=a;g.start=b;g.stop=n;g.pop=e;g.snap=f;g._play=o}),98);
__d("MWLikeSvgIcon.bs",["cr:1828791"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1828791").make;f.$MDSLikeSvgIcon$OR$FBLikeSvgIcon$requireCond=b("cr:1828791");f.make=a}),null);
__d("MessengerHotLikeSVGReact.bs",["cssVar","cx","fbt","CurrentUser","MWLikeSvgIcon.bs","MessengerEnvironment","bs_belt_Option","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=i._("Thumbs up sign");function a(a){var c=a.className;a=a.color;var d,e=0;a==null||a===""?e=1:d=a;e===1&&(d=b("CurrentUser").isWorkUser()?"#373e4c":b("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");a={children:k.jsx(b("MWLikeSvgIcon.bs").make,{color:d,size:"100%",title:l}),className:b("joinClasses")(b("bs_belt_Option").getWithDefault(c,""),"_1i1j")};a["data-testid"]="messenger_hotlike_svg";return k.jsx("div",a)}c="transparent";d=a;f.cTRANSPARENT=c;f.label=l;f.make=d}),null);
__d("MessengerHotLikeSVGReact.re",["MessengerHotLikeSVGReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerHotLikeSVGReact.bs").make;f.make=a}),null);
__d("MessengerHotLikePreview.react",["cx","Animation","ChatConfig","CurrentUser","EmojiLikeConstants","HotLikeSound","MercuryShareAttachmentRenderLocations","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikePreviewEvents","MessengerHotLikeSVGReact.re","MessengerHotLikeUtils","MessengerSupportedEmojiUtils","ReactDOM","StickerConstants","SubscriptionsHandler","gkx","prop-types","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,j=b("MessengerHotLikeSVGReact.re").make,k=h||(h=b("react"));a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.$5=function(){d.$6=new(b("Animation"))(b("ReactDOM").findDOMNode(babelHelpers.assertThisInitialized(d))),(!b("ChatConfig").getBool("chat_tab_has_gradients")||d.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER)&&(d.$7(-2,2,150,1e3),d.$7(-4,4,100,1e3),d.$7(-10,10,75,1e3)),d.$6.go()},d.$2=function(a,c){var e=c?b("MessengerHotLikePreviewEvents").FINISH_EMOJI_ANIMATION:b("MessengerHotLikePreviewEvents").FINISH_ANIMATION;if(d.$8)return;d.$8=!0;c=Date.now()-d.props.since;var f=null;d.props.customLike&&(f=b("MessengerHotLikeUtils").getEmojiSizeForTime(c));var g=b("MessengerHotLikeUtils").getStickerIDForTime(c);b("HotLikeSound").snap(g);c=b("MessengerHotLikeUtils").getMetadataForHotLike(f||g);d.$6.stop();var h=30,i=-10;(g===b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||b("ChatConfig").getBool("chat_tab_has_gradients"))&&(h=0,i=0);d.$4.stop().to("width",c.width*1.2).to("height",c.height*1.2).to("rotateZ",h).duration(100).checkpoint().to("width",c.width*.9).to("height",c.height*.9).to("rotateZ",i).duration(100).checkpoint().to("width",c.width).to("height",c.height).to("rotateZ",0).duration(100).ondone(function(){d.props.forGameChat||b("MessengerHotLikePreviewEvents").emit(e,a,g,f)}).go()},d.$3=function(a){b("HotLikeSound").pop(),d.$4.stop().to("width",0).to("height",0).duration(100).ondone(function(){b("MessengerHotLikePreviewEvents").emit(b("MessengerHotLikePreviewEvents").REMOVE,a)}).go()},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions((a=b("MessengerHotLikePreviewEvents")).addListener(a.STOP,this.$2),a.addListener(a.STOP_EMOJI,this.$2),a.addListener(a.POP,this.$3));b("HotLikeSound").start();this.$4=new(b("Animation"))(b("ReactDOM").findDOMNode(this)).to("width",80).to("height",80).duration(3e3).go();this.$5()};d.componentWillUnmount=function(){this.$1&&this.$1.release()};d.render=function(){if(this.props.customLike){var a=this.props.customLike,c=b("MessengerSupportedEmojiUtils").getNewEmojiData(a.emoji,b("EmojiLikeConstants").size.LARGE);c=c?c.url:this.props.customLike.large;a.uri&&(c=a.uri);return k.jsx("div",{className:"_4a9g _383m",style:{backgroundImage:"url("+c+")"}})}a=(b("gkx")("1072568")||!b("CurrentUser").isWorkUser())&&this.props.thread!=null?k.jsx(i,{thread:this.props.thread}):k.jsx(j,{color:this.props.customColor});return k.jsx("div",{className:"_4a9g _576q",children:a})};d.$7=function(a,b,c,d){d=Math.floor(d/c);var e;for(var f=0;f<d;f++)e=f%2?a:b,this.$6.to("rotateZ",e).duration(c).checkpoint()};return c}(k.Component);a.propTypes={customLike:b("prop-types").object,forGameChat:b("prop-types").bool,since:b("prop-types").number};e.exports=a}),null);
__d("ChatSpeakingSticker.react",["ReactDOM","prop-types","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$1=function(){var a=d("ReactDOM").findDOMNode(c.refs.stickerVideo);a.play()},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.render=function(){return h.jsx("div",{onClick:this.$1,role:"presentation",children:h.jsx("video",{height:this.props.videoSize.height,ref:"stickerVideo",width:this.props.videoSize.width,children:h.jsx("source",{src:this.props.videoURI})})})};return b}(h.PureComponent);a.propTypes={videoURI:c("prop-types").string.isRequired,videoSize:c("prop-types").shape({height:c("prop-types").number,width:c("prop-types").number}).isRequired};g["default"]=a}),98);
__d("ChatSpeakingStickerReact.bs",["ChatSpeakingSticker.react","ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return b("ReasonReact.bs").wrapJsForReason(b("ChatSpeakingSticker.react"),{videoURI:a,videoSize:c},d)}f.make=a}),null);
__d("MercuryAttachmentPayload.bs",["bs_caml_option"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=c!==void 0?b("bs_caml_option").valFromOption(c):null;return{app_attribution:null,attach_type:a,blurred_image_uri:null,deduplication_key:null,description:null,icon_type:null,key:c,large_preview_height:null,large_preview_width:null,large_preview_url:null,media:null,metadata:null,message_file_fbid:null,name:null,photo_encodings:null,preview_height:null,preview_uploading:null,preview_url:null,preview_width:null,rel:null,share:null,source:null,target:null,thumbnail_url:null,title:null,upload_id:null,uri:null,url:d,video_title:null}}f.create=a}),null);
__d("MessagesViewerSetID",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSAGES:"messages",MESSAGES_VIEW_ALL_IN_THREAD:"messages:view_all_in_thread"});f["default"]=a}),66);
__d("MessagesViewer",["AsyncRequest","DOM","PhotoStore","ReactDOM","ge","react"],(function(a,b,c,d,e,f){var g,h=g||b("react");a={renderSpotlight:function(a,c,d,e){var f=a.setID;f||(f="messages");i(h.jsx(d,{actorid:a.actorid,dimensions:[a.dimensions],disablepaging:a.disablePaging,disableForward:a.disableForward,forwardDialogComponent:e,open:!0,photoid:a.fbid,reverse:!1,rootClassName:a.rootClassName,setid:f,snapToPhoto:a.snapToPhoto,thumbsrc:a.src}));if(!b("PhotoStore").hasBeenCreated(f)&&a.endpoint){d=new(b("AsyncRequest"))(a.endpoint);c&&d.setRelativeTo(c);d.send()}},renderVideo:function(a){i(a)}};function i(a){var c=b("ge")("messages_viewer");c||(c=b("DOM").create("div",{id:"messages_viewer"}),document.body.appendChild(c));b("ReactDOM").render(a,c,function(){this.subscribeOnce("close",function(){b("ReactDOM").unmountComponentAtNode(c)})})}e.exports=a}),null);
__d("MessengerAttachmentViewer",["Bootloader","MessagesViewer","Run","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){c("Bootloader").loadModules(["MessagingVideoViewer.react","MessengerForwardAttachmentDialogReact.bs"],function(b,c){c=c.jsComponent;d("MessagesViewer").renderVideo(h.jsx(b,babelHelpers["extends"]({},a,{forwardDialogComponent:c})))},"MessengerAttachmentViewer")}function b(a,b){c("Bootloader").loadModules(["SpotlightMessagesViewer","MessengerForwardAttachmentDialogReact.bs"],function(c,e){e=e.jsComponent;d("MessagesViewer").renderSpotlight(a,b,c,e)},"MessengerAttachmentViewer")}function e(){d("Run").onAfterLoad(function(){c("Bootloader").loadModules(["MessagingVideoViewer.react","SpotlightMessagesViewer","MessengerForwardAttachmentDialogReact.bs"],c("emptyFunction"),"MessengerAttachmentViewer")})}g.renderVideo=a;g.bootstrapWithConfig=b;g.preload=e}),98);
__d("MessengerBusinessHideImageBootloaded.react",["cx","CssBackgroundImage.react","ErrorBoundary.react","JSResource","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("lazyLoadComponent")(c("JSResource")("MessengerBusinessHideImage.react").__setRef("MessengerBusinessHideImageBootloaded.react"));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return i.jsx(c("ErrorBoundary.react"),{children:i.jsx(i.Suspense,{fallback:i.jsx(c("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:this.props.thumbnail,className:"_3v3t"}),children:i.jsx(j,{fbid:this.props.fbid,renderSmall:this.props.renderSmall})})})};return b}(i.Component);g["default"]=a}),98);
__d("MessengerBusinessHideImageReact.bs",["MessengerBusinessHideImageBootloaded.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerBusinessHideImageBootloaded.react"),{fbid:b("bs_js_null_undefined").fromOption(a),renderSmall:d,thumbnail:b("bs_js_null_undefined").fromOption(c)},e)}f.make=a}),null);
__d("SphericalPhotoViewerInMessengerThreadBootloaded.react",["cx","BootloadedComponent.react","CssBackgroundImage.react","JSResource","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){if(this.props.photoEncodings&&this.props.thumbnail){var a=this.props.photoEncodings.find(function(a){return a.projection_type==="perspective"}),b=null,d=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;b=a[0]?a[0].uri:null;d=a[1]?a[1].uri:null}if(this.props.useRenderer&&this.props.width&&this.props.height&&this.props.fbid){a=d||b||this.props.thumbnail;return i.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("SphericalPhotoViewerInMessengerThreadWrapper.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:i.jsx(c("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),height:this.props.height,width:this.props.width,fbid:this.props.fbid,thumbnail:a,photoEncodings:this.props.photoEncodings,isVisible:this.props.isVisible,onClickHandler:this.props.onClickHandler})}else{a=b||d||this.props.thumbnail;return i.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("SphericalPhotoMessengerThumbnail.react").__setRef("SphericalPhotoViewerInMessengerThreadBootloaded.react"),bootloadPlaceholder:i.jsx(c("CssBackgroundImage.react"),{backgroundPosition:"center",imageURI:a,className:"_3v3t"}),photoEncodings:this.props.photoEncodings,thumbnail:a})}}return null};return b}(i.Component);g["default"]=a}),98);
__d("MessengerSphericalPhotoReact.bs",["ReasonReact.bs","SphericalPhotoViewerInMessengerThreadBootloaded.react","Utils.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j){var k;return b("ReasonReact.bs").wrapJsForReason(b("SphericalPhotoViewerInMessengerThreadBootloaded.react"),{height:(k=b("bs_js_null_undefined")).fromOption(a),width:k.fromOption(c),fbid:k.fromOption(d),thumbnail:k.fromOption(e),photoEncodings:k.fromOption(f),isVisible:b("Utils.bs").optionBoolToBool(g),onClickHandler:h,useRenderer:i},j)}f.make=a}),null);
__d("MessengerPhotoReact.bs",["cx","fbt","Image.bs","Link.react","MercuryAttachmentType","MercurySourceType","MessengerBusinessHideImageReact.bs","MessengerSourceContext.bs","MessengerSphericalPhotoReact.bs","MessengerSpinnerReact.bs","MessengerSurfaceQuickChat.bs","ReasonReact.bs","Utils.bs","bs_caml","bs_caml_array","bs_caml_option","bs_curry","cssURL","gkx","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a,c){var d=a.metadata;if(d==null)return null;else if(a.attach_type===b("MercuryAttachmentType").VIDEO)if(c&&!(d.large_preview==null))return d.large_preview;else return d.inbox_preview;else if(c)return a.large_preview_url;else return a.preview_url}function l(a){if(a==null)return[null,null];else return[a.width,a.height]}function m(a){var c=window.screen.width>1800;if(b("Utils.bs").isTruthy(a.preview_uploading)){var d=function(a,b){if(a==null)return b;else return a};if(c&&!(a.large_preview_url==null))return{width:d(a.large_preview_width,480),height:d(a.large_preview_height,480),src:a.large_preview_url,renderLargePreview:c};else return{width:d(a.preview_width,280),height:d(a.preview_height,280),src:a.preview_url,renderLargePreview:c}}d=k(a,c);var e=!(d==null),f=a.metadata;if(e&&!(f==null)){e=c&&!(f.large_size==null)?f.large_size:f.inbox_size;f=l(e);return{width:f[0],height:f[1],src:d,renderLargePreview:c}}if(!(a.preview_url==null))if(c&&!(a.large_preview_url==null))return{width:a.large_preview_width,height:a.large_preview_height,src:a.large_preview_url,renderLargePreview:c};else return{width:a.preview_width,height:a.preview_height,src:a.preview_url,renderLargePreview:c};e=a.media;if(e==null)return;if(!(e.playable==null)&&!(e.animated_image==null)){f=l(e.animated_image_size);return{width:f[0],height:f[1],src:e.animated_image,renderLargePreview:c}}d=l(e.image_size);return{width:d[0],height:d[1],src:e.image,renderLargePreview:c}}function n(a){if(b("Utils.bs").isTruthy(a.preview_uploading)){var c=a.preview_url==null?280:0;return""+c}var d=function(a){var b=a[1];a=a[0];if(!(a==null)&&!(b==null))return[a,b]};c=function(a){if(a!==void 0)return d([a.width,a.height])};c=a.media==null?d([a.preview_width,a.preview_height]):c(m(a));if(c===void 0)return;a=b("bs_caml").caml_float_min(c[1]*b("bs_caml").caml_float_min(1,450/c[0]),450);return""+a}function o(a,b){if(b>480)return[a*480/b,480];else return[a,b]}function p(a){var c=a.metadata,d=a.isAnimated,e=a.className,f=a.attachment;a=a.isSingle;var g=j.useContext(b("MessengerSourceContext.bs").context);g=g===b("MercurySourceType").MESSENGER_ROOM_INCALL_CHAT||g===b("MercurySourceType").WORK_ROOM_INCALL_CHAT;var h=b("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface(void 0);b("Utils.bs").isTruthy(f.preview_uploading);var i=c.src;if(i==null)return null;if(!a)return null;a=c.renderLargePreview?window.screen.height*.7:window.screen.height*.65;c=h||g?{maxHeight:""+a,maxWidth:"160px",width:"100%"}:{maxHeight:""+a,maxWidth:"100%",width:"100%"};var k;if(h||g)k={maxWidth:"160px"};else{a=f.preview_width;h=f.preview_height;g=b("gkx")("1709618");if(a==null)k=c;else{f=0;if(h==null||!g)f=1;else{h=o(a,h);k={height:b("bs_caml_array").get(h,1).toString()+"px",maxHeight:480..toString()+"px",maxWidth:"100%",width:b("bs_caml_array").get(h,0).toString()+"px"}}f===1&&(k=g?c:{maxWidth:"100%",width:a.toString()+"px"})}}return j.jsx("div",{style:k,children:b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make(b("joinClasses")(e,d?"":"_5pf5"),"",void 0,void 0,i,void 0,void 0,void 0,b("bs_caml_option").some(c),[]))})}function a(a){var c=a.className,d=a.attachment,e=a.isSingle,f=a.isVisible,g=a.onAttachmentLoad,i=a.onClick;a=a.children;c=c!==void 0?c:"";j.useEffect(function(){g!==void 0&&b("bs_curry")._1(g,void 0)},[]);var k=m(d);if(k!==void 0){var l=d.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE,o=!(d.app_attribution==null),q=d.photo_encodings;q=q==null?!1:q.length!==0;var r=d.blurred_image_uri;r=!(r==null);if((!l||!e)&&!q){var s=k.src;s=s==null?void 0:b("cssURL")(s);var t=e?n(d):void 0;s=[s,t]}else s=[void 0,void 0];t={};var u=s[0];u!==void 0&&(t.backgroundImage=u);u=s[1];u!==void 0&&(t.minHeight=u);s=t;u=b("Utils.bs").isTruthy(d.preview_uploading)?j.jsx("span",{className:"_7atr",children:j.createElement(b("MessengerSpinnerReact.bs").make,{})}):null;t=l?b("MercuryAttachmentType").ANIMATED_IMAGE:void 0;var v=function(a){if(i!==void 0)return b("bs_curry")._1(i,d)},w=function(a){a.preventDefault();return v(void 0)};if(q){var x=k.src,y=d.metadata,z;if(y==null)z=void 0;else{y=y.fbid;z=y==null?void 0:b("bs_caml_option").some(y)}y=d.photo_encodings;z=b("ReasonReact.bs").element(void 0,void 0,b("MessengerSphericalPhotoReact.bs").make(400,400,z,x==null?void 0:b("bs_caml_option").some(x),y==null?void 0:b("bs_caml_option").some(y),f,v,e,[]))}else if(r){x=d.metadata;if(x==null)y=void 0;else{f=x.fbid;y=f==null?void 0:b("bs_caml_option").some(f)}x=k.src;z=b("ReasonReact.bs").element(void 0,void 0,b("MessengerBusinessHideImageReact.bs").make(y,x==null?void 0:b("bs_caml_option").some(x),!1,[]))}else z=j.createElement(p,{metadata:k,isAnimated:e&&l,className:(o?"_mxz":"")+(e&&!o?" _52mr":"")+(e&&!o?" _1byr":""),attachment:d,isSingle:e});if(r)f=null;else{y={"aria-label":h._("Open photo"),className:"_4tsl",children:a};x=b("bs_caml_option").nullable_to_opt(k.src);x!==void 0&&(y.href=b("bs_caml_option").valFromOption(x));f=j.createElement(b("Link.react"),y)}return j.cloneElement(j.jsxs("div",{className:b("joinClasses")(c,"_4tsk"+(o?" _mxz":"")+(e&&!o?" _52mr":"")+(e&&!o?" _1byr":"")+(b("Utils.bs").isTruthy(d.preview_uploading)&&k.src==null?" _3etv":"")+(q&&!e?" _3603":"")),onClick:w,role:"presentation",style:s,children:[j.jsx("div",{className:q&&!e?"_64ks":""}),f,z,u]}),{"data-testid":t})}return null}c=280;d=480;e=1800;g=450;var q=p;a=a;f.preview_thumbnail_size=c;f.preview_large_size=d;f.large_window_width=e;f.max_photo_width=g;f.getSrcFromAttachment=k;f.sizeToWidthHeight=l;f.extractPreviewMetadata=m;f.getMinHeightForAttachment=n;f.computeDimensions=o;f.getImageFromMetadata=q;f.make=a}),null);
__d("MessengerFluxReduceDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("ExplicitRegistrationReactDispatcher"));b=new a({strict:!1});g["default"]=b}),98);
__d("MessengerSharedMediaActions",["MessengerFluxReduceDispatcher","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";var h=c("keyMirror")({CURRENT_LOADED:null,DELETE_PHOTOS:null,LATEST_LOADED:null,LOAD_CURRENT:null,LOAD_MORE_LATEST:null,LOAD_MORE_PREVIOUS:null,PREVIOUS_LOADED:null}),i="MessengerSharedMedia";function a(a){c("MessengerFluxReduceDispatcher").dispatch({type:h.CURRENT_LOADED,namespace:i,data:a})}function b(a,b){c("MessengerFluxReduceDispatcher").dispatch({type:h.DELETE_PHOTOS,namespace:i,threadFBID:a,photoFBIDs:b})}function d(a,b){c("MessengerFluxReduceDispatcher").dispatch({type:h.LOAD_CURRENT,namespace:i,threadFBID:a,photoID:b})}function e(a,b,d){c("MessengerFluxReduceDispatcher").dispatch({type:h.LOAD_MORE_PREVIOUS,namespace:i,threadFBID:a,afterCursor:b,first:d})}function f(a,b,d){c("MessengerFluxReduceDispatcher").dispatch({type:h.LOAD_MORE_LATEST,namespace:i,threadFBID:a,beforeCursor:b,last:d})}function j(a){c("MessengerFluxReduceDispatcher").dispatch({type:h.PREVIOUS_LOADED,namespace:i,data:a})}function k(a){c("MessengerFluxReduceDispatcher").dispatch({type:h.LATEST_LOADED,namespace:i,data:a})}g.Types=h;g.Namespace=i;g.currentLoaded=a;g.deletePhotos=b;g.loadCurrent=d;g.loadMorePrevious=e;g.loadMoreLatest=f;g.previousLoaded=j;g.latestLoaded=k}),98);
__d("MessengerSharedMediaReducer",["MessengerSharedMediaActions","MessengerThreadSharedMediaHelper"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){switch(b.type){case d("MessengerSharedMediaActions").Types.LOAD_CURRENT:var c=a.get("sharedMedia").get(b.threadFBID);if(c){c=c.edges.find(function(a){return a.node.legacy_attachment_id===b.photoID});if(c)return a}c=a.get("isLoading").get(b.threadFBID);if(!!c&&c.curr)return a;c=k(a,b.threadFBID,"curr",!0);d("MessengerThreadSharedMediaHelper").search(b.threadFBID,b.photoID,function(a){return d("MessengerSharedMediaActions").currentLoaded(a)});return c}return a}function b(a,b){switch(b.type){case d("MessengerSharedMediaActions").Types.LOAD_MORE_PREVIOUS:var c=a.get("isLoading").get(b.threadFBID);if(!!c&&c.prev)return a;c=k(a,b.threadFBID,"prev",!0);if(c===null)return a;d("MessengerThreadSharedMediaHelper").loadMorePrevious(b.threadFBID,b.afterCursor,b.first,function(a){return d("MessengerSharedMediaActions").previousLoaded(a)});return c}return a}function c(a,b){switch(b.type){case d("MessengerSharedMediaActions").Types.LOAD_MORE_LATEST:var c=a.get("isLoading").get(b.threadFBID);if(!!c&&c.latest)return a;c=k(a,b.threadFBID,"latest",!0);if(c===null)return a;d("MessengerThreadSharedMediaHelper").loadMoreLatest(b.threadFBID,b.beforeCursor,b.last,function(a){return d("MessengerSharedMediaActions").latestLoaded(a)});return c}return a}function e(a,b){var c;switch(b.type){case d("MessengerSharedMediaActions").Types.CURRENT_LOADED:b=b.data;var e=Object.keys(b)[0];b=(b=b[e])!=null?b.message_shared_media:b;c=(c=b)!=null?(c=c.edges)!=null?c.length:c:c;var f=k(a,e,"curr",!1);if(c!==0&&b){c=j(a.get("sharedMedia").get(e),b,0);c=a.get("sharedMedia").set(e,c);f=f.set("sharedMedia",c);c=b.edges[0];d("MessengerThreadSharedMediaHelper").loadMorePrevious(e,c.cursor,10,function(a){return d("MessengerSharedMediaActions").previousLoaded(a)});d("MessengerThreadSharedMediaHelper").loadMoreLatest(e,c.cursor,10,function(a){return d("MessengerSharedMediaActions").latestLoaded(a)})}return f}return a}function f(a,b){switch(b.type){case d("MessengerSharedMediaActions").Types.PREVIOUS_LOADED:b=b.data;var c=Object.keys(b)[0];b=b[c].message_shared_media;var e=k(a,c,"prev",!1);b=j(a.get("sharedMedia").get(c),b,1);c=a.get("sharedMedia").set(c,b);e=e.set("sharedMedia",c);return e}return a}function h(a,b){switch(b.type){case d("MessengerSharedMediaActions").Types.LATEST_LOADED:b=b.data;var c=Object.keys(b)[0];b=b[c].message_shared_media;var e=k(a,c,"latest",!1);b=j(a.get("sharedMedia").get(c),b,-1);c=a.get("sharedMedia").set(c,b);e=e.set("sharedMedia",c);return e}return a}function i(a,b){switch(b.type){case d("MessengerSharedMediaActions").Types.DELETE_PHOTOS:var c=b.threadFBID;b=b.photoFBIDs;var e=a.get("sharedMedia").get(c);if(!e||!e.edges)break;var f=new Set(b.map(function(a){return a.toString()}));e.edges=e.edges.filter(function(a){return!f.has(a.node.legacy_attachment_id)});b=a.get("sharedMedia").set(c,e);c=a.set("sharedMedia",b);return c}return a}function j(a,b,c){var d={count:b.count};if(c===1&&a){var e=a.edges;d.has_previous_page=a.has_previous_page;d.has_next_page=b.page_info.has_next_page;b.edges.length>0?d.edges=e.concat(b.edges):d.edges=e}else if(c===-1&&a){e=a.edges;d.has_previous_page=b.page_info.has_previous_page;d.has_next_page=a.has_next_page;b.edges.length>0?d.edges=b.edges.concat(e):d.edges=e}else d.has_previous_page=b.page_info.has_previous_page,d.has_next_page=b.page_info.has_next_page,b.edges.length>0&&(d.edges=b.edges);return d}function k(a,b,c,d){var e=a.get("isLoading").get(b);e===void 0?(e={},e[c]=d):e[c]=d;c=a.set("isLoading",a.get("isLoading").set(b,e));return c}e={currentLoaded:e,deletePhotos:i,latestLoaded:h,loadCurrent:a,loadMoreLatest:c,loadMorePrevious:b,previousLoaded:f};i=e;g["default"]=i}),98);
__d("MessengerSharedMediaState",["immutable"],(function(a,b,c,d,e,f,g){"use strict";a={sharedMedia:c("immutable").Map({}),isLoading:c("immutable").Map({})};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("immutable").Record(a));g["default"]=b}),98);
__d("MessengerSharedMediaStore",["FluxReduceStore","MessengerFluxReduceDispatcher","MessengerSharedMediaActions","MessengerSharedMediaReducer","MessengerSharedMediaState"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.keys(c("MessengerSharedMediaReducer"));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.getInitialState=function(){return new(c("MessengerSharedMediaState"))()};e.reduce=function(a,b){if(b.namespace!==d("MessengerSharedMediaActions").Namespace)return a;h.forEach(function(d){a=c("MessengerSharedMediaReducer")[d](a,b)});return a};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("MessengerFluxReduceDispatcher"));g["default"]=b}),98);
__d("MessengerPhotoViewCloseLinkReact.bs",["cx","fbt","TooltipLink.react","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.onClick;a=j.jsx("span",{children:h._("Press Esc to close")});return j.jsx(b("TooltipLink.react"),{children:j.jsx("div",{className:"_387s"}),className:"_51ok _50-m _51an",onClick:function(a){return b("bs_curry")._1(c,void 0)},tooltip:a})}c=a;f.make=c}),null);
__d("MessengerPhotoViewCloseLinkReact.re",["MessengerPhotoViewCloseLinkReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerPhotoViewCloseLinkReact.bs").make;f.make=a}),null);
__d("MessengerSharedPhotosAlbumViewPhotoReact.bs",["fbt","bs_belt_Option","bs_caml_option","bs_curry","cssURL","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");a=i.forwardRef(function(a,c){var d=a.className,e=a.fbid,f=a.onClick,h=a.uri;a=a.children;return i.jsx("a",{"aria-label":g._("Photo"),ref:b("bs_belt_Option").map(c==null?void 0:b("bs_caml_option").some(c),function(a){return a}),className:d,href:"#",onClick:function(a){return b("bs_curry")._1(f,e)},style:{backgroundImage:b("cssURL")(h)},children:a})});f.make=a}),null);
__d("MessengerSharedPhotosAlbumViewVScrollReact.bs",["cx","Animation","FBID.bs","MessengerSharedMediaActions","MessengerSharedPhotosAlbumViewPhotoReact.bs","ReactDOMLegacy_DEPRECATED","bs_caml_array","bs_caml_option","bs_curry","bs_string","clearInterval","react","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){if(a!==void 0){a=b("bs_caml_option").valFromOption(a);return(a.scrollTop+a.clientHeight|0)>=(a.scrollHeight-20|0)}throw{RE_EXN_ID:"Not_found",Error:new Error()}}function k(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a).scrollTop<=20;throw{RE_EXN_ID:"Not_found",Error:new Error()}}function l(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a).clientHeight;throw{RE_EXN_ID:"Not_found",Error:new Error()}}function m(a,c){if(a!==void 0){new(b("Animation"))(b("bs_caml_option").valFromOption(a)).to("scrollTop",c).duration(200).go();return}}function n(a){var c=a.child;if(c!==void 0)return m(a.childContainer,b("ReactDOMLegacy_DEPRECATED").findDOMNode(b("bs_caml_option").valFromOption(c)).offsetTop-70|0)}function o(a){a=a.interval;if(a!==void 0){b("clearInterval")(b("bs_caml_option").valFromOption(a));return}}function a(a){var c=a.isLoading,d=a.onClick,e=a.sharedPhotos,f=a.threadID,g=a.totalCount,h=a.viewedPhoto,m=i.useRef({interval:void 0,childContainer:void 0,child:void 0,scrollable:void 0}),p=function(a){a=e.length;if(j(m.current.childContainer))if(a<g&&!c.prev){b("MessengerSharedMediaActions").loadMorePrevious(f,b("bs_caml_array").get(e,e.length-1|0).cursor,48);return}else return;else if(k(m.current.childContainer)&&!c.latest){b("MessengerSharedMediaActions").loadMoreLatest(f,b("bs_caml_array").get(e,0).cursor,48);return}else return},q=function(a){a=e.length;if(a<48){b("MessengerSharedMediaActions").loadMorePrevious(f,b("bs_caml_array").get(e,e.length-1|0).cursor,48);return}},r=function(a){var c=a.childContainer;c=c!==void 0?(b("bs_caml_option").valFromOption(c).addEventListener("scroll",p),function(c){c=a.childContainer;if(c!==void 0)return b("bs_caml_option").valFromOption(c).removeEventListener("scroll",p)}):function(a){};q(void 0);var d=function(c){if(l(a.scrollable)<=0)return;n(a);c=a.interval;if(c!==void 0){b("clearInterval")(b("bs_caml_option").valFromOption(c));a.interval=void 0;return}};a.interval=b("bs_caml_option").some(b("setInterval")(d,200));return c};a=function(a){m.current.childContainer=a==null?void 0:b("bs_caml_option").some(a)};var s=function(a){m.current.scrollable=a==null?void 0:b("bs_caml_option").some(a)},t=function(a){m.current.child=a==null?void 0:b("bs_caml_option").some(a)};i.useEffect(function(){var a=r(m.current);return function(c){o(m.current);return b("bs_curry")._1(a,void 0)}},[]);return i.jsx("div",{className:"_3xo8",ref:a,onScroll:p,children:i.jsx("div",{className:"_3xoa",ref:s,children:e.map(function(a){a=a.node;var c=a.photo_encodings;c=c==null?!1:c.length!==0;var e=a.photo_encodings,f,g=0;if(c&&!(e==null)){e=e.find(function(a){return a.projection_type==="perspective"});if(e!==void 0){e=e.thumbnails;if(e.length!==0)f=e[0].uri;else{e=a.image1;f=e==null?void 0:e.uri}}else{e=a.image1;f=e==null?void 0:e.uri}}else g=1;if(g===1){e=a.image1;f=e==null?void 0:e.uri}if(f===void 0)return null;g={className:"_3bly"+(c?" _3603":""),fbid:b("FBID.bs").ofStringExn(a.legacy_attachment_id),onClick:d,uri:f,children:i.jsx("div",{className:c?"_64ks":""},b("bs_string").concat("_",{hd:a.legacy_attachment_id,tl:{hd:"spherical_gradient",tl:0}}))};e=a.legacy_attachment_id===h?t:void 0;e!==void 0&&(g.ref=b("bs_caml_option").valFromOption(e));return i.jsx(b("MessengerSharedPhotosAlbumViewPhotoReact.bs").make,g,a.legacy_attachment_id)})})})}c=200;d=48;e=6;g=20;var p=70,q=a;a=a;f.animationDuration=c;f.imagesToLoad=d;f.photosPerRow=e;f.scrollToEdgeTolerance=g;f.headerHeight=p;f.isScrolledToBottom=j;f.isScrolledToTop=k;f.getScrollHeight=l;f.scrollTo=m;f.autoScrollWhenLoaded=n;f.willUnmount=o;f.make=q;f.jsComponent=a}),null);
__d("MessengerSharedPhotosAlbumView.react",["cx","fbt","MessengerPhotoViewCloseLinkReact.re","MessengerSharedPhotosAlbumViewVScrollReact.bs","ShimButton.react","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(){c.props.onClick(c.props.viewedPhoto)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){return j.jsxs("div",{className:"_3bl- _5l-3",ref:"window",children:[this.$1(),j.jsx(d("MessengerSharedPhotosAlbumViewVScrollReact.bs").jsComponent,{isLoading:this.props.isLoading,onClick:this.props.onClick,sharedPhotos:this.props.sharedPhotos,threadID:this.props.threadID,totalCount:this.props.totalCount,viewedPhoto:this.props.viewedPhoto})]})};e.$1=function(){return j.jsxs("div",{className:"_3bm0 _5l-3",ref:"header",children:[j.jsxs(c("ShimButton.react"),{className:"_3bm2",onClick:this.$2,children:[j.jsx("div",{className:"_3bm3"}),i._("Back to photo")]}),j.jsx("div",{className:"_3bm4",children:i._("Shared photos")}),j.jsx(d("MessengerPhotoViewCloseLinkReact.re").make,{onClick:this.props.onCloseSharedPhotos})]})};return b}(j.Component);a.propTypes={onClick:c("prop-types").func.isRequired,onCloseSharedPhotos:c("prop-types").func.isRequired,sharedPhotos:c("prop-types").arrayOf(c("prop-types").object).isRequired,totalCount:c("prop-types").number.isRequired,viewedPhoto:c("prop-types").string.isRequired,threadID:c("prop-types").string.isRequired,isLoading:c("prop-types").object.isRequired};g["default"]=a}),98);
__d("MessengerSharedPhotosAlbumViewContainer.react",["FluxContainer","MessengerSharedMediaStore","MessengerSharedPhotosAlbumView.react","prop-types","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={edges:[],count:0,isLoading:{}},b)||babelHelpers.assertThisInitialized(c)}b.getStores=function(){return[c("MessengerSharedMediaStore")]};b.calculateState=function(a,b){a=c("MessengerSharedMediaStore").getState();var d=a.sharedMedia;return{edges:d.get(b.threadID).edges,count:d.get(b.threadID).count,isLoading:a.isLoading.get(b.threadID)}};var d=b.prototype;d.render=function(){return this.state.edges.length===0?null:h.jsx(c("MessengerSharedPhotosAlbumView.react"),{onClick:this.props.onClick,onCloseSharedPhotos:this.props.onCloseSharedPhotos,sharedPhotos:this.state.edges,totalCount:this.state.count,viewedPhoto:this.props.viewedPhoto,threadID:this.props.threadID,isLoading:this.state.isLoading})};return b}(h.PureComponent);a.propTypes={onClick:c("prop-types").func.isRequired,onCloseSharedPhotos:c("prop-types").func.isRequired,viewedPhoto:c("prop-types").string.isRequired,threadID:c("prop-types").string};b=c("FluxContainer").create(a,{withProps:!0});g["default"]=b}),98);
__d("MessengerPhotoViewBottomBarReact.bs",["cx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.children;return i.jsx("div",{className:"_51an _50-m _16zz",children:a})}c=a;f.make=c}),null);
__d("MessengerPhotoViewBottomBarReact.re",["MessengerPhotoViewBottomBarReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerPhotoViewBottomBarReact.bs").make;f.make=a}),null);
__d("MessengerSharedPhotoReact.bs",["cx","fbt","CssBackgroundImage.react","Link.react","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react"),k={height:"100%"};function a(a){var c=a.className,d=a.fbid,e=a.onClick,f=a.uri;a=a.isSpherical;var g=function(a){a.preventDefault();return b("bs_curry")._1(e,d)},i=h._("photo");if(f===void 0)return j.jsx(b("Link.react"),{"aria-label":i,className:c,onClick:g,role:"button"});a=a?j.jsx("div",{className:"_3603 _64ks"}):null;return j.jsx(b("Link.react"),{"aria-label":i,className:c,href:f,onClick:g,children:j.jsx(b("CssBackgroundImage.react"),{className:c,imageURI:f,backgroundPosition:"center",style:k,children:a})})}c=a;f.style100pct=k;f.make=c}),null);
__d("MessengerSharedPhotoReact.re",["MessengerSharedPhotoReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerSharedPhotoReact.bs").make;f.make=a}),null);
__d("PhotoRendererProjection",[],(function(a,b,c,d,e,f){a=Object.freeze({PERSPECTIVE:"perspective",STEREOGRAPHIC:"stereographic",CYLINDRICAL:"cylindrical",EQUIRECTANGULAR:"equirectangular"});f["default"]=a}),66);
__d("PhotosphereMetadata",["ImmutableRecordWithV4Types"],(function(a,b,c,d,e,f,g){"use strict";a=d("ImmutableRecordWithV4Types").Record({CroppedAreaImageHeightPixels:0,CroppedAreaImageWidthPixels:0,CroppedAreaLeftPixels:0,CroppedAreaTopPixels:0,FullPanoHeightPixels:0,FullPanoWidthPixels:0,InitialViewHeadingDegrees:0,InitialViewPitchDegrees:0,InitialViewRollDegrees:0,InitialViewVerticalFOVDegrees:0,PoseHeadingDegrees:0,PosePitchDegrees:0,PoseRollDegrees:0,PreProcessCropLeftPixels:0,PreProcessCropRightPixels:0,ProjectionType:"equirectangular",RendererProjectionType:"equirectangular"});g.makePhotosphereMetadata=a}),98);
__d("SphericalPhotoUtils",["PhotoRendererProjection","PhotosphereMetadata","SphericalPhotoPartialLimits"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{CroppedAreaImageHeightPixels:a.cropped_area_image_height_pixels!=null?a.cropped_area_image_height_pixels.toString():null,CroppedAreaImageWidthPixels:a.cropped_area_image_width_pixels!=null?a.cropped_area_image_width_pixels.toString():null,CroppedAreaLeftPixels:a.cropped_area_left_pixels!=null?a.cropped_area_left_pixels.toString():null,CroppedAreaTopPixels:a.cropped_area_top_pixels!=null?a.cropped_area_top_pixels.toString():null,FullPanoHeightPixels:a.full_pano_height_pixels!=null?a.full_pano_height_pixels.toString():null,FullPanoWidthPixels:a.full_pano_width_pixels!=null?a.full_pano_width_pixels.toString():null,InitialViewHeadingDegrees:a.initial_view_heading_degrees!=null?a.initial_view_heading_degrees.toString():null,InitialViewPitchDegrees:a.initial_view_pitch_degrees!=null?a.initial_view_pitch_degrees.toString():null,InitialViewRollDegrees:a.initial_view_roll_degrees!=null?a.initial_view_roll_degrees.toString():null,InitialViewVerticalFOVDegrees:a.initial_view_vertical_fov_degrees!=null?a.initial_view_vertical_fov_degrees.toString():null,PoseHeadingDegrees:a.pose_heading_degrees!=null?a.pose_heading_degrees.toString():null,PosePitchDegrees:a.pose_pitch_degrees!=null?a.pose_pitch_degrees.toString():null,PoseRollDegrees:a.pose_roll_degrees!=null?a.pose_roll_degrees.toString():null,PreProcessCropLeftPixels:null,PreProcessCropRightPixels:null,ProjectionType:a.projection_type,RendererProjectionType:c("PhotoRendererProjection").PERSPECTIVE}}function b(a){var b=a.FullPanoHeightPixels,c=a.FullPanoWidthPixels,e=a.CroppedAreaImageWidthPixels,f=a.CroppedAreaImageHeightPixels,g=a.CroppedAreaLeftPixels;a=a.CroppedAreaTopPixels;b=h(b);c=h(c);e=h(e);f=h(f);g=h(g);a=h(a);var i,j,k,l;if(e!==0&&e!==c){e=360*e/c;e<350&&(i=180*(1-2*g/c),j=e-i)}f!==0&&f!==b&&(a!==0&&(k=90*(1-2*a/b)),a+f!==b&&(l=180*(a+f-b/2)/b));g=null;c=null;e=null;a=null;k&&k<87.5&&(c=k);l&&l<87.5&&(g=l);i&&(e=i);j&&(a=j);return d("SphericalPhotoPartialLimits").makePartialLimits({partialTopDegrees:c,partialBottomDegrees:g,partialLeftDegrees:e,partialRightDegrees:a})}function h(a){return a?Number(a):0}function e(a){a=a.find(function(a){return a.projection_type===c("PhotoRendererProjection").PERSPECTIVE});var b=null,d=null;if(a&&a.thumbnails&&a.thumbnails.length>0){a=a.thumbnails;b=a[0]?a[0].uri:null;d=a[1]?a[1].uri:null}return{smallThumbnail:b,largeThumbnail:d}}function f(a){var b={};Object.keys(a).forEach(function(c){switch(c){case"ProjectionType":b.ProjectionType=a.ProjectionType;break;case"RendererProjectionType":b.RendererProjectionType=a.RendererProjectionType;break;default:b[c]=parseInt(a[c],10)}});return d("PhotosphereMetadata").makePhotosphereMetadata(b)}g.getMetadataFromGraphQLResult=a;g.calculatePartialLimits=b;g.parseNumber=h;g.getThumbnailsFromPhotoEncodings=e;g.photosphereMetadataStringToNumber=f}),98);
__d("MessengerPhotoViewHScroll.react",["cx","Animation","MessengerSharedPhotoReact.re","SphericalPhotoUtils","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=200,k=80;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.$2()};e.componentDidUpdate=function(){this.$2()};e.componentWillUnmount=function(){this.$1&&this.$1.stop(),this.$1=null};e.render=function(){var a=this,b=this.props.sharedPhotos;b=b.reduce(function(b,c){var e=c.node.image1===null?c.node.image:c.node.image1,f=c.node.photo_encodings?c.node.photo_encodings.length!==0:!1;if(e){e=e.uri;if(f){var g=d("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings(c.node.photo_encodings);g=g.smallThumbnail;e=g||e}b.push(i.jsx("div",{className:"_4dy9",children:i.jsx(d("MessengerSharedPhotoReact.re").make,{className:"_42rl"+(a.props.photoID!==c.node.legacy_attachment_id?" _q1a":""),fbid:c.node.legacy_attachment_id,onClick:a.props.onScroll,uri:e,isSpherical:f})},c.node.legacy_attachment_id))}return b},[]);var c=(this.props.width-k)/2;return i.jsx("div",{className:(this.props.blurSupported?"":"_99ro")+" _463g",children:i.jsx("div",{className:"_463h",ref:"childContainer",children:i.jsx("div",{className:"_463j",style:{paddingLeft:c,paddingRight:c},ref:"scrollable",children:b})})})};e.$2=function(){var a=this,b=this.refs.childContainer?this.refs.childContainer.scrollLeft:0,d=this.props.sharedPhotos.findIndex(function(b){return b.node.legacy_attachment_id===a.props.photoID});d=d*k;this.$1||(this.$1=new(c("Animation"))(this.refs.childContainer));this.$1.from("scrollLeft",b).to("scrollLeft",d).duration(j).go()};return b}(i.PureComponent);g["default"]=a}),98);
__d("MessengerPhotoViewHeader.react",["cx","fbt","MessagingForwardingButtonNUX.react","MessengerPhotoViewCloseLinkReact.re","SpotlightViewerBottomBarLink","emptyFunction","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.refs.forwardNUX&&c.refs.forwardNUX.close(),c.props.showForwardDialog&&c.props.showForwardDialog()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){return j.jsxs("div",{className:"_51an _50-m _3c1i _5l-3",role:"banner",children:[this.$1(),this.$2()]})};e.$2=function(){var a;return j.jsx(d("MessengerPhotoViewCloseLinkReact.re").make,{onClick:(a=this.props.onClose)!=null?a:c("emptyFunction")})};e.$1=function(){var a=this,b,d;this.props.disableForward!==!0&&(b=j.jsxs(c("SpotlightViewerBottomBarLink"),{className:"_3c1o",onClick:this.$3,ref:"forwardButton",children:[j.jsx("div",{className:"_2msr _3oo2"}),i._("Forward")]}),d=j.jsx(c("MessagingForwardingButtonNUX.react"),{contextRef:function(){return a.refs.forwardButton},ref:"forwardNUX",children:i._("Send this image to other people in separate messages.")}));return j.jsxs("div",{ref:"buttons",className:"_99rn",children:[j.jsxs(c("SpotlightViewerBottomBarLink"),{ajaxify:this.props.url,className:"_3c1o",rel:"async",children:[j.jsx("div",{className:"_3ooo _2msr"}),i._("Download")]}),b,d,j.jsxs(c("SpotlightViewerBottomBarLink"),{className:"_3c1o",href:"#",onClick:this.props.openInfo,ref:"moreInfo",children:[j.jsx("div",{className:"_3c1k _2msr"}),i._("Info")]})]},"buttonsContainer")};return b}(j.PureComponent);g["default"]=a}),98);
__d("MessengerVideoPlayer.react",["cx","ActorURI","AsyncRequest","BackgroundImage.react","Event","FullScreen","MessengerSpinner.react","ShimButton.react","SpotlightMercurySharedMediaViewer.react","SubscriptionsHandler","Vector","VideoPlayerReasonTransitionHelper","XMessagingVideoAttachmentController","cssURL","getFullScreenElement","guid","joinClasses","prop-types","react","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="_ox1",k="_27db";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var d,e;e=a.call(this,b)||this;e.$2=!0;e.$3=[];e.$4=-1;e.$5=!1;e.$6=!1;e.state={playerAPI:null,forcePause:!!((d=e.props.videoData)==null?void 0:d.disableAutoplay),loaded:!1};e.$10=function(a){if(e.isVideoControlClicked(a)){a.preventDefault();a.stopPropagation();return}if(!e.isVideoClicked(a))return;a.preventDefault();e.props.isOnStage?(a.stopPropagation(),e.isState("playing")?e.pause("user_initiated"):e.play("user_initiated")):(e.pause("user_initiated"),e.props.onClick&&e.props.onClick())};e.$11=function(a){if(!e.isRightClick(a))return;a.stopPropagation();a.preventDefault();c("setImmediate")(function(){e.props.onSelect&&e.props.onSelect()})};e.$8=function(){if(!e.$2||e.state.forcePause)return;e.$6&&(e.play(new(c("VideoPlayerReasonTransitionHelper"))("page_visibility_initiated")),e.$6=!1)};e.$7=function(){if(!e.$2||e.state.forcePause||!(e.state.playerAPI&&e.state.playerAPI.isMuted()))return;e.$6=!!e.state.playerAPI&&e.state.playerAPI.isState("playing");e.pause()};e.onVideoLoaded=function(){if(!e.$2)return;e.state.playerAPI&&e.state.playerAPI.addListener("stateChange",function(){return e.$12()});e.props.isVisible&&!e.$5&&!e.state.forcePause?e.play("autoplay_initiated"):e.pause();e.$4=-1;e.$5=!1};e.$1=c("guid")();e.$2=!((d=b.videoData)==null?void 0:d.disableAutoplay);e.props.isInThread&&(e.listeners=new(c("SubscriptionsHandler"))(),e.listeners.addSubscriptions(c("Event").listen(window,"blur",e.$7),c("Event").listen(window,"focus",e.$8)));return e}var e=b.prototype;e.shouldComponentUpdate=function(a){var b=document.getElementById(this.$1.toString()),d=c("FullScreen").isFullScreen();if(b!=null&&d&&b.children[0].children[0]===c("getFullScreenElement")())return!1;d=!!(a.stageDimensions&&a.stageDimensions!==this.props.stageDimensions);d&&(this.$4=this.getCurrentTimePosition(),this.$5=!this.isState("playing"));return!this.props.videoData||a.videoData.id!==this.props.videoData.id||d};e.UNSAFE_componentWillReceiveProps=function(a){if(!this.$2)return;this.props.isInThread&&a.isVisible!==this.props.isVisible&&(a.isVisible&&!this.state.forcePause?this.play(new(c("VideoPlayerReasonTransitionHelper"))("video_visibility_initiated")):this.pause())};e.componentDidMount=function(){this.props.videoData&&this.$9()};e.componentDidUpdate=function(){this.$3.forEach(function(a){return a.abandon()}),this.$3=[],this.props.videoData&&this.$9()};e.componentWillUnmount=function(){this.pause("unloaded"),this.seek(0),this.$3.forEach(function(a){return a.abandon()}),this.listeners&&this.listeners.release(),this.state.playerAPI&&this.state.playerAPI.detachRootNode(),this.state.playerAPI&&this.state.playerAPI.destroy&&this.state.playerAPI.destroy()};e.isVideoLoaded=function(){var a=!!this.state.playerAPI;!a;return this.isState("fallback")?!1:a};e.isVideoClicked=function(a){return a.target instanceof HTMLElement?a.target.classList.contains(j):!1};e.isVideoControlClicked=function(a){var b=document.getElementsByClassName(k);for(var c=0;c<b.length;c++){var d=a.target;if(b[c].contains(d))return!0}return!1};e.isRightClick=function(a){a=a||window.event;return a.button===2};e.play=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.play(a)};e.pause=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.pause(a)};e.seek=function(a){if(!this.isVideoLoaded())return;this.state.playerAPI&&this.state.playerAPI.seek(a)};e.getCurrentTimePosition=function(){return this.isVideoLoaded()&&this.state.playerAPI?this.state.playerAPI.getCurrentTimePosition():-1};e.render=function(){var a=this.props.videoData,b=i.jsx("div",{ref:"placeholder",children:i.jsx(c("MessengerSpinner.react"),{color:"blue",size:c("MessengerSpinner.react").large_size})}),d={};if(a&&a.url){var e=a.original_dimensions;d.backgroundImage=this.state.loaded?c("cssURL")(a.url):"none";b=i.jsx("div",{ref:"placeholder",children:i.jsx(c("BackgroundImage.react"),{className:this.props.className,width:e.x,height:e.y,loadingIndicatorStyle:"large",backgroundSize:"cover",ref:"placeholder",style:d,src:a.url})})}return i.jsx(c("ShimButton.react"),{className:c("joinClasses")(this.props.className,"_4-od"),id:this.$1,onClick:this.$10,onMouseDown:this.$11,style:d,children:b})};e.$9=function(){var a=this,b=this.props.videoData;if(b){var e=b.original_dimensions;this.props.stageDimensions&&(e=c("SpotlightMercurySharedMediaViewer.react").getImageDimensionsForStage(new(c("Vector"))(b.original_dimensions.x,b.original_dimensions.y),this.props.stageDimensions));e=c("XMessagingVideoAttachmentController").getURIBuilder().setString("video_id",b.legacy_attachment_id).setString("video_container_id",this.$1).setInt("width",e.x).setInt("height",e.y).setInt("start_timestamp",this.$4>0?Math.round(this.$4):0).setBool("start_muted",b.start_muted).setBool("no_fullscreen",b.no_fullscreen).setBool("load_player_controller",!0).setBool("hide_controls_on_finish",b.hide_controls_on_finish).setBool("native_thumbnail",b.disableAutoplay).setBool("hide_url_menu_option",Boolean(b.hide_url_menu_option)).setBool("is_share",b.is_share).setBool("render_play_button",this.props.isInThread).getURI();b=this.props.attachment;b&&b.metadata&&b.metadata.pageid&&(e=d("ActorURI").create(e,b.metadata.pageid));var f=new(c("AsyncRequest"))();this.$3.push(f);f.setMethod("GET").setStatusElement(this.refs.placeholder).setURI(e).setRelativeTo(this).setReadOnly(!0).setHandler(function(b){a.$3=a.$3.filter(function(a){return a!==f})}).send()}};e.$12=function(){this.props.isVisible&&this.isState("finished")?(this.seek(0),this.play("loop_initiated")):this.props.isVisible&&this.isState("paused")&&!this.$6?this.setState({forcePause:!0}):this.isState("playing")&&this.setState({forcePause:!1})};e.isState=function(a){return!!(this.state.playerAPI&&this.state.playerAPI.isState(a))};return b}(i.Component);a.propTypes={attachment:c("prop-types").object,className:c("prop-types").string,isInThread:c("prop-types").bool,isVisible:c("prop-types").bool,isOnStage:c("prop-types").bool,stageDimensions:c("prop-types").instanceOf(c("Vector")),videoData:c("prop-types").object,onClick:c("prop-types").func,onSelect:c("prop-types").func};a.invokeVideoLoaded=function(a,b,c){a.$2=c,b.setAllowCrossPageTransition(!0),b.isState("loading")?a.stateChangeListener=b.addListener("stateChange",function(){if(!b.isState("loading")){if(a.state&&a.state.playerAPI)return;a.setState({playerAPI:b},a.onVideoLoaded);a.stateChangeListener&&a.stateChangeListener.remove()}}):a.setState({playerAPI:b,loaded:!0},a.onVideoLoaded)};g["default"]=a}),98);
__d("ChatPhotoViewFooterHScroll.react",["cx","Animation","MessengerSharedPhotoReact.re","SphericalPhotoUtils","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=200,k=74,l=140,m=30;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=null,c.state={currentPhoto:"",prevScrollLeft:0,scrollLeft:0},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.props.width&&this.props.updateNumberInOneBatch(this.$2(this.props.width)),this.$1=new(c("Animation"))(this.refs.childContainer).to("scrollLeft",0).duration(j).go()};e.UNSAFE_componentWillReceiveProps=function(a){if(a.photoID!=this.state.currentPhoto||this.props.sharedPhotos.length!==a.sharedPhotos.length){var b=a.width?(a.width-k)/2-l:0,c=a.sharedPhotos.findIndex(function(b){return b.node.id===a.photoID});this.setState({currentPhoto:a.photoID,prevScrollLeft:this.state.scrollLeft,scrollLeft:c*k-b})}a.width!=this.props.width&&this.props.updateNumberInOneBatch(this.$2(a.width))};e.componentDidUpdate=function(){this.$1&&this.$1.from("scrollLeft",this.state.prevScrollLeft).to("scrollLeft",this.state.scrollLeft).duration(j).go()};e.componentWillUnmount=function(){this.$1&&this.$1.stop()};e.shouldComponentUpdate=function(a,b){return a.photoID!=this.state.currentPhoto||a.sharedPhotos.length!==this.props.sharedPhotos.length?!0:!1};e.render=function(){var a=this,b=this.props.sharedPhotos;b=b.map(function(b){var c,e=b.node.photo_encodings?b.node.photo_encodings.length!==0:!1;c=(c=b)!=null?(c=c.node)!=null?(c=c.image1)!=null?c.uri:c:c:c;if(e){var f=d("SphericalPhotoUtils").getThumbnailsFromPhotoEncodings(b.node.photo_encodings);f=f.smallThumbnail;c=f||c}return!c?null:i.jsx("div",{className:"_1oyb",children:i.jsx(d("MessengerSharedPhotoReact.re").make,{className:"_1oyc"+(a.state.currentPhoto!==b.node.id?" _1oyd":""),fbid:b.node.legacy_attachment_id,onClick:a.props.onScroll,uri:c,isSpherical:e})},b.node.legacy_attachment_id)});return i.jsx("div",{className:"_1oye",children:i.jsx("div",{className:"_1oyf",ref:"childContainer",children:i.jsx("div",{className:"_1oyh",ref:"scrollable",children:b})})})};e.$2=function(a){return a?Math.ceil((a-l*2)/k):m};return b}(i.Component);a.propTypes={onScroll:c("prop-types").func,photoID:c("prop-types").string,sharedPhotos:c("prop-types").array,updateNumberInOneBatch:c("prop-types").func,width:c("prop-types").number};g["default"]=a}),98);
__d("ChatPhotoViewHeader.react",["cx","fbt","CurrentUser","MessagingForwardingButtonNUX.react","MessengerPhotoViewCloseLinkReact.re","SpotlightViewerBottomBarLink","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$3=function(){c.$2(),c.props.showForwardDialog&&c.props.showForwardDialog()},c.$4=function(){c.$2(),c.props.showShareDialog&&c.props.showShareDialog()},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){return j.jsxs("div",{className:"_51an _50-m _3h_t _5l-3",role:"banner",children:[this.$1(),j.jsx(d("MessengerPhotoViewCloseLinkReact.re").make,{onClick:this.props.onClose})]})};e.$2=function(){this.refs.forwardNUX&&this.refs.forwardNUX.close()};e.$1=function(){var a=this,b,d,e;this.props.disableForward||(b=j.jsxs(c("SpotlightViewerBottomBarLink"),{className:"_3h_u",onClick:this.$3,ref:"forwardButton",children:[j.jsx("div",{className:"_3h_v _3h_w"}),i._("Forward")]}),d=j.jsx(c("MessagingForwardingButtonNUX.react"),{contextRef:function(){return a.refs.forwardButton},ref:"forwardNUX",children:i._("Send this image to other people in separate messages.")}));this.props.enableShareToFB&&(e=j.jsxs("div",{className:"_3h_u",onClick:this.$4,ref:"shareButton",role:"button",tabIndex:"0",children:[j.jsx("div",{className:"_3tth _3h_w"}),this.$5()]}));return j.jsxs("div",{ref:"buttons",children:[j.jsxs(c("SpotlightViewerBottomBarLink"),{className:"_3h_u",rel:"async",ajaxify:this.props.url,ref:"downloadButton",children:[j.jsx("div",{className:"_3h_x _3h_w"}),i._("Download")]}),b,d,e,j.jsxs("div",{className:"_3h_u",onClick:this.props.openInfo,ref:"moreInfo",role:"link",tabIndex:"0",children:[j.jsx("div",{className:"_3h_y _3h_w"}),i._("Info")]})]},"buttonsContainer")};e.$5=function(){if(c("CurrentUser").isWorkUser())return i._("Share to Workplace");else return i._("Share to Facebook")};return b}(j.PureComponent);a.propTypes={disableForward:c("prop-types").bool,enableShareToFB:c("prop-types").bool,onClose:c("prop-types").func,openInfo:c("prop-types").func,showForwardDialog:c("prop-types").func,showShareDialog:c("prop-types").func,url:c("prop-types").object};g["default"]=a}),98);
__d("MessagingForwardAttachmentDialog.react",["BootloadOnRender.react","JSResource","LazyComponent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return h.jsx(c("BootloadOnRender.react"),{component:h.jsx(c("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:c("JSResource")("MessagingForwardAttachmentDialogImpl.react").__setRef("MessagingForwardAttachmentDialog.react"),placeholder:h.jsx("div",{})})};return b}(h.PureComponent);g["default"]=a}),98);
__d("SpotlightMessagesViewerPagers.react",["cx","fbt","LeftRight.react","Link.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){return j.jsxs(c("LeftRight.react"),{children:[j.jsx(c("Link.react"),{"aria-disabled":a.disablePrevArrow,"aria-label":i._("Previous"),className:"_322u"+(a.disablePrevArrow?"":" _2bbb")+" _50-m",children:j.jsx("div",{className:(a.disablePrevArrow?"":"_4ksl")+(a.disablePrevArrow?"":" _4ksm")})}),j.jsx(c("Link.react"),{"aria-disabled":a.disableNextArrow,"aria-label":i._("Next"),className:"_322u"+(a.disableNextArrow?"":" _2bbc")+" _50-m",children:j.jsx("div",{className:(a.disableNextArrow?"":"_4ksl")+(a.disableNextArrow?"":" _4kso")})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("SpotlightMercurySharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","AsyncDialog","AsyncRequest","BootloadedComponent.react","ChatPhotoViewFooterHScroll.react","ChatPhotoViewHeader.react","Event","FunnelLogger","JSResource","KeyEventController","MessagingForwardAttachmentDialog.react","MessengerThreadSharedMediaHelper","MessengerVideoPlayer.react","Parent","PhotoUtils","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","ThisControllerNoLongerExists","Vector","XMessagingPhotoDownloadController","lazyLoadComponent","prop-types","react"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=d("react"),m=88,n=30,o="WWW_MESSENGER_SHARE_TO_FB_FUNNEL",p="_4-og";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=void 0,e.$2=[],e.state={hasPrevPage:!1,hasNextPage:!1,firstPhotoLoaded:!1,isLoading:!1,mediaData:[],numberInOneBatch:n,photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(c("Vector"))()},e.$11=function(){return!e.state.photoData?null:l.jsx(c("ChatPhotoViewFooterHScroll.react"),{onScroll:e.$18,photoID:e.state.photoData.node.id,sharedPhotos:e.state.mediaData,updateNumberInOneBatch:e.$19,width:e.state.stageDimensions.x})},e.$19=function(a){e.setState({numberInOneBatch:a})},e.$18=function(a){if(!e.state.mediaData||e.state.isLoading)return;var b=e.state.mediaData.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=e.state.mediaData[b];e.setState({photoData:c});e.$22(b)},e.$5=function(a,b){if(e.state.photoData==null||e.state.isLoading)return;if(b&&!!d("Parent").bySelector(b.target,"._170l"))return;b&&b.target instanceof HTMLElement&&b.target.className===p&&e.$10();b=e.state.mediaData.findIndex(function(a){e.state.photoData!=null||k(0,1033);return a.node.legacy_attachment_id===e.state.photoData.node.legacy_attachment_id});if(b<0||b===e.state.mediaData.length-1&&!e.state.hasNextPage&&a)return;if(b===0&&!a){e.setState({isLoading:!0},function(){return e.$7(e.state.photoData,1,function(b){if(b===0)return;e.$5(a)})});return}var c=a?e.state.mediaData[b+1]:e.state.mediaData[b-1];e.setState({photoData:c});e.$22(b)},e.$10=function(){if(e.props.photoID===null)return;e.setState({photoData:null});e.props.onClosePhotoView()},e.$16=function(){e.setState({showForward:!0})},e.$20=function(){e.setState({showForward:!1})},e.$15=function(){e.setState({showInfo:!0})},e.$21=function(){e.setState({showInfo:!1})},e.$17=function(){e.setState({showForward:!1,showInfo:!1});d("FunnelLogger").appendAction(o,"click");var a=e.state.photoData;if(!e.$14()||!(a&&a.node))return;a=a.node.legacy_attachment_id;var b=d("ThisControllerNoLongerExists").__DEADURI__("9o6m2jofj");b=new(c("AsyncRequest"))(b).setData({attachment_id:a}).setMethod("POST");d("AsyncDialog").send(b)},e.$23=function(a,b,c){var d=Object.keys(a)[0];a=a[d].message_shared_media;d=a.page_info;var f=a.edges.length;if(f!==0){var g=e.state.mediaData;switch(b){case 0:e.setState({photoData:a.edges[0],mediaData:[a.edges[0]],firstPhotoLoaded:!0});break;case 1:g=g.concat(a.edges);e.setState({hasNextPage:d.has_next_page,mediaData:g});break;case-1:g=a.edges;g=g.concat(e.state.mediaData);e.setState({mediaData:g,hasPrevPage:d.has_previous_page});break}}e.setState({isLoading:!1});c(f)},e.$3=function(){var a=new(c("Vector"))(c("Vector").getViewportDimensions().x,c("Vector").getViewportDimensions().y-m);return a},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.getDefaultProps=function(){return{enableShareToFB:!1}};e.componentDidMount=function(){var a=this;this.setState({isLoading:!0,stageDimensions:this.$3()},function(){return a.$4(a.props.photoID)});this.$1=new(c("SubscriptionsHandler"))();this.$1.addSubscriptions(c("Event").listen(window,"resize",function(){a.setState({stageDimensions:a.$3()})}),c("KeyEventController").registerKey("LEFT",function(){a.$5(!1);return!1}),c("KeyEventController").registerKey("RIGHT",function(){a.$5(!0);return!1}));this.props.enableShareToFB&&d("FunnelLogger").startFunnel(o)};e.UNSAFE_componentWillUpdate=function(a,b){var c=this;b.firstPhotoLoaded!==this.state.firstPhotoLoaded&&this.setState({isLoading:!0},function(){c.$6(b.photoData,b.numberInOneBatch,function(){}),c.$7(b.photoData,b.numberInOneBatch,function(){})});b.numberInOneBatch!=this.state.numberInOneBatch&&!b.isLoading&&this.setState({isLoading:!0},function(){return c.$6(b.mediaData[b.mediaData.length-1],b.numberInOneBatch,function(){})})};e.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};e.render=function(){var a=this,b=this.$8(),d=this.state.stageDimensions,e=this.state.isLoading||this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var f=this.state.mediaData.findIndex(function(b){a.state.photoData!=null||k(0,1033);return b.node.id===a.state.photoData.node.id});f=l.jsxs("div",{children:[this.$9(),this.props.disablepaging?null:l.jsx(c("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:f<=0&&!this.state.hasPrevPage,disableNextArrow:!this.state.hasNextPage&&f>=this.state.mediaData.length-1})]});return l.jsxs("span",{children:[l.jsxs(c("SpotlightViewer"),{className:"_53vs",onHide:this.$10,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName,children:[l.jsx(c("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:b,onClick:this.$5,ref:"viewport",showLoadingIndicator:e,stageDimensions:d,useWidth:!0,children:f}),this.$11()]}),this.$12(),this.$13()]})};e.$9=function(){if(!this.state.photoData)return null;var a=this.state.photoData;a=a.node.legacy_attachment_id;a=c("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=d("ActorURI").create(a,this.props.actorid));return l.jsx(c("ChatPhotoViewHeader.react"),{disableForward:this.props.disableForward,enableShareToFB:this.$14(),onClose:this.$10,openInfo:this.$15,ref:"photoviewheader",showForwardDialog:this.$16,showShareDialog:this.$17,url:a})};e.$12=function(){if(!this.state.photoData||!this.state.showForward)return null;var a=j._("Forward");return l.jsx(c("MessagingForwardAttachmentDialog.react"),{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$20,shown:this.state.showForward,title:a})};e.$13=function(){return this.state.showInfo?l.jsx(l.Suspense,{fallback:l.jsx("div",{}),children:l.jsx(q,{closeInfo:this.$21,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id})}):l.jsx("xhp",{})};e.$14=function(){var a=this.state.photoData;return!a?!1:!!this.props.enableShareToFB&&a.node.__typename==="MessageImage"&&a.node.image1.uri.indexOf(".gif")<0};e.$22=function(a){var b=this,c=this.state.numberInOneBatch,d=this.state.mediaData;a<=c/2?this.setState({isLoading:!0},function(){return b.$7(d[0],c,function(){})}):a>=d.length-c/2&&this.state.hasNextPage&&this.setState({isLoading:!0},function(){return b.$6(d[d.length-1],c,function(){})})};e.$4=function(a){var b=this;a=d("MessengerThreadSharedMediaHelper").search(this.props.threadID,String(a),function(a){return b.$23(a,0,function(){})});this.$2.push(a)};e.$6=function(a,b,c){var e=this;a=d("MessengerThreadSharedMediaHelper").loadMorePrevious(this.props.threadID,a.cursor,b||1,function(a){return e.$23(a,1,c)});this.$2.push(a)};e.$7=function(a,b,c){var e=this;a=a?a.cursor:null;a=d("MessengerThreadSharedMediaHelper").loadMoreLatest(this.props.threadID,a,b||1,function(a){return e.$23(a,-1,c)});this.$2.push(a)};e.$8=function(){if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$24();var d=this.state.stageDimensions,e=this.$25(a,d);if(!e)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$26(a.legacy_attachment_id,e,a.photo_encodings,d);a=b.getImageDimensionsForStage(new(c("Vector"))(e.width,e.height),d);return this.$27(e,a)}else return null};e.$24=function(){return this.state.photoData?l.jsx(c("MessengerVideoPlayer.react"),{isOnStage:!0,isVisible:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};e.$27=function(a,b){return l.jsx(c("SpotlightViewerImage"),{dimensions:b,ref:"image",src:a.uri})};e.$26=function(a,b,d,e){return l.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMercurySharedMediaViewer.react"),bootloadPlaceholder:l.jsx("div",{}),height:e.y,width:e.x,fbid:a,thumbnail:b.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};e.$25=function(a,b){var e=null;a=d("PhotoUtils").getImagesFromData(a);a=a.sort(function(a,b){return a.width==null?b.width==null?0:1:b.width==null?-1:b.width-a.width});window.devicePixelRatio&&window.devicePixelRatio>1&&(b=new(c("Vector"))(b.x*window.devicePixelRatio,b.y*window.devicePixelRatio));for(var f=0;f<a.length;f++)(!e||a[f].width>=b.x||a[f].height>=b.y)&&(e=a[f]);return e};return b}(l.Component);a.propTypes={disableForward:c("prop-types").bool,enableShareToFB:c("prop-types").bool,onClosePhotoView:c("prop-types").func,photoID:c("prop-types").string,rootClassName:c("prop-types").string,threadID:c("prop-types").string};a.getImageDimensionsForStage=function(a,b){var d=a.x;a=a.y;var e=b.x;b=b.y;var f=d/a,g=e/b;d>=e||a>=b?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(b*f),a=b):(d=e,a=b):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(c("Vector"))(d,a)};var q=c("lazyLoadComponent")(c("JSResource")("MessengerPhotoInfoDialogContainer.react").__setRef("SpotlightMercurySharedMediaViewer.react"));g["default"]=a}),98);
__d("SpotlightMessengerSharedMediaViewer.react",["csx","cx","fbt","invariant","ActorURI","BootloadedComponent.react","Event","JSResource","KeyEventController","MessengerForwardAttachmentDialogReact.bs","MessengerPhotoViewBottomBarReact.re","MessengerPhotoViewHScroll.react","MessengerPhotoViewHeader.react","MessengerSharedMediaActions","MessengerVideoPlayer.react","Parent","PhotoUtils","ScriptPath","SpotlightMessagesViewerPagers.react","SpotlightViewer","SpotlightViewerImage","SpotlightViewport","SubscriptionsHandler","Tooltip.react","Vector","XMessagingPhotoDownloadController","lazyLoadComponent","prop-types","react"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=d("react"),m=88,n=80,o=30,p="_4-og",q=function(){var a=document.createElement("a");a.style.cssText="backdrop-filter:blur(2px);";return!!a.style.length}();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=void 0,e.$2=[],e.state={photoData:null,showForward:!1,showInfo:!1,stageDimensions:new(c("Vector"))()},e.$14=function(a){if(!e.props.sharedMedia)return;var b=e.props.sharedMedia.findIndex(function(b){return b.node.legacy_attachment_id===a});if(b<0)return;var c=e.props.sharedMedia[b];e.setState({photoData:c});e.$17(b)},e.$4=function(a,b){if(e.state.photoData==null)return;var c=e.state.photoData;if(b&&!!d("Parent").bySelector(b.target,"._170l"))return;b&&b.target instanceof HTMLElement&&b.target.className===p&&e.$7();b=e.props.sharedMedia.findIndex(function(a){return a.node.legacy_attachment_id===c.node.legacy_attachment_id});if(b<0||b===e.props.sharedMedia.length-1&&!e.props.hasNextPage&&a)return;if(b===0&&!a){d("MessengerSharedMediaActions").loadMoreLatest(e.props.threadID,e.props.sharedMedia[0].cursor,o);return}a=a?e.props.sharedMedia[b+1]:e.props.sharedMedia[b-1];e.setState({photoData:a});e.$17(b)},e.$7=function(){if(e.props.photoID===null)return;d("ScriptPath").closeOverlayView("spotlight_media_view");e.setState({photoData:null});e.props.onClosePhotoView()},e.$12=function(){e.setState({showForward:!0})},e.$15=function(){e.setState({showForward:!1})},e.$11=function(){e.setState({showInfo:!0})},e.$16=function(){e.setState({showInfo:!1})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidMount=function(){var a=this,b=this.props.sharedMedia.find(function(b){return b.node.legacy_attachment_id===a.props.photoID});this.setState({photoData:b,stageDimensions:this.$3()});this.$1=new(c("SubscriptionsHandler"))();this.$1.addSubscriptions(c("Event").listen(window,"resize",function(){a.setState({stageDimensions:a.$3()})}),c("KeyEventController").registerKey("LEFT",function(){a.$4(!1);return!1}),c("KeyEventController").registerKey("RIGHT",function(){a.$4(!0);return!1}));d("ScriptPath").openOverlayView("spotlight_media_view",{photoID:this.props.photoID,threadID:this.props.threadID})};e.componentWillUnmount=function(){this.$1&&this.$1.release(),this.$1=null,this.$2.forEach(function(a){return a.abandon()})};e.render=function(){var a=this,b=this.$5(),d=this.state.stageDimensions,e=this.props.useloadingindicator&&!this.state.photoData;if(this.state.photoData==null)return null;var f=this.props.sharedMedia.findIndex(function(b){a.state.photoData!=null||k(0,1033);return b.node.id===a.state.photoData.node.id});f=l.jsxs("div",{children:[this.$6(),this.props.disablepaging?null:l.jsx(c("SpotlightMessagesViewerPagers.react"),{disablePrevArrow:f<=0&&!this.props.hasPrevPage,disableNextArrow:!this.props.hasNextPage&&f>=this.props.sharedMedia.length-1})]});return l.jsxs("span",{children:[l.jsxs(c("SpotlightViewer"),{className:"_53vs",onHide:this.$7,open:this.props.photoID!==null,ref:"spotlightViewer",rootClassName:this.props.rootClassName,wash:q?"blur":"dark",children:[l.jsx(c("SpotlightViewport"),{active:!1,fadeInNOut:!0,media:b,onClick:this.$4,ref:"viewport",showLoadingIndicator:e,stageDimensions:d,useWidth:!0,className:"_9ahm"+(q?" _99rm":""),children:f}),this.$8()]}),this.$9(),this.$10()]})};e.$6=function(){if(!this.state.photoData)return null;var a=this.state.photoData.node.legacy_attachment_id;a=c("XMessagingPhotoDownloadController").getURIBuilder().setString("photo_id",a).getURI();this.props.actorid&&(a=d("ActorURI").create(a,this.props.actorid));return l.jsx(c("MessengerPhotoViewHeader.react"),{disableForward:this.props.disableForward,onClose:this.$7,openInfo:this.$11,photoID:this.props.photoID,ref:"photoviewheader",showForwardDialog:this.$12,url:a})};e.$13=function(a){return a?Math.ceil(a/n):o};e.$8=function(){var a=this;if(!this.state.photoData)return null;var b=this.state.photoData,e=l.jsx("button",{className:"_2n5b",onClick:function(){return a.props.openAlbum(b.node.legacy_attachment_id)},type:"button",children:l.jsx(c("Tooltip.react"),{tooltip:"View Gallery",children:l.jsx("div",{"aria-label":j._("Full-screen photo gallery"),className:"_3por"})})});return l.jsxs(d("MessengerPhotoViewBottomBarReact.re").make,{children:[l.jsx(c("MessengerPhotoViewHScroll.react"),{onScroll:this.$14,photoID:b.node.legacy_attachment_id,sharedPhotos:this.props.sharedMedia,width:this.state.stageDimensions.x,blurSupported:q}),e]})};e.$9=function(){if(!this.state.photoData||this.props.disableForward)return null;var a=j._("Forward");return l.jsx(d("MessengerForwardAttachmentDialogReact.bs").jsComponent,{attachmentID:this.state.photoData.node.legacy_attachment_id,onClose:this.$15,shown:this.state.showForward,title:a})};e.$10=function(){return this.state.showInfo?l.jsx(l.Suspense,{fallback:l.jsx("div",{}),children:l.jsx(r,{closeInfo:this.$16,infoOpen:this.state.showInfo,photoID:this.state.photoData.node.id})}):null};e.$17=function(a){var b=this.$13(this.state.stageDimensions.x),c=this.props.sharedMedia;a<=b/2?(d("MessengerSharedMediaActions").loadMoreLatest(this.props.threadID,c[0].cursor,b),c.length<b&&this.props.hasNextPage&&d("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,c[c.length-1].cursor,b)):a>=c.length-b/2&&this.props.hasNextPage&&d("MessengerSharedMediaActions").loadMorePrevious(this.props.threadID,c[c.length-1].cursor,b)};e.$3=function(){var a=new(c("Vector"))(c("Vector").getViewportDimensions().x,c("Vector").getViewportDimensions().y-m);return a};e.$5=function(){if(this.state.photoData&&this.state.photoData.node){var a=this.state.photoData.node;if(a.__typename&&a.__typename==="MessageVideo")return this.$18();var d=this.state.stageDimensions,e=this.$19(a,d);if(!e)return null;if(a.photo_encodings&&a.photo_encodings.length!==0)return this.$20(a.legacy_attachment_id,e,a.photo_encodings,d);a=b.getImageDimensionsForStage(new(c("Vector"))(e.width,e.height),d);return this.$21(e,a)}else return null};e.$18=function(){return this.state.photoData?l.jsx(c("MessengerVideoPlayer.react"),{isVisible:!0,isOnStage:!0,videoData:this.state.photoData.node,stageDimensions:this.state.stageDimensions}):null};e.$21=function(a,b){return l.jsx(c("SpotlightViewerImage"),{dimensions:b,ref:"image",src:a.uri})};e.$20=function(a,b,d,e){return l.jsx(c("BootloadedComponent.react"),{bootloadLoader:c("JSResource")("SpotlightViewerSphericalPhoto.react").__setRef("SpotlightMessengerSharedMediaViewer.react"),bootloadPlaceholder:l.jsx("div",{}),height:e.y,width:e.x,fbid:a,thumbnail:b.uri,photoEncodings:d,stageDimensions:this.state.stageDimensions})};e.$19=function(a,b){b=d("PhotoUtils").getImagesFromData(a);return b[b.length-1]};return b}(l.Component);a.propTypes={disableForward:c("prop-types").bool,hasPrevPage:c("prop-types").bool,hasNextPage:c("prop-types").bool,onClosePhotoView:c("prop-types").func,openAlbum:c("prop-types").func,photoID:c("prop-types").string,rootClassName:c("prop-types").string,threadID:c("prop-types").string,sharedMedia:c("prop-types").arrayOf(c("prop-types").object)};a.getImageDimensionsForStage=function(a,b){var d=a.x;a=a.y;var e=b.x;b=b.y;var f=d/a,g=e/b;d>=e||a>=b?g<f?(d=e,a=Math.round(e/f)):g>f?(d=Math.round(b*f),a=b):(d=e,a=b):f<g?d=Math.round(a*f):a=Math.round(d/f);return new(c("Vector"))(d,a)};var r=c("lazyLoadComponent")(c("JSResource")("MessengerPhotoInfoDialogContainer.react").__setRef("SpotlightMessengerSharedMediaViewer.react"));g["default"]=a}),98);
__d("SpotlightMessengerSharedMediaViewerContainer.react",["FluxContainer","MessengerSharedMediaActions","MessengerSharedMediaStore","SpotlightMessengerSharedMediaViewer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getStores=function(){return[c("MessengerSharedMediaStore")]};b.calculateState=function(a,b){a=c("MessengerSharedMediaStore").getState();var d=a.sharedMedia.get(b.threadID);a=a.isLoading.get(b.threadID);return{sharedMedia:d,isLoading:a}};var e=b.prototype;e.componentDidMount=function(){d("MessengerSharedMediaActions").loadCurrent(this.props.threadID,this.props.photoID)};e.render=function(){var a=this;if(!this.state.sharedMedia)return null;var b=this.state.sharedMedia&&this.state.sharedMedia.edges.find(function(b){return b.node.legacy_attachment_id===a.props.photoID});return!b?null:h.jsx(c("SpotlightMessengerSharedMediaViewer.react"),{disableForward:this.props.disableForward,hasPrevPage:this.state.sharedMedia&&this.state.sharedMedia.has_previous_page,hasNextPage:this.state.sharedMedia&&this.state.sharedMedia.has_next_page,onClosePhotoView:this.props.onClosePhotoView,openAlbum:this.props.openAlbum,photoID:this.props.photoID,rootClassName:this.props.rootClassName,sharedMedia:this.state.sharedMedia&&this.state.sharedMedia.edges,threadID:this.props.threadID})};return b}(h.PureComponent);b=c("FluxContainer").create(a,{withProps:!0});g["default"]=b}),98);
__d("MessengerThreadSharedPhotos.react",["cx","MessengerSharedPhotosAlbumViewContainer.react","SpotlightMessengerSharedMediaViewerContainer.react","SpotlightViewer","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={photoView:c.props.findFBID,albumView:""},c.$3=function(a){c.setState({albumView:a,photoView:""})},c.$4=function(){c.setState({albumView:""})},c.$5=function(a){c.setState({albumView:"",photoView:a})},c.$6=function(){c.setState({photoView:""})},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.componentDidUpdate=function(){!this.state.photoView&&!this.state.albumView&&this.props.onCloseSharedPhotos()};d.render=function(){var a=this.state.photoView?this.$1():null,b=this.state.albumView?this.$2():null;return i.jsxs("div",{children:[b,a]})};d.$1=function(){return i.jsx(c("SpotlightMessengerSharedMediaViewerContainer.react"),{disableForward:!1,onClosePhotoView:this.$6,openAlbum:this.$3,photoID:this.state.photoView,rootClassName:"",threadID:this.props.threadFBID})};d.$2=function(){return i.jsx(c("SpotlightViewer"),{className:"_3ode",onHide:this.$4,open:!0,ref:"spotlightViewer",children:i.jsx(c("MessengerSharedPhotosAlbumViewContainer.react"),{onClick:this.$5,onCloseSharedPhotos:this.props.onCloseSharedPhotos,threadID:this.props.threadFBID,viewedPhoto:this.state.albumView})})};return b}(i.Component);a.propTypes={findFBID:c("prop-types").string,onCloseSharedPhotos:c("prop-types").func,threadFBID:c("prop-types").string};g["default"]=a}),98);
__d("MessengerThreadSharedPhotosReact.bs",["MessengerThreadSharedPhotos.react","ReasonReact.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return b("ReasonReact.bs").wrapJsForReason(b("MessengerThreadSharedPhotos.react"),{findFBID:a,onCloseSharedPhotos:c,threadFBID:d},e)}f.make=a}),null);
__d("MessengerVideoPlayerReact.bs",["MessengerVideoPlayer.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){var l;return b("ReasonReact.bs").wrapJsForReason(b("MessengerVideoPlayer.react"),{attachment:(l=b("bs_js_null_undefined")).fromOption(a),className:l.fromOption(c),isInThread:l.fromOption(d),isVisible:l.fromOption(e),isOnStage:l.fromOption(f),stageDimensions:l.fromOption(g),videoData:h,onClick:l.fromOption(i),onSelect:l.fromOption(j)},k)}f.make=a}),null);
__d("MessengerVideoReact.bs",["cx","ix","Image.bs","MessengerPhotoReact.bs","MessengerVideoPlayerReact.bs","ReasonReact.bs","bs_caml_option","bs_curry","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){a=a.metadata;if(!(a==null)&&!(a.fbid==null)){var b=window.screen.width>1800&&!(a.large_size==null)&&!(a.large_preview==null),c=a.fbid,d=b?a.large_size:a.inbox_size;d=d==null?{x:0,y:0}:{x:d.width,y:d.height};b=b?a.large_preview:a.inbox_preview;return{legacy_attachment_id:c,original_dimensions:d,start_muted:!0,hide_controls_on_finish:!0,url:b,is_share:!1}}return{legacy_attachment_id:null,original_dimensions:null,start_muted:!0,hide_controls_on_finish:!0,url:null,is_share:!1}}function l(a){var b=a%60;return String(a/60|0)+(":"+((b<10?"0":"")+String(b)))}function a(a){var c=a.className,d=a.attachment,e=a.isSingle,f=a.onAttachmentLoad,g=a.isVisible,i=a.onClick,m=a.onSelect,n=c!==void 0?c:"";a=function(a){a=d.metadata;var c=d.media;c=a==null?c==null?void 0:b("bs_caml_option").nullable_to_opt(c.duration):b("bs_caml_option").nullable_to_opt(a.duration);if(c!==void 0)return l(c);else return null};var o=function(a){if(i!==void 0)return b("bs_curry")._1(i,d)};c=function(a){var c=a.legacy_attachment_id;if(c==null)return;else return b("bs_caml_option").some(b("ReasonReact.bs").element(void 0,void 0,b("MessengerVideoPlayerReact.bs").make(b("bs_caml_option").some(d),b("joinClasses")(n,"_ccq","_4tsk","_3o67",e?"_52mr":"",e?"_1byr":""),!0,g,void 0,void 0,a,o,m,[])))};var p=k(d);c=c(p);if(c!==void 0)return b("bs_caml_option").valFromOption(c);p={className:b("joinClasses")(n,"_ccq"),attachment:d,isSingle:e,children:[b("ReasonReact.bs").element(void 0,void 0,b("Image.bs").make("_ccr",void 0,void 0,void 0,h("27983"),void 0,void 0,void 0,void 0,[])),j.jsx("span",{className:"_ccs",children:a(void 0)})]};f!==void 0&&(p.onAttachmentLoad=b("bs_caml_option").valFromOption(f));i!==void 0&&(p.onClick=b("bs_caml_option").valFromOption(i));return j.createElement(b("MessengerPhotoReact.bs").make,p)}c=1800;d=a;f.large_window_width=c;f.constructVideoData=k;f.formatDuration=l;f.make=d}),null);
__d("MessengerXMATextBlock.react",["cx","LineClamp.react","ShimButton.react","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=26;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.url!=null&&c.props.url!=""&&window.open(c.props.url)},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.render=function(){if(!this.props)return i.jsx("div",{className:"__6j"});var a=this.props.width!=null?{maxWidth:this.props.width-j,textAlign:"left"}:{textAlign:"left"},b={textDecoration:"none"};return i.jsx("div",{className:c("joinClasses")(this.props.className,"__6j _43kk _6ude"),style:a,children:i.jsxs(c("ShimButton.react"),{form:"link",onClick:this.$1,style:b,children:[this.renderTitle(),this.renderDescription(),this.renderSource()]})})};d.renderTitle=function(){return this.props.title==null?null:i.jsx("div",{className:"__6k",children:i.jsx(c("LineClamp.react"),{lines:2,lineHeight:16,children:this.props.title})})};d.renderDescription=function(){if(this.props.description==null)return null;var a=this.props.width!=null?{maxWidth:this.props.width-j}:{};return i.jsx("div",{className:"__6l",style:a,children:i.jsx(c("LineClamp.react"),{lines:2,lineHeight:15,children:this.props.description})})};d.renderSource=function(){return this.props.source==null?null:i.jsx("div",{className:"__6m",children:i.jsx(c("LineClamp.react"),{lines:1,lineHeight:14,children:this.props.source})})};return b}(i.Component);a.propTypes={className:c("prop-types").string,description:c("prop-types").string,source:c("prop-types").string,title:c("prop-types").string,url:c("prop-types").string,width:c("prop-types").number,isFromViewer:c("prop-types").bool,attachment:c("prop-types").object};g["default"]=a}),98);
__d("MessengerXMATextBlockReact.bs",["MessengerXMATextBlock.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){var l;return b("ReasonReact.bs").wrapJsForReason(b("MessengerXMATextBlock.react"),{className:(l=b("bs_js_null_undefined")).fromOption(a),description:l.fromOption(c),source:l.fromOption(d),title:l.fromOption(e),url:l.fromOption(f),width:l.fromOption(g),threadID:l.fromOption(h),isFromViewer:l.fromOption(i),attachment:l.fromOption(j)},k)}f.make=a}),null);
__d("MessengerVideoXMAReact.bs",["cx","MessengerVideoPlayerReact.bs","MessengerXMATextBlockReact.bs","ReasonReact.bs","bs_caml_option","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){if(a==null)return null;var b=a.width>a.height?a.width:a.height,c=window.screen.width>1800?640:450;if(b<=c)return{x:a.width,y:a.height};c=c/b;b=a.width*c|0;a=a.height*c|0;return{x:b,y:a}}function k(a){var b=a.media;a=a.target;if(b==null)return;if(a==null)return;if(b.image_size==null||a.video_id==null)return;var c=b.image_size;return{legacy_attachment_id:a.video_id,original_dimensions:j(c),start_muted:!0,hide_controls_on_finish:!0,url:b.image,is_share:!0}}function a(a){var c=a.className,d=a.attachment,e=a.isVisible,f=a.onSelect,g=a.threadID,h=a.isFromViewer,j=c!==void 0?c:"";a=function(a){if(a!==void 0)return b("ReasonReact.bs").element(void 0,void 0,b("MessengerVideoPlayerReact.bs").make(b("bs_caml_option").some(d),b("joinClasses")(j,"_ccq","_4tsk","_3o67","_52mr","_1byr"),!0,e,void 0,void 0,b("bs_caml_option").valFromOption(a),void 0,f,[]));else return null};c=function(a){var c;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerXMATextBlockReact.bs").make("_2f5n _4br2 _29ew _3dug",(c=b("bs_caml_option")).nullable_to_opt(d.description),c.nullable_to_opt(d.source),c.nullable_to_opt(d.video_title),c.nullable_to_opt(d.uri),a!==void 0?b("bs_caml_option").valFromOption(a).x:void 0,g,h,b("bs_caml_option").some(d),[]))};var l=k(d);a=a(l);return i.jsxs("div",{className:"_3duc",children:[a,c(l!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(l).original_dimensions):void 0)]})}c=640;d=450;e=1800;g=a;f.large_preview_dim=c;f.thumbinail_inbox_dim=d;f.large_window_width=e;f.adjustSize=j;f.constructVideoData=k;f.make=g}),null);
__d("MessengerPhotosGroupReact.bs",["cx","ActorURI","ChatSpeakingStickerReact.bs","LogHistory","MercuryAttachmentPayload.bs","MercuryAttachmentType","MercuryIDs","MessagesViewerSetID","MessengerAttachmentViewer","MessengerPhotoReact.bs","MessengerThreadSharedPhotosReact.bs","MessengerVideoReact.bs","MessengerVideoXMAReact.bs","ReasonReact.bs","URI","Utils.bs","bs_belt_Array","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","bs_js_null_undefined","getPageIDFromThreadID","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k="empty-spacer";a=b("LogHistory").getInstance("messenger_photo_group");var l=b("ReasonReact.bs").reducerComponent("MessengerPhotosGroup");function m(a,c,d,e,f,g,h,m,n,o,p,q,r,s){var t=d!==void 0?d:"",u=function(a){a=a.length;var c=a===2||a===4;return b("joinClasses")(t,"_2n8h",a===1?"_2n8i":"",c?"_4ksk":"",a>1&&!c?"_2n8k":"","_5fk1")},v=function(a){if(m===void 0)return null;a=b("bs_caml_option").valFromOption(m);var c=a.thread_fbid;if(!(c==null)&&b("bs_caml").caml_string_compare(c,"")!==0)return c;else return b("MercuryIDs").getThreadFBIDFromThreadID(a.thread_id)},w=function(a,c){var d=v(void 0);c=c.metadata;c=c==null?null:c.fbid;return b("ReasonReact.bs").element(void 0,void 0,b("MessengerThreadSharedPhotosReact.bs").make(c,function(c){return b("bs_curry")._1(a.send,0)},d,[]))},x=function(d,l,m,s){var t=l.deduplication_key,u=l.metadata;if(t==null)if(u==null){var w=l.upload_id;w=w==null?"":w}else{u=u.fbid;w=u==null?"":u}else w=t;var x;if(m||f===!0)if(l.large_preview_url==null)x=void 0;else{var y=l.large_preview_url;x=function(a){return window.open(y)}}else{var z=l.metadata;u=0;z==null||z.fbid==null?u=1:x=l.app_attribution==null?function(a){return b("bs_curry")._1(d.send,{_0:a})}:function(c){if(b("Utils.bs").isTruthy(c.preview_uploading))return;if(c.attach_type===b("MercuryAttachmentType").VIDEO){var d=z.dimensions;d=d==null?{x:null,y:null}:{x:d.width,y:d.height};var f=c.url;b("MessengerAttachmentViewer").renderVideo({pageID:b("bs_js_null_undefined").fromOption(p),rootClassName:"_1j1h",videoID:z.fbid,videoSize:d,videoURI:f==null?new(i||(i=b("URI")))(""):f});return}if(!(c.attach_type===b("MercuryAttachmentType").PHOTO||c.attach_type===b("MercuryAttachmentType").THIRDPARTYSTICKER||c.attach_type===b("MercuryAttachmentType").ANIMATED_IMAGE))if(!(c.uri==null))return window.open(c.uri);else return;d=a.length===1;f=c.url;f=f==null?new(i||(i=b("URI")))(""):f;if(g!==!0&&c.attach_type===b("MercuryAttachmentType").PHOTO&&e!==void 0){var h=v(void 0),j=e===1;h=new(i||(i=b("URI")))("/ajax/messaging/attachments/sharedphotos.php").setQueryData({thread_id:h,image_id:z.fbid});h=p!==void 0?new(b("ActorURI").create)(h,b("bs_caml_option").valFromOption(p)):h;h=[b("MessagesViewerSetID").MESSAGES_VIEW_ALL_IN_THREAD,h,j]}else h=[null,f,d];b("MessengerAttachmentViewer").bootstrapWithConfig({actorid:b("bs_js_null_undefined").fromOption(p),dimensions:z.dimensions,disableForward:p!==void 0,disablePaging:h[2],endpoint:h[1],fbid:z.fbid,rootClassName:"_1j1h",setID:h[0],snapToPhoto:!0,src:c.preview_url})};if(u===1)if(l.uri==null)x=void 0;else{var A=l.uri;x=function(a){return window.open(A)}}}t=b("bs_belt_Option").getWithDefault(c,l.attach_type);if(t===b("MercuryAttachmentType").PHOTO||t===b("MercuryAttachmentType").ANIMATED_IMAGE||t===b("MercuryAttachmentType").THIRDPARTYSTICKER){m={attachment:l,isSingle:s,children:[]};h!==void 0&&(m.isVisible=b("bs_caml_option").valFromOption(h));n!==void 0&&(m.onAttachmentLoad=b("bs_caml_option").valFromOption(n));x!==void 0&&(m.onClick=b("bs_caml_option").valFromOption(x));return j.jsx(b("MessengerPhotoReact.bs").make,m,w)}if(t===b("MercuryAttachmentType").VIDEO){u=l.metadata;if(!(u==null)&&b("Utils.bs").isTruthy(u.render_as_sticker)){m=u.dimensions;u=m==null?{height:null,width:null}:{height:m.height,width:m.width};m=l.url;m=m==null?new(i||(i=b("URI")))(""):m;return b("ReasonReact.bs").element(void 0,void 0,b("ChatSpeakingStickerReact.bs").make(m,u,[]))}if(g===!0){m={attachment:l};h!==void 0&&(m.isVisible=b("bs_caml_option").valFromOption(h));o!==void 0&&(m.onSelect=b("bs_caml_option").valFromOption(o));q!==void 0&&(m.threadID=b("bs_caml_option").valFromOption(q));r!==void 0&&(m.isFromViewer=b("bs_caml_option").valFromOption(r));return j.jsx(b("MessengerVideoXMAReact.bs").make,m,w)}u={attachment:l,isSingle:s};n!==void 0&&(u.onAttachmentLoad=b("bs_caml_option").valFromOption(n));h!==void 0&&(u.isVisible=b("bs_caml_option").valFromOption(h));x!==void 0&&(u.onClick=b("bs_caml_option").valFromOption(x));o!==void 0&&(u.onSelect=b("bs_caml_option").valFromOption(o));return j.jsx(b("MessengerVideoReact.bs").make,u,w)}if(t===k)return j.jsx("div",{key:b("bs_caml_option").nullable_to_opt(l.key),className:"_4tsk _4rf-"});throw{RE_EXN_ID:"Invalid_argument",_1:t+" is not handled by MessengerPhotosGroup",Error:new Error()}},y=function(c,a,d){if(a.length!==1){var e=a.length===2||a.length===4?2:3,f=[],g={contents:0},h=a.length;while(g.contents<h){var l=b("bs_caml").caml_int_min(e,h-g.contents|0);l=b("bs_belt_Array").makeBy(e,function(f){return function(h){if(h<f)return x(c,a[g.contents+h|0],d,!1);h="ghost"+String(e-h|0);h=b("MercuryAttachmentPayload.bs").create(k,b("bs_caml_option").some(h),new(i||(i=b("URI")))(""));return x(c,h,d,!1)}}(l));f.push(j.jsx("div",{className:"_2n8g",children:l},String(g.contents)));g.contents=g.contents+e|0}return f}l=a[0];return x(c,l,d,!0)};return{debugName:l.debugName,reactClassInternal:l.reactClassInternal,handedOffState:l.handedOffState,getDerivedStateFromProps:l.getDerivedStateFromProps,didMount:function(a){b("MessengerAttachmentViewer").preload()},didUpdate:l.didUpdate,willUnmount:l.willUnmount,shouldUpdate:l.shouldUpdate,render:function(c){var d=m!==void 0?!(b("getPageIDFromThreadID")(b("bs_caml_option").valFromOption(m).thread_id)==null):!1;d=y(c,a,d);var e=c.state.findID;c=e!==void 0?w(c,b("bs_caml_option").valFromOption(e)):null;return j.jsxs("div",{tabIndex:0,className:u(a),children:[c,d]})},initialState:function(a){return{findID:void 0}},retainedProps:l.retainedProps,reducer:function(a,c){if(a)return{TAG:0,_0:{findID:b("bs_caml_option").some(a._0)}};else return{TAG:0,_0:{findID:void 0}}},jsElementWrapped:l.jsElementWrapped}}c=b("ReasonReact.bs").wrapReasonForJs(l,function(a){var c;return m(a.attachments,(c=b("bs_caml_option")).nullable_to_opt(a.attachType),c.nullable_to_opt(a.className),c.nullable_to_opt(a.count),c.nullable_to_opt(a.isPageMessage),c.nullable_to_opt(a.isXMA),c.nullable_to_opt(a.isVisible),c.nullable_to_opt(a.message),c.nullable_to_opt(a.onAttachmentLoad),c.nullable_to_opt(a.onSelect),c.nullable_to_opt(a.pageID),c.nullable_to_opt(a.threadID),c.nullable_to_opt(a.isFromViewer),[])});f.empty_spacer_type=k;f.history=a;f.component=l;f.make=m;f.jsComponent=c}),null);
__d("MessengerPhotosGroup.react",["MessengerPhotosGroupReact.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MessengerPhotosGroupReact.bs").jsComponent}),98);
__d("MessengerStickerUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){return!!(a&&a.attach_type==="sticker")}function h(a){var b=a.attachments;return!!(a.is_like_preview||a.sticker_id||b&&b.length===1&&g(b[0]))}function a(a){return a.size===1&&h(a.first())}f.isStickerAttachment=g;f.isStickerMessage=h;f.isStickerMessageGroup=a}),66);
__d("MercuryAudioPlayer",["DOM","Event"],(function(a,b,c,d,e,f){var g=200;function h(){var a=b("DOM").create("audio"),c=!1;try{a.canPlayType&&(a.canPlayType("video/mp4;").replace(/^no$/,"")&&(c=!0))}finally{return c}}var i=function(){var a=this;this.interval=null;this.arbiterInstance=null;this.audio=b("DOM").create("audio");b("Event").listen(this.audio,"playing",function(){a.informAttachment("playing",a.audio.currentTime),a.interval=window.setInterval(function(){a.informAttachment("playing",a.audio.currentTime)},g)});b("Event").listen(this.audio,"ended",function(){window.clearInterval(a.interval),a.informAttachment("finished")})};Object.assign(i.prototype,{setAudio:function(a,b){this.audio.setAttribute("src",a),this.arbiterInstance=b},informAttachment:function(a,b){this.arbiterInstance&&this.arbiterInstance.inform(a,b)},play:function(){this.audio.play(),this.informAttachment("played")},resume:function(){this.audio.play(),this.informAttachment("played")},pause:function(){this.audio.pause(),window.clearInterval(this.interval),this.informAttachment("paused")},getType:function(){return"html5"}});function j(){return h()?new i():!1}var k=null,l=null,m=0;function a(a,b){this.src=a;this.arbiterInstance=b;this.audio_id=++m;k!==null||(k=j());if(!k)return!1}Object.assign(a.prototype,{getType:function(){if(!k)return!1;else return k.getType()},play:function(a){a&&l==this.audio_id?k.resume():(this.pause(),l=this.audio_id,k.setAudio(this.src,this.arbiterInstance),k.play())},pause:function(){k.pause()}});e.exports=a}),null);
__d("MercuryAttachmentAudioClip.react",["cssVar","cx","fbt","Arbiter","ArbiterMixin","CurrentUser","LeftRight.react","Link.react","MercuryAudioPlayer","MercuryShareAttachmentRenderLocations","SubscriptionsHandler","createReactClass_DEPRECATED","joinClasses","prop-types","react","shield"],(function(a,b,c,d,e,f,g,h,i){var j,k=j||b("react"),l="MercuryAttachmentAudioClip/play",m="progress-bar";a=b("createReactClass_DEPRECATED")({displayName:"AudioClip",mixins:[b("ArbiterMixin")],propTypes:{customColor:b("prop-types").string,duration:b("prop-types").number,isChat:b("prop-types").bool,isFromViewer:b("prop-types").bool,location:b("prop-types").oneOf(b("MercuryShareAttachmentRenderLocations").getValues()),onAttachmentLoad:b("prop-types").func,rootClassName:b("prop-types").string,showHelp:b("prop-types").bool,src:b("prop-types").string.isRequired,width:b("prop-types").number},getInitialState:function(){this.logged=!1;return{time:0,playing:!1,started:!1,duration:this.props.duration,audioPlayer:new(b("MercuryAudioPlayer"))(this.props.src,this)}},componentDidMount:function(){var a=this;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this._subscriptionsHandler=new(b("SubscriptionsHandler"))();this._subscriptionsHandler.addSubscriptions(this.subscribe("playing",this.updateTime),this.subscribe("played",b("shield")(this.setState,this,{playing:!0,started:!0})),this.subscribe("paused",b("shield")(this.setState,this,{playing:!1})),this.subscribe("finished",b("shield")(this.setState,this,{playing:!1,started:!1,time:this.props.duration})),b("Arbiter").subscribe(l,function(b,c){a.props.src!=c&&a.setState({time:0})}))},componentWillUnmount:function(){this._subscriptionsHandler&&this._subscriptionsHandler.release()},updateTime:function(a,b){this.setState({time:b})},play:function(){this.state.playing?this.state.audioPlayer.pause():(this.state.audioPlayer.play(this.state.started),b("Arbiter").inform(l,this.props.src),this.logged||(this.logged=!0))},_formatSeconds:function(a){if(a){a=Math.round(a);var b=a%60;b<10&&(b="0"+b);a=Math.floor(a/60);return a+":"+b}else return null},_renderPlayer:function(a,c,d){var e=this.props.isFromViewer,f=this.props.isChat,g=b("CurrentUser").isWorkUser(),h=d===m,j=f&&e&&!h,l=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER;g=g?"#373e4c":"#4080ff";g=d||g;a={width:a};j&&(a.backgroundColor=g);j=d&&d!==m&&!f?{color:d}:{};g={};h&&(g["aria-hidden"]=!0);return k.jsxs(b("Link.react"),babelHelpers["extends"]({"aria-label":i._("Voice Message"),className:"_1miz _2e-1"+(l?"":" _3_om")+(e&&f?" _3e5f":""),role:"button",style:a,onClick:this.play},g,{children:[k.jsx("span",{className:"_1mi- _2e-2",children:k.jsx("i",{className:"_1mi_ _2e-3"})}),k.jsx("span",{style:j,className:"_1mj0 _2e-4 _3oh-",children:c}),k.jsx("div",{className:"_1mj1 _2e-5"})]}))},render:function(){var a=this.state.time,c=this.state.playing,d=this.state.started?this.props.duration-this.state.time:this.props.duration;d=this._formatSeconds(d);var e=this.props.location===b("MercuryShareAttachmentRenderLocations").MESSENGER,f=this.props.width||170;if(e){var g=this.props.duration;g>10?f=240:g>5?f=200:g>2?f=160:f=120}g=null;var h=Math.ceil(a*(f+2)/this.state.duration);e&&(h=Math.ceil(a*(f+24)/this.state.duration));if(this.state.audioPlayer&&this.state.audioPlayer.getType()){var j=this._renderPlayer(f,d,this.props.customColor);f=this._renderPlayer(f,d,m);c="_1mj2 _2e-6"+(c&&a!==0?" _1mj3":"")+(c&&a===0?" _4g4x":"");g=k.jsxs("div",{className:c,children:[j,k.jsx("div",{className:"_1mj4 _2e-7",style:{width:h},children:f})]})}else g=k.jsx("div",{className:"_1mj2",children:k.jsx("div",{className:"_1miz",children:k.jsxs(b("LeftRight.react"),{children:[k.jsxs("a",{className:"_1mj5",href:this.props.src,children:[k.jsx("span",{className:"_3qi6",children:k.jsx("i",{className:"_1mj6"})}),k.jsx("span",{className:"_1mj7",children:i._("Voice Message")}),k.jsx("span",{className:"_1mj8",children:d})]}),k.jsx("a",{href:this.props.src,className:"_1mj9",children:k.jsx("i",{className:"_1mja"})})]})})});return k.jsx("div",{className:b("joinClasses")("_1mjb"+(e?" _454y":""),this.props.rootClassName),children:g})}});e.exports=a}),null);
__d("MessengerVoiceClipAttachmentReact.bs",["cssVar","cx","MercuryAttachmentAudioClip.react","MercuryShareAttachmentRenderLocations.bs","MessengerColors","MessengerCustomColorUtils.bs","MessengerDotComAndInboxM4Check.bs","ReactDOMStyle.bs","WorkChatRedesignedMessageListCheck.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.attachment,d=a.customColor,e=a.message;a=a.thread;var f=c.metadata,g;if(f==null)g=0;else{f=f.duration;g=f==null?0:f/1e3}f=c.app_attribution!==null;var h=d!==void 0;e="audio:"+e.message_id;c=c.url;var i;if(c==null)i=null;else{c={src:c.toString(),duration:g,location:b("MercuryShareAttachmentRenderLocations.bs").getValue(2),rootClassName:"_3czg"+(f?" _4yjw":"")+" _2poz _ui9",showHelp:!1,width:200};d!==void 0&&(c.customColor=d);i=j.jsx(b("MercuryAttachmentAudioClip.react"),c,e)}return j.jsx("div",{className:(b("WorkChatRedesignedMessageListCheck.bs").enabled?"":"_hh7")+(b("MessengerDotComAndInboxM4Check.bs").yes?" _6ybn":"")+(b("WorkChatRedesignedMessageListCheck.bs").enabled?"":" _s1-")+(h?" _5sxi":"")+(f?"":" _52mr")+(f?" _mxz":"")+" _1fz8"+(f?" _1-wa":"")+" _1nqp",style:d!==void 0?b("MessengerDotComAndInboxM4Check.bs").yes?b("ReactDOMStyle.bs").unsafeAddProp(b("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,b("MessengerCustomColorUtils.bs").defaultColor(void 0)),"backgroundAttachment","fixed"):{backgroundColor:d}:b("WorkChatRedesignedMessageListCheck.bs").enabled?{backgroundColor:"#ece9e7"}:{},children:i})}c=a;f.make=c}),null);
__d("MessengerVoiceClipAttachmentReact.re",["MessengerVoiceClipAttachmentReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerVoiceClipAttachmentReact.bs").make;f.make=a}),null);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","JSResource","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeSVGReact.re","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","gkx","joinClasses","lazyLoadComponent","nullthrows","react","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").Suspense,l=c("lazyLoadComponent")(c("JSResource")("StickerPopoverImage.react").__setRef("Sticker.react")),m=c("lazyLoadComponent")(c("JSResource")("GeoPopover.react").__setRef("Sticker.react")),n=83;a=5e3;var o=10,p={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.__stopIntervalID=null,c.$1=!1,c.$2=j.createRef(),c.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},c.toggleAnimation=function(){c.isAnimating()?c.stopAnimation():c.startAnimation()},c.incrementFrameIndex=function(){c.shouldStopAnimating()?c.stopAnimation():c.setState({index:c.state.index+1})},c.onStickerClick=function(){if(!c.$3(c.props.packID))return;c.props.onStickerClick&&c.props.onStickerClick(c.props.packID,c.props.stickerID)},c.mouseLeft=function(){c.setState({isHovered:!1})},c.mouseEntered=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusSelected=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusUnselected=function(){c.setState({isHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===p.LOAD_AND_HOVER||this.props.animationTrigger===p.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var b=c("Arbiter").subscribe(this.props.subscribedThreadID,function(b,c){a.isScrolledIntoView(c.scrollTop,c.viewHeight,c.top)});this.setState({unsubscribeID:b})}};e.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&c("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&c("clearInterval")(this.__stopIntervalID)};e.isAnimating=function(){return!!this.__stopIntervalID};e.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};e.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};e.preloadSprite=function(){var a=this,b=new window.Image();b.onload=function(){a.$1&&!a.state.hasAnimated&&(a.setState({hasAnimated:!0}),a.__stopIntervalID=c("setIntervalAcrossTransitions")(a.incrementFrameIndex,a.props.frameRate))};c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?b.src=this.props.paddedSpriteURI:b.src=this.props.spriteURI};e.isScrolledIntoView=function(a,b,d){var e=c("getElementPosition")(this.$2.current);d=a+e.y-d;b=a+b;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-o<=b&&d+o>=a&&this.startAnimation()};e.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};e.stopAnimation=function(){this.setState({index:0}),c("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};e.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===p.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:n;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===p.CLICK?!0:!this.state.isHovered};e.getStyle=function(){var a,b=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);b=Math.floor(parseInt(c("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+b*2)+b:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+b*2)+b:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===p.CLICK||this.$3(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+b*2)*this.props.framesPerRow+"px "+(e+b*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};e.$3=function(a){return a&&a!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=c("StickerConstants").GRAVEYARD_PACK_ID};e.getAriaLabel=function(){var a;return i._("{pack name} {sticker name} sticker",[i._param("pack name",(a=this.props.packName)!=null?a:""),i._param("sticker name",this.props.accessibilityLabel)])};e.render=function(){var a,b;this.props.animationTrigger===p.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===p.HOVER||this.props.animationTrigger===p.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(b=!0);var e=a?this.toggleAnimation:null;this.props.packID&&(e=this.onStickerClick);var f=this.props.className,g=null;this.$4()&&(f=c("joinClasses")(f,"_576q"),(!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))&&this.props.thread!=null?g=j.jsx(d("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,{thread:this.props.thread}):g=j.jsx(d("MessengerHotLikeSVGReact.re").make,{color:this.props.customColor}));f=j.jsx("div",{"aria-label":this.getAriaLabel(),className:f,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:e,onFocus:this.tabFocusSelected,onMouseEnter:b?this.mouseEntered:null,onMouseLeave:b?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:g});return this.props.enablePopoverIfPassesGK&&c("gkx")("4316")?j.jsx(m,{content:j.jsx(k,{fallback:"Loading...",children:j.jsx(l,{stickerID:c("nullthrows")(this.props.stickerID)})}),heading:"",isSticky:!1,children:f}):f};e.$4=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return b}(j.Component);b.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:n,onStickerClick:c("emptyFunction"),packID:null,packName:"",tabIndex:0};g["default"]=b}),98);
__d("StickerUtils",[],(function(a,b,c,d,e,f){a={getScaledDimensions:function(a,b,c){var d=b>a?b:a;if(d===0)return{height:0,width:0};c=c/d;return{height:Math.round(a*c),width:Math.round(b*c)}},capitalizeWords:function(a){a=a.split(" ");for(var b=0;b<a.length;b++){var c=a[b].charAt(0).toUpperCase();a[b]=c+a[b].substr(1)}return a.join(" ")}};b=a;f["default"]=b}),66);
__d("StickersDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("ExplicitRegistrationDispatcher"))({strict:!1});g["default"]=a}),98);
__d("StickersActions",["StickersDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({ADD_RECENT_STICKER:null,HIDE_FLYOUT:null,LOAD_CUSTOM_STICKER_PACK:null,LOAD_RECENT_STICKERS:null,SELECT_STORE_PACK:null,SELECT_TRAY_PACK:null,SHOW_FLYOUT:null,TRAY_LOADED:null});a={Types:g,addRecentSticker:function(a){b("StickersDispatcher").dispatch({type:g.ADD_RECENT_STICKER,sticker:a})},hideStickerFlyout:function(){b("StickersDispatcher").dispatch({type:g.HIDE_FLYOUT})},loadCustomStickerPack:function(a,c){b("StickersDispatcher").dispatch({type:g.LOAD_CUSTOM_STICKER_PACK,pack:a,nuxContent:c})},loadRecentStickers:function(a){b("StickersDispatcher").dispatch({type:g.LOAD_RECENT_STICKERS,stickers:a})},selectStorePack:function(a){b("StickersDispatcher").dispatch({type:g.SELECT_STORE_PACK,packID:a})},selectTrayPack:function(a){b("StickersDispatcher").dispatch({type:g.SELECT_TRAY_PACK,packID:a})},showStickerFlyout:function(a){b("StickersDispatcher").dispatch({type:g.SHOW_FLYOUT,threadID:a})},trayLoaded:function(){b("StickersDispatcher").dispatch({type:g.TRAY_LOADED})}};e.exports=a}),null);
__d("XStickerInTrayController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/stickers/in_tray/",{pack_id:{type:"Int",required:!0}})}),null);
__d("StickersPackInTrayQuery",["AsyncRequest","Promise","RelayFBEnvironment","RelayModern","StickersPackInTrayQuery.graphql","XStickerInTrayController"],(function(a,b,c,d,e,f){"use strict";var g,h=b("RelayModern").fetchQuery;b("RelayModern").graphql;var i=g!==void 0?g:g=b("StickersPackInTrayQuery.graphql");a={onIsPackInTray:function(a,c,d){return h(b("RelayFBEnvironment"),i,{stickerInterface:c}).then(function(c){c=c&&c.length>0?c[0]:null;var e=c==null?void 0:(c=c.sticker_store)==null?void 0:(c=c.tray_packs)==null?void 0:c.edges;if(e)return new(b("Promise"))(function(b,c){return b({in_sticker_tray:e.filter(function(b){return b.node.id===a}).length>0})}).then(d);var f=b("XStickerInTrayController").getURIBuilder().setInt("pack_id",a).getURI();return new(b("Promise"))(function(a,c){return new(b("AsyncRequest"))(f).setHandler(function(b){return a(b.getPayload())}).setAllowCrossPageTransition(!0).send()}).then(d)})}};e.exports=a}),null);
__d("DialogFitHeight",["AbstractDialogFitHeight"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.getHeightProperty=function(){return"height"};return b}(c("AbstractDialogFitHeight"));g["default"]=a}),98);
__d("StickerInterfaces.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["COMMENTS","COMPOSER","FRAMES","MESSAGES","MONTAGE","NEO","POSTS","SMS","STICKERED","STORIES_COMPOSER"]);c=a;f["default"]=c}),66);
__d("StickersStateStore",["FluxReduceStore","StickersActions","StickersConfig","StickersDispatcher","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.reduce=function(a,b){var e=b;b=d("StickersActions").Types;switch(e.type){case b.ADD_RECENT_STICKER:var f=[e.sticker];a.get("recentStickers").forEach(function(a){if(a.id===e.sticker.id)return;f.push(a)});return a.set("recentStickers",f.splice(0,c("StickersConfig").max_mru_stickers));case b.HIDE_FLYOUT:return a.set("showFlyout",!1);case b.LOAD_CUSTOM_STICKER_PACK:return a.set("customPack",e.pack).set("customPackLoaded",!0).set("customPackNuxContent",e.nuxContent);case b.LOAD_RECENT_STICKERS:return a.set("recentStickersLoaded",!0).set("recentStickers",e.stickers);case b.SELECT_STORE_PACK:return a.set("storePackID",e.packID);case b.SELECT_TRAY_PACK:return a.set("trayPackID",e.packID).set("trayLoaded",!0);case b.SHOW_FLYOUT:return a.set("showFlyout",!0).set("threadID",e.threadID);case b.TRAY_LOADED:return a.set("trayLoaded",!0);default:return a}},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.getInitialState=function(){return c("immutable").Map({customPack:null,customPackLoaded:!1,customPackNuxContent:null,recentStickers:[],recentStickersLoaded:!1,showFlyout:!1,storePackID:null,threadID:null,trayLoaded:!1,trayPackID:null})};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("StickersDispatcher"));g["default"]=b}),98);
__d("StickersStoreDialog.react",["cx","DialogFitHeight","FDSSpinner.react","JSResource","LayerAutoFocus","LayerFadeOnHide","LayerHideOnEscape","LayerRefocusOnHide","PureStoreBasedStateMixin","RelayFBEnvironment","RelayModern","StickerInterfaces.facebook","StickersActions","StickersDispatcher","StickersStateStore","StickersStoreDialogPackDetailQuery.graphql","StickersStoreDialogStoreQuery.graphql","XUIDialog.react","XUIDialogBody.react","createReactClass_DEPRECATED","isSocialPlugin","lazyLoadComponent","prop-types","react","requestAnimationFrame","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react"),l=d("react").Suspense,m=c("requireDeferred")("StickerStoreFalcoEvent").__setRef("StickersStoreDialog.react"),n=c("lazyLoadComponent")(c("JSResource")("StickersStoreView.react").__setRef("StickersStoreDialog.react")),o=c("lazyLoadComponent")(c("JSResource")("StickersStoreDetailView.react").__setRef("StickersStoreDialog.react")),p=688,q=320;a=window.devicePixelRatio||1;var r=Math.ceil(40*(window.devicePixelRatio||1)),s=Math.ceil(88*a),t=Math.ceil(608*a);e=c("createReactClass_DEPRECATED")({displayName:"StickersStoreDialog",mixins:[c("PureStoreBasedStateMixin")(c("StickersStateStore"))],propTypes:{feedbackTargetID:c("prop-types").oneOfType([c("prop-types").string,c("prop-types").oneOf([null])]),stickerInterface:c("prop-types").oneOf([].concat(Array.from(c("StickerInterfaces.facebook").members()),[null])),isComposer:c("prop-types").bool,onToggle:c("prop-types").func.isRequired,shown:c("prop-types").bool.isRequired,causalElement:c("prop-types").instanceOf(Element)},getDefaultProps:function(){return{isComposer:!1}},statics:{calculateState:function(){return{packID:c("StickersStateStore").getState().get("storePackID")}}},UNSAFE_componentWillMount:function(){c("StickersDispatcher").explicitlyRegisterStores([b("StickersStateStore")])},shouldComponentUpdate:function(a){return!!a.shown},componentDidUpdate:function(a){!a.shown&&this.props.shown?this._logOpen():a.shown&&!this.props.shown&&this._logClose()},_logOpen:function(){m.onReady(function(a){a.log(function(){return{event:"open_store"}})})},_logClose:function(){m.onReady(function(a){a.log(function(){return{event:"close_store"}})})},_renderLoadingStore:function(){return k.jsx("div",{className:"_5r5e",children:k.jsx(c("FDSSpinner.react"),{size:"large"})})},_renderStoreView:function(){var a=this;return k.jsx(d("RelayModern").QueryRenderer,{environment:c("RelayFBEnvironment"),query:i!==void 0?i:i=b("StickersStoreDialogStoreQuery.graphql"),variables:{count:20,size:r},render:function(b){var c=b.error;b=b.props;if(c)return null;else if(b){var d;c=a._getDialogWidth();return k.jsx(l,{fallback:a._renderLoadingStore(),children:k.jsx(n,{feedbackTargetID:(d=a.props.feedbackTargetID)!=null?d:null,dialogWidth:c,isComposer:a.props.isComposer,packList:b.viewer,shown:a.props.shown,stickerInterface:(d=a.props.stickerInterface)!=null?d:null})})}return a._renderLoadingStore()}})},_renderStoreDetailView:function(a){var e=this;return k.jsx(d("RelayModern").QueryRenderer,{environment:c("RelayFBEnvironment"),query:j!==void 0?j:j=b("StickersStoreDialogPackDetailQuery.graphql"),variables:{packID:a,profileSize:s,previewWidth:t},render:function(a){var b=a.error;a=a.props;if(b)return null;else if(a){b=a.node;if(b.is_ghost_pack){d("StickersActions").selectStorePack(null);return null}b=e._getDialogWidth();return k.jsx(l,{fallback:e._renderLoadingStore(),children:k.jsx(o,{dialogWidth:b,shown:e.props.shown,stickerPack:a.node})})}return e._renderLoadingStore()}})},_onToggle:function(a){var b=this;c("requestAnimationFrame")(function(){return b.props.onToggle(a,b.props.causalElement)})},_getDialogWidth:function(){return c("isSocialPlugin")()&&document.body.offsetWidth<p?q:p},render:function(){var a=this._getDialogWidth(),b=this.state.packID;return k.jsx(c("XUIDialog.react"),{behaviors:{DialogFitHeight:c("DialogFitHeight"),LayerAutoFocus:c("LayerAutoFocus"),LayerFadeOnHide:c("LayerFadeOnHide"),LayerRefocusOnHide:c("LayerRefocusOnHide"),LayerHideOnEscape:c("LayerHideOnEscape")},className:"_9rxo",onToggle:this._onToggle,shown:this.props.shown,label:"Stickers Store Dialog",width:a,causalElement:this.props.causalElement,children:k.jsxs(c("XUIDialogBody.react"),{className:"_5rq- autofocus",children:[k.jsx("div",{className:b!=null?"_7vw3":"",children:this._renderStoreView()}),b!=null?this._renderStoreDetailView(b):null]})})}});f=e;g["default"]=f}),98);
__d("StickersStoreController",["DOM","ReactDOM","StickersActions","StickersStoreDialog.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=null,j=function(a,c){i||(i=b("DOM").create("div"),b("DOM").appendContent(document.body,i)),b("ReactDOM").render(h.jsx(b("StickersStoreDialog.react"),{feedbackTargetID:null,isComposer:a,onToggle:l,causalElement:c===null?void 0:c,shown:!0,stickerInterface:null}),i)},k=function(){if(!i)return;b("ReactDOM").render(h.jsx(b("StickersStoreDialog.react"),{feedbackTargetID:null,shown:!1,onToggle:l,stickerInterface:null}),i)},l=function(a,b){a?j(!1,b):k()};a={showStore:function(a,c,d){b("StickersActions").selectStorePack(a),j(!!c,d)}};e.exports=a}),null);
__d("isRetina",[],(function(a,b,c,d,e,f){"use strict";a=function(){return(window.devicePixelRatio||1)>1};f["default"]=a}),66);
__d("MessengerAttachmentRenderer",["cx","EmojiSticker.react","MercuryAttachment","MercuryAudioType","MercuryIDs","MercuryShareAttachment.react","MercuryShareAttachmentRenderLocations","MessengerErrorAttachment.react","MessengerFileAttachment.re","MessengerFromViewerUtils","MessengerHotLikePreview.react","MessengerHotLikeUtils","MessengerPhotosGroup.react","MessengerStickerUtils","MessengerSupportedEmojiUtils","MessengerVoiceClipAttachmentReact.re","Sticker.react","StickerConstants","StickerUtils","StickersActions","StickersPackInTrayQuery","StickersStoreController","XStickerAssetController","isRetina","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=700,k="sticker:",l="share:",m="_1c_u",n="_3o6m",o=function(a){return a===Object(a)};function a(a,b){var d=c("MercuryAttachment").get(a).filter(o).filter(function(a){return!z(a)});return p(d,a,b)}function b(a,b,d,e,f){var g=c("MercuryAttachment").get(a).filter(o).filter(function(a){return z(a)});return p(g,a,b,d,e,f)}function p(a,b,d,e,f,g){var h=w(a.filter(c("MercuryAttachment").isPhotoGroupAttachment),b,d,e);a=a.filter(function(a){return!c("MercuryAttachment").isPhotoGroupAttachment(a)}).map(function(a){return q(a,b,d,e,f,g)});h&&a.push(h);return a}function q(a,b,c,e,f,g){var h=e&&e.customColor,i=e&&e.onUnwrap,j=e&&e.isVisible,k=e&&e.isFromViewer,l=e&&e.isPageMessage;e=e&&e.onSelect;if(d("MessengerStickerUtils").isStickerAttachment(a))return r(a,b,h,i,g);if(H(a))return s(a,b,i);if(I(a))return u(a,b,h,i,g);if(C(a))return y(a,b);if(F(a)||D(a))return t(a,b,c,j,k,l,e,f,g);return P(a)?v(a,b):null}function r(a,b,e,f,g){if(b.is_like_preview)return i.jsx(c("MessengerHotLikePreview.react"),{customColor:e,customLike:b.customLike,since:b.like_preview_since,thread:g,location:d("MercuryShareAttachmentRenderLocations").MESSENGER},"hlp:"+b.like_preview_since);f=a.metadata;if(!f){f=d("MessengerHotLikeUtils").getMetadataForHotLike(b.sticker_id);if(!f){f={};a=c("StickerUtils").getScaledDimensions(c("StickerConstants").THREAD_SIZE,c("StickerConstants").THREAD_SIZE,c("StickerConstants").THREAD_SIZE);var h=a.height;a=a.width;f.height=h;f.width=a}f.stickerID=b.sticker_id}h=c("XStickerAssetController").getURIBuilder().setInt("sticker_id",f.stickerID);a=null;var j=null;c("isRetina")()?(a=f.paddedSpriteURI2x,j=f.spriteURI2x):(a=f.paddedSpriteURI,j=f.spriteURI);var l=f.stickerID.toString();e=i.jsx(c("Sticker.react"),{accessibilityLabel:f.accessibilityLabel,className:"_2poz _ui9",animationTrigger:"hover",customColor:(e=e)!=null?e:void 0,frameCount:f.frameCount||1,frameRate:f.frameRate||c("StickerConstants").DEFAULT_FRAME_RATE,framesPerCol:f.framesPerCol||1,framesPerRow:f.framesPerRow||1,onStickerClick:function(c,a){if(c==null)return;d("StickersPackInTrayQuery").onIsPackInTray(c,"messages",function(a){a.in_sticker_tray?(d("StickersActions").selectTrayPack(c),d("StickersActions").showStickerFlyout(b.thread_id)):d("StickersStoreController").showStore(c)})},packID:f.packID&&f.packID.toString(),paddedSpriteURI:a,sourceHeight:f.height,sourceURI:h.setEnum("image_type","BestEffortImage").getURI().toString(),sourceWidth:f.width,spriteURI:j,stickerID:l,testid:void 0,thread:g},k+b.message_id);return e}r.displayName=r.name+" [from "+f.id+"]";function s(a,b,e){e=d("MessengerSupportedEmojiUtils").transferSize(a.size);e=d("MessengerSupportedEmojiUtils").getHotLikeEmojiData(b.body,e)||d("MessengerSupportedEmojiUtils").getHotLikeEmojiDataTransition(b.body,e);if(!e)return v(a,b);a=e.emoji;e=i.jsx(c("EmojiSticker.react"),{className:"_2poz _ui9",emoji:b.body,emojiImage:a,sourceURI:""},k+b.message_id);return e}s.displayName=s.name+" [from "+f.id+"]";function t(a,b,e,f,g,h,k,m,n){var o,p,q=null;b&&b.platform_xmd&&(q=JSON.parse(b.platform_xmd));p=(p=a)!=null?(p=p.share)!=null?(p=p.messenger_ctas)!=null?(p=p[0])!=null?p.page_id:p:p:p:p;o=(o=a)!=null?(o=o.share)!=null?(o=o.target)!=null?(o=o.items)!=null?(o=o[0])!=null?(o=o.call_to_actions)!=null?(o=o[0])!=null?o.page_id:o:o:o:o:o:o:o;p=p||o;o=p?d("MercuryIDs").getParticipantIDFromUserID(p):b.author;return i.jsx(c("MercuryShareAttachment.react"),{attachment:a.share,isFromViewer:g,isPageMessage:h,isSponsored:b.is_sponsored,isVisible:!!f,location:d("MercuryShareAttachmentRenderLocations").MESSENGER,maxWidth:j,messageID:b.message_id,mnMessageType:q&&q.template_type,onComponentLoaded:e,onSelect:k,pageID:o,threadID:b.thread_id,afterDecorators:m,timestamp:b.timestamp,author:b.author,thread:n},l+b.message_id)}t.displayName=t.name+" [from "+f.id+"]";function u(a,b,c,e,f){c=d("MessengerFromViewerUtils").isFromViewer(b)?c||void 0:void 0;return i.jsx(d("MessengerVoiceClipAttachmentReact.re").make,{thread:f,attachment:a,customColor:c,message:b},"audio:"+b.message_id)}u.displayName=u.name+" [from "+f.id+"]";function v(a,b){return i.jsx(c("MessengerErrorAttachment.react"),{attachment:a},"error:"+b.message_id)}v.displayName=v.name+" [from "+f.id+"]";function w(a,b,d,e){if(!a.length)return null;var f=e&&e.onUnwrap,g=e&&e.isVisible,h=e&&e.onSelect,j=e&&e.isPageMessage;e=e&&e.pageID;return i.jsx(c("MessengerPhotosGroup.react"),{attachments:a,className:"_2poz _52mr _ui9",count:a.length,isPageMessage:j,isVisible:!!g,message:b,onSelect:h,onUnwrap:function(){f&&f()},pageID:e,onAttachmentLoad:d},"photos:"+b.message_id)}w.displayName=w.name+" [from "+f.id+"]";function e(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(m);return a&&a.length?a[0]:b}function h(a,b){b=b.getMessageElement(a);if(!b)return null;a=b.getElementsByClassName(n);return a&&a.length?a[0]:b}function x(a){return a.length!=1||!c("MercuryAttachment").hasAttribution(a[0])}function y(a,b){return i.jsx(d("MessengerFileAttachment.re").make,{attachment:a},"file:"+a.url)}y.displayName=y.name+" [from "+f.id+"]";function z(a){return d("MessengerStickerUtils").isStickerAttachment(a)||c("MercuryAttachment").isPhotoGroupAttachment(a)||D(a)||F(a)||I(a)||P(a)||H(a)}function A(a){a=a.props.attachments;return!!a&&a.length>1&&a.some(function(a){return!!a&&c("MercuryAttachment").isPhotoGroupAttachment(a)})}function B(a){return!!(a.key&&a.key.startsWith(l))}function C(a){return a.attach_type==="file"}function D(a){return!!(G(a)&&!F(a)&&(a.share.style_list.indexOf("share")>-1||a.share.style_list.indexOf("fallback")>-1))}function E(a){a=a.attach_type==="share"&&a.share&&a.share.subattachments&&a.share.subattachments[0];return!!(a&&a.target&&a.target.video_id)}function F(a){return!!(G(a)&&a.share.style_list.indexOf("orion")>-1)}function G(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list)}function H(a){return a.attach_type==="emoji_like"}function I(a){a=a.metadata;return!!a&&(!!a.isAudio||a.type===c("MercuryAudioType").AudioClip||a.type===c("MercuryAudioType").VoiceMessageWithTranscript)}function J(a){a=c("MercuryAttachment").get(a).filter(o).filter(function(a){return I(a)});return!!a.length}function K(a){a=c("MercuryAttachment").get(a).filter(function(a){return o(a)&&F(a)});return!!a.length}function L(a){a=c("MercuryAttachment").get(a).filter(o).filter(function(a){return c("MercuryAttachment").isVideoAttachment(a)});return a.length===1}function M(a){a=c("MercuryAttachment").get(a).filter(o).filter(function(a){return E(a)||N(a)});return a.length===1}function N(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list.indexOf("genie_message")>-1&&a.share.target&&a.share.target.attachment&&E(a.share.target.attachment))}function O(a){a=c("MercuryAttachment").get(a).filter(o);if(a.length!==1)return!1;a=a.filter(function(a){return a.photo_encodings&&a.photo_encodings.length!==0}).length===1;return a}function P(a){return a.attach_type==="error"}g.getAttachmentsInsideBubble=a;g.getAttachmentsOutsideBubble=b;g._getAttachmentComponents=p;g._getAttachmentComponent=q;g._getStickerComponent=r;g._getEmojiLikeAttachment=s;g._getShareAttachment=t;g._getVoiceClip=u;g._getErrorAttachment=v;g._getPhotosGroup=w;g.getVideoElem=e;g.getSphericalPhotoElem=h;g._rendersWithoutAttribution=x;g._getFileComponent=y;g.attachmentShouldAppearOutsideBubble=z;g.isPhotosGroupAttachment=A;g.isRenderedShareAttachment=B;g.isFileAttachment=C;g.isShareAttachment=D;g.isSharedVideoAttachment=E;g.isP2P=F;g._isStoryBased=G;g.isEmojiLikeAttachment=H;g.isVoiceClip=I;g.isVoiceClipAttachment=J;g.isP2PAttachment=K;g.isSingleVideoAttachment=L;g.isSharedVideoAttachmentMessage=M;g.isGenieSharedVideoAttachment=N;g.isSingleSphericalPhotoAttachment=O;g.isErrorAttachment=P}),98);
__d("MessengerBootloadedLogMessage.react",["cx","BootloadOnRender.react","JSResource","LazyComponent.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return i.jsx(c("BootloadOnRender.react"),{component:i.jsx(c("LazyComponent.react"),babelHelpers["extends"]({},this.props)),loader:c("JSResource")("MessengerLogMessage.react").__setRef("MessengerBootloadedLogMessage.react"),placeholder:i.jsx("div",{className:"_497p",children:"..."})})};return b}(i.PureComponent);g["default"]=a}),98);
__d("MessengerCollapsedLogMessageGroup.react",["cx","fbt","Link.react","WorkChatRedesignedMessageListCheck.re","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={collapsed:!0},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this,b=i._("See Latest Activity"),e=i._("See Less Activity");return j.jsxs("div",{className:"_497p"+(d("WorkChatRedesignedMessageListCheck.re").enabled?" _7w5v":""),children:[j.jsx(c("Link.react"),{className:"_4ea1",onClick:function(){return a.setState(function(a){return{collapsed:!a.collapsed}})},children:this.state.collapsed?b:e}),this.state.collapsed?null:j.jsxs("div",{children:[j.jsx("div",{className:"_4ea2"}),this.props.children,j.jsx("div",{className:"_4ea2"})]})]})};return b}(j.PureComponent);g["default"]=a}),98);
__d("MessengerProfileLinkAction",[],(function(a,b,c,d,e,f){a=Object.freeze({CLICK:"click",HOVER:"hover"});f["default"]=a}),66);
__d("MessengerProfileLinkDomain",[],(function(a,b,c,d,e,f){a=Object.freeze({MESSENGER_DOT_COM:"messenger_dot_com",FB_SLASH_MESSAGES:"fb_slash_messages",WORK_CHAT:"work_chat"});f["default"]=a}),66);
__d("MessengerProfileLinkLogger.bs",["MessengerProfileLinkTypedLogger"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){new(b("MessengerProfileLinkTypedLogger"))().setTargetID(a).setDomain(c).setLinkLocation(d).setAction(e).log()}f.logItemImpression=a}),null);
__d("ProfileLinkReact.bs",["ProfileLink.react","ReasonReact.bs","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i){var j;return b("ReasonReact.bs").wrapJsForReason(b("ProfileLink.react"),{className:(j=b("bs_js_null_undefined")).fromOption(a),href:j.fromOption(c),onClick:j.fromOption(d),onMouseEnter:j.fromOption(e),onMouseLeave:j.fromOption(f),target:j.fromOption(g),uid:h},i)}f.make=a}),null);
__d("MessengerProfileLink.bs",["cx","Arbiter","Badge.react","CurrentUser","Link.react","MessengerProfileLinkAction","MessengerProfileLinkDomain","MessengerProfileLinkLogger.bs","ProfileLinkReact.bs","ReasonReact.bs","URI","bs_caml_option","bs_curry","isMessengerDotComURI","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("ReasonReact.bs").reducerComponent("MessengerProfileLink");function l(a,c,d,e,f,g,h){var l=b("isMessengerDotComURI")(new(i||(i=b("URI")))(window.location.href)),m=b("CurrentUser").isWorkUser()?b("MessengerProfileLinkDomain").WORK_CHAT:l?b("MessengerProfileLinkDomain").MESSENGER_DOT_COM:b("MessengerProfileLinkDomain").FB_SLASH_MESSAGES,n=function(a){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,m,d,b("MessengerProfileLinkAction").HOVER)},o=function(a){return b("MessengerProfileLinkLogger.bs").logItemImpression(f,m,d,b("MessengerProfileLinkAction").CLICK)};return{debugName:k.debugName,reactClassInternal:k.reactClassInternal,handedOffState:k.handedOffState,getDerivedStateFromProps:k.getDerivedStateFromProps,didMount:function(a){var c=b("Arbiter").subscribe("Hovercard/show",function(c,d){return b("bs_curry")._1(a.send,0)}),d=b("Arbiter").subscribe("Hovercard/hide",function(c,d){return b("bs_curry")._1(a.send,1)});return b("bs_curry")._1(a.onUnmount,function(a){c.unsubscribe(),d.unsubscribe()})},didUpdate:k.didUpdate,willUnmount:k.willUnmount,shouldUpdate:k.shouldUpdate,render:function(d){var h=j.jsxs("span",{children:[e,g?j.jsx(b("Badge.react"),{size:"medium",type:"verified"}):null]});return j.jsx("span",{className:"_6ybk",children:a!==void 0?l?j.jsx(b("Link.react"),{href:a,onClick:function(a){d.state.isHovercardShown&&n(void 0);return o(void 0)},target:c,children:h}):b("ReasonReact.bs").element(void 0,void 0,b("ProfileLinkReact.bs").make(void 0,void 0,function(a){return o(void 0)},void 0,function(a){if(d.state.isHovercardShown)return n(void 0)},void 0,f,[h])):h})},initialState:function(a){return{isHovercardShown:!1}},retainedProps:k.retainedProps,reducer:function(a,b){if(a)return{TAG:0,_0:{isHovercardShown:!1}};else return{TAG:0,_0:{isHovercardShown:!0}}},jsElementWrapped:k.jsElementWrapped}}a=b("ReasonReact.bs").wrapReasonForJs(k,function(a){return l(b("bs_caml_option").nullable_to_opt(a.href),a.target,a.location,a.name,a.uid,a.isVerified,[])});f.component=k;f.make=l;f.jsComponent=a}),null);
__d("TimeSpentRoomTypeEnum",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP:"GROUP",EVENT:"EVENT",LOCAL_COMMUNITY:"LOCAL_COMMUNITY"});f["default"]=a}),66);
__d("TimeSpentRoomTypeEnum$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({GROUP:"Group",EVENT:"Event"});e.exports=a}),null);
__d("MessengerContextBanner.react",["cx","fbt","Badge.react","CurrentUser","Image.react","ImageBlock.react","Link.react","MercuryParticipantsConstants","MercuryParticipantsImage.react","MercuryShareAttachmentRenderLocations","MercuryThreadImage.react","MessengerProfileLink.bs","MessengerTextWithEmoticons.react","TimeSpentRoomTypeEnum","TimeSpentRoomTypeEnum$FbtEnum","immutable","prop-types","react","requireWeak"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k;c("requireWeak")("MessengerThreadImageReact.bs",function(a){k=a.jsComponent});a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=j.jsxs(c("ImageBlock.react"),{className:"_llj"+(this.props.location===d("MercuryShareAttachmentRenderLocations").MESSENGER?" _2eu-":"")+(this.props.location===d("MercuryShareAttachmentRenderLocations").CHAT?" _2eu_":""),spacing:"large",style:this.props.style,children:[this.$1(),j.jsxs("div",{className:"_lll",children:[this.$2(),this.$3(),this.$4()]})]}),b=this.props.associatedObject;b&&b.action_link&&(a=j.jsx(c("Link.react"),{href:b.action_link,target:"_blank",style:{textDecoration:"none"},children:a}));return a};e.$1=function(){var a=this.props.location===d("MercuryShareAttachmentRenderLocations").MESSENGER,b=this.props.associatedObject,e=null;if(!this.props.contactName&&b&&a)e=j.jsx(c("Image.react"),{className:"_4ld- _1wrc",src:b.profile_picture});else if(this.props.thread){b=k&&a?k:c("MercuryThreadImage.react");e=j.jsx(b,{showBadge:!1,participants:this.props.participants,size:a?60:null,thread:this.props.thread,viewer:this.props.viewer})}else this.props.participantIDs&&(e=j.jsx(c("MercuryParticipantsImage.react"),{participants:this.props.participantIDs,size:c("MercuryParticipantsConstants").BIG_IMAGE_SIZE}));return j.jsx("div",{className:"_llk",children:e})};e.$2=function(){if(this.props.location!==d("MercuryShareAttachmentRenderLocations").MESSENGER)return null;var a=this.props.isVerified?j.jsx(c("Badge.react"),{size:"medium",type:"verified"}):null,b=this.props.contactName;if(!b){var e=this.props.associatedObject;b=e?e.name:null}e=this.props.contactFBProfile;var f=this.props.contactID;return j.jsx("div",{className:"_llq",children:j.jsxs("span",{className:"_3oh-",children:[j.jsx(d("MessengerProfileLink.bs").jsComponent,{href:e,location:"context_banner",name:b,uid:f}),a]})})};e.$3=function(){return j.jsx("div",{className:"_1n-e _36zg",children:j.jsx(c("MessengerTextWithEmoticons.react"),{text:this.props.connectionContext||"",renderEmoticons:!1})})};e.$4=function(){if(!this.props.contextItems.length){var a=this.props.associatedObject;if(a){a=c("TimeSpentRoomTypeEnum")[a.room_type];var b=c("CurrentUser").isWorkUser()?"Workplace":"Facebook";return j.jsx("div",{className:"_1n-e",children:i._({"GROUP":"Go to {productName} Group","EVENT":"Go to {productName} Event"},[i._enum(a,c("TimeSpentRoomTypeEnum$FbtEnum")),i._param("productName",b)])})}return null}return j.jsx("div",{children:this.props.contextItems.map(function(a,b){return j.jsx("div",{className:"_1n-e",children:j.jsx(c("MessengerTextWithEmoticons.react"),{text:a||"",renderEmoticons:!1})},"item:"+b)})})};return b}(j.PureComponent);a.propTypes={contactFBProfile:c("prop-types").string,contactID:c("prop-types").string,contactName:c("prop-types").string,associatedObject:c("prop-types").object,connectionContext:c("prop-types").string,contextItems:c("prop-types").arrayOf(c("prop-types").string).isRequired,isVerified:c("prop-types").bool,location:c("prop-types").string.isRequired,participantIDs:c("prop-types").arrayOf(c("prop-types").string),participants:c("prop-types").instanceOf(c("immutable").Map),thread:c("prop-types").object,viewer:c("prop-types").string.isRequired};g["default"]=a}),98);
__d("XMessengerContextBannerController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/messenger/context_banner/",{profile_id:{type:"Int",required:!0},max_context_items:{type:"Int",defaultValue:3}})}),null);
__d("MessengerContextInformationStore",["AsyncRequest","EventEmitter","TimeSlice","XMessengerContextBannerController"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map();a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.$MessengerContextInformationStore1=function(a){if(i.get(a))return;var b=c("XMessengerContextBannerController").getURIBuilder().setInt("profile_id",a).getURI();b=new(c("AsyncRequest"))().setAllowCrossPageTransition(!0).setURI(b).setHandler(d.$MessengerContextInformationStore2.bind(babelHelpers.assertThisInitialized(d),a));i.set(a,b);b.send()},b)||babelHelpers.assertThisInitialized(d)}var d=b.prototype;d.getOrFetch=function(a){var b=h.get(a);b||c("TimeSlice").guard(this.$MessengerContextInformationStore1,"Chat Tab Messenger Context Banner Fetch",{propagationType:c("TimeSlice").PropagationType.ORPHAN})(a);return b};d.$MessengerContextInformationStore2=function(a,b){h.set(a,{connectionContext:b.payload.connection_context||"",contextItems:b.payload.context_items||[]}),i["delete"](a),this.emit("change")};return b}(c("EventEmitter"));b=new a();g["default"]=b}),98);
__d("PagesMessagingMercuryChatTabActionKeys",["keyMirror"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirror")({REQUEST_GREETING_CONFIG:null,NOTIFY_GREETING_CONFIG_RECEIVED:null});g["default"]=a}),98);
__d("PagesMessagingMercuryChatTabDispatcher",["ExplicitRegistrationDispatcher"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("ExplicitRegistrationDispatcher"))({strict:!1});g["default"]=a}),98);
__d("PagesMessagingMercuryChatTabActions",["PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabDispatcher"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:c("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG,threadID:a})}function b(a,b){c("PagesMessagingMercuryChatTabDispatcher").dispatch({actionType:c("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED,threadID:a,payload:b})}g.requestGreetingConfig=a;g.notifyGreetingConfigReceived=b}),98);
__d("PagesMessagingMercuryChatTabState",["immutable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("immutable").Record({pagesGreetingShouldShow:!1,pagesGreetingContent:null,pageResponsiveness:null,coverPhotoData:null,connectionContext:null,pageOnlineMessage:null,icebreakers:null,showOrganicIntakeForm:!1,icebreakerTextForOrganicIntakeForm:null,icebreakerCtas:null}));g["default"]=a}),98);
__d("PagesMessagingMercuryChatTabStore",["invariant","AsyncRequest","FluxStore","MercuryIDs","MessengerDiscoveryEntryPoint","PagesMessagingMercuryChatTabActionKeys","PagesMessagingMercuryChatTabActions","PagesMessagingMercuryChatTabDispatcher","PagesMessagingMercuryChatTabState","ThisControllerNoLongerExists","ifRequired"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b;b=a.call(this,c("PagesMessagingMercuryChatTabDispatcher"))||this;b.$PagesMessagingMercuryChatTabStore1=new Map();return b}var e=b.prototype;e.getStateByThread=function(a){this.$PagesMessagingMercuryChatTabStore1.has(a)||this.$PagesMessagingMercuryChatTabStore1.set(a,new(c("PagesMessagingMercuryChatTabState"))());a=this.$PagesMessagingMercuryChatTabStore1.get(a);a||h(0,2437);return a};e.__onDispatch=function(a){var b=a.actionType,d=a.payload;a=a.threadID;var e=this.getStateByThread(a);e||h(0,2438);switch(b){case c("PagesMessagingMercuryChatTabActionKeys").REQUEST_GREETING_CONFIG:this.$PagesMessagingMercuryChatTabStore2(a);break;case c("PagesMessagingMercuryChatTabActionKeys").NOTIFY_GREETING_CONFIG_RECEIVED:this.$PagesMessagingMercuryChatTabStore3(a,this.$PagesMessagingMercuryChatTabStore4(d,e));break}};e.$PagesMessagingMercuryChatTabStore2=function(a){var b="unknown";c("ifRequired")("FantaAppStore",function(d){d=d.getState().tabGroup.tabs.get(a);d&&d.entryPoint&&d.entryPoint[0]&&Object.values(c("MessengerDiscoveryEntryPoint")).indexOf(d.entryPoint[0])!==-1&&(b=d.entryPoint[0])});var e=d("ThisControllerNoLongerExists").__DEADURI__("vp23os52n");new(c("AsyncRequest"))().setURI(e).setMethod("POST").setData({page_id:d("MercuryIDs").getUserIDFromThreadID(a),entry_point:b}).setHandler(function(b){return d("PagesMessagingMercuryChatTabActions").notifyGreetingConfigReceived(a,b.payload)}).send()};e.$PagesMessagingMercuryChatTabStore3=function(a,b){this.$PagesMessagingMercuryChatTabStore1.set(a,b),this.__emitChange()};e.$PagesMessagingMercuryChatTabStore4=function(a,b){var c=b.set("pagesGreetingShouldShow",a.pagesGreetingShouldShow).set("pagesGreetingContent",a.pagesGreetingContent).set("pageResponsiveness",a.pageResponsiveness).set("coverPhotoData",a.coverPhotoData).set("connectionContext",a.connectionContext).set("pageOnlineMessage",a.pageOnlineMessage).set("showOrganicIntakeForm",a.showOrganicIntakeForm).set("icebreakerTextForOrganicIntakeForm",a.icebreakerTextForOrganicIntakeForm);(b.icebreakers==null||Object.keys(b.icebreakers).length===0)&&(c=c.set("icebreakers",a.icebreakers));(b.icebreakerCtas==null||b.icebreakerCtas.length===0)&&(c=c.set("icebreakerCtas",a.icebreakerCtas));return c};return b}(c("FluxStore"));a.__moduleID=f.id;b=new a();g["default"]=b}),98);
__d("PagesMessengerContextBanner.react",["cx","MercuryThreadImage.react","ProfileHeaderCoverPhoto.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=83,k=284,l=60;function a(a){var b=a.coverPhotoData?i.jsx(c("ProfileHeaderCoverPhoto.react"),{coverPhotoData:a.coverPhotoData,height:j,width:k}):null;return i.jsxs("div",{className:"_fj3",children:[b,i.jsxs("div",{className:"_2-0o",children:[i.jsx(c("MercuryThreadImage.react"),{className:"_2gye",size:l,thread:a.thread,viewer:a.viewer}),")"]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerContextBannerContainer.react",["DOMDimensions","MercuryIDs","MercuryShareAttachmentRenderLocations","MessengerContextBanner.react","MessengerContextInformationStore","MessengerParticipants.bs","PagesMessagingMercuryChatTabStore","PagesMessengerContextBanner.react","ReactComponentWithPureRenderMixin","ReactDOM","StoreAndPropBasedStateMixin","createReactClass_DEPRECATED","immutable","prop-types","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("createReactClass_DEPRECATED")({displayName:"MessengerContextBannerContainer",mixins:[c("ReactComponentWithPureRenderMixin"),c("StoreAndPropBasedStateMixin")(c("MessengerContextInformationStore"),c("PagesMessagingMercuryChatTabStore"))],propTypes:{location:c("prop-types").string.isRequired,onResize:c("prop-types").func,otherUserFBIDs:c("prop-types").arrayOf(c("prop-types").string),thread:c("prop-types").object,threadID:c("prop-types").string,viewer:c("prop-types").string.isRequired},statics:{calculateState:function(a){var b=a.thread,e=null;b?e=b&&b.participants:a.otherUserFBIDs&&a.otherUserFBIDs.length===1&&(e=a.otherUserFBIDs.map(function(a){return d("MessengerParticipants.bs").getIDFromVanityOrFBID(a)}));var f=c("immutable").Map();e&&(f=f.withMutations(function(a){e&&e.forEach(function(b){a.set(b,d("MessengerParticipants.bs").getNow(b))})}));var g=null,h=null;b?(g=f.get(d("MercuryIDs").getParticipantIDFromFromThreadID(b.thread_id)),h=b.associated_object):g=e&&f.get(e[0]);b=c("PagesMessagingMercuryChatTabStore").getStateByThread(a.threadID);a=b.coverPhotoData;return babelHelpers["extends"]({associatedObject:h,contact:g,coverPhotoData:a,participantIDs:e,participants:f},i.getContextInformation(g&&g.fbid&&g.fbid.toString()))},getContextInformation:function(a){var b;a&&(b=c("MessengerContextInformationStore").getOrFetch(a.toString()));return b||{connectionContext:"",contextItems:[]}}},componentDidUpdate:function(){var a=d("ReactDOM").findDOMNode(this);if(!a)return;a=d("DOMDimensions").getElementDimensions(a).height;this.props.onResize&&this.props.onResize(a)},render:function(){if(!this.state.contact)return this.state.associatedObject&&this.props.location==d("MercuryShareAttachmentRenderLocations").MESSENGER?h.jsx(c("MessengerContextBanner.react"),{associatedObject:this.state.associatedObject,contextItems:this.state.contextItems,location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer}):null;if(this.state.contact.type==="page"){if(!this.state.connectionContext&&!this.state.contextItems.length)return null;if(this.props.location===d("MercuryShareAttachmentRenderLocations").CHAT&&this.props.thread!=null)return h.jsx(c("PagesMessengerContextBanner.react"),{coverPhotoData:this.state.coverPhotoData,thread:this.props.thread,viewer:this.props.viewer})}return h.jsx(c("MessengerContextBanner.react"),{contactFBProfile:this.state.contact.href,contactID:this.state.contact.fbid,contactName:this.state.contact.name,connectionContext:this.state.connectionContext,contextItems:this.state.contextItems,isVerified:this.state.contact.verification_status==="BLUE_VERIFIED",location:this.props.location,participantIDs:this.state.participantIDs,participants:this.state.participants,thread:this.props.thread,viewer:this.props.viewer})}});a=i;g["default"]=a}),98);
__d("MercuryErrorInfo",["fbt","MessengerMessage.bs"],(function(a,b,c,d,e,f,g,h){function a(a){var b="";i(a)?(b=h._("This message didn't send.").toString(),j(a)&&(b=h._("{message} Check your internet connection and click to try again.",[h._param("message",b)]).toString())):(a&&a.description?b=a.description:b=h._("This message failed to send.").toString(),j(a)&&(b=h._("{message} Click to send again.",[h._param("message",b)]).toString()));return b}function i(a){return a&&a.type==2?a.code===1001||a.code===1004||a.code===1006:!1}function j(a){return a&&a.is_transient}function b(a){return a?!j(a):!1}function c(a){return d("MessengerMessage.bs").hasError(a)}g.getMessage=a;g.isConnectionError=i;g.isTransient=j;g.isPermanent=b;g.hasErrorStatus=c}),98);
__d("MercuryMessageError.react",["cx","CurrentUser","Link.react","MercuryErrorInfo","MercuryMessageActions","ServerHTML.react","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.messageResend=function(a){a.stopPropagation();a=e.props.message;a=a.error_data;d("MercuryErrorInfo").isTransient(a)&&c("MercuryMessageActions").getForFBID(e.props.authorFBID).resend(e.props.message)},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.props.message,b=a.error_data;return i.jsxs(c("Link.react"),babelHelpers["extends"]({},this.props,{href:"#",className:c("joinClasses")(this.props.className,this.$1(a)),tabIndex:d("MercuryErrorInfo").isTransient(b)?0:null,onClick:this.messageResend,children:[i.jsx("i",{className:"_2fs1"}),i.jsx(c("ServerHTML.react"),{className:"_61ag",blob:this.$2(a)})]}))};e.$1=function(a){if(d("MercuryErrorInfo").hasErrorStatus(a))return"_2fs2 _2fs3"+(d("MercuryErrorInfo").isTransient(a.error_data)?" _2fs4":"")+(d("MercuryErrorInfo").isPermanent(a.error_data)?" _2fs5":"");else return"_2fs6 _2fs2"};e.$2=function(a){var b="",c=a.error_data;if(d("MercuryErrorInfo").hasErrorStatus(a)){a=d("MercuryErrorInfo").getMessage(c);a&&(b=a)}return b};return b}(i.Component);a.propTypes={authorFBID:c("prop-types").string,message:c("prop-types").object.isRequired};a.defaultProps={authorFBID:c("CurrentUser").getID()};g["default"]=a}),98);
__d("MercuryAttachmentAttribution.react",["cx","fbt","Image.react","ImmutableObject","Link.react","joinClasses","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this.$1();return!a?null:j.jsxs("div",{className:c("joinClasses")(this.props.className,"_29ew"),children:[j.jsx(c("Image.react"),{src:a.icon_url,className:"_29ex"}),j.jsx("span",{className:"_29ey",children:a.name}),this.$2()]})};d.$1=function(){return this.props.attachment&&this.props.attachment.app_attribution};d.$2=function(){var a=this.$1();if(!a||!a.metadata)return null;var b="_439n",d;try{d=JSON.parse(a.metadata)}catch(a){return null}return d.spotify_link?j.jsx(c("Link.react"),{className:b,href:d.spotify_link,target:"_blank",children:i._("Open")}):null};return b}(j.PureComponent);a.propTypes={attachment:c("prop-types").instanceOf(c("ImmutableObject"))};g["default"]=a}),98);
__d("MessengerAttachmentAttribution.bs",["cx","MercuryAttachmentAttribution.react","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.attachment;var c={className:"_2f5n _4br2"};a!==void 0&&(c.attachment=b("bs_caml_option").valFromOption(a));return i.jsx(b("MercuryAttachmentAttribution.react"),c)}c=a;f.make=c}),null);
__d("MessengerAttachmentAttribution.re",["MessengerAttachmentAttribution.bs"],(function(a,b,c,d,e,f){a=b("MessengerAttachmentAttribution.bs").make;f.make=a}),null);
__d("MessengerCodePasteUtils",["cx","MessengerBubble.react","MessengerFormattingUtils","ODS","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=/`{3,}/,k=3,l=/^\s+/,m=/\s+$/;function a(a){return!!(a!=null&&a.search(j)!==-1)}function n(a,b){var c=0;if(b-2>=0){c+=a[b-2].trim().length;var d=a[b-2].match(m);d&&(c+=d[0].length)}b-1>=0&&(c+=a[b-1].length+2*k);d=a[b].match(l);d&&(c+=d[0].length);return c}function o(a,b,c){if(a)return a.map(function(a){return babelHelpers["extends"]({},a,{offset:a.offset-b})}).filter(function(a){return 0<=a.offset&&a.offset<c});else return a}function p(a){a=a.split("\n");return a.length===1?{language:"",code:a[0]}:{language:a[0].replace(/[^a-zA-Z]+/g,""),code:a.slice(1).join("\n")}}function q(a){var b=d("MessengerFormattingUtils").getRanges(a).filter(function(a){return a.formatter===d("MessengerFormattingUtils").formatConfigs.blockquote.formatter||a.formatter===d("MessengerFormattingUtils").formatConfigs.blockcode.formatter}).sort(function(a,b){return a.offset!==b.offset?a.offset-b.offset:b.length-a.length}),c=[],e=0,f=0;for(var g=0;g<b.length;g++){var h=b[g];if(h.offset<f)continue;h.formatter===d("MessengerFormattingUtils").formatConfigs.blockcode.formatter&&(c.push(a.substring(e,h.offset)),c.push(h.innerText),e=h.offset+h.length);f=h.offset+h.length}c.push(a.substring(e));return c}function b(a,b,e,f,g,h){a=q(a);var j=[],k=0;for(var l=0;l<a.length;l+=2){var m=a[l].trim();if(m&&m.length>0){k+=n(a,l);var r=b?o(b,k,m.length):b;j.push(i.jsx(c("MessengerBubble.react"),{body:m,customColor:f!=null?f:void 0,className:"clearfix _3058 _ui9",isFromViewer:g,ranges:r,threadID:e,thread:h},l))}if(l+1<a.length&&a[l+1]){m=p(a[l+1]);r=m.code;d("ODS").bumpEntityKey(3303,"messenger_code_paste","render_bubble");j.push(i.jsx("div",{className:"_3058 _wu0 _52mr",children:r},l+1))}}return j}g.containsCodeBlock=a;g.getCodeAndMessageBubbles=b}),98);
__d("EmojiOnlyMessage.react",["cx","EmojiImageURL","EmojiLikeConstants","FBEmojiResource","Image.react","MessengerHotlikeEmoji.bs","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a="_1ift _1ifu",b=0,e=this.props.contents.map(function(e){b++;var f=e.emojiKey;if(f){f=d("MessengerHotlikeEmoji.bs").isMessengerHotlike(f)?d("EmojiImageURL").getMessengerURL(f,d("EmojiLikeConstants").sizeMap.dp32):new(c("FBEmojiResource"))(f).getImageURL(d("EmojiLikeConstants").sizeMap.dp32);return i.jsx(c("Image.react"),{alt:e.text,className:a,src:f},b)}else return i.jsx("span",{children:e.text},b)});return i.jsx("div",{tabIndex:"0",children:e})};return b}(i.Component);a.propTypes={contents:c("prop-types").arrayOf(c("prop-types").shape({emojiKey:c("prop-types").string,text:c("prop-types").string.isRequired})).isRequired};g["default"]=a}),98);
__d("MessengerDecoratorUtil",["invariant","MercuryAttachment","MercuryAttachmentLayoutTypeHelper","MercuryConfig","QE2Logger","gkx","isMessengerMessageRemoved"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a){return a===Object(a)};function j(a){a=a.attachments&&a.attachments.length===1&&a.attachments[0]&&a.attachments[0].attach_type!=="sticker"&&!z(a);return!!a}function a(a){return j(a)&&c("MercuryAttachment").isLightweightActionAttachment(a.attachments[0])}function b(a){var b;if((a==null?void 0:(b=a.attachments)==null?void 0:b.length)>0&&((b=a.attachments[0].share)==null?void 0:b.style_list)!=null){return((b=a.attachments[0].share)==null?void 0:b.style_list[0])==="wec_message"}else return!1}function e(a){return c("gkx")("843916")&&!o(a)}function f(a){if(l(a)||m(a)||c("isMessengerMessageRemoved")(a)||n(a))return!1;var b=k(a);a||h(0,1760);if(!b)return!1;if(v(b))return!1;if(c("MercuryAttachment").isPhotoGroupAttachment(b))return!0;if(w(b))return!0;if(B(b))return!0;return c("MercuryAttachment").isFileAttachment(b)&&b.message_file_fbid?!0:!1}function k(a){var b=a.attachments&&a.attachments.length===1;return b?a.attachments[0]:null}function l(a){return((a=a)!=null?(a=a.attachments)!=null?(a=a[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a:a:a)==="montage_direct"}function m(a){return c("gkx")("1019832")&&((a=a)!=null?(a=a.attachments)!=null?(a=a[0])!=null?(a=a.share)!=null?(a=a.style_list)!=null?a[0]:a:a:a:a:a)==="montage_share"}function n(a){return(a=a&&a.attachments&&a.attachments.length>0&&d("MercuryAttachmentLayoutTypeHelper").isAdminType(a.attachments[0]))!=null?a:!1}function o(a){var b;a=k(a);if(!a)return!1;if(((b=a.share)==null?void 0:b.style_list)!=null){return((b=a.share)==null?void 0:b.style_list[0])==="rtc_call_log"}else return!1}function p(a){var b=[],d=[];a.attachments.forEach(function(a){a.metadata&&a.metadata.fbid?(b.push(a.metadata.fbid.toString()),d.push(a.attach_type.toString())):a.share&&a.share.share_id&&(b.push(a.share.share_id),d.push(a.attach_type)),c("MercuryAttachment").isFileAttachment(a)&&a.message_file_fbid&&(b.push(a.message_file_fbid),d.push(a.attach_type))});return{ids:b,types:d}}function q(a){return C(a)&&a.share.style_list.indexOf("event_reminder")>-1}function r(a){return C(a)&&a.share.style_list.indexOf("fbpay_offer")>-1}function s(a){return C(a)&&a.share.style_list.indexOf("application_share_referral")>-1}function t(a){return C(a)&&(a.share.style_list.indexOf("message_location")>-1||a.share.style_list.indexOf("message_live_location")>-1||a.share.style_list.indexOf("message_multiple_locations")>-1)}function u(a){return C(a)&&(a.share.style_list.indexOf("shop_order_updates")>-1||a.share.style_list.indexOf("shop_order_updates_collapsed")>-1)}function v(a){a=a==null?void 0:(a=a.share)==null?void 0:a.subattachments;return a!=null&&a.length>1?!0:!1}function w(a){var b,c;b=(b=a.share)==null?void 0:b.style_list;c=(c=a.share)==null?void 0:c.target;a=a.attach_type==="share"&&b instanceof Array&&b.indexOf("business_message_items")>-1;if(a&&c!=null){b=x(c);if(b)return!1;if(c.items!=null&&c.items.length>0){a=c.items.find(function(a){return x(a)});if(a!=null)return!1}return!0}return!1}function x(a){if(a.call_to_actions!=null&&a.call_to_actions.length>0){a=a.call_to_actions.find(function(a){return a.action_type!=2&&a.action_type!=1});if(a!=null)return!0}return!1}function y(a){var b;b=(b=a.share)==null?void 0:b.style_list;return a.attach_type==="share"&&b instanceof Array&&b.indexOf("business_message_items")>-1}function z(a){a=c("MercuryAttachment").get(a).filter(function(a){return i(a)&&A(a)});return!!a.length}function A(a){return!!(C(a)&&(a.share.style_list.indexOf("orion")>-1||a.share.style_list.indexOf("orion_request")>-1))}function B(a){var b;b=((b=a)!=null?(b=b.share)!=null?(b=b.style_list)!=null?b[0]:b:b:b)==="montage_direct";b=c("MercuryAttachment").isShareAttachment(a)&&a.share!=null&&a.share.share_id&&!A(a)&&!r(a)&&!s(a)&&!q(a)&&!t(a)&&!u(a)&&!y(a)&&!b&&(!a.share.target||!a.share.target.lwa_type);if(!b)return!1;d("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");return c("MercuryConfig").MNFWD}function C(a){return!!(a.attach_type==="share"&&a.share&&a.share.style_list)}g.isAttachment=j;g.hasLWA=a;g.isWECMessage=b;g.allowSave=e;g.allowForward=f;g.maybeGetMessageAttachment=k;g.isMontageDirect=l;g.isMontageShare=m;g.isAdminLayoutType=n;g.isRTCShareMessage=o;g.getAttachments=p;g.isEventAttachment=q;g.isOfferAttachment=r;g.isApplicationShareReferral=s;g.isLocationAttachment=t;g.isOrderUpdateXMAAttachment=u;g.isCarouselAttachment=v;g.isUrlCtaOnlyBusinessAttachment=w;g.hasNonWebUrlCTABusinessAttachmentItem=x;g.isBusinessMessageAttachment=y;g.isP2PAttachment=z;g.isP2P=A;g.isNewForwardEntrypoint=B;g._isStoryBased=C}),98);
__d("MessengerReactions.react",["cx","fbt","Bootloader","CurrentUser","MercuryConfig","MercuryIDs","MessengerEnvironment","MessengerParticipants.bs","MessengerReactionStaticEmoji.react","MessengerReactionsPrompt.react","MessengerReactionsUtil.bs","MessengerState.re","MessengerWebViewReactionsTypedLogger","ShimButton.react","TooltipData","WorkChatRedesignedMessageListCheck.re","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k="ALL",l=c("CurrentUser").getID(),m=3,n=9;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=d=a.call.apply(a,[this].concat(f))||this,d.state={reactionsPromptShown:!1},d.$1=function(a){d.setState({reactionsPromptShown:a})},d.$3=function(){var a=c("MessengerEnvironment").messengerui,b=d.props,e=b.isFromViewer,f=b.message,g=b.participants;b=f.reactions;new(c("MessengerWebViewReactionsTypedLogger"))().setEvent("open_details").setMid(f.message_id).setSenderID(f.author).setEmojiGroup(k).setEmojiGroupCount(Object.values(b).length).log();a?c("Bootloader").loadModules(["MessengerDialogs.bs","MessengerReactionsDialogReact.bs"],function(a,b){var c=b.jsComponent;a.showDialog(function(){return j.jsx(c,{isFromViewer:e,participants:g,message:f})})},"MessengerReactions.react"):c("Bootloader").loadModules(["ChatReactionsDialog"],function(a){a.show(f,g,e)},"MessengerReactions.react")},b)||babelHelpers.assertThisInitialized(d)}var e=b.prototype;e.render=function(){var a=this.props,b=a.message,e=a.participants,f=a.hovered;a=a.renderQuickAdd;var g=b.reactions,h=b.attachments,k=h&&h.length===1&&c("MercuryConfig").MNFWD&&g&&Object.keys(g).length===0;if(k&&h[0].attach_type==="sticker")return null;if(!this.state.reactionsPromptShown&&!f&&k&&h[0].attach_type==="share")return null;if(h[0]&&h[0].attach_type==="share"&&!h[0].share)return null;if(((f=h[0])!=null?(f=f.share)!=null?(f=f.style_list)!=null?f[0]:f:f:f)==="montage_direct")return null;if((!g||!e)&&!a)return null;var n={},o=0;k=!1;Object.entries(g||{}).forEach(function(a){var b=a[0];a=a[1];typeof a==="string"&&(b===l&&(k=!0),n[a]||(n[a]=0),n[a]++,o++)});if(d("WorkChatRedesignedMessageListCheck.re").enabled&&o===0)return null;var p=(h=d("MessengerState.re").getThreadMetaNow(l,this.props.message.thread_id))==null?void 0:h.reactions;f=Object.keys(n).sort(d("MessengerReactionsUtil.bs").sortFunction).slice(0,m).map(function(b,e,a){var f,g=d("MessengerReactionsUtil.bs").defaultReactions.includes(b);f=p==null?void 0:(f=p.find(function(a){return a.reactionEmoji===b}))==null?void 0:f.staticAssetUri;return j.jsx("span",{className:"_4kf5","data-testid":void 0,style:{zIndex:a.length-e,marginLeft:e===0?0:"-4px"},children:j.jsx(c("MessengerReactionStaticEmoji.react"),{reaction:b,isDefaultReaction:g,uri:f})},b)});e=o>0?j.jsx("span",{className:"_4kf5 _4kf6"+(k?" _fy2":""),children:o}):null;g=a&&!k||d("WorkChatRedesignedMessageListCheck.re").enabled?j.jsx("div",{className:"_aou _aov"+(d("WorkChatRedesignedMessageListCheck.re").enabled&&k?" _7w5w":""),children:j.jsx("span",{className:"_aow",children:j.jsx(c("MessengerReactionsPrompt.react"),{message:b,isActive:!0,isEdit:k,isQuickAdd:!0,setReactionsPromptShown:this.$1})})}):null;h=d("TooltipData").propsFor(this.$2());return j.jsx("div",{className:"_8rnv preview",children:j.jsxs("div",babelHelpers["extends"]({},d("WorkChatRedesignedMessageListCheck.re").enabled?{}:h,{className:"_7ef9",children:[j.jsxs(c("ShimButton.react"),babelHelpers["extends"]({"aria-label":i._("View Message Reactions")},d("WorkChatRedesignedMessageListCheck.re").enabled?h:{},{className:"_aou",onClick:this.$3,children:[f,e]})),g]}))})};e.$2=function(){var a=this.props.message.reactions,b=this.props.participants;if(!a||!b)return"";a=Object.keys(a);var c=a.reduce(function(a,c){if(a.length>=n+1)return a;c=d("MercuryIDs").getParticipantIDFromUserID(c);c=b.get(c)||d("MessengerParticipants.bs").getNow(c);c=c&&c.name;c&&a.push(c);return a},[]),e=c.length,f=c.join("\n");if(a.length>e){c.pop();e=i._("and {count} others",[i._param("count",a.length-c.length)]);f=c.join("\n")+"\n"+e.toString()}return f};return b}(j.Component);a.propTypes={isFromViewer:c("prop-types").bool.isRequired,message:c("prop-types").object.isRequired,participants:c("prop-types").object,renderQuickAdd:c("prop-types").bool,hovered:c("prop-types").bool};g["default"]=a}),98);
__d("MessengerDecorator",["cx","BootloadedComponent.react","BootloaderResource","CurrentUser","FantaMessageActions","JSResource","MercuryConfig","MessageReplyPermissions","MessagingTag","MessengerDecoratorUtil","MessengerEnvironment","MessengerReactions.react","MessengerState.re","QE2Logger","WorkChatRedesignedMessageListCheck.re","cr:1415252","cr:1415253","gkx","isMessengerMessageRemoved","lazyLoadComponent","nullthrows","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("lazyLoadComponent")(c("JSResource")("MessengerMessageActionItemList").__setRef("MessengerDecorator")),k=c("lazyLoadComponent")(c("JSResource")("MessengerRemovedTombstoneActionItemList").__setRef("MessengerDecorator")),l=c("lazyLoadComponent")(c("JSResource")("MessengerSavedMessageActionItemList").__setRef("MessengerDecorator")),m=c("lazyLoadComponent")(c("JSResource")("WorkChatMessageSavedDecorator.react").__setRef("MessengerDecorator")),n=c("lazyLoadComponent")(c("JSResource")("WorkChatMessageSaveAction.react").__setRef("MessengerDecorator")),o=[{name:"Saved",check:function(a,b){return c("gkx")("843916")&&a.tags!=null&&a.tags.includes("message:save")},render:function(a,b,c,d){return i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(m,{})},"saved:"+a.message_id)},getAdditionalClassNames:function(){return"_5z-5"}},{name:"Pinned",check:function(a,e){if(!c("CurrentUser").isWorkUser())return!1;e=a.thread_id;if(e==null||b("cr:1415253")==null)return!1;e=d("MessengerState.re").getThreadMetaNow(c("CurrentUser").getID(),e);return e==null||e.thread_fbid==null?!1:b("cr:1415253").isMessagePinned(a,e)},render:function(a,e,f,g){e=c("nullthrows")(b("cr:1415252"));f=c("nullthrows")(a.thread_id);g=c("nullthrows")(d("MessengerState.re").getThreadMetaNow(c("CurrentUser").getID(),f));f=c("nullthrows")(g.thread_fbid);return i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(e,{messageID:a.message_id,thread:g,threadFBID:f})},"pinned:"+a.message_id)},getAdditionalClassNames:function(){return"_5z-5"}},{name:"Reactions",check:function(a,b){if(d("MessengerDecoratorUtil").isMontageDirect(a)||d("MessengerDecoratorUtil").isMontageShare(a)||d("MessengerDecoratorUtil").isAdminLayoutType(a))return!1;var e=!!(a.reactions&&Object.keys(a.reactions).length>0);d("QE2Logger").logExposureForUser("messenger_growth_www_share_flow");b=!!(!b&&(d("WorkChatRedesignedMessageListCheck.re").enabled||d("MessengerDecoratorUtil").allowForward(a)||d("MessengerDecoratorUtil").isAttachment(a)&&c("MercuryConfig").MNFWD));return(e||b)&&!d("MessengerDecoratorUtil").hasLWA(a)&&!d("MessengerDecoratorUtil").isWECMessage(a)},render:function(a,b,e,f){var g=d("MessengerDecoratorUtil").allowForward(a)||d("MessengerDecoratorUtil").isAttachment(a)&&c("MercuryConfig").MNFWD;return i.jsx(c("MessengerReactions.react"),{isFromViewer:b,message:a,renderQuickAdd:g&&!b,hovered:f,participants:e&&e.participants},a.message_id+"-reactions")},getAdditionalClassNames:function(){return"_5z-5"}}],p=[{name:"MontageReply",check:function(a){if(!c("MercuryConfig").MontageThreadViewer||d("MessengerDecoratorUtil").isAdminLayoutType(a))return!1;a=a.montage_reply_data&&a.montage_reply_data.message_id;return!!a},render:function(a,b,d){d=a.montage_reply_data&&a.montage_reply_data.message_id;var e=a.montage_reply_data&&a.montage_reply_data.reply_action,f=a.montage_reply_data&&a.montage_reply_data.snippet;return i.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:i.jsx("div",{}),bootloadLoader:c("JSResource")("MontageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:b,messageID:d,replyAction:e,replyAuthorID:a.author,replySnippet:f,threadID:a.thread_id},"montagereply:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessageReply",check:function(a){return!a.replied_to_message||d("MessengerDecoratorUtil").isAdminLayoutType(a)?!1:c("gkx")("678600")||c("MercuryConfig").M3CRE},render:function(a,b,d){return i.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:i.jsx("div",{}),bootloadLoader:c("JSResource")("MessageReplyDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:b,authorID:a.author,repliedToMessage:a.replied_to_message,threadID:a.thread_id,scrollToRepliedMessage:d&&d.scrollToRepliedMessage,customColor:d&&d.customColor,gradientColors:d&&d.gradientColors,solidColor:d&&d.solidColor,nicknames:d&&d.nicknames,messageBody:a.body},"messagereply:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessageForward",check:function(a){return c("MessengerEnvironment").messengerui&&a.is_forwarded&&!d("MessengerDecoratorUtil").isAdminLayoutType(a)},render:function(a,b,d){var e=a.attachments.length>0?a.attachments[0].attach_type:"unknown";return i.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:i.jsx("div",{}),bootloadLoader:c("JSResource")("MessengerForwardDecoratorContainer.react").__setRef("MessengerDecorator"),isFromViewer:b,authorID:a.author,threadID:a.thread_id,customColor:d&&d.customColor,messageBody:a.body,attachmentType:e},"messageforward:"+a.message_id)},getAdditionalClassNames:function(){return null}}],q=[{name:"ForwardImages",isAlwaysVisible:!0,check:function(a){return d("MessengerDecoratorUtil").allowForward(a)},render:function(a,b){var e=d("MessengerDecoratorUtil").getAttachments(a),f=e.ids;e=e.types;return i.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:i.jsx("div",{}),bootloadLoader:c("MessengerEnvironment").messengerui?c("JSResource")("MessengerPhotoForwardButton.react").__setRef("MessengerDecorator"):c("JSResource")("ChatPhotoForwardButton.react").__setRef("MessengerDecorator"),attachmentIDs:f,attachmentTypes:e,isFromViewer:b},"forwardimages:"+a.message_id)},getAdditionalClassNames:function(){return"_ylc"}},{name:"ReactionPrompt",check:function(a){return d("MessengerDecoratorUtil").isMontageDirect(a)||d("MessengerDecoratorUtil").isMontageShare(a)||c("isMessengerMessageRemoved")(a)||d("MessengerDecoratorUtil").isAdminLayoutType(a)?!1:!d("MessengerDecoratorUtil").allowForward(a)&&!d("MessengerDecoratorUtil").hasLWA(a)},render:function(a,b,e){b=c("MercuryConfig").MNFWD&&d("MessengerDecoratorUtil").isAttachment(a);return i.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:i.jsx("div",{}),bootloadLoader:c("JSResource")("MessengerReactionsPrompt.react").__setRef("MessengerDecorator"),message:a,isActive:!b&&(!a.folder||a.folder===c("MessagingTag").INBOX),onReactionSwap:e&&e.onReactionSwap,onShowMenu:e&&e.onShowMenu},"reactionprompt:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessengerSaveAction",check:function(a){return d("MessengerDecoratorUtil").allowSave(a)},render:function(a){return i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(n,{isActive:!c("isMessengerMessageRemoved")(a),message:a})},"messagesaveicon:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessengerUIReplyAction",check:function(a){if(d("MessengerDecoratorUtil").isMontageShare(a))return!1;return d("MessageReplyPermissions").canReplyToMessage(a)?c("MessengerEnvironment").messengerui:!1},render:function(a,b,d){return i.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:i.jsx("div",{}),bootloadLoader:c("JSResource")("MessengerMessageReplyAction.react").__setRef("MessengerDecorator"),message:a,onReplyToMessage:d&&d.onReplyToMessage},"messagereplyaction:"+a.message_id)},getAdditionalClassNames:function(){return null}},{name:"MessageActions",check:function(a){return d("MessengerDecoratorUtil").isMontageDirect(a)||d("MessengerDecoratorUtil").isMontageShare(a)||d("MessengerDecoratorUtil").isAdminLayoutType(a)?!1:!0},render:function(a,b,e){var f=d("MessengerDecoratorUtil").isMontageDirect(a)||d("MessengerDecoratorUtil").isMontageShare(a)?!1:(d("MessengerDecoratorUtil").allowForward(a)||d("MessengerDecoratorUtil").isAttachment(a)&&c("MercuryConfig").MNFWD)&&!d("MessengerDecoratorUtil").hasLWA(a),g=c("MessengerEnvironment").messengerui||(e==null?void 0:e.onReplyToMessage)!=null?e==null?void 0:e.onReplyToMessage:function(){return d("FantaMessageActions").replyToMessage(a,a.thread_id)};d("BootloaderResource").preload(c("JSResource")("MessengerMessageActionItemList").__setRef("MessengerDecorator"));d("BootloaderResource").preload(c("JSResource")("MessengerRemovedTombstoneActionItemList").__setRef("MessengerDecorator"));d("BootloaderResource").preload(c("JSResource")("MessengerSavedMessageActionItemList").__setRef("MessengerDecorator"));return i.jsx(c("BootloadedComponent.react"),{bootloadPlaceholder:i.jsx("div",{}),bootloadLoader:c("JSResource")("MessengerMessageActions.react").__setRef("MessengerDecorator"),message:a,isActive:!0,onShowMenu:e&&e.onShowMenu,isFromViewer:b,includeReactions:f,isShowingOriginal:e&&e.isShowingOriginal,hasFormatting:e&&e.hasFormatting,onToggleOriginal:e&&e.handleToggleOriginal,onReplyToMessage:g,isSavedView:e&&e.isSavedView,renderActionItems:function(d){var h=d.closeActionList;d=d.openReactionsPopover;if(e==null?void 0:e.isSavedView)return i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(l,{closeActionList:h})},"MessengerSavedMessageActionItemList");else if(c("isMessengerMessageRemoved")(a))return i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(k,{closeActionList:h,isFromViewer:b,message:a})},"MessengerRemovedTombstoneActionItemList");else return i.jsx(i.Suspense,{fallback:i.jsx("div",{}),children:i.jsx(j,{closeActionList:h,hasFormatting:e&&e.hasFormatting,includeReactions:f,isFromViewer:b,isShowingOriginal:e&&e.isShowingOriginal,message:a,onReplyToMessage:g,onToggleOriginal:e&&e.handleToggleOriginal,openReactionsPopover:d})},"MessengerMessageActionItemList")}},"messageactions:"+a.message_id)},getAdditionalClassNames:function(){return null}}];function a(){return p}function e(){return o}function f(){return q}g.getBeforeDecorators=a;g.getAfterDecorators=e;g.getInnerDecorators=f}),98);
__d("RepliedToMessageContent.react",["cx","fbt","ix","Bootloader","CurrentUser","FBLogger","FantaTabActions","Image.react","JSResource","LineClamp.react","MessengerMathUtils","MessengerTextWithEntities.react","RepliedToMessageStatusForGraphQL","lazyLoadComponent","messengerRTLClasses","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$4=function(){e.$5();if(e.props.repliedToMessageData.status!==c("RepliedToMessageStatusForGraphQL").VALID)return;var a=e.props.threadID;e.props.isMessengerUI?e.props.scrollToRepliedMessage&&e.props.scrollToRepliedMessage(e.props.repliedToMessageData.message.message_id):a!=null&&d("FantaTabActions").jumpToMessage(a,e.props.repliedToMessageData.message.message_id)},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.props,b=a.isFromViewer,e=a.isMessengerUI;a=a.repliedToMessageData;var f=a.status===c("RepliedToMessageStatusForGraphQL").VALID;if(f&&!a.message){c("FBLogger")("message_replies").mustfix("invalid message reply: Status is Valid but replied_to_message is missing");return null}f=f?a.message.body:this.$1(a);var g=null;!f&&a.message.attachments&&(g=this.$2(a.message.attachments,b,e),f=this.$3(a.message.attachments));b=null;a=f!=null&&d("MessengerMathUtils").isMathBlock(f);if(a&&f!=null){a=d("MessengerMathUtils").getMathBlockInner(f);var h=c("lazyLoadComponent")(c("JSResource")("MessengerMath.react").__setRef("RepliedToMessageContent.react"));b=k.jsx(k.Suspense,{fallback:k.jsx("div",{children:f}),children:k.jsx(h,{body:a,fallbackBody:f,stripDelimiters:!0,className:"_1e4d"})})}else b=k.jsx(c("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:f});h=k.jsx(c("LineClamp.react"),{className:"_4k7e",lines:2,fitHeightToShorterText:!0,children:b});if(!this.props.replyInOneBubble)return k.jsxs("div",{className:(!!g&&e?"_6e7n":"")+(!!g&&!e?" _6e6m":""),children:[h,g]});a=k.jsxs("blockquote",{className:"_pye"+(!!g&&e?" _6e7n":"")+(!!g&&!e?" _6e6m":""),children:[k.jsx("div",{className:"_pyf"}),h,g]});return!this.props.isLinkified?a:k.jsx("div",{className:c("messengerRTLClasses")(f),children:k.jsx("a",{className:"_6e6n",href:"#",onClick:this.$4,children:a})})};e.$1=function(a){switch(a.status){case c("RepliedToMessageStatusForGraphQL").DELETED:return c("CurrentUser").isWorkUser()?i._("This message was deleted").toString():i._("Message removed").toString();case c("RepliedToMessageStatusForGraphQL").TEMPORARILY_UNAVAILABLE:default:return i._("Message is temporarily unavailable").toString()}};e.$2=function(a,b,d){d=d?"_6e6o":"_6e6y";if(a.length===1&&a[0].attach_type)switch(a[0].attach_type){case"photo":case"sticker":case"third_party_sticker":case"animated_image":return!this.props.replyInOneBubble?k.jsx(c("Image.react"),{className:d,src:j("602383")}):b===!0?k.jsx(c("Image.react"),{className:d,src:j("544881")}):k.jsx(c("Image.react"),{className:d,src:j("596859")});case"video":return!this.props.replyInOneBubble?k.jsx(c("Image.react"),{className:d,src:j("602399")}):b===!0?k.jsx(c("Image.react"),{className:d,src:j("504242")}):k.jsx(c("Image.react"),{className:d,src:j("596875")});default:return!this.props.replyInOneBubble?k.jsx(c("Image.react"),{className:d,src:j("562396")}):b===!0?k.jsx(c("Image.react"),{className:d,src:j("555222")}):k.jsx(c("Image.react"),{className:d,src:j("596853")})}else if(a.length>1)return!this.props.replyInOneBubble?k.jsx(c("Image.react"),{className:d,src:j("602390")}):b===!0?k.jsx(c("Image.react"),{className:d,src:j("504171")}):k.jsx(c("Image.react"),{className:d,src:j("596866")});else return null};e.$3=function(a){var b=a.length;if(b===1&&a[0].attach_type)switch(a[0].attach_type){case"photo":return i._("Photo").toString();case"video":return i._("Video").toString();case"sticker":case"third_party_sticker":return i._("Sticker").toString();case"animated_image":return i._("GIF").toString();default:return i._("Attachment").toString()}else if(b>1)return i._({"*":"{number of attachments} attachments","_1":"{number of attachments} attachment"},[i._plural(b),i._param("number of attachments",b)]).toString();else return null};e.$5=function(){c("Bootloader").loadModules(["MessageReplyTypedLogger","MessageReplyEvent"],function(a,b){a=new a();a.setEvent(b.SCROLL_TO_ORIGINAL_MESSAGE).setIsWorkplace(c("CurrentUser").isWorkUser()).log()},"RepliedToMessageContent.react")};return b}(k.Component);g["default"]=a}),98);
__d("MessengerBubble.react",["cx","BizInboxAutotranslationContext","EmojiOnlyMessage.react","FlexLayout.react","JSResource","MercuryIDs","MercuryMessageBody.react","MercuryMessageRenderLocations","MessageReplyPermissions","MessengerActions","MessengerCodeBubble.re","MessengerColors","MessengerContactActions.re","MessengerCustomColorUtils.bs","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","MessengerEnvironment","MessengerSupportedEmojiUtils","RepliedToMessageContent.react","WorkChatRedesignedMessageListCheck.re","cr:1398876","cr:1398877","goURI","immutable","joinClasses","lazyLoadComponent","prop-types","react","shouldNotRenderSegoe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("MessengerCodeBubble.re").make,k=b("MessengerContactActions.re").actions,l=b("lazyLoadComponent")(b("JSResource")("AutoTranslationMessageBody.react").__setRef("MessengerBubble.react")),m=b("lazyLoadComponent")(b("JSResource")("AutoTranslationPrimaryLanguageBody.react").__setRef("MessengerBubble.react")),n=0;a=function(a){babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={emojis:void 0},d.$2=function(a,c,e){switch(a){case k.MESSAGE:d.$3(c,e);break;case k.PROFILE:a=b("MercuryIDs").getParticipantIDFromUserID(c.id);a=d.props.participants&&d.props.participants.get(a);if(a&&a.href){var f=b("MessengerEnvironment").messengerdotcom;f?window.open(a.href):b("goURI")(a.href)}else d.$3(c,e);break}},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){if(!this.props.emojis){var a=this.props.body||"";a=b("MessengerSupportedEmojiUtils").getEmojiOnlyContents(a);a&&a.length&&this.setState({emojis:a})}};d.$1=function(){if(this.props.message!=null&&this.props.message.thread_id!=null&&this.props.message.tags!=null&&this.props.message.attachments!=null&&this.props.message.attachments.length>0){var a,b,c=this.props.message;a=(a=c.attachments[0].share)==null?void 0:(a=a.target)==null?void 0:a.sender_wec_number;b=(b=c.attachments[0].share)==null?void 0:(b=b.target)==null?void 0:b.sender_wec_number_formated;var d=c.thread_id.replace("user:",""),e=c.tags[n]!=="source:wa_callback",f=this.props.participants!=null&&this.props.participants.last()!=null&&this.props.participants.last().wec_group_participant_count==null;c=(c=c.attachments[0].share)==null?void 0:(c=c.target)==null?void 0:c.sender_wec_name;if(e||d===a||!this.props.wecFirstMessage||f)return null;if(a!=null&&c!=null)if(a===c)return i.jsx("div",{className:"_7ox8",children:b});else return i.jsxs("div",{className:"_7ox8",children:[b,"  ~",c]})}return null};d.render=function(){var a,c=this,d;a=((a=(a=this.context)==null?void 0:a.isAutotranslationEnabled)!=null?a:!1)&&((a=(a=this.context)==null?void 0:a.isFeatureAvailable)!=null?a:!1);var e=!1,f=null;if(this.state.emojis)f=i.jsx(b("EmojiOnlyMessage.react"),{contents:this.state.emojis});else if(a){var g;e=!0;f=i.jsx(l,{reference:this.props.bodyRef,message:this.props.body,message_id:(g=this.props.message)==null?void 0:g.message_id,secondaryLanguageBody:(g=this.props.message)==null?void 0:g.secondary_language_body,isSecondaryLanguageBodyDecrypted:(g=this.props.message)==null?void 0:g.is_secondary_language_body_decrypted,className:"_3oh-"+(b("shouldNotRenderSegoe")(this.props.body||"")?" _2por":"")+" _58nk",threadCustomColor:this.props.threadCustomColor,isFromViewer:this.props.isFromViewer,ranges:this.props.ranges,metaRanges:this.props.metaRanges,plainText:this.props.plainText,thread:this.props.thread,threadID:this.props.threadID,customLike:this.props.customLike,onContactSelect:this.$2,renderLocation:b("MercuryMessageRenderLocations").MESSENGER})}else e=!0,f=i.jsx(b("MercuryMessageBody.react"),{ref:this.props.bodyRef,body:this.props.body,className:"_3oh-"+(b("shouldNotRenderSegoe")(this.props.body||"")?" _2por":"")+" _58nk",threadCustomColor:this.props.threadCustomColor,isPageMessage:this.props.isPageMessage,isFromViewer:this.props.isFromViewer,ranges:this.props.ranges,metaRanges:this.props.metaRanges,plainText:this.props.plainText,threadID:this.props.threadID,customLike:this.props.customLike,onContactSelect:this.$2,renderLocation:b("MercuryMessageRenderLocations").MESSENGER});var h=[],k=[],n=this.props.message,o=!!this.props.isFromViewer;n&&!this.props.excludeAfterDecorators&&(b("MessengerDecorator").getAfterDecorators().forEach(function(a){a.check(n,o)&&(h.push(a.render(n,o,c.props)),k.push(a.getAdditionalClassNames()))}),b("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(n,o)&&k.push(a.getAdditionalClassNames())}));g=k.join(" ");var p=null;this.props.body&&(this.props.containsCode?p=i.jsx(j,{body:this.props.body,className:this.props.className,customColor:this.props.customColor,isFromViewer:this.props.isFromViewer===!0,ranges:this.props.ranges||[],threadID:this.props.threadID||"",thread:this.props.thread}):this.props.is_forwarded?p=i.jsxs("blockquote",{className:"_8720",children:[i.jsx("div",{className:"_8721"}),f]}):p=i.jsxs("div",{className:"_aok"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2m":"")+(b("WorkChatRedesignedMessageListCheck.re").enabled?" _7w6-":""),tabIndex:0,children:[f,this.props.attachments]}));d=a&&!this.state.emojis&&this.props.groupID===this.context.displayedGroupID&&(((d=this.props.message)==null?void 0:d.secondary_language_body)!=null&&((d=this.props.message)==null?void 0:d.secondary_language_body)!==""||!this.props.isFromViewer)?i.jsx(i.Suspense,{fallback:null,children:i.jsx(m,{body:this.props.body,isFromViewer:this.props.isFromViewer})}):null;var q=this.props.repliedToMessage&&b("MessageReplyPermissions").bubbleContainsRepliedToMessage(this.props.repliedToMessage,!!(!this.props.containsCode&&this.state.emojis))?i.jsx(b("RepliedToMessageContent.react"),{isFromViewer:this.props.isFromViewer,isLinkified:!0,isMessengerUI:!0,repliedToMessageData:this.props.repliedToMessage,scrollToRepliedMessage:this.props.scrollToRepliedMessage,replyInOneBubble:!0}):null,r=this.props.tooltip||{},s=this.props.isFromViewer&&!this.state.emojis&&!this.props.containsCode,t=b("MessengerDotComAndInboxM4Check.bs").yes&&this.props.thread&&s?babelHelpers["extends"]({backgroundAttachment:"fixed"},b("MessengerColors").makeLinearGradient(this.props.thread.gradient_colors,this.props.thread.solid_color,b("MessengerCustomColorUtils.bs").defaultColor())):{};return i.jsxs("div",babelHelpers["extends"]({},b("WorkChatRedesignedMessageListCheck.re").enabled?{}:r,{style:t,className:b("joinClasses")(g,this.props.className,(this.props.containsCode?"":"_hh7")+(b("MessengerDotComAndInboxM4Check.bs")&&!this.props.containsCode?" _6ybn":"")+(this.props.containsCode?" _4qoc":"")+(!this.props.isFromViewer&&this.props.containsCode?" _65sp":"")+(this.props.isFromViewer&&this.props.containsCode?" _65sq":"")+(this.props.containsCode?"":" _s1-")+(!this.props.containsCode&&!this.props.notBubblish&&this.props.isInlineMessage!==!0?" _52mr":"")+(!this.props.containsCode&&!this.props.notBubblish&&this.props.isInlineMessage===!0?" _9wz0":"")+(!this.props.containsCode&&this.props.isP2PAttachment?" _4z55":"")+(!this.props.containsCode&&!!this.state.emojis?" _2f5r":"")+(!this.props.containsCode&&!!this.state.emojis?" _581a":"")+(s?" _43by":"")+(b("MessengerDotComAndInboxM4Check.bs").yes&&s?" _6ybp":"")+(!this.props.containsCode&&e?" _3oh-":"")+(q?" _6uum":"")+(this.props.is_forwarded?" _8722":"")),children:[n==null||this.props.isPageMessage||this.props.isSavedView?null:b("cr:1398877")!=null?i.jsx(b("cr:1398877"),{message:n,hovered:this.props.isHovered,messageProps:{isFromViewer:this.props.isFromViewer===!0,onReplyToMessage:this.props.onReplyToMessage,handleToggleOriginal:this.props.handleToggleOriginal,hasFormatting:this.props.hasFormatting,isShowingOriginal:this.props.plainText}}):b("cr:1398876")!=null&&i.jsx(b("cr:1398876"),{className:"_1z_2",message:n,isFromViewer:!!this.props.isFromViewer,hovered:this.props.isHovered,onReactionSwap:this.props.onReactionSwap,onReplyToMessage:this.props.onReplyToMessage,messageProps:babelHelpers["extends"]({},this.props,{handleToggleOriginal:this.props.handleToggleOriginal,hasFormatting:this.props.hasFormatting,isShowingOriginal:this.props.plainText}),isSavedView:this.props.isSavedView}),a&&d&&this.props.groupID===this.context.displayedGroupID?d:q,this.$1(),p,p?null:f,p?null:this.props.attachments,h.length>1?i.jsx(b("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_7moe",children:h}):h]}))};d.$3=function(a,c){c&&c.preventDefault();c=b("MercuryIDs").getThreadIDFromUserID(a.id);c&&b("MessengerActions").selectThread(c)};return c}(i.PureComponent);a.propTypes={attachments:b("prop-types").instanceOf(b("immutable").List),body:b("prop-types").string,customColor:b("prop-types").string,customLike:b("prop-types").object,excludeAfterDecorators:b("prop-types").bool,isFromViewer:b("prop-types").bool,message:b("prop-types").object,metaRanges:b("prop-types").array,notBubblish:b("prop-types").bool,onUnwrap:b("prop-types").func,participants:b("prop-types").object,plainText:b("prop-types").bool,ranges:b("prop-types").array,threadID:b("prop-types").string,threadCustomColor:b("prop-types").string,onReactionSwap:b("prop-types").func,onReplyToMessage:b("prop-types").func,isHovered:b("prop-types").bool,handleToggleOriginal:b("prop-types").func,hasFormatting:b("prop-types").func,isPageMessage:b("prop-types").bool,isSavedView:b("prop-types").bool,repliedToMessage:b("prop-types").object,scrollToRepliedMessage:b("prop-types").func,thread:b("prop-types").object,wecFirstMessage:b("prop-types").bool,is_forwarded:b("prop-types").bool};a.contextType=b("BizInboxAutotranslationContext");e.exports=a}),null);
__d("MessengerCodeBubble.bs",["MessengerCodePasteUtils","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.body,d=a.className,e=a.customColor,f=a.isFromViewer,g=a.ranges,i=a.threadID;a=a.thread;c=b("MessengerCodePasteUtils").getCodeAndMessageBubbles(c,g,i,e,f,a);return h.jsx("div",{className:d,children:c})}c=a;f.make=c}),null);
__d("MessengerCodeBubble.re",["MessengerCodeBubble.bs"],(function(a,b,c,d,e,f){a=b("MessengerCodeBubble.bs").make;f.make=a}),null);
__d("MessengerBubbleBlock.react",["cx","WorkChatRedesignedMessageListCheck.re","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return i.jsx("div",{className:(d("WorkChatRedesignedMessageListCheck.re").enabled?"":"_52mr")+" _4h13"+(d("WorkChatRedesignedMessageListCheck.re").enabled?"":" _3058"),children:this.props.children})};return b}(i.Component);g["default"]=a}),98);
__d("MessengerDeliveryStateIconsM4React.bs",["cssVar","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.color;return i.jsx("svg",{width:"10",height:"10",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:i.jsxs("g",{fill:"none",fillRule:"evenodd",children:[i.jsx("path",{d:"M0 0h16v16H0z"}),i.jsx("path",{d:"M8 16A8 8 0 118 0a8 8 0 010 16zM6.8 8.836L5.257 7.293a1 1 0 00-1.414 1.414l2.25 2.25a1 1 0 001.414 0l4.25-4.25a1 1 0 10-1.414-1.414L6.8 8.836z",fill:a})]})})}g={make:a};function c(a){a=a.color;a={children:i.jsxs("g",{fill:"none",fillRule:"evenodd",children:[i.jsx("path",{d:"M0 0h16v16H0z"}),i.jsx("circle",{stroke:a,strokeWidth:"2",cx:"8",cy:"8",r:"7"}),i.jsx("path",{stroke:a,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M4.55 8l2.25 2.25L11.05 6"})]}),height:"10",width:"10",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"};a["data-testid"]="message_delivery_state_sent";return i.jsx("svg",a)}b={make:c};function d(a){a=a.color;return i.jsx("svg",{width:"10",height:"10",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:i.jsxs("g",{fill:"none",fillRule:"evenodd",children:[i.jsx("path",{d:"M0 0h16v16H0z"}),i.jsx("circle",{stroke:a,strokeWidth:"2",cx:"8",cy:"8",r:"7"})]})})}a={make:d};function e(a){return i.jsx("svg",{width:"10",height:"10",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:i.jsxs("g",{fill:"none",fillRule:"evenodd",children:[i.jsx("path",{d:"M0 0h16v16H0z"}),i.jsx("path",{d:"M8 16A8 8 0 118 0a8 8 0 010 16zM8 2a1.5 1.5 0 00-1.5 1.5v5a1.5 1.5 0 003 0v-5A1.5 1.5 0 008 2zm0 12a1.5 1.5 0 100-3 1.5 1.5 0 000 3z",fill:"#f03d25"})]})})}c={make:e};f.Delivered=g;f.Sent=b;f.Sending=a;f.Error_=c}),null);
__d("MessengerDeliveryStateIconsM4React.re",["MessengerDeliveryStateIconsM4React.bs"],(function(a,b,c,d,e,f){c=(a=b("MessengerDeliveryStateIconsM4React.bs")).Delivered.make;f.Delivered_make=c;d=a.Sent.make;f.Sent_make=d;e=a.Sending.make;f.Sending_make=e;b=a.Error_.make;f.Error__make=b;c=a.Delivered;f.Delivered=c;d=a.Error_;f.Error_=d;e=a.Sent;f.Sent=e;b=a.Sending;f.Sending=b}),null);
__d("MessengerMessageActionsWrapper.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.wrapper=null,c.mouseOverListenerAdded=!1,c.$4=function(){c.props.onShowMenu(c.props.message.message_id,!0),c.$2()},c.$3=function(){c.props.onShowMenu(c.props.message.message_id,!1),c.$1()},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.componentDidMount=function(){this.$1()};c.componentWillUnmount=function(){this.$2()};c.render=function(){var a=this;return h.jsx("div",{onMouseLeave:this.$3,className:this.props.className,ref:function(b){return a.wrapper=b},children:this.props.children})};c.$1=function(){this.wrapper&&!this.mouseOverListenerAdded&&(this.wrapper.addEventListener("mouseover",this.$4),this.mouseOverListenerAdded=!0)};c.$2=function(){this.wrapper&&this.mouseOverListenerAdded&&(this.wrapper.removeEventListener("mouseover",this.$4),this.mouseOverListenerAdded=!1)};return b}(h.Component);g["default"]=a}),98);
__d("MessengerMessageSeenHeadsReact.bs",["cssVar","cx","fbt","Image.bs","MercuryAttachment","MercuryTimestamp","MessengerConfig","MessengerMessage.bs","MessengerSurfaceQuickChat.bs","ReasonReact.bs","getFBTSafeGenderFromGenderConst","getViewportDimensions","immutable","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||b("react"),l=b("MessengerConfig").MaxSeenHeadCount;function m(a){a=b("getViewportDimensions")().width;if(a<parseInt("920px".replace("px",""),10))if(l<8)return l;else return 8;else if(a<parseInt("1211px".replace("px",""),10)&&l>=3)return 3;else return l}function a(a){var c=a.className,d=a.isFromViewer,e=a.message,f=a.nextTimestamp,g=a.participants;a=a.readReceipts;var h=b("MessengerSurfaceQuickChat.bs").useIsQuickChatSurface(void 0);if(b("MessengerMessage.bs").isSending(e)||a.isEmpty()||b("MessengerMessage.bs").hasError(e))return null;a=b("immutable").Seq(a).filter(function(a){a=a.watermark>=e.timestamp&&a.watermark<f;if(a)return!0;else return!1}).sort(function(a,b){return a.action-b.action|0});if(a.isEmpty())return null;h=h?1:d?l:m(void 0);d=a.count()>(h+1|0);var j=d?a.slice(0,h):a;j=j.map(function(a,c,d){d=g.get(c);if(d==null)return null;a=i._({"*":"Seen by {full name} at {seen time}"},[i._name("full name",d.name,b("getFBTSafeGenderFromGenderConst")(d.gender)),i._param("seen time",b("MercuryTimestamp").getPreciseTimestamp(a.action))]);return b("ReasonReact.bs").element(String(c),void 0,b("Image.bs").make("_jf2",a,void 0,void 0,d.image_src,void 0,a,void 0,void 0,[]))}).toArray();if(j.length===0)return null;d=d?a.slice(h,void 0).count():0;if(d>0){a=a.slice(h,void 0).map(function(a,b,c){a=g.get(b);if(a==null)return"";else return a.name}).filter(function(a){return a!==""}).join("\n")+" ";j.unshift(k.jsx("span",{className:"_jf3",title:a,children:"+"+String(d)},"overflow"))}return k.jsx("span",{className:b("joinClasses")(c,"_jf4"+((j.length+d|0)===1?" _jf5":"")+(b("MercuryAttachment").isSinglePhotoGroupAttachment(e)?" _ba3":"")),children:j})}c={make:a};d=a;e=a;f.maxSeenHeads=l;f.calculateSliceNumber=m;f.MessengerMessageSeenHeadsWrapper=c;f.make=d;f.jsComponent=e}),null);
__d("MessengerVideoAutoplayActions",["MessengerFluxReduceDispatcher","keyMirror"],(function(a,b,c,d,e,f,g){"use strict";var h="messenger_video",i=c("keyMirror")({DESTROY:null,DSTROY_ALL:null,SCROLL:null,UPDATE:null});function a(a,b,d,e){c("MessengerFluxReduceDispatcher").dispatch({type:i.SCROLL,namespace:h,threadID:a,messageIDs:b,messageRectMap:d,viewportRect:e})}function b(a,b){c("MessengerFluxReduceDispatcher").dispatch({type:i.UPDATE,namespace:h,threadID:a,messageIDs:b})}function d(a){c("MessengerFluxReduceDispatcher").dispatch({type:i.DESTROY,namespace:h,threadID:a})}function e(){c("MessengerFluxReduceDispatcher").dispatch({type:i.DESTROY_ALL,namespace:h})}g.Namespace=h;g.Types=i;g.onScroll=a;g.updateStore=b;g.deleteThread=d;g.deleteAllThreads=e}),98);
__d("MessengerVideoAutoplayStore",["FluxReduceStore","MessengerFluxReduceDispatcher","MessengerVideoAutoplayActions","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(c("immutable").Record({currentVideoMessageID:null,lastVideoMessageID:null,messageIDs:null,videoVisibilityMap:null}));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.reduce=function(a,b){if(b.namespace!==d("MessengerVideoAutoplayActions").Namespace)return a;switch(b.type){case d("MessengerVideoAutoplayActions").Types.SCROLL:b.messageIDs&&(a=c.$MessengerVideoAutoplayStore1(a,b.threadID,b.messageIDs));return c.$MessengerVideoAutoplayStore2(a,b.threadID,b.messageRectMap,b.viewportRect);case d("MessengerVideoAutoplayActions").Types.UPDATE:return c.$MessengerVideoAutoplayStore1(a,b.threadID,b.messageIDs);case d("MessengerVideoAutoplayActions").Types.DESTROY:return c.$MessengerVideoAutoplayStore3(a,b.threadID);case d("MessengerVideoAutoplayActions").Types.DESTROY_ALL:return a.clear()}return a},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.getInitialState=function(){return c("immutable").Map()};e.$MessengerVideoAutoplayStore1=function(a,b,c){return!c?a["delete"](b):a.set(b,new h({currentVideoMessageID:null,lastVideoMessageID:c.first(),messageIDs:c,videoVisibilityMap:null}))};e.$MessengerVideoAutoplayStore3=function(a,b){return a["delete"](b)};e.$MessengerVideoAutoplayStore4=function(a,b,c,d,e){var f=this,g=null;c=c.map(function(a){if(g)return[a,!1];else{var b=f.$MessengerVideoAutoplayStore5(a,d,e);b&&(g=a);return[a,b]}}).fromEntrySeq().toOrderedMap();return a.mergeIn([b],{currentVideoMessageID:g,videoVisibilityMap:c})};e.$MessengerVideoAutoplayStore2=function(a,b,c,d){var e=a.getIn([b,"messageIDs"]);if(!e||!c||!d)return a;if(!a.getIn([b,"currentVideoMessageID"]))return this.$MessengerVideoAutoplayStore4(a,b,e,c,d);else{var f=a.getIn([b,"videoVisibilityMap"]),g=a.getIn([b,"lastVideoMessageID"]),h=a.getIn([b,"currentVideoMessageID"]);if(this.$MessengerVideoAutoplayStore5(g,c,d)){if(f&&f.first())return a}else if(this.$MessengerVideoAutoplayStore5(h,c,d))return a;a=a.setIn([b,"currentVideoMessageID"],null);return this.$MessengerVideoAutoplayStore4(a,b,e,c,d)}};e.$MessengerVideoAutoplayStore6=function(a,b){return!a?!1:a.top>b.top&&a.bottom<b.bottom};e.$MessengerVideoAutoplayStore5=function(a,b,c){b=b.get(a);return this.$MessengerVideoAutoplayStore6(b,c)};e.getVideoVisibilityMap=function(a){return this.getState().getIn([a,"videoVisibilityMap"])};e.getMessageIDs=function(a){return this.getState().getIn([a,"messageIDs"])};e.isVisible=function(a,b){return!!this.getState().getIn([a,"videoVisibilityMap",b])};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("MessengerFluxReduceDispatcher"));g["default"]=b}),98);
__d("MessengerMessage.react",["cssVar","cx","fbt","CurrentUser","EmojiLikeUtils","FlexLayout.react","ImmutableObject","MercuryAttachment","MercuryDisplayTimeFilterMessageRenderer","MercuryMessageDeliveryState","MercuryMessageError.react","MercuryTimestamp","MessengerAttachmentAttribution.re","MessengerAttachmentRenderer","MessengerBubble.react","MessengerBubbleBlock.react","MessengerCodePasteUtils","MessengerDecorator","MessengerDeliveryStateIconsM4React.re","MessengerMessage.bs","MessengerMessageActionsWrapper.react","MessengerMessageSeenHeadsReact.bs","MessengerSettingsStore","MessengerSourceContext.re","MessengerURIUtils.bs","MessengerVideoAutoplayStore","SubscriptionsHandler","TooltipData","cr:1106477","cr:1398876","cr:1398877","emptyFunction","getViewportDimensions","ifRequired","immutable","joinClasses","messengerRTLClasses","prop-types","react","shallowEqual"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");function l(a){switch(a){case c("MercuryMessageDeliveryState").SENDING:return j._("Sending");case c("MercuryMessageDeliveryState").SENT:return j._("Sent");case c("MercuryMessageDeliveryState").DELIVERED:return j._("Delivered");case c("MercuryMessageDeliveryState").ERROR:return j._("Error")}return null}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state={isVisible:!1,plainText:!1,shown:{}},c.$15=function(a){c.messageBody=a},c.$5=function(a,b){c.setState(function(c){return{shown:babelHelpers["extends"]({},c.shown,(c={},c[a]=b,c))}})},c.$12=function(){c.setState(function(a){return{plainText:!a.plainText}})},c.$11=function(){c.props.onSelect(c.props.message.message_id)},c.$13=function(){return d("MessengerCodePasteUtils").containsCodeBlock(c.props.message.body)||!!c.messageBody&&c.messageBody.hasFormatting()},b)||babelHelpers.assertThisInitialized(c)}e.calculateState=function(a){return{isVisible:c("MessengerVideoAutoplayStore").isVisible(a.message.thread_id,a.message.message_id)||c("ifRequired")("MessengerSphericalRendererStore",function(b){return b.isVisible(a.message.thread_id,a.message.message_id)},function(){return!1})}};var f=e.prototype;f.componentDidMount=function(){var a=this;this.setState(e.calculateState(this.props));var b=new(c("SubscriptionsHandler"))();b.addSubscriptions(c("MessengerVideoAutoplayStore").addListener(function(b){b=e.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));var d=c("ifRequired")("MessengerSphericalRendererStore",function(a){return a},function(){return null});d&&b.addSubscriptions(d.addListener(function(b){b=e.calculateState(a.props);b.isVisible!==a.state.isVisible&&a.setState({isVisible:b.isVisible})}));this.$1=b};f.componentWillUnmount=function(){this.$1&&this.$1.release()};f.shouldComponentUpdate=function(a,b){return a.isActive!==this.props.isActive||a.isFromViewer!==this.props.isFromViewer||a.isSelected!==this.props.isSelected||a.message!==this.props.message||a.messageTimestamp!==this.props.messageTimestamp||a.nextTimestamp!==this.props.nextTimestamp||a.showDeliveryState!==this.props.showDeliveryState||a.deliveryTimestamp!==this.props.deliveryTimestamp||!c("immutable").is(a.readReceipts,this.props.readReceipts)||!c("immutable").is(a.participants,this.props.participants)||a.customColor!==this.props.customColor||b.isVisible!==this.state.isVisible||!c("shallowEqual")(b.shown,this.state.shown)||a.onAttachmentLoad!==this.props.onAttachmentLoad||Object.keys(((b=a.message)==null?void 0:b.reactions)||{}).length!==Object.keys(((b=this.props.message)==null?void 0:b.reactions)||{}).length||((b=a.thread)==null?void 0:b.pinned_messages)!==((a=this.props.thread)==null?void 0:a.pinned_messages)};f.render=function(){var a,e=this.props,f=e.isActive,g=e.isFromViewer;e=e.message;var h=!g,i=j._("{time}",[j._param("time",d("MercuryTimestamp").getPreciseTimestamp(e.timestamp))]);i=d("TooltipData").propsFor(i,m(g,this.context));var l=[],n=[],o=this.props.message,p=g||!1,q=this.props.scrollToRepliedMessage,r=this.props.thread;o&&!this.props.hideBeforeDecorator&&(d("MessengerDecorator").getBeforeDecorators().forEach(function(a){a.check(o)&&l.push(a.render(o,p,{scrollToRepliedMessage:q,gradientColors:r==null?void 0:r.gradient_colors,solidColor:r==null?void 0:r.solid_color,nicknames:r==null?void 0:r.custom_nickname}))}),d("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(o)&&n.push(a.getAdditionalClassNames())}));var s=this.$2(i,null);i=this.$3(i,this.props.isSavedView===!0||s!=null);var t=!!s&&this.$4();a=this.props.readReceipts.count()>=2&&t&&((a=e.attachments[0])==null?void 0:a.attach_type)==="share";return k.jsxs("div",{className:(e.isFocused===!1?"xz5rk10":"")+(this.props.isInlineMessage===!0&&!this.props.isLastInGroup?" xl56j7k x1q0g3np x78zum5 x6s0dn4":""),children:[k.jsxs(c("MessengerMessageActionsWrapper.react"),{className:c("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(f?" _-5k":"")+(h?"":" _3i_m")+(h?"":" _nd_")+(h?" _29_7":"")+(t?" _q4a":"")+(this.props.isFirstInGroup?" _8lma":""),c("messengerRTLClasses")(e.body)].concat(n)),message:e,onShowMenu:this.$5,isFromViewer:g,children:[l,i,s,this.$6(),(this.props.isInlineMessage!==!0||this.props.isLastInGroup===!0)&&this.$7(),k.jsx(d("MessengerMessageSeenHeadsReact.bs").jsComponent,{className:"_4jzq"+(a?" _8d3y":""),isFromViewer:g,message:e,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts})]}),b("cr:1106477")!=null&&e.m_suggestions!=null&&e.m_suggestions.length>0?k.jsx(b("cr:1106477"),{isFromViewer:p,message:e,suggestions:e.m_suggestions.map(function(a){return a.type}),expirationTime:e.m_suggestions[0].expiration_time}):null,this.props.isInlineMessage===!0&&this.props.isLastInGroup!==!0?k.jsx("span",{className:"x17ituo4 xd8780z xthy82k",children:"\u29f8"}):null]})};f.$8=function(a){return a.every(function(a){return!a||!d("MessengerAttachmentRenderer").isRenderedShareAttachment(a)})};f.$9=function(){return this.props.message.attachments.length===1&&d("MercuryAttachment").hasAttribution(this.props.message.attachments[0])};f.$2=function(a,e){if(this.props.message!=null&&this.props.message.attachments!=null&&this.props.message.attachments.length>0){e=((e=this.props.message)==null?void 0:(e=e.attachments[0])==null?void 0:(e=e.share)==null?void 0:e.style_list[0])==="wec_message"&&!((e=this.props.message)==null?void 0:(e=e.attachments[0])==null?void 0:(e=e.share)==null?void 0:(e=e.subattachments)==null?void 0:e.length);if(e)return null}if(this.props.message.is_filtered_content)return null;if(this.props.message.commerce_message_type==="ride_intent")return null;e=this.props.message;var f=this.$10(e),g=f[0];f=f[1];var h=d("MessengerAttachmentRenderer").getAttachmentsOutsideBubble(this.props.message,this.props.onAttachmentLoad,{customColor:this.props.customColor,isFromViewer:this.props.isFromViewer,isPageMessage:this.props.isPageMessage,isVisible:this.state.isVisible,onSelect:this.$11,onUnwrap:null,pageID:this.props.pageID},g,this.props.thread);if(!h||!h.length)return null;var i=this.$8(h),j=this.props.isPageMessage||this.props.isSavedView?null:b("cr:1398877")!=null?k.jsx(b("cr:1398877"),{message:e,hovered:this.state.shown[this.props.message.message_id],messageProps:{isNonBubbleDecorator:!i,isFromViewer:this.props.isFromViewer===!0,onReplyToMessage:this.props.onReplyToMessage,handleToggleOriginal:this.$12,hasFormatting:this.$13,isShowingOriginal:this.state.plainText}}):b("cr:1398876")!=null&&k.jsx(b("cr:1398876"),{className:i?"_1z_2":"",message:e,isFromViewer:!!this.props.isFromViewer,hovered:this.state.shown[this.props.message.message_id],messageProps:babelHelpers["extends"]({},this.props,{handleToggleOriginal:this.$12,hasFormatting:this.$13,isShowingOriginal:this.state.plainText}),isSavedView:this.props.isSavedView});this.$9()&&(h=[k.jsxs("span",{children:[h[0],k.jsx(d("MessengerAttachmentAttribution.re").make,{attachment:new(c("ImmutableObject"))(this.props.message.attachments[0])})]},"AttachmentWithAttribution")]);var l=h.some(function(a){return!!a&&d("MessengerAttachmentRenderer").isPhotosGroupAttachment(a)});h=i?k.jsxs("div",babelHelpers["extends"]({},a||{},{className:c("joinClasses").apply(void 0,["_3zvs"+(l?" _2-x3":"")].concat(f)),children:[h,g.length>1?k.jsx(c("FlexLayout.react"),{align:"center",className_DO_NOT_USE:"_7moe",children:g}):g,j]})):h.map(function(b){return b&&k.cloneElement(b,a)});l=d("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(this.props.message);f=k.jsxs("div",{className:"_3058 _15gf"+(l?" _3duc":""),children:[h,e.body||i?null:j]},"renderedAttachments");return this.$9()?k.jsx(c("MessengerBubbleBlock.react"),{children:f}):f};f.$10=function(a){var b=this,c=[],e=[],f=this.props.isFromViewer||!1;a&&this.props.isSavedView!==!0&&d("MessengerDecorator").getAfterDecorators().forEach(function(d){d.check(a,f)&&(c.push(d.render(a,f,b.props,b.state.shown[b.props.message.message_id])),e.push(d.getAdditionalClassNames()))});return[c,e]};f.$14=function(){return d("MessengerAttachmentRenderer").isP2PAttachment(this.props.message)};f.$3=function(a,b){var e=this.props.message,f=c("immutable").List(d("MessengerAttachmentRenderer").getAttachmentsInsideBubble(e,this.props.onAttachmentLoad)),g=e.ranges;e.profile_ranges&&e.profile_ranges.length&&(g=(g||[]).concat(e.profile_ranges.map(function(a){return babelHelpers["extends"]({},a,{url:d("MessengerURIUtils.bs").getURIForUserID(a.id)})})));var h=c("CurrentUser").isWorkUser()?!1:d("MessengerCodePasteUtils").containsCodeBlock(e.body)&&!this.state.plainText;if(e.is_filtered_content)return k.jsx("div",{className:"_3058 _wiu _52mr uiBoxYellow clearfix",children:d("MercuryDisplayTimeFilterMessageRenderer").renderFilteredContent(e)});var i=e.body&&!d("EmojiLikeUtils").isEmojiLike(e);return i||!f.isEmpty()?k.jsx(c("MessengerBubble.react"),{thread:this.props.thread,attachments:f,body:e.body,groupID:this.props.groupID,bodyRef:this.$15,className:h?(this.props.isFromViewer?"_3uhm":"")+(this.props.isFromViewer?"":" _3uhn")+(this.props.isSelected?" _3xsz":""):"_3058 _ui9"+(this.props.isSelected?" _3xsz":""),onReactionSwap:this.props.onReactionSwap,containsCode:h,customColor:this.props.isFromViewer?this.props.customColor:"",customLike:e.customLike,excludeAfterDecorators:b,isFromViewer:this.props.isFromViewer,isP2PAttachment:this.$14(),isInlineMessage:this.props.isInlineMessage,ranges:g,message:e,metaRanges:e.meta_ranges,plainText:this.state.plainText,threadCustomColor:this.props.threadCustomColor||"#0084ff",threadID:e.thread_id,participants:this.props.participants,wecFirstMessage:this.props.wecFirstMessage,isHovered:this.state.shown[e.message_id],onReplyToMessage:this.props.onReplyToMessage,handleToggleOriginal:this.$12,hasFormatting:this.$13,isShowingOriginal:this.state.plainText,isPageMessage:this.props.isPageMessage,isSavedView:this.props.isSavedView,repliedToMessage:this.props.message.replied_to_message,scrollToRepliedMessage:this.props.scrollToRepliedMessage,tooltip:a,is_forwarded:e.is_forwarded}):null};f.$7=function(){if(!this.props.isFromViewer||!this.props.showDeliveryState||this.props.message.is_like_preview)return null;var a=d("MessengerMessage.bs").getDeliveryState(this.props.message,this.props.deliveryTimestamp);if(a===c("MercuryMessageDeliveryState").UNKNOWN)return null;var b=l(a),e=c("CurrentUser").isWorkUser()&&(this.props.customColor==null||this.props.customColor.toLowerCase()==="#373e4c".toLowerCase())?"#373e4c":"rgba(134, 142, 153, 0.5)",f=null;switch(a){case c("MercuryMessageDeliveryState").SENDING:f=k.jsx(d("MessengerDeliveryStateIconsM4React.re").Sending.make,{color:e});break;case c("MercuryMessageDeliveryState").SENT:f=k.jsx(d("MessengerDeliveryStateIconsM4React.re").Sent.make,{color:e});break;case c("MercuryMessageDeliveryState").DELIVERED:f=k.jsx(d("MessengerDeliveryStateIconsM4React.re").Delivered.make,{color:e});break;case c("MercuryMessageDeliveryState").ERROR:f=k.jsx(d("MessengerDeliveryStateIconsM4React.re").Error_.make,{});break}return k.jsx("span",{"aria-label":b,"aria-roledescription":j._("Status icon"),className:"_8r4c",title:b,children:f})};f.$6=function(){var a=this.props.message;return!d("MessengerMessage.bs").hasError(a)?null:k.jsx(c("MercuryMessageError.react"),{className:"_3058 _2ygi",message:a,authorFBID:this.props.authorFBID})};f.$4=function(){var a=this.props.message,b=!1;a&&(b=!!(a.reactions&&Object.keys(a.reactions).length>0));return b};return e}(k.Component);a.propTypes={customColor:c("prop-types").string,deliveryTimestamp:c("prop-types").number.isRequired,hideBeforeDecorator:c("prop-types").bool,isActive:c("prop-types").bool,isFromViewer:c("prop-types").bool,isPageMessage:c("prop-types").bool,isSelected:c("prop-types").bool,message:c("prop-types").object.isRequired,messageTimestamp:c("prop-types").number,nextTimestamp:c("prop-types").number.isRequired,onReactionSwap:c("prop-types").func,onAttachmentLoad:c("prop-types").func.isRequired,onDeselect:c("prop-types").func.isRequired,onSelect:c("prop-types").func.isRequired,onReplyToMessage:c("prop-types").func,participants:c("prop-types").instanceOf(c("immutable").Map).isRequired,readReceipts:c("prop-types").instanceOf(c("immutable").OrderedMap).isRequired,showDeliveryState:c("prop-types").bool,authorFBID:c("prop-types").string,threadCustomColor:c("prop-types").string,pageID:c("prop-types").string,isSavedView:c("prop-types").bool,scrollToRepliedMessage:c("prop-types").func,thread:c("prop-types").object,wecFirstMessage:c("prop-types").bool};a.defaultProps={onAttachmentLoad:c("emptyFunction"),threadCustomColor:"#0084ff"};a.contextType=d("MessengerSourceContext.re").context;function m(a,b){var d=b==="source:workchat:quickchat";b=b==="source:work_room_incall_chat"||b==="source:messenger_room_incall_chat";return c("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)||c("MessengerSettingsStore").getSettings().info_sidebar_collapsed&&a||d||b?"above":a?"right":"left"}g["default"]=a}),98);
__d("PagesMessengerCreatorInfo.react",["cx","XUIGrayText.react","prop-types","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){return i.jsx(c("XUIGrayText.react"),{className:"_ajk"+(this.props.isNote?" _45l2":""),display:"inline",shade:"light",size:"meta1"})};return b}(i.Component);a.propTypes={creator_info:c("prop-types").shape({creatorID:c("prop-types").string.isRequired,creatorName:c("prop-types").string.isRequired,creatorType:c("prop-types").string.isRequired,labelType:c("prop-types").string.isRequired,pageID:c("prop-types").string.isRequired,profileURI:c("prop-types").string}).isRequired};g["default"]=a}),98);
__d("MessengerPageAdminNoteList.react",["cx","fbt","LeftRight.react","MessengerBubble.react","PagesMessengerCreatorInfo.react","ReactComponentWithPureRenderMixin","classWithMixins","enumerate","immutable","mixin","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){var a=this,b=[],c=this.calculateGroups(this.props.notes);c.forEach(function(c,d){b.push(j.jsx("li",{className:"_4kd2",children:a.$MessengerPageAdminNoteList1(c)},"group:"+d))});return j.jsx("ul",{className:"_4kd3",children:b})};d.$MessengerPageAdminNoteList1=function(a){var b=this,c=[];a.forEach(function(d,e){c.push(j.jsx("div",{className:"_4kd4",children:b.$MessengerPageAdminNoteList2(d,a)},"note:"+e))});return c};d.$MessengerPageAdminNoteList2=function(a,b){b=c("immutable").List([j.jsxs(c("LeftRight.react"),{className:"_561k",children:[j.jsx("div",{className:"_561l",children:i._("Private note")}),j.jsx(c("PagesMessengerCreatorInfo.react"),{creator_info:b[0].creator_info,isNote:!0},"creator_info")]})]);return j.jsx("div",{className:"_o46 _3i_m _nd_",children:j.jsx("div",{className:"clearfix",children:j.jsx(c("MessengerBubble.react"),{body:a.body.text,attachments:b,className:"_3058 _4kd5"})})})};d.calculateGroups=function(a){var b=[],d=null,e=null;a=c("enumerate")(a);var f;while(!(f=a.next()).done){var g=e&&e.value.creator_info.creatorID===f.value.creator_info.creatorID;g||(d=[],b.push(d));d&&d.push(f.value);e=f}return b};return b}(c("classWithMixins")(j.Component,c("mixin")(c("ReactComponentWithPureRenderMixin"))));a.propTypes={notes:c("prop-types").arrayOf(c("prop-types").shape({id:c("prop-types").string,body:c("prop-types").object.isRequired,creator_info:c("prop-types").shape({creatorID:c("prop-types").string.isRequired,creatorName:c("prop-types").string.isRequired,creatorType:c("prop-types").string.isRequired,labelType:c("prop-types").string.isRequired,pageID:c("prop-types").string.isRequired,profileURI:c("prop-types").string}),timestamp:c("prop-types").number.isRequired})).isRequired};g["default"]=a}),98);
__d("MessengerDecoratorHideable.react",["cx","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.isActive;a=a.children;var d=c("gkx")("1221668");return i.jsx("span",{className:(!Boolean(b)&&!d?"_8sow":"")+(!Boolean(b)&&d?" _8tab":""),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerInnerDecorators.react",["cx","Locale","MessengerDecorator","MessengerDecoratorHideable.react","MessengerDotComAndInboxM4Check.bs","WorkChatRedesignedMessageListCheck.re","joinClasses","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:!1},c.$1=function(a){c.setState({shown:a})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this,b=this.props.decorators||d("MessengerDecorator").getInnerDecorators();if(this.props.isSavedView===!0)return null;b=b.map(function(b){return b.check(a.props.message)?i.jsx(c("MessengerDecoratorHideable.react"),{isActive:a.state.shown||b.isAlwaysVisible||a.props.hovered,children:b.render(a.props.message,a.props.isFromViewer,babelHelpers["extends"]({},a.props.messageProps,{onReactionSwap:a.props.onReactionSwap,messageIsSelected:a.props.hovered||a.state.shown,onShowMenu:a.$1,isSavedView:!1}))},b.name):null}).filter(Boolean);return i.jsx("span",{className:(d("WorkChatRedesignedMessageListCheck.re").enabled?"":"_40fu")+(d("Locale").isRTL()||this.props.forGameChat?" _64wc":""),"data-hover":"none",children:i.jsx("span",{className:c("joinClasses")(this.props.className,"_2u_d"+(d("MessengerDotComAndInboxM4Check.bs").yes?" _7i2j":"")),children:b})})};return b}(i.Component);g["default"]=a}),98);
__d("MessengerRemovedMessageTombstone.react",["cssVar","cx","fbt","MercuryTimestamp","MessengerDecorator","MessengerDotComAndInboxM4Check.bs","MessengerInnerDecorators.react","MessengerMessageActionsWrapper.react","MessengerMessageSeenHeadsReact.bs","MessengerSettingsStore","RemovedMessageTombstoneContent","TooltipData","WorkChatRedesignedMessageListCheck.re","getViewportDimensions","gkx","joinClasses","messengerRTLClasses","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={shown:{}},c.$2=function(a,b){c.setState(function(c){return{shown:babelHelpers["extends"]({},c.shown,(c={},c[a]=b,c))}})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props,b=a.isActive,e=a.isFromViewer;a=a.message;var f=[],g=this.props.message;g&&d("MessengerDecorator").getInnerDecorators().forEach(function(a){a.check(g)&&f.push(a.getAdditionalClassNames())});var h=this.$1();return k.jsxs(c("MessengerMessageActionsWrapper.react"),{className:c("joinClasses").apply(void 0,["clearfix _o46 _3erg"+(b?" _-5k":"")+(e?" _3i_m":"")+(e?" _nd_":"")+(e?"":" _29_7")+"",c("messengerRTLClasses")(a.body)].concat(f)),message:a,onShowMenu:this.$2,children:[h,this.props.hideDeliveryState===!0?null:k.jsx(d("MessengerMessageSeenHeadsReact.bs").jsComponent,{className:"_4jzq",isFromViewer:e,message:a,nextTimestamp:this.props.nextTimestamp,participants:this.props.participants,readReceipts:this.props.readReceipts})]})};e.$1=function(){var a=this.props.message,b=d("RemovedMessageTombstoneContent").getRemovedMessageTombstoneContent(a,this.props.participants),e=this.$3();e=d("TooltipData").propsFor(e,l(this.props.isFromViewer));return k.jsxs("div",babelHelpers["extends"]({className:"_3058 _ui9"+(a.isSelected?" _3xsz":"")+" _7301 _hh7"+(d("MessengerDotComAndInboxM4Check.bs").yes?" _6ybn":"")+" _s1- _52mr _3oh-"},e||{},{children:[this.props.hideBeforeDecorator===!0?null:k.jsx(c("MessengerInnerDecorators.react"),{className:"_1z_2",message:a,isFromViewer:!!this.props.isFromViewer,hovered:this.state.shown[a.message_id],messageProps:{},isSavedView:!1}),k.jsx("div",{className:"_aok"+(d("WorkChatRedesignedMessageListCheck.re").enabled?" _7w73":""),tabIndex:0,"aria-label":b,children:k.jsx("span",{children:b})})]}))};e.$3=function(){var a=this.props.message.timestamp,b=this.props.message.removed_timestamp;a=j._("Sent: {sent time}",[j._param("sent time",d("MercuryTimestamp").getPreciseTimestamp(a))]);if(!b)return a;b=c("gkx")("1531920")?j._("Unsent: {removed time}",[j._param("removed time",d("MercuryTimestamp").getPreciseTimestamp(b))]):j._("Removed: {removed time}",[j._param("removed time",d("MercuryTimestamp").getPreciseTimestamp(b))]);return a.toString()+"\n"+b.toString()};return b}(k.Component);function l(a){return c("getViewportDimensions")().width<=parseInt("700px".replace("px",""),10)||c("MessengerSettingsStore").getSettings().info_sidebar_collapsed&&a?"above":a?"right":"left"}g["default"]=a}),98);
__d("MessengerMessageGroup.react",["cx","fbt","AdsMessengerPartialAutomatedCreationTypes","CurrentUser","EmojiLikeUtils","Image.react","ImmutableObject","JSResource","Link.react","MercuryIDs","MercuryParticipantSilhouettes","MessengerActions","MessengerContactActions.re","MessengerEnvironment","MessengerMessage.react","MessengerPageAdminNoteList.react","MessengerParticipants.bs","MessengerProfileImageWrapperReact.bs","MessengerRemovedMessageTombstone.react","MessengerStickerUtils","MessengerSupportedEmojiUtils","MessengerTextWithEmoticons.react","MessengerURIUtils.bs","MetadataAtTextRangeIntent","Middot.react","PagesMessengerCreatorInfo.react","ReactDOM","cr:1228094","goURI","immutable","isMessengerMessageRemoved","lazyLoadComponent","prop-types","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").Suspense,l=c("lazyLoadComponent")(c("JSResource")("MessengerAvatarActions.react").__setRef("MessengerMessageGroup.react")),m=c("lazyLoadComponent")(c("JSResource")("MarkAsPaidMessageLevelUpsellNUX.react").__setRef("MessengerMessageGroup.react")),n=c("lazyLoadComponent")(c("JSResource")("AutotranslationSeeOriginal.react").__setRef("MessengerMessageGroup.react")),o=32,p=new(c("ImmutableObject"))({image_src:c("MercuryParticipantSilhouettes").neutralSilhouette,is_messenger_user:!0,name:""});a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={participants:{}},e.$10=function(a,b,f){var g=e.state.participants[b.id];switch(a){case d("MessengerContactActions.re").actions.MESSAGE:e.$9(b,f);break;case d("MessengerContactActions.re").actions.PROFILE:if(g&&g.href){a=c("MessengerEnvironment").messengerdotcom;a?window.open(g.href):c("goURI")(g.href)}else e.$9(b,f);break}},b)||babelHelpers.assertThisInitialized(e)}var f=e.prototype;f.componentDidMount=function(){e.$1=this.$2()};f.shouldComponentUpdate=function(a,b){var d=a.thread,e=this.props.thread;d=Boolean(d&&e&&(d.solid_color!==e.solid_color||d.custom_nickname!==e.custom_nickname));return this.props.activeMessageID!==a.activeMessageID||this.props.isFromViewer!==a.isFromViewer||this.props.deliveryTimestamp!==a.deliveryTimestamp||this.props.lastReadTimestamp!==a.lastReadTimestamp||this.props.onAttachmentLoad!==a.onAttachmentLoad||!c("immutable").is(this.props.messages,a.messages)||this.props.messages!==a.messages||!c("immutable").is(this.props.readReceipts,a.readReceipts)||this.state.participants!==b.participants||d};f.componentDidUpdate=function(){var a=this,b=q(this.props);!e.$1&&!b.every(function(b){return a.state.participants[b]})&&(e.$1=this.$2())};f.componentWillUnmount=function(){e.$1&&d("MessengerParticipants.bs").removeCallback(e.$1)};f.render=function(){return j.jsxs("div",{children:[j.jsxs("div",{className:"_1t_p clearfix"+(d("MessengerStickerUtils").isStickerMessageGroup(this.props.messages)?" _5tx1":"")+(this.$3()?" _35fy":""),children:[j.jsxs("div",{className:"_9s1-",children:[this.$4(),j.jsxs("div",{className:"_41ud",children:[this.$5(),j.jsx("div",{className:u(this.props.messages)&&"_9wy9",children:this.$6()})]})]}),this.$7()]}),this.props.isPageMessage?this.$8():null]})};f.$4=function(){var a=this,b;if(this.props.isFromViewer)return null;var e=this.props.messages.last(),f=this.state.participants[e.author]||p;e=f.name;var g=f.image_src;this.props.persona&&(e=this.props.persona.name,g=this.props.persona.profile_picture_url);var h=i._("{name}",[i._param("name",e)]);b=(b=f)!=null?(b=b.work_foreign_entity_info)!=null?b.type:b:b;b=c("CurrentUser").isWorkUser()&&b==="FOREIGN";b=j.jsx(d("MessengerProfileImageWrapperReact.bs").jsComponent,{className:"_1t_r",isMessengerUser:f.is_messenger_user,size:o,showBadge:b,isMultiCompany:b,tooltipContent:h,children:j.jsx(c("Image.react"),{alt:e,src:g,height:o,width:o})});if(f.fbid){h=d("MessengerURIUtils.bs").getURIForUserID(f.fbid);!this.props.persona?b=j.jsx(j.Suspense,{fallback:this.props.isCanonical?b:j.jsx(c("Link.react"),{className:"_5f0v",href:h.toString(),onClick:function(){return a.$9.bind(a,f)},tabIndex:-1,children:b}),children:j.jsx(l,{avatar:b,contact:f,showSendMessageItem:!this.props.isCanonical,onAction:this.$10})}):this.props.isCanonical||(b=j.jsx(c("Link.react"),{className:"_5f0v",href:h.toString(),onClick:function(){return a.$9.bind(a,f)},tabIndex:-1,children:b}))}return j.jsx("div",{className:"_1t_q",children:b})};f.$6=function(){var a=this,b=this.props.messages.size,e=[];this.props.messages.forEach(function(f,g,h){var i=f.message_id===a.props.activeMessageID,k=!1;a.props.selectedMessageId?k=f.message_id===a.props.selectedMessageId:k=f.isSelected;var l=d("MercuryIDs").getUserIDFromParticipantID(a.props.author),n=a.props.thread?a.props.thread.solid_color:"",o=a.props.onAttachmentLoad,p=f.timestamp;if(c("isMessengerMessageRemoved")(f)){e.push(j.jsx(c("MessengerRemovedMessageTombstone.react"),{isActive:i,isFromViewer:a.props.isFromViewer,message:f,participants:c("immutable").Map(a.state.participants),nextTimestamp:a.$11(h,b,g),onSelect:a.props.onMessageSelect,onReplyToMessage:a.props.onReplyToMessage,readReceipts:a.props.readReceipts,ref:f.message_id,isFirstInGroup:g===0},f.message_id));return}e.push(j.jsx(c("MessengerMessage.react"),{thread:a.props.thread,customColor:n,deliveryTimestamp:a.props.deliveryTimestamp,isActive:i,isFromViewer:a.props.isFromViewer,isPageMessage:a.props.isPageMessage,isSelected:k,message:f,messageTimestamp:p,messageActionsWrapper:a.props.messageActionWrapper,onReactionSwap:a.props.onReactionSwap,onAttachmentLoad:o,participants:c("immutable").Map(a.state.participants),nextTimestamp:a.$11(h,b,g),onDeselect:a.props.onMessageDeselect,onSelect:a.props.onMessageSelect,onReplyToMessage:a.props.onReplyToMessage,readReceipts:a.props.readReceipts,showDeliveryState:f.timestamp>a.props.lastReadTimestamp||!!f.is_one_way_sent,ref:f.message_id,authorFBID:l==null?void 0:l,threadCustomColor:n,pageID:a.props.pageID,scrollToRepliedMessage:a.props.scrollToRepliedMessage,isCanonical:a.props.isCanonical,isFirstInGroup:g===0,isLastInGroup:g===b-1,groupID:h.first().message_id,isInlineMessage:u(h)},f.message_id));i=r(a.props.isPageMessage,h,g,f);k=s(a.props.isPageMessage,h,g,a.props.isLastMessageGroup,f);if(k&&a.props.pageID!=null&&a.props.isFromViewer!=null){e.push(j.jsx(m,{defaultView:i?j.jsx(c("PagesMessengerCreatorInfo.react"),{creator_info:f.creator_info}):null,isFromViewer:a.props.isFromViewer,pageID:a.props.pageID},"mark_as_paid_message_level_upsell_nux:"+g));return}i&&e.push(j.jsx(c("PagesMessengerCreatorInfo.react"),{creator_info:f.creator_info},"creator_info:"+g))});return e};f.$8=function(){var a=this,b=[];this.props.messages.forEach(function(d,e,f){a.props.isPageMessage&&d.page_admin_notes&&b.push(j.jsx(c("MessengerPageAdminNoteList.react"),{notes:d.page_admin_notes},"notes:"+d.message_id))});return b};f.$5=function(){var a=this.props.messages.first(),e=this.state.participants[a.author],f=a.replied_to_message;if(!e)return null;if(f)return null;f=this.props.isCanonical?e.short_name:e.name;var g=f,h=null;if(this.props.thread){var k=this.props.thread.custom_nickname?this.props.thread.custom_nickname:null,l=d("MercuryIDs").getUserIDFromParticipantID(e.id);k&&l&&k[l]&&(f=k[l],g=j.jsx(c("MessengerTextWithEmoticons.react"),{renderEmoticons:!0,renderEmoji:!0,text:k[l]}));c("CurrentUser").isWorkUser()&&b("cr:1228094")!=null&&l!=null&&(h=j.jsx(b("cr:1228094"),{userID:l,withSpace:!0}))}if(this.props.persona!=null){k=this.state.participants[a.author];g=k?i._("{persona name} from {page name}",[i._param("persona name",this.props.persona.name),i._param("page name",k.short_name)]):this.props.persona.name;f=g.toString()}l=null;if(((a=e.work_foreign_entity_info)==null?void 0:a.detail)==="LIMITED_ACCOUNT"){l=j.jsxs("span",{className:"_9g79",children:[j.jsx(c("Middot.react"),{}),(k=e.work_foreign_entity_info)==null?void 0:k.label]})}a=j.jsxs("h5",{"aria-label":f,className:"_ih3"+(this.props.isFromViewer?" accessible_elem":"")+(this.props.isCanonical&&!this.props.persona?" _-ne":""),children:[g,l,h]});return a};f.getMessageElement=function(a){return d("ReactDOM").findDOMNode(this.refs[a])};f.$3=function(){var a=this.props,b=a.messages,c=a.nextTimestamp;a=a.readReceipts;var d=b.last().timestamp,e=0;a.forEach(function(a){if(a>=d&&a<c&&++e===2)return!1});return e===2};f.$11=function(a,b,c){return c<b-1?a.get(c+1).timestamp:this.props.nextTimestamp};f.$9=function(a,b){b&&b.preventDefault();b=d("MercuryIDs").getThreadIDFromParticipantID(a.id);b&&d("MessengerActions").selectThread(b)};f.$2=function(){var a=this,b=q(this.props),c={},f=[];b.forEach(function(a){var b=d("MessengerParticipants.bs").getNow(a);c[a]=b;b||f.push(a)});this.setState({participants:c});return f.length>0?d("MessengerParticipants.bs").getMulti(f,function(b){e.$1=null,a.setState(function(c){var a=babelHelpers["extends"]({},c.participants);f.forEach(function(c){a[c]=b[c]});return{participants:a}})}):null};f.$7=function(){var a;if(t(this.props.messages,(a=this.props.isFromViewer)!=null?a:!1)){return j.jsx(k,{fallback:null,children:j.jsx(n,{isFromViewer:(a=this.props.isFromViewer)!=null?a:!1,groupID:this.props.messages.first().message_id},"see_original")},"see_original_suspense")}return null};return e}(j.Component);a.displayName="MessengerMessageGroup";a.$1=null;a.propTypes={author:c("prop-types").string.isRequired,activeMessageID:c("prop-types").string,deliveryTimestamp:c("prop-types").number.isRequired,hasDateBreak:c("prop-types").bool,isCanonical:c("prop-types").bool,isFromViewer:c("prop-types").bool,isOnline:c("prop-types").bool,isPageMessage:c("prop-types").bool,isLastMessageGroup:c("prop-types").bool,lastReadTimestamp:c("prop-types").number.isRequired,messages:c("prop-types").instanceOf(c("immutable").List).isRequired,nextTimestamp:c("prop-types").number.isRequired,onReactionSwap:c("prop-types").func,onAttachmentLoad:c("prop-types").func.isRequired,onMessageDeselect:c("prop-types").func.isRequired,onMessageSelect:c("prop-types").func.isRequired,persona:c("prop-types").object,onReplyToMessage:c("prop-types").func,readReceipts:c("prop-types").instanceOf(c("immutable").OrderedMap).isRequired,thread:c("prop-types").object,pageID:c("prop-types").string,scrollToRepliedMessage:c("prop-types").func,selectedMessageId:c("prop-types").string};function q(a){var b=[a.messages.first().author];a.readReceipts.forEach(function(a,c){return b.push(c)});return b}function r(a,b,c,d){if(!a||!d.creator_info)return!1;if(c===b.size-1)return!0;a=b.get(c+1).creator_info;return!a?!0:d.creator_info.creatorID!==a.creatorID}function s(a,b,d,e,f){if(a!==!0||d!==b.size-1||e!==!0)return!1;a=f.meta_ranges;if(a==null)return!1;for(var d=a,b=Array.isArray(d),e=0,d=b?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(b){if(e>=d.length)break;f=d[e++]}else{e=d.next();if(e.done)break;f=e.value}a=f;f=a.data;a=(f==null?void 0:f.intent_name)||(f==null?void 0:f.name);if(a===c("MetadataAtTextRangeIntent").BUSINESS_PURCHASE)return!0}return!1}function t(a,b){return a.reduce(function(a,c){return a||c.body!==null&&!d("EmojiLikeUtils").isEmojiLike(c)&&d("MessengerSupportedEmojiUtils").getEmojiOnlyContents(c.body)===null&&(c.secondary_language_body!=null&&c.secondary_language_body!==""||!b)},!1)}function u(a){var b=a.first().message_type===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.ANSWER;a=a.size>1;return b&&a}g["default"]=a}),98);
__d("MessengerReadReceipt.re",["MessengerReadReceipt.bs"],(function(a,b,c,d,e,f){a=b("MessengerReadReceipt.bs").getSeenBy;f.getSeenBy=a;c=b("MessengerReadReceipt.bs").getSeenTimestamps;f.getSeenTimestamps=c}),null);
__d("MessengerThreadSearchActions",["MessengerDispatcher","keyMirror"],(function(a,b,c,d,e,f){"use strict";var g=b("keyMirror")({CHANGE_RESULT_INDEX:null,GET_MORE_CONTEXT:null,GET_MORE_THREADS:null,UPDATE_THREAD_STATE:null,SCROLL_TO_MESSAGE:null});a={Types:g,selectPrevious:function(){b("MessengerDispatcher").dispatch({type:g.CHANGE_RESULT_INDEX,delta:1})},selectNext:function(){b("MessengerDispatcher").dispatch({type:g.CHANGE_RESULT_INDEX,delta:-1})},getMoreSearchContext:function(a,c){b("MessengerDispatcher").dispatch({type:g.GET_MORE_CONTEXT,direction:a,threadID:c})},updateThreadState:function(a,c){b("MessengerDispatcher").dispatch({type:g.UPDATE_THREAD_STATE,threadID:a,mid:c})},loadMoreThreads:function(){b("MessengerDispatcher").dispatch({type:g.GET_MORE_THREADS})},scrollToMessage:function(a){b("MessengerDispatcher").dispatch({type:g.SCROLL_TO_MESSAGE,messageID:a})}};e.exports=a}),null);
__d("MercuryTypingAnimationReact.bs",["cx","joinClasses","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){a=a.className;return i.jsx("div",{className:b("joinClasses")("_4a0v _1x3z",a!==void 0?a:""),children:i.jsxs("div",{className:"_4b0g",children:[i.jsx("div",{className:"_5pd7"}),i.jsx("div",{className:"_5pd7"}),i.jsx("div",{className:"_5pd7"})]})})}c=a;f.make=c}),null);
__d("MessengerBubbleReact.re",["MessengerBubble.react"],(function(a,b,c,d,e,f){a=b("MessengerBubble.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MessengerTypingIndicatorReact.bs",["cx","CurrentUser","Image.react","MercuryIDs","MercuryTypingAnimationReact.bs","MessengerBubbleReact.re","MessengerParticipants.bs","MessengerPersonas.bs","MessengerProfileImageWrapperReact.bs","ReasonReact.bs","WorkForeignEntityType","bs_belt_Option","bs_caml_obj","bs_caml_option","bs_curry","bs_js_dict","immutable","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("ReasonReact.bs").reducerComponent("MessengerTypingIndicatorReact");function a(a,c,d,e){var f=function(c,a){return b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getMulti([a],function(d){b("bs_curry")._1(c.send,{TAG:0,_0:b("bs_js_dict").get(d,a)})}))},g=function(a){if(c==null)return;a=b("MercuryIDs").getUserIDFromParticipantID(c);if(!(a==null))return b("bs_caml_option").nullable_to_opt(b("MessengerPersonas.bs").getNow(a))};return{debugName:j.debugName,reactClassInternal:j.reactClassInternal,handedOffState:j.handedOffState,getDerivedStateFromProps:j.getDerivedStateFromProps,didMount:function(a){var d=a.state.author;if(d!==void 0)return;if(c==null)return;d=b("MessengerParticipants.bs").getNow(c);if(d==null)return b("bs_curry")._1(a.send,{TAG:1,_0:f(a,c)});else return b("bs_curry")._1(a.send,{TAG:0,_0:d==null?void 0:b("bs_caml_option").some(d)})},didUpdate:function(a){a=a.newSelf;var d=a.state.subscription.contents,e=a.state.author;if(d!==void 0)return;if(e!==void 0){if(c==null)return;if(b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(e).id,c))return}if(!(c==null))return b("bs_curry")._1(a.send,{TAG:1,_0:f(a,c)})},willUnmount:function(a){a=a.state.subscription.contents;if(a!==void 0)return b("MessengerParticipants.bs").removeCallback(b("bs_caml_option").valFromOption(a))},shouldUpdate:j.shouldUpdate,render:function(c){var d=g(void 0);if(c.state.author===void 0&&d===void 0)return null;var e=c.state.author;d=d!==void 0?d.profile_picture_url:e!==void 0?b("bs_caml_option").nullable_to_opt(b("bs_caml_option").valFromOption(e).image_src):void 0;e=b("bs_belt_Option").flatMap(b("bs_belt_Option").flatMap(c.state.author,function(a){return b("bs_caml_option").nullable_to_opt(a.work_foreign_entity_info)}),function(a){return b("bs_caml_option").some(a.type)});e=e!==void 0?b("CurrentUser").isWorkUser()&&b("bs_caml_obj").caml_equal(b("bs_caml_option").valFromOption(e),b("WorkForeignEntityType").FOREIGN):!1;c=c.state.author;return i.jsxs("div",{className:"_1t_p _1hbw",children:[i.jsx("div",{className:"_1t_q",children:i.createElement(b("MessengerProfileImageWrapperReact.bs").make,{isMessengerUser:c!==void 0?b("bs_caml_option").valFromOption(c).is_messenger_user:!1,size:32,className:"_1t_r",showBadge:e,children:d!==void 0?i.jsx(b("Image.react"),{alt:"",src:d,height:32,width:32}):i.jsx(b("Image.react"),{alt:"",height:32,width:32})})}),i.jsx("div",{className:"_41ud",children:i.jsx("div",{className:"_o46 _3erg _29_7",children:i.jsx(b("MessengerBubbleReact.re").make,{attachments:b("immutable").List([i.jsx(b("MercuryTypingAnimationReact.bs").make,{},"animation")]),body:"",className:"_3058",ref:a})})})]})},initialState:function(a){return{author:c==null?void 0:b("bs_caml_option").nullable_to_opt(b("MessengerParticipants.bs").getNow(c)),subscription:{contents:void 0}}},retainedProps:j.retainedProps,reducer:function(a,b){if(a.TAG===0){b.subscription.contents=void 0;return{TAG:0,_0:{author:a._0,subscription:b.subscription}}}b.subscription.contents=a._0;return 0},jsElementWrapped:j.jsElementWrapped}}c=32;f.component=j;f.cIMAGE_SIZE=c;f.make=a}),null);
__d("MessengerTypingIndicatorReact.re",["MessengerTypingIndicatorReact.bs"],(function(a,b,c,d,e,f){a=b("MessengerTypingIndicatorReact.bs").component;f.component=a;c=b("MessengerTypingIndicatorReact.bs").make;f.make=c}),null);
__d("MessengerUserProfileLocationUtils",["invariant","MessengerUserProfileLocationUtilsQuery.graphql","RelayFBEnvironment","RelayHooks"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(){return d("RelayHooks").fetchQuery(c("RelayFBEnvironment"),i!==void 0?i:i=b("MessengerUserProfileLocationUtilsQuery.graphql"),{}).toPromise()}function a(){return j().then(function(a){var b=null,c=null;a=a==null?void 0:(a=a.viewer)==null?void 0:(a=a.user)==null?void 0:a.address;a!==null&&(b=(a==null?void 0:a.region)===""?null:a==null?void 0:a.region,c=(a==null?void 0:a.postal_code)===""?null:a==null?void 0:a.postal_code);if(b!==null&&c!==null)return{region:b,postal_code:c};else h(0,54437)})}g.FetchMessengerUserRegionAndPostalCode=a}),98);
__d("WorkBotLandingPageHelper",[],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;if(a.length===0)return!0;if(a.length>1)return!1;a=a[a.length-1];b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;if(b==="work_bot_installed"){a=(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.show_landing_page:b:b:b;return a===!0}return!1}function b(a){var b;if(a.size===0)return!0;if(a.size>1)return!1;a=a.last();b=(b=a)!=null?(b=b.log_message_data)!=null?b.message_type:b:b;if(b==="work_bot_installed"){a=(b=a)!=null?(b=b.log_message_data)!=null?(b=b.untypedData)!=null?b.show_landing_page:b:b:b;return a===!0}return!1}g.shouldShowBotLandingPageArray=a;g.shouldShowBotLandingPage=b}),98);
__d("WorkGalahadScrollToMessageEventEmitter",["EventEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("EventEmitter"))();g["default"]=a}),98);
__d("MessengerConversation.react",["csx","cx","fbt","invariant","ix","BootloadOnRender.react","Bootloader","CSS","ChatTypingIndicatorsWrapper.bs","CurrentUser","DOM","DOMDimensions","Event","FantaPageGreetingLoader.react","Image.react","ImmutableObject","JSResource","KeyEventController","LazyComponent.react","Link.react","MercuryIDs","MercuryShareAttachmentRenderLocations","MessageList.react","MessengerActions","MessengerAdsMessageSeenThreadFalcoEvent","MessengerAttachmentRenderer","MessengerBootloadedLogMessage.react","MessengerButtonReact.re","MessengerCollapsedLogMessageGroup.react","MessengerContextBannerContainer.react","MessengerDateBreak_DEPRECATED.react","MessengerDialogs.re","MessengerDotComAndInboxM4Check.bs","MessengerFlexScrollableArea.react","MessengerMessageGroup.react","MessengerNewMessagesNoticeReact.bs","MessengerQuickCamOrigins","MessengerQuickReplyUtils","MessengerReadReceipt.re","MessengerSpinner.react","MessengerThreadFetchLoggerUtil","MessengerThreadSearchActions","MessengerTypingIndicatorReact.re","MessengerUserProfileLocationUtils","MessengerVideoAutoplayActions","MessengerVideoAutoplayStore","Parent","ReactDOM","SubscriptionsHandler","UserActivity","WebMessengerConstants","WorkBotLandingPageHelper","WorkChatRedesignedMessageListCheck.re","WorkGalahadScrollToMessageEventEmitter","emptyFunction","getPageIDFromThreadID","gkx","ifRequired","immutable","joinClasses","lazyLoadComponent","promiseDone","prop-types","react","setImmediate","setTimeout","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l){"use strict";var m=d("react"),n=20,o=100,p=1e3,q=200,r=c("gkx")("833128"),s=c("lazyLoadComponent")(c("JSResource")("WorkChatBotConversationGreetingContainer.react").__setRef("MessengerConversation.react"));function t(a,b){return!!(c("KeyEventController").filterEventTypes(a,b)&&c("KeyEventController").filterEventModifiers(a,b)&&a.target instanceof Element&&d("Parent").bySelector(a.target,"._4_j4"))}var u={};a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var e,f;for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];return(e=f=a.call.apply(a,[this].concat(h))||this,f.state={readReceipts:v(f.props),scrollingToUnreadMessage:!1,selectedMessageId:null,showUnreadNotice:!1,unreadCount:f.props.thread?f.props.thread.unread_count:0,width:0,viewerEmail:null,viewerPhone:null,viewerState:null,viewerZipCode:null,shouldJumpToMessage:!1,isLandingPageDismissed:!1,renderScrollToBottom:!1},f.$1=null,f.$2=null,f.$3=null,f.$4=c("immutable").List(),f.$5=[],f.$6={originalScrollHeight:0,originalScrollTop:0},f.$7=function(){},f.$8=function(){},f.$16=function(){var a=f.$19();if(!f.refs||!a||f.props.isLoading){f.$5=[];return}var d=c("getPageIDFromThreadID")(f.props.threadID),e=f.refs.messageList;if(!e||!d){f.$5=[];return}var g=10,h=a.getElement().getBoundingClientRect(),i=[];f.$4.forEach(function(a){var e=a.message_id,j=f.refs.messageList.getMessageElement(e);if(j){j=j.getBoundingClientRect();j.top>h.top-g&&j.bottom<h.bottom+g&&(i.push(e),f.$5.includes(e)||(c("gkx")("1181700")?b("MessengerAdsMessageSeenThreadFalcoEvent").log(function(){return{message_id:e,ad_client_token:a.ad_client_token,ad_id:a.ad_id,page_id:d}}):c("Bootloader").loadModules(["MessengerAdsWebLogger","MNAdsLoggerEventEnum"],function(b,c){b.log(a.ad_client_token,a.ad_id,c.MESSAGE_SEEN_THREAD,!0,e,d)},"MessengerConversation.react")))}});f.$5=i},f.$20=function(){d("MessengerThreadFetchLoggerUtil").markerEnd(f.props.threadID,2),f.$20=c("emptyFunction")},f.$41=function(){var a;return((a=f.props.contact)==null?void 0:a.user_type)==="page"&&c("getPageIDFromThreadID")(f.props.threadID)!==null},f.$43=function(){f.state.renderScrollToBottom?(f.scrollToBottom(!0),f.setState({renderScrollToBottom:!1})):d("MessengerActions").changeMid(null)},f.$42=function(){f.setState({isLandingPageDismissed:!0})},f.$9=function(){var a=f.$19();a&&a.pageUp();return!1},f.$10=function(){var a=f.$19();a&&a.pageDown();return!1},f.$11=function(a){if(a.target===document.body){f.scrollToTop();return!1}return null},f.$12=function(a){if(a.target===document.body){f.scrollToBottom();return!1}return null},f.$15=function(){if(!f.refs)return;if(!f.refs.scrollable)return;var a=f.$19(),b=f.refs.quickReply;b&&d("CSS").conditionClass(b,"_1mzg",!f.isScrolledToBottom());f.$13();f.$14();a&&f.state.unreadCount&&f.$26(a)&&f.setState({showUnreadNotice:!1,unreadCount:0});a&&a.isScrolledToBottom()&&f.setState({renderScrollToBottom:!1});f.$45(a);f.$46(a);f.$8()},f.$44=function(a){a.preventDefault(),f.setState({showUnreadNotice:!1}),f.$22(!0)},f.$38=function(a){c("promiseDone")(c("JSResource")("MessengerSolidReactionDialogReact.re").__setRef("MessengerConversation.react").load().then(function(b){var c=b.make;d("MessengerDialogs.re").showDialog(function(){return m.jsx(c,{isSolid:a})})}))},f.$14=function(){if(f.props.messages.size===0||f.props.thread&&f.props.thread.unread_count===0||!f.isScrolledToBottom())return;c("UserActivity").isOnTab()&&c("UserActivity").isActive()?f.props.onRead(f.props.threadID):f.$3||(f.$3=c("UserActivity").subscribe(function(){c("UserActivity").isOnTab()&&(f.$18(),f.props.onRead(f.props.threadID))}))},f.handleResize=function(){if(!f.refs)return;if(f.refs.scrollable){f.refs.scrollable.handleResize();var a=d("DOMDimensions").getElementDimensions(d("ReactDOM").findDOMNode(f.refs.scrollable)).width;a!==f.state.width&&f.setState({width:a})}a=f.refs.quickReply;a&&d("CSS").conditionClass(a,"_1mzg",!f.isScrolledToBottom());f.trackBottomIfRequired()},f.$17=function(a){f.props.messages.some(function(b){return b.message_id===a})?f.$24(a,!0,function(){f.setState({selectedMessageId:a})}):(f.setState({selectedMessageId:null,shouldJumpToMessage:!0}),d("MessengerActions").changeMid(a))},e)||babelHelpers.assertThisInitialized(f)}var f=e.prototype;f.componentDidMount=function(){var a=this,b=new(c("SubscriptionsHandler"))();b.addSubscriptions(c("Event").listen(window,"resize",c("throttle")(this.handleResize,50)),c("KeyEventController").registerKey("PAGE_UP",this.$9,t),c("KeyEventController").registerKey("PAGE_DOWN",this.$10,t),c("KeyEventController").registerKey("HOME",this.$11,t),c("KeyEventController").registerKey("END",this.$12,t));this.$2=b;this.$13();this.handleResize();this.$14();this.$7=c("throttle")(this.$15,o);this.$8=c("throttle")(this.$16,p);this.$4=this.props.messages.filter(function(a){return a.is_sponsored});this.$8();c("WorkGalahadScrollToMessageEventEmitter").addListener("scrollToMessage",function(b){a.$17(b)})};f.UNSAFE_componentWillReceiveProps=function(a){var b=a.threadID!==this.props.threadID;b&&(this.$18(),this.setState({scrollingToUnreadMessage:!1,showUnreadNotice:!1,unreadCount:a.thread?a.thread.unread_count:0,isLandingPageDismissed:!1}));(b||a.messages!==this.props.messages)&&(this.$4=a.messages.filter(function(a){return a.is_sponsored}));this.setState({readReceipts:v(a)})};f.componentWillUnmount=function(){this.$18(),this.$2&&this.$2.release(),this.$1!=null&&window.clearTimeout(this.$1),c("WorkGalahadScrollToMessageEventEmitter").removeAllListeners("scrollToMessage")};f.UNSAFE_componentWillUpdate=function(){var a=this.$19();a?this.$6={originalScrollHeight:a.getScrollHeight(),originalScrollTop:a.getScrollTop()}:this.$6={originalScrollHeight:0,originalScrollTop:0}};f.componentDidUpdate=function(a,b){var e=this;if(!this.refs)return;if(!this.refs.scrollable)return;(!this.props.isLoading||!this.props.messages.isEmpty())&&this.$20();b=this.props.threadID!==a.threadID;if(b||x(a,this.props))this.scrollToBottom(),this.$21();else{b=this.$19();if(b){var f=b.getScrollHeight();if(f!==this.$6.originalScrollHeight){f=b.getScrollHeight()-this.$6.originalScrollHeight+this.$6.originalScrollTop;this.refs.scrollable.scrollToPosition(f)}else this.$21()}}this.props.messages!==a.messages&&(this.$14(),this.state.scrollingToUnreadMessage&&this.$22(!1),this.$23());b=this.props.selectedMessage;this.state.shouldJumpToMessage&&b&&this.$24(b,!0,function(){e.setState({shouldJumpToMessage:!1})});this.$1=c("setTimeout")(function(){var b=e.$19(),f=e.state.unreadCount;e.trackBottomIfRequired();if(b&&e.state.unreadCount&&!e.state.scrollingToUnreadMessage&&!e.props.isLoading&&e.props.selectedMessage==null&&!e.$25()){e.$26(b)?e.setState({showUnreadNotice:!1,unreadCount:0}):f==1&&((f=e.props.messages.last())==null?void 0:f.log_message_type)!==null?e.setState({showUnreadNotice:!1,unreadCount:0}):e.setState({showUnreadNotice:!0})}e.$13();e.$8();c("setImmediate")(function(){var a=e.props.selectedMessage;b&&a!=null&&!e.props.scrolledToMid&&d("MessengerThreadSearchActions").scrollToMessage(a)});e.props.scrollToMessageID!==a.scrollToMessageID&&(e.props.scrollToMessageID==null?e.scrollToBottom(!0):e.$27(e.props.scrollToMessageID))},0)};f.render=function(){var a=this;if(this.props.isLoading&&this.props.messages.isEmpty())return this.$28();var b=this.props.messages.last(),e=d("MercuryIDs").getParticipantIDFromUserID(this.props.viewer),f=this.$29(b),g=this.$30(b);this.$31(b);e=b&&b.author!==e?f||g:null;f=null;if(Array.isArray(e)){g=e.every(function(b){return b.content_type==="user_email"&&a.state.viewerEmail===null||b.content_type==="user_phone_number"&&a.state.viewerPhone===null||b.content_type==="user_state"&&a.state.viewerState===null||b.content_type==="user_zip_code"&&a.state.viewerZipCode===null});if(!g){g=d("MessengerQuickReplyUtils").localizeTitleIfNecessary(e);f=m.jsx(c("BootloadOnRender.react"),{component:m.jsx(c("LazyComponent.react"),{options:g,threadID:b.thread_id,onVoiceClipCreate:this.props.onVoiceClipCreate,viewer:this.props.viewer,quickCamOriginLocation:d("MessengerQuickCamOrigins").MESSENGER,messageId:b.message_id,pageId:d("MercuryIDs").getUserIDFromParticipantID(b.author),isMessengerAdPreview:this.props.isMessengerAdPreview,isSponsored:b.is_sponsored,useM4QR:this.props.useM4QR,viewerEmail:this.state.viewerEmail,viewerPhone:this.state.viewerPhone,viewerState:this.state.viewerState,viewerZipCode:this.state.viewerZipCode}),loader:c("JSResource")("MessengerBotsQuickReplyButtonList.react").__setRef("MessengerConversation.react"),placeholder:m.jsx("div",{})})}}e=null;g=null;f&&(e=m.jsx("div",{className:"_51op",children:m.jsx("div",{className:"_51oq",onResize:this.handleResize})}),g=m.jsx("div",{ref:"quickReply",className:"_1mzb",onResize:this.handleResize,children:f},"quick_reply"));b=j._("Messages");f=j._("Load more...");var h=this.$32(),i=null;return m.jsxs(m.Fragment,{children:[m.jsx(c("MessengerFlexScrollableArea.react"),{className:this.props.className,flexChildren:this.$33(),footerChildren:[g,i],onMount:function(){return c("setImmediate")(a.$14)},onScroll:this.props.useManualFetch?void 0:this.$7,ref:"scrollable",shouldStickToBottom:!0,tabIndex:0,bottomOffset:this.props.bottomOffset,children:m.jsxs("div",{"aria-label":b,className:c("joinClasses")("__i_"+(d("WorkChatRedesignedMessageListCheck.re").enabled?" _7w74":"")+(d("MessengerDotComAndInboxM4Check.bs").yes?" _7i2k":""),this.props.innerClassName),role:"region",children:[m.jsx("h3",{className:"accessible_elem",children:b}),this.$34(),this.props.useManualFetch&&!this.props.upExhausted?m.jsx("div",{className:"_7fim",children:m.jsx(d("MessengerButtonReact.re").make,{className:"_41jf",label:f,onClick:function(){return a.props.fetchMessages(c("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP,a.props.threadID)},type:"primary",use:"default"})}):null,this.$35(),this.$36()&&m.jsx(c("FantaPageGreetingLoader.react"),{thread:this.props.thread,threadID:this.props.threadID}),i?null:h||m.jsx(c("MessageList.react"),{DateBreak:c("MessengerDateBreak_DEPRECATED.react"),deliveryTimestamp:this.props.deliveryTimestamp,isCanonical:this.props.isCanonical,LogMessage:c("MessengerBootloadedLogMessage.react"),CollapsedLogMessageGroup:c("MessengerCollapsedLogMessageGroup.react"),MessageGroup:c("MessengerMessageGroup.react"),messages:this.props.messages,onAttachmentLoad:this.$37(this.props.threadID),onReactionSwap:this.$38,onReplyToMessage:this.props.onReplyToMessage,readReceipts:this.state.readReceipts,ref:"messageList",selectedMessageId:this.state.selectedMessageId,location:d("MercuryShareAttachmentRenderLocations").MESSENGER,viewer:this.props.viewer,thread:this.props.thread,scrollToRepliedMessage:this.$17}),this.props.useManualFetch&&!this.props.downExhausted?m.jsx("div",{className:"_7fim",children:m.jsx(d("MessengerButtonReact.re").make,{className:"_41jf",label:f,onClick:function(){return a.props.fetchMessages(c("WebMessengerConstants").MORE_SEARCH_CONTEXT_DOWN,a.props.threadID)},type:"primary",use:"default"})}):null,e,m.jsx(d("ChatTypingIndicatorsWrapper.bs").jsComponent,{indicatorClass:d("MessengerTypingIndicatorReact.re").component,indicatorsDidShow:function(){a.trackBottomIfRequired()},rootClassName:"clearfix _17pz",threadID:this.props.threadID,viewer:this.props.viewer})]})}),d("WorkChatRedesignedMessageListCheck.re").enabled?this.$39():this.$40()]})};f.$32=function(){if(!c("CurrentUser").isWorkUser())return null;if(!this.$41())return null;if(this.state.isLandingPageDismissed===!0)return null;return this.props.contact&&d("WorkBotLandingPageHelper").shouldShowBotLandingPage(this.props.messages)?m.jsx(m.Suspense,{fallback:m.jsx(c("MessengerSpinner.react"),{}),children:m.jsx(s,{contact:this.props.contact,threadID:this.props.threadID,onDismiss:this.$42})}):null};f.$40=function(){var a=this.$19();if(a){a=a.getElement().getBoundingClientRect().height;a={top:a-74+"px"}}else a={bottom:"15%"};return this.props.useManualFetch&&!this.props.isSearchResult||this.state.renderScrollToBottom?m.jsx(c("Link.react"),{"aria-label":j._("Jump to the last message"),style:a,className:"_69xg",onClick:this.$43,children:m.jsx(c("Image.react"),{className:"_69xi",src:l("415099")})}):null};f.$39=function(){return this.props.useManualFetch&&!this.props.isSearchResult||this.state.renderScrollToBottom?m.jsx(c("Link.react"),{className:"_8wfp",onClick:this.$43,children:j._("Back to latest")}):null};f.$29=function(a){var b=null;a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);var c=a&&a.message_classification==="ad_message";c&&Array.isArray(a&&a.quick_replies)&&(b=a&&a.quick_replies);return b};f.$30=function(a){a=a&&a.platform_xmd&&JSON.parse(a.platform_xmd);return Array.isArray(a&&a.quick_replies)?a&&a.quick_replies:null};f.$13=function(){if(this.props.useManualFetch)return;var a=this.$19();a&&a.getScrollTop()<n&&(this.props.fetchMessages(c("WebMessengerConstants").MORE_SEARCH_CONTEXT_UP,this.props.threadID),this.$23())};f.$31=function(a){var b=this;a=this.$30(a);if(!a)return;a.some(function(a){return a.content_type==="user_state"||a.content_type==="user_zip_code"})&&(!this.state.viewerState||!this.state.viewerZipCode)&&c("promiseDone")(d("MessengerUserProfileLocationUtils").FetchMessengerUserRegionAndPostalCode(),function(a){var c=a==null?void 0:a.region;a=a==null?void 0:a.postal_code;b.setState({viewerState:c,viewerZipCode:a})});a.some(function(a){return a.content_type==="user_email"||a.content_type==="user_phone_number"})&&k(0,54429)};f.isScrolledToBottom=function(){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottom())};f.isScrolledToBottomWithHeight=function(a){return!!(this.refs.scrollable&&this.refs.scrollable.isScrolledToBottomWithHeight(a))};f.$33=function(){return m.jsx(d("MessengerNewMessagesNoticeReact.bs").jsComponent,{isOpen:this.state.showUnreadNotice,label:j._({"*":"{number} unread messages","_1":"1 unread message"},[j._plural(this.state.unreadCount,"number")]),onClick:this.$44})};f.$34=function(){return!this.props.isLoaded||this.props.hideContextBanner?null:m.jsx(c("MessengerContextBannerContainer.react"),{location:d("MercuryShareAttachmentRenderLocations").MESSENGER,thread:this.props.thread,threadID:this.props.threadID,viewer:this.props.viewer})};f.$35=function(){return this.props.isLoaded?null:m.jsx("div",{className:"_2k8v",children:this.props.isLoading?m.jsx(c("MessengerSpinner.react"),{}):null})};f.$28=function(){return m.jsx("div",{className:"_4xu0",children:m.jsx(c("MessengerSpinner.react"),{className:"_4xu1",size:c("MessengerSpinner.react").large_size})})};f.trackBottomIfRequired=function(){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.trackBottomIfRequired()};f.scrollToBottom=function(a){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToBottom(a)};f.scrollToTop=function(a){if(!this.refs)return;this.refs.scrollable&&this.refs.scrollable.scrollToTop(a)};f.$37=function(a){var b=this;if(u[a])return u[a];var c=function(){if(b.props.threadID!==a)return;b.trackBottomIfRequired()};u[a]=c;return c};f.$21=function(){var a=this;c("DOM").scry(d("ReactDOM").findDOMNode(this),"img").forEach(function(b){if(b.complete)return;var d=a.props.threadID,e=c("Event").listen(b,"load",function(){a.props.threadID===d&&a.trackBottomIfRequired(),e.remove()})})};f.$47=function(){var a=this.props.messages,b=this.state.unreadCount;return!b||b>a.size?null:a.get(a.size-b)};f.$26=function(a){var b=this,c=this.props.messages,d=this.$47();if(!d)return!1;var e=a.getElement().getBoundingClientRect();return c.filter(function(a){return a&&a.timestamp<=d.timestamp}).some(function(a){a=b.refs.messageList.getMessageElement(a.message_id);if(!a)return!1;a=a.getBoundingClientRect();return a.bottom>e.top&&a.top<e.bottom})};f.$25=function(){if(r&&this.state.unreadCount<q){var a;this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);a=(a=this.refs.messageList)==null?void 0:a.getNewMessageDivider();var b=this.$19();if(!a||!b)return!1;a=a.getBoundingClientRect().top;var c=d("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top,e=b.getElement().getBoundingClientRect();if(a<e.top){a=a+Math.abs(c)-e.height*.2;b.setScrollTop(a,!1);this.setState({renderScrollToBottom:!0,unreadCount:0});return!0}}return!1};f.$22=function(a){var b=this;if(!this.state.unreadCount)return;this.setState({scrollingToUnreadMessage:!0});var c=this.$47();if(!c){this.scrollToTop(!1);return}this.$24(c.message_id,a,function(){b.setState({scrollingToUnreadMessage:!1,unreadCount:0})})};f.$24=function(a,b,c){this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);a=this.refs.messageList.getMessageElement(a,!0);var e=this.$19();if(!a||!e)return;a=a.getBoundingClientRect().top;var f=d("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top,g=e.getElement().getBoundingClientRect().height;a=a+Math.abs(f)-g/2;e.setScrollTop(a,b,{callback:c})};f.$27=function(a){this.refs.scrollable&&this.refs.scrollable.overrideTrackBottom(!1);var b=this.refs.messageList.getMessageElement(a||"",!0),c=this.$19();if(b==null||c==null)return;b=b.getBoundingClientRect().top;var e=d("ReactDOM").findDOMNode(this.refs.messageList).getBoundingClientRect().top;b=b-e;((e=this.props.messages.last())==null?void 0:e.message_id)===a?this.scrollToBottom(!0):c.setScrollTop(b,!0)};f.$19=function(){if(!this.refs)return;return this.refs.scrollable&&this.refs.scrollable.getArea()};f.$18=function(){this.$3&&this.$3.unsubscribe(),this.$3=null};f.$48=function(){return this.props.messages.filter(function(a){return d("MessengerAttachmentRenderer").isSingleVideoAttachment(a)||d("MessengerAttachmentRenderer").isSharedVideoAttachmentMessage(a)}).reverse().map(function(a){return a.message_id})};f.$45=function(a){var b=this.refs.messageList;if(!b||!a)return;var e=[];a=a.getElement().getBoundingClientRect();var f=c("MessengerVideoAutoplayStore").getMessageIDs(this.props.threadID),g=f||this.$48()||c("immutable").List();g.map(function(a){var c=d("MessengerAttachmentRenderer").getVideoElem(a,b);c&&e.push([a,c.getBoundingClientRect()])});e.length&&d("MessengerVideoAutoplayActions").onScroll(this.props.threadID,f?null:g,c("immutable").Map(e),a)};f.$49=function(){return this.props.messages.filter(function(a){return d("MessengerAttachmentRenderer").isSingleSphericalPhotoAttachment(a)}).map(function(a){return a.message_id})};f.$46=function(a){var b=this;c("ifRequired")("MessengerSphericalRendererActions",function(e){c("ifRequired")("MessengerSphericalRendererStore",function(f){var g=b.refs.messageList;if(!g||!a)return;var h=[],i=a.getElement().getBoundingClientRect();f=f.getMessageIDs(b.props.threadID);f=f||b.$49()||c("immutable").List();f.map(function(a){var b=d("MessengerAttachmentRenderer").getSphericalPhotoElem(a,g);b&&h.push([a,b.getBoundingClientRect()])});h.length&&e.onScroll(b.props.threadID,f,c("immutable").Map(h),i)},function(){})},function(){})};f.$23=function(){var a=this;d("MessengerVideoAutoplayActions").updateStore(this.props.threadID,this.$48());var b=this.$49();b&&b.count()!==0&&c("ifRequired")("MessengerSphericalRendererActions",function(c){c.updateStore(a.props.threadID,b)},function(){c("Bootloader").loadModules(["MessengerSphericalRendererActions","MessengerSphericalRendererStore"],function(c,d){c.updateStore(a.props.threadID,b)},"MessengerConversation.react")})};f.$36=function(){if(c("CurrentUser").isWorkUser())return!1;return this.props.messages.size!==0?!1:!0};return e}(m.PureComponent);a.propTypes={contact:c("prop-types").instanceOf(c("ImmutableObject")),deliveryTimestamp:c("prop-types").number.isRequired,downExhausted:c("prop-types").bool,fetchMessages:c("prop-types").func.isRequired,hideContextBanner:c("prop-types").bool,innerClassName:c("prop-types").string,isCanonical:c("prop-types").bool,isLoaded:c("prop-types").bool,isLoading:c("prop-types").bool,isMessengerAdPreview:c("prop-types").bool,messages:c("prop-types").instanceOf(c("immutable").List).isRequired,onVoiceClipCreate:c("prop-types").func,onReplyToMessage:c("prop-types").func,readReceipts:c("prop-types").any,thread:c("prop-types").object,threadID:c("prop-types").string.isRequired,upExhausted:c("prop-types").bool,useM4QR:c("prop-types").bool,useManualFetch:c("prop-types").bool,viewer:c("prop-types").string.isRequired,selectedMessage:c("prop-types").string,isSearchResult:c("prop-types").bool};function v(a){var b=d("MercuryIDs").getParticipantIDFromUserID(a.viewer),e=d("MessengerReadReceipt.re").getSeenTimestamps(a.readReceipts,a.threadID),f=new Set(a.thread?a.thread.participants:e.keys());f["delete"](b);b=a.messages.findLast(function(a){return(a==null?void 0:a.action_type)!=="ma-type:log-message"||(a==null?void 0:(a=a.log_message_data)==null?void 0:a.message_type)==="messenger_call_log"});var g=(b==null?void 0:b.timestamp)||Infinity;return e.withMutations(function(b){c("immutable").Seq(a.messages).reverse().forEach(function(a){if(f.size===0)return!1;if(!f.has(a.author))return;if(a.action_type==="ma-type:log-message")return;b.update(a.author,function(b){if(!b)return b;if(g<b.watermark)return w(g);else if(b.watermark<=a.timestamp)return w(a.timestamp);return b});f["delete"](a.author)})}).sortBy(function(a){return a.watermark})}function w(a){return{watermark:a,action:a}}function x(a,b){var c=d("MercuryIDs").getParticipantIDFromUserID(b.viewer);return b.threadID===a.threadID&&b.messages!==a.messages&&!b.messages.isEmpty()&&b.messages.last()!==a.messages.last()&&b.messages.last().author===c}g["default"]=a}),98);
__d("MessengerAdsPartialAutomatedPreview.react",["cx","AdCampaignDestination","AdsMessengerPartialAutomatedCreationTypes","AdsUtils","CurrentUser","ImmutableObject","MercuryIDs","MessagingPreviewHeader.react","MessengerAdsPartialAutomatedConstants","MessengerAdsPartialAutomatedQuestionStrings","MessengerAdsPartialAutomatedStepsPreview","MessengerComposerM4React.bs","MessengerConversation.react","MessengerEnvironment","MessengerReadReceipt.bs","MessengerView","adsAccountGK","emptyFunction","immutable","isStringNullOrEmpty","makeMercuryThreadPayload","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b,c,e){if(a==null||a===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY)return!0;else if(a===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS)return b!==a?!1:c===null||e===!0;return a===b}function k(a,b,d,e,f,g,h,i,j,k,n,o,p,q,r){a=m(a,b,d,e,f,g,h,i,j,k,n,o,p,q,r);b=l(a,p,d);return{messages:c("immutable").List(a),scrollToMessageID:b}}function l(a,b,c){if(a.length===0||b==null)return null;switch(b){case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE:return a[0].message_id;case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS:if(c!=null){b=a.filter(function(a){return a.message_type===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.QUESTION});return c<b.length?b[c].message_id:null}return a.length<2?null:a[1].message_id;case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE:return a[a.length-1].message_id;case d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE:return a[a.length-1].message_id;default:return a[0].message_id}}function m(a,b,c,e,f,g,h,i,k,l,m,o,p,r,s){if(k==null)return[];k="fbid:"+k;var t=[],u=a?a.account_id:"";t.push.apply(t,d("MessengerAdsPartialAutomatedStepsPreview").getMediaMessage(u,e,k,m,o,"intro",f,j(p,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.INTRO_MESSAGE),d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.INTRO_MESSAGE));e=[].concat(l,b);f=t.length;var v=b.length>0&&c===e.length-1;t.push.apply(t,n(c,k,e,m,o,v,p,a));if(p===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE||c===null&&p!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS){t.push.apply(t,d("MessengerAdsPartialAutomatedStepsPreview").getMediaMessage(u,g,k,m,o,"leadComplete",h,j(p,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.CONFIRMATION_MESSAGE),d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.CONFIRMATION_MESSAGE));if(s&&s.attachmentType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedConfirmationAttachment.COMPLETION_OFFER){e=s.offerCodeType===d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeType.UNIQUE_CODE?d("MessengerAdsPartialAutomatedConstants").EXAMPLE_CODE:s.offerNonUniqueCodeValue?s.offerNonUniqueCodeValue:"";a=s.offerCodeFormat===d("AdsMessengerPartialAutomatedCreationTypes").PromotionCodeFormat.QR_CODE?d("MessengerAdsPartialAutomatedConstants").PREVIEW_PREFIX_CODE_QR.toString():d("MessengerAdsPartialAutomatedConstants").PREVIEW_PREFIX_CODE_TEXT.toString();t.push.apply(t,q(a+" "+e,k,!0,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.CONFIRMATION_MESSAGE))}}p===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE&&t.splice.apply(t,[t.length-1,1].concat(q(r,k,j(p,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.DISQUALIFY_MESSAGE),d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.DISQUALIFY_MESSAGE)));c!=null&&c>=l.length&&b.length>0&&t.splice.apply(t,[f+2*l.length,0].concat(d("MessengerAdsPartialAutomatedStepsPreview").getMediaMessage(u,g,k,m,o,"leadComplete",h,!0,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.CONFIRMATION_MESSAGE)));v&&t.push.apply(t,q(i,k,!0,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.POST_LEAD_QUESTIONS_COMPLETE_MESSAGE));return t}function n(a,b,e,f,g,h,i,k){var l=e.filter(function(b,c){return(a==null||c<=a)&&b.answerType!==null&&b.questionMessage!==""}),m=[];l.forEach(function(e,f){e.answerType===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationNonPrefillAnswer.CALL_PREFERENCE||e.answerType==="PHONE"&&c("adsAccountGK")._(k,"1XP85qam9")?o(m,e,b,g,i,a,f):m.push(d("MessengerAdsPartialAutomatedStepsPreview").getQuestionMessage(f,e,b,g,j(i,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS,a,f===a),d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.QUESTION)),(h||f!==l.length-1||a===null)&&p(f,e,b,j(i,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS,a)).forEach(function(a){m.push(a)})});return m}function o(a,b,c,e,f,g,h){var i=d("AdsUtils").clone(b),k=d("AdsUtils").clone(b);i.questionMessage=d("MessengerAdsPartialAutomatedQuestionStrings").getMessageByAnswerTypeAndNumber(b.answerType,1).toString();k.questionMessage=d("MessengerAdsPartialAutomatedQuestionStrings").getMessageByAnswerTypeAndNumber(b.answerType,2).toString();a.push(d("MessengerAdsPartialAutomatedStepsPreview").getQuestionMessage(-1,i,c,e,j(f,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS,g,-1===g),d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.QUESTION));a.push(d("MessengerAdsPartialAutomatedStepsPreview").getQuestionMessage(h,k,c,e,j(f,d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS,g,h===g),d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.QUESTION))}function p(b,e,f,a){var g=c("CurrentUser").getAccountID(),h="answer_"+b.toString()+":"+Date.now().toString(),i=[];f=e.answerType?d("MessengerAdsPartialAutomatedStepsPreview").getAnswerPreview(e.answerType,e):"";f instanceof Array?f.forEach(function(b,e){i.push(new(c("ImmutableObject"))({body:b.toString(),author:"fbid:"+g,timestamp:Date.now()-1,message_id:h+e.toString(),message_type:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.ANSWER,key:Date.now()-1,isFocused:a}))}):i.push(new(c("ImmutableObject"))({body:f instanceof Array?f[0].toString():"",author:"fbid:"+g,timestamp:Date.now()-1,message_id:h,message_type:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedPreviewMessageType.ANSWER,key:Date.now()-1,isFocused:a}));return i}function q(b,e,a,f){return c("isStringNullOrEmpty")(b)?[]:[new(c("ImmutableObject"))({body:b,author:e,timestamp:Date.now()-1,message_id:"lead_submission:"+Date.now().toString(),message_type:f,key:Date.now()-1,thread_id:d("MercuryIDs").getThreadIDFromUserID(c("CurrentUser").getAccountID()),platform_xmd:JSON.stringify(null),isFocused:a})]}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.render=function(){var a=c("CurrentUser").getAccountID(),b=d("MercuryIDs").getThreadIDFromUserID(a);c("MessengerEnvironment").setMessengerUI(!0);var e=k(this.props.account,this.props.additionalQuestionItems,this.props.focusedIndex,this.props.introMessage,this.props.introVideoPreview,this.props.leadCompleteMessage,this.props.leadCompleteVideoPreview,this.props.questionsCompleteMessage,this.props.pageID,this.props.questionItems,b,this.props.imageLoader,this.props.expandedSectionID,this.props.disqualifyMessage,this.props.confirmationAttachment),f=e.messages;e=e.scrollToMessageID;return i.jsxs("div",{className:"xj6ak53 x1gryazu x1hq5gj4 xkrivgy xqui205 x5vaii x10y3i5r xrt01vj x1yr5g0i x1lcm9me x2izyaf"+(this.props.isDialog===!0?" xol47bg xwd3fjl xn3dp77 xzq4nro":""),children:[i.jsx("div",{className:"x47corl",children:i.jsx(c("MessagingPreviewHeader.react"),{destinationType:c("AdCampaignDestination").MESSENGER,isLightspeed:!0,pageName:this.props.pageName||"",pageProfileSrc:this.props.profileSrc,responsiveness:this.props.responsiveness})}),i.jsx(c("MessengerConversation.react"),{className:"_93oz",deliveryTimestamp:0,fetchMessages:c("emptyFunction"),innerClassName:"_1ist",isCanonical:!0,isMessengerAdPreview:!0,messages:f,readReceipts:d("MessengerReadReceipt.bs").emptyReadReceipts,scrollToMessageID:e,threadID:b,useM4QR:!0,viewer:a,onRead:c("emptyFunction")}),i.jsx(d("MessengerComposerM4React.bs").make,{canReply:!0,disableAutofocus:!1,disableInput:!1,fileUploader:void 0,hideActions:!1,mentionsEnabled:!0,p2pPaymentConfig:null,participants:c("immutable").OrderedMap(),recipients:void 0,replyingToMessage:null,sharePreview:void 0,showBotMenu:!1,thread:c("makeMercuryThreadPayload")(),threadFbid:"1",threadId:"1",view:c("MessengerView").DETAIL.THREAD,viewer:"1",onCancelReplyingToMessage:c("emptyFunction"),onCustomLikeSelect:function(){return!0},onMessageSend:function(){return!0},onPhotoUploadCancel:c("emptyFunction"),onPhotoUploadComplete:c("emptyFunction"),onPhotoUploadFail:c("emptyFunction"),onPhotoUploadSubmit:c("emptyFunction"),onResize:c("emptyFunction"),onStickerSelect:function(){return!0},onVoiceClipCreate:c("emptyFunction")})]})};return b}(i.Component);b=i.memo(a);g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedPreviewContainer.react",["cx","AdsFluxContainer","AdsImageIDClasses","AdsImageInfoStore","AdsMessengerUtils","MessengerAdsPartialAutomatedPreview.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","PagesReplyComposerTextUtilities","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="MPAPreview";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.getStores=function(){return[c("PagesReplyComposerStore").getByKey(j)]};b.calculateState=function(){var a=c("PagesReplyComposerStore").getByKey(j).getState();return{composerState:a,imageLoader:function(a,b){a=d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(a,b);b=a?c("AdsImageInfoStore").getFullSize(a):null;return b&&b.hasValue()?b.getValueEnforcing():null}}};var e=b.prototype;e.UNSAFE_componentWillMount=function(){c("PagesReplyComposerDispatcher").getByKey(j).explicitlyRegisterStore(c("PagesReplyComposerStore").getByKey(j)),c("PagesReplyComposerActions").getActionsByKey(j).initializeStoreWithConfig({composerKey:j,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!0,pageID:this.props.pageID||"",placeholderText:""})};e.render=function(){var a=this,b=this.props.introMessage;b=b?{text:d("PagesReplyComposerTextUtilities").processMessage(b.text,this.state.composerState.supportedMacros),media_type:b.media_type,media_content:b.media_content}:null;var e=this.props.questionItems.map(function(b){var c=d("PagesReplyComposerTextUtilities").processMessage(b&&b.questionMessage||"",a.state.composerState.supportedMacros);return babelHelpers["extends"]({},b,{questionMessage:c})}),f=this.props.leadCompleteMessage;f=f?{text:d("PagesReplyComposerTextUtilities").processMessage(f.text,this.state.composerState.supportedMacros),media_type:f.media_type,media_content:f.media_content}:null;var g=d("PagesReplyComposerTextUtilities").processMessage(this.props.questionsCompleteMessage,this.state.composerState.supportedMacros),h=this.props.additionalQuestionItems.map(function(b){var c=d("PagesReplyComposerTextUtilities").processMessage(b&&b.questionMessage||"",a.state.composerState.supportedMacros);return babelHelpers["extends"]({},b,{questionMessage:c})}),j=this.props.disqualifyMessage;j=j!=null?d("PagesReplyComposerTextUtilities").processMessage(j,this.state.composerState.supportedMacros):null;var k=d("AdsMessengerUtils").getPreviewDisclaimer();return i.jsxs("div",{className:this.props.isDialog?"_93c1":"",children:[i.jsx(c("MessengerAdsPartialAutomatedPreview.react"),{account:this.props.account,additionalQuestionItems:h,confirmationAttachment:this.props.confirmationAttachment,disqualifyMessage:j,expandedSectionID:this.props.expandedSectionID,focusedIndex:this.props.focusedIndex,imageLoader:this.state.imageLoader,introMessage:b,introVideoPreview:this.props.introVideoPreview,isDialog:(h=this.props.isDialog)!=null?h:!1,leadCompleteMessage:f,leadCompleteVideoPreview:this.props.leadCompleteVideoPreview,pageID:this.props.pageID,pageName:this.props.pageName,profileSrc:this.props.profileSrc,questionItems:e,questionsCompleteMessage:g,responsiveness:this.props.responsiveness}),this.props.isDialog===!0&&i.jsx("div",{className:(this.props.isDialog?"":"_89e9")+(this.props.isDialog?" _8cot":""),children:k})]})};return b}(i.Component);b=c("AdsFluxContainer").create(a,{name:f.id});g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedPreviewContainerV2.react",["AdsFluxHooks","AdsMessengerPartialAutomatedCreationSelectors","AdsUEditorHooks","MessengerAdsPartialAutomatedPreviewContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsMessengerPartialAutomatedCreationSelectors").AdsMessengerPartialAutomatedCreationDialogContainerSelector);b=b.state;var e=b.expandedSectionIDs.size===1?b.expandedSectionIDs.values().next().value:null;return h.jsx(c("MessengerAdsPartialAutomatedPreviewContainer.react"),{account:b.account,additionalQuestionItems:b.additionalQuestionItems,confirmationAttachment:b.confirmationAttachment,disqualifyMessage:b.disqualifyMessage,expandedSectionID:e,focusedIndex:a.focusedIndex,introMessage:b.introMessage,introVideoPreview:b.introVideoPreview,isDialog:a.isDialog,leadCompleteMessage:b.confirmationMessage,leadCompleteVideoPreview:b.confirmationVideoPreview,pageID:b.pageID,pageName:b.pageName,profileSrc:b.profileSrc,questionItems:b.questionItems,questionsCompleteMessage:b.questionsCompleteMessage,responsiveness:b.responsiveness})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedPrivacyPolicy.react",["fbt","AdsMessengerPartialAutomatedCreationTypes","GeoBaseText.react","GeoTextInput.react","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedStrings","MessengerAdsPartialAutomatedTOSAgreement.react","MessengerAdsPartialAutomatedTemplateEditorSection.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=i.jsx(j,babelHelpers["extends"]({},a));return i.jsx(c("MessengerAdsPartialAutomatedTemplateEditorSection.react"),{hasError:a.showError&&a.sectionValidationErrors.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY),isExpanded:a.isExpanded,label:d("MessengerAdsPartialAutomatedStrings").getHeaderName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY),sectionID:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY,children:a.isExpanded?b:null})}a.displayName=a.name+" [from "+f.id+"]";function j(a){var b=d("MessengerAdsPartialAutomatedFormValidation").getPrivacyPolicyLinkURLErrorMessage(a.privacyPolicyURL,a.showError),e=h._("Your Privacy Policy URL"),f=d("MessengerAdsPartialAutomatedStrings").getSectionDescription(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY);return i.jsxs("div",{id:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY,children:[i.jsx("div",{className:"xsag5q8",children:i.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:!0,size:"accent",children:f})}),i.jsx(c("MessengerAdsPartialAutomatedTOSAgreement.react"),{account:a.account,page:a.page,pageID:a.pageID,showError:a.showError}),i.jsx("div",{className:"xkhd6sd x4uap5 xwib8y2 x1y1aw1k",children:i.jsx("div",{className:b!=null?"x1o6z2jb x1i1ezom x1otrzb0 xhk9q7s x1uyg967 x19f6qq2 x1p5b71b x1h8fp6x x2izyaf":"",children:i.jsx(c("GeoTextInput.react"),{"data-testid":void 0,errorMessage:null,isLabelHidden:!0,label:e,placeholder:"https://www.pagename.com/privacy-policy",value:a.privacyPolicyURL,onChange:a.onPrivacyPolicyURLChange})})})]})}j.displayName=j.name+" [from "+f.id+"]";b=i.memo(a);g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedPrivacyPolicyContainer.react",["AdsFluxHooks","AdsInterfacesLogger","AdsMessengerPACreationStatePrivacyURLAction","AdsMessengerPartialAutomatedCreationSelectors","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","AdsUEditorHooks","MessengerAdsPartialAutomatedPrivacyPolicy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsMessengerPartialAutomatedCreationSelectors").AdsMessengerPartialAutomatedCreationDialogContainerSelector),e=b.state;b=i(function(a){c("AdsMessengerPACreationStatePrivacyURLAction").dispatch({privacyURL:a},{line:"38",module:"MessengerAdsPartialAutomatedPrivacyPolicyContainer.react.js"}),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_PRIVACY_POLICY,data:{message:a,objective:e.objective}})},[e.objective]);return h.jsx(c("MessengerAdsPartialAutomatedPrivacyPolicy.react"),{account:e.account,isExpanded:e.expandedSectionIDs.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.PRIVACY_POLICY),page:e.page,pageID:e.pageID,privacyPolicyURL:e.privacyPolicyURL,sectionValidationErrors:a.sectionValidationErrors,showError:a.showError,onPrivacyPolicyURLChange:b})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedQuestionsCompleteMessage.react",["cx","ix","AdsMessengerPartialAutomatedCreationTypes","GeoBaseText.react","GeoFlexbox.react","Image.react","MessengerAdsPartialAutomatedFormValidation","MessengerAdsPartialAutomatedStrings","PagesReplyComposerEditorContainer.react","PagesReplyComposerToolbarContainer.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b={composerKey:"QuestionsCompleteMessageCTMLeadGen",initialDisabled:!1,initialReply:a.questionsCompleteMessage||"",isAdsInterfaceSource:!0,pageID:a.pageID||"",placeholderText:d("MessengerAdsPartialAutomatedStrings").getSectionPlaceholder(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS_COMPLETE_MESSAGE)},e=d("MessengerAdsPartialAutomatedFormValidation").getRequiredTextFieldErrorMessage(a.questionsCompleteMessage,a.showError);return j.jsxs("div",{className:"xwxc41k",id:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS_COMPLETE_MESSAGE,children:[j.jsxs(c("GeoFlexbox.react"),{alignItems:"center",xstyle:c("geoMargin").bottom12,children:[j.jsx(c("GeoBaseText.react"),{color:"value",display:"inline",size:"header3",weight:"bold",children:d("MessengerAdsPartialAutomatedStrings").getHeaderName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS_COMPLETE_MESSAGE)}),a.showError&&a.sectionValidationErrors.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS_COMPLETE_MESSAGE)&&j.jsx("div",{className:"x1gslohp xsgj6o6",children:j.jsx(c("Image.react"),{src:i("480268")})})]}),j.jsxs("div",{className:c("stylex")({"background-color-1":"x1c5tqo3","border-top-0.3":"xgqjv89","border-end-0.3":"x3nkqmp","border-bottom-0.3":"x45hy6c","border-start-0.3":"x18j5cpe","border-top-start-radius-1":"x1lq5wgf","border-top-end-radius-1":"xgqcy7u","border-bottom-end-radius-1":"x30kzoy","border-bottom-start-radius-1":"x9jhf4c","margin-top-1":"x1xmf6yo","position-1":"x1n2onr6"},e!=null?{"border-top-0.3":"x1ju2mve","border-end-0.3":"xraqonv","border-bottom-0.3":"x12hbt4u","border-start-0.3":"x1b791bb"}:null),children:[j.jsx(c("PagesReplyComposerEditorContainer.react"),{config:b,isCTMLeadGen:!0,isHovered:!0,isSideToolbar:!0,welcomeString:a.questionsCompleteMessage,onReplyChange:a.onQuestionsCompleteMessageChange}),j.jsx(c("PagesReplyComposerToolbarContainer.react"),{className:"_3w-l",config:b,isHovered:!0,isMessengerVERedesign:!0,isSideToolbar:!0,onToolItemClicked:a.onAddPersonalization})]})]})}a.displayName=a.name+" [from "+f.id+"]";b=j.memo(a);g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedQuestionsCompleteMessageContainer.react",["AdsFluxHooks","AdsInterfacesLogger","AdsMessengerPACreationStateQuestionsCompleteMessageAction","AdsMessengerPartialAutomatedCreationSelectors","AdsMessengerPartialAutomatedLoggerEvents","AdsUEditorHooks","MessengerAdsPartialAutomatedQuestionsCompleteMessage.react","areEqual","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsMessengerPartialAutomatedCreationSelectors").AdsMessengerPartialAutomatedCreationDialogContainerSelector),e=b.state;b=i(function(a){var b=!c("areEqual")(e.questionsCompleteMessage,a);c("AdsMessengerPACreationStateQuestionsCompleteMessageAction").dispatch({questionsCompleteMessage:a},{line:"45",module:"MessengerAdsPartialAutomatedQuestionsCompleteMessageContainer.react.js"});b&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_QUESTIONS_COMPLETE_MESSAGE,data:{message:a,objective:e.objective}})},[e.questionsCompleteMessage,e.objective]);var f=i(function(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_ADD_PERSONALIZATION,data:{message:"Question Complete"}})},[]);return e.additionalQuestionItems.length==0?null:h.jsx(c("MessengerAdsPartialAutomatedQuestionsCompleteMessage.react"),{account:e.account,pageID:e.pageID,questionsCompleteMessage:e.questionsCompleteMessage,sectionValidationErrors:a.sectionValidationErrors,showError:a.showError,onAddPersonalization:f,onQuestionsCompleteMessageChange:b})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedQuestionsSection.react",["AdsMessengerPartialAutomatedCreationTypes","MessengerAdsPartialAutomatedQuestionsSectionBody.react","MessengerAdsPartialAutomatedStrings","MessengerAdsPartialAutomatedTemplateEditorSection.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=h.jsx(i,babelHelpers["extends"]({},a));return h.jsx(c("MessengerAdsPartialAutomatedTemplateEditorSection.react"),{hasError:a.showError&&a.sectionValidationErrors.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS),isExpanded:a.isExpanded,label:d("MessengerAdsPartialAutomatedStrings").getHeaderName(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS),sectionID:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS,children:a.isExpanded?b:null})}a.displayName=a.name+" [from "+f.id+"]";function i(a){return h.jsx("div",{className:"x1l90r2v",id:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS,children:h.jsx("div",{className:"x1n2onr6 x1h0ha7o xg83lxy x1egpv2n",children:h.jsx(c("MessengerAdsPartialAutomatedQuestionsSectionBody.react"),{account:a.account,disableValidation:a.disableValidation,focusedIndex:a.focusedIndex,isAdditionalQuestions:!1,isSkipToEnabled:a.isSkipToEnabled,leadGenSAFRConfig:a.leadGenSAFRConfig,pageID:a.pageID,questionItems:a.questionItems,setFocusedIndex:a.setFocusedIndex,showError:a.showError,showPersonalization:a.showPersonalization,onAddQuestion:a.onAddQuestion,onQuestionItemChange:a.onQuestionItemChange,onRemoveQuestion:a.onRemoveQuestion,onSetQuestions:a.onSetQuestions})})})}i.displayName=i.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
__d("MessengerAdsPartialAutomatedQuestionsSectionContainer.react",["AdsFluxHooks","AdsInterfacesLogger","AdsMessengerPACreationStateQuestionItemsAction","AdsMessengerPartialAutomatedCreationSelectors","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","AdsUEditorHooks","MessengerAdsPartialAutomatedQuestionStrings","MessengerAdsPartialAutomatedQuestionsSection.react","adsAccountGK","adsAccountQE","areEqual","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b,e=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(d("AdsMessengerPartialAutomatedCreationSelectors").AdsMessengerPartialAutomatedCreationDialogContainerSelector),f=e.state;e=i(function(a,b,e){var g;g=d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedReplyTempLocationValidationType.includes(a)&&((g=c("adsAccountQE")._(f.account,"OFRDcI1s:1e3o1Iw5oV8",{}))!=null?g:!1);var h=f.account&&c("adsAccountGK")._(f.account,"1XP85qam9")&&a==="PHONE";c("AdsMessengerPACreationStateQuestionItemsAction").dispatch({questionItems:f.questionItems.concat({fieldID:"",questionMessage:a?d("MessengerAdsPartialAutomatedQuestionStrings").getDefaultQuestionMessage(a,f.account).toString():"",answerType:a||null,answerValidationEnabled:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedReplyValidationType.includes(a)||g,answers:b||null,optionalQuestionEnabled:h,optionsFormat:e||"text"})},{line:"84",module:"MessengerAdsPartialAutomatedQuestionsSectionContainer.react.js"});c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_QUESTION_ADD,data:{message:JSON.stringify(a),objective:f.objective}});a==="FIRST_NAME"?c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_ADD_FIRST_NAME_QUESTION}):a==="LAST_NAME"?c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_ADD_LAST_NAME_QUESTION}):a==="FULL_NAME"&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_ADD_FULL_NAME_QUESTION})},[f.questionItems,f.objective]);var g=i(function(a){c("AdsMessengerPACreationStateQuestionItemsAction").dispatch({questionItems:f.questionItems.filter(function(b,c){return c!==a})},{line:"132",module:"MessengerAdsPartialAutomatedQuestionsSectionContainer.react.js"}),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_QUESTION_REMOVE,data:{message:JSON.stringify(f.questionItems[a]),objective:f.objective}})},[f.questionItems,f.objective]),j=i(function(a){c("AdsMessengerPACreationStateQuestionItemsAction").dispatch({questionItems:a},{line:"150",module:"MessengerAdsPartialAutomatedQuestionsSectionContainer.react.js"}),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_QUESTION_REORDER,data:{message:JSON.stringify(a),objective:f.objective}})},[f.objective]),k=i(function(a,b){var e=f.questionItems.slice(),g=!c("areEqual")(e[b],a);e[b]=a;c("AdsMessengerPACreationStateQuestionItemsAction").dispatch({questionItems:e},{line:"169",module:"MessengerAdsPartialAutomatedQuestionsSectionContainer.react.js"});g&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CREATION_DATA_ACTION_QUESTION,data:{message:JSON.stringify(e),objective:f.objective}})},[f.questionItems,f.objective]);b=(b=c("adsAccountQE")._(f.account,"1ZOyRhlVt:2Tr52mj2BKg",{},{log:!1}))!=null?b:!1;return h.jsx(c("MessengerAdsPartialAutomatedQuestionsSection.react"),{account:f.account,disableValidation:!1,focusedIndex:a.focusedIndex,isExpanded:f.expandedSectionIDs.has(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedCreationSections.QUESTIONS),isInPostLeadQuestionsQE:b,isSkipToEnabled:!0,leadGenSAFRConfig:f.leadGenSAFRConfig,pageID:f.pageID,questionItems:f.questionItems,sectionValidationErrors:a.sectionValidationErrors,setFocusedIndex:a.setDialogFocusedIndex,showError:a.showError,showPersonalization:!0,onAddQuestion:e,onQuestionItemChange:k,onRemoveQuestion:g,onSetQuestions:j})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("InstagramLeadGenMessageTemplateConvertFormTabSection.react",["fbt","ix","AdsInterfacesLogger","AdsMessengerConstants","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorUtils","AdsUEditorAdgroupSetPageWelcomeMessageDataAction","DateTime","GeoButton.react","GeoRadioList.react","GeoRadioListItem.react","GeoScrollableArea.react","Image.react","MessengerAdsPartialAutomatedDialogContainer.react","MessengerAdsPartialAutomatedFormDataManager","geoMargin","isStringNullOrEmpty","react","stylex","useJSON"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useState,n={scrollableArea:{maxHeight:"x1iuus0c"}},o="Converted Chat "+c("DateTime").localNow().format("m-d-y"),p="-converted";function a(a){var b=m(!1),e=b[0],f=b[1],g=c("useJSON")(a.welcomeMessage);b=a.eligibleLeadFormsList.length===0?null:a.eligibleLeadFormsList[0];if(!c("isStringNullOrEmpty")(a.welcomeMessage)&&a.shouldAutoConvert){var q=g.original_lead_form_id,r=a.eligibleLeadFormsList.filter(function(a){return a.id===q});r.length>0&&(b=r[0])}r=m(b);var s=r[0],t=r[1];b=m(s==null?o:(s==null?void 0:s.name)+p);r=b[0];var u=b[1],v=k(function(){f(!0),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CONVERT_LEAD_FORMS_CONVERT_TO_CHAT,data:{objective:a.objective,message:s==null?void 0:s.id}})},[a.objective,s]),w=k(function(e,f){var b=g.original_lead_form_id;if(b===f)return;b=a.adgroupIDs;if(b==null)return;var h=d("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(a.pageID),i=a.hostID;h.landing_screen_type=c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW;h.ctm_lead_gen_template_id=e;h.is_visible=!1;h.original_lead_form_id=f;c("AdsUEditorAdgroupSetPageWelcomeMessageDataAction").dispatch({hostID:i,adgroupIDs:b,pageWelcomeMessage:JSON.stringify(h)},{line:"142",module:"InstagramLeadGenMessageTemplateConvertFormTabSection.react.js"})},[a.adgroupIDs,a.hostID,a.pageID,g.original_lead_form_id]);l(function(){var b=!0,c=a.pageID;if(s==null||c==null)return;var e=a.onConvertedStepListStateChange;e(null);d("MessengerAdsPartialAutomatedFormDataManager").convertLeadForm(c,String(s.id),function(c,f){if(a.selectedTab!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CONVERT_FORM||!b)return;a.shouldAutoConvert&&w(c,String(s.id));d("MessengerAdsPartialAutomatedFormDataManager").fetchAndLoadLeadGenTemplate(c,a.account,{convertedLeadFormID:s.id,showConvertFormsCard:f>0,onConvertFormSuccess:function(a){e(a)}})});return function(){b=!1}},[a.adgroupIDs,a.pageID,a.account,s,a.onConvertedStepListStateChange,w,a.shouldAutoConvert,a.selectedTab]);function x(b){if(b==null)return;t(b);u(s==null?o:(b==null?void 0:b.name)+p);c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_CONVERT_LEAD_FORMS_SELECT_FORM,data:{objective:a.objective,message:b.id}})}var y=a.shouldAutoConvert?d("AdsMessengerConstants").DUPLICATE:h._("Convert to chat"),z=a.shouldAutoConvert?j.jsx(c("Image.react"),{src:i("422636")}):j.jsx(c("Image.react"),{src:i("363753")});return j.jsxs("div",{className:c("stylex")(c("geoMargin").vert8),children:[j.jsx(c("GeoScrollableArea.react"),{direction:"vertical",xstyle:n.scrollableArea,children:a.eligibleLeadFormsList.map(function(a){return j.jsxs("div",{className:c("stylex")(c("geoMargin").vert4),children:[j.jsx(c("GeoRadioList.react"),{isLabelHidden:!0,label:"Convert forms",value:s,onChange:x,children:j.jsx(c("GeoRadioListItem.react"),{label:a.name,value:a},a.id)}),a.id===(s==null?void 0:s.id)&&j.jsx("div",{style:{display:"inline"},children:j.jsx(c("GeoButton.react"),{icon:z,label:y,xstyle:[c("geoMargin").end8,c("geoMargin").top4],onClick:v})})]},a.id)})}),j.jsx(c("MessengerAdsPartialAutomatedDialogContainer.react"),{convertedStepListState:a.convertedStepListState,isShown:e,selectedTemplateName:r,shouldAutoConvert:a.shouldAutoConvert,onToggle:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramLeadGenMessageTemplateConvertFormTabSectionContainer.react",["AdsFluxHooks","AdsUEditorHooks","InstagramLeadGenMessageTemplateConvertFormTabSection.react","adsCreateSelector","adsUEditorSelectedAdgroupIDsSelector","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupIDsSelector")],function(a){return{adgroupIDs:a}},{name:f.id+".AdsMessengerPartialAutomatedConvertFormsSelector"});function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(i);b=b.state;var e=d("AdsUEditorHooks").useUEditorAdgroupContext();return h.jsx(c("InstagramLeadGenMessageTemplateConvertFormTabSection.react"),{account:a.account,adgroupIDs:b.adgroupIDs,convertedStepListState:a.convertedStepListState,eligibleLeadFormsList:a.eligibleLeadFormsList,hostID:e.hostID,objective:a.objective,pageID:a.pageID,selectedTab:a.selectedTab,shouldAutoConvert:a.shouldAutoConvert,welcomeMessage:a.welcomeMessage,onConvertedStepListStateChange:a.onConvertedStepListStateChange})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("InstagramLeadGenMessageTemplateSection.react",["AdsInterfacesLogger","AdsMessengerPartialAutomatedLoggerEvents","GeoSpinner.react","InstagramLeadGenMessageTemplateSectionTabs.react","MessengerAdsPartialAutomatedFormDataManager","adsMessengerDataModelGetTemplateIDForCTMLeadGen","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(a){if(a==null)return;e.props.onJSONChange(JSON.parse(a));a=c("adsMessengerDataModelGetTemplateIDForCTMLeadGen")(JSON.parse(a));d("MessengerAdsPartialAutomatedFormDataManager").fetchAndLoadLeadGenTemplate(String(a),e.props.account);c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_SELECT_EXISTING_LEAD_GEN,data:{objective:e.props.objective}})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){return this.props.pageID==null||this.props.isExistingTemplatesListLoading?h.jsx("div",{className:"x1gryazu xkrivgy x78zum5 x6s0dn4",children:h.jsx(c("GeoSpinner.react"),{})}):h.jsx(c("InstagramLeadGenMessageTemplateSectionTabs.react"),{account:this.props.account,campaignGroupIDs:this.props.campaignGroupIDs,campaignIDs:this.props.campaignIDs,editorType:this.props.editorType,eligibleLeadFormsList:this.props.eligibleLeadFormsList,existingTemplatesList:this.props.existingTemplatesList,isCBO:this.props.isCBO,isLeadGenWarningEligible:this.props.isLeadGenWarningEligible,isUnifiedCreation:this.props.isUnifiedCreation,objective:this.props.objective,pageID:this.props.pageID,selectedTemplate:this.props.selectedTemplate,shouldAutoConvert:!1,welcomeMessage:this.props.welcomeMessage,onSelectedRowIndexChange:this.$1,onTabChange:this.props.onTabChange})};return b}(h.Component);g["default"]=a}),98);
__d("InstagramLeadGenMessageTemplateSectionTabs.react",["fbt","AdsInterfacesLogger","AdsMessengerContentEditorTabs","AdsMessengerPartialAutomatedCreationTypes","AdsMessengerPartialAutomatedLoggerEvents","GeoBadge.react","GeoBaseText.react","GeoTab.react","GeoTabGroup.react","InstagramLeadGenMessageTemplateConvertFormTabSectionContainer.react","InstagramLeadGenMessageTemplateUseExistingTabSection.react","MessengerAdsPartialAutomatedCreation.react","MessengerAdsPartialAutomatedLowLeadsWarning.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState,l=h._("number of existing chats"),m=h._("number of lead ads forms eligible for conversion");function a(a){var b=a.editorType===c("AdsMessengerContentEditorTabs").USE_EXISTING?d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CONVERT_FORM;b=k(b);var e=b[0],f=b[1];b=k(null);var g=b[0];b=b[1];j(function(){a.editorType===c("AdsMessengerContentEditorTabs").USE_EXISTING&&e!==d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING&&f(d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING)},[a.editorType,e]);function n(b){a.onTabChange(b===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING?c("AdsMessengerContentEditorTabs").USE_EXISTING:c("AdsMessengerContentEditorTabs").CREATE_NEW),f(b),c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_SELECT_LEAD_GEN_OBJECTIVE_TAB,data:{objective:a.objective,message:b}})}var o=a.shouldAutoConvert?h._("Converted form"):h._("Convert form"),p=a.shouldAutoConvert?h._("Existing chat"):h._("Use existing"),q=a.shouldAutoConvert?h._("A message template that has been converted from an instant form to a chat compatible with Instagram"):null,r=a.existingTemplatesList.length===0?i.jsx("div",{className:"x14vqqas x1i64zmx",children:i.jsx(c("GeoBaseText.react"),{color:"value",isDisabled:!0,size:"value",children:h._("You haven't saved any templates yet. When you save a template, it will be shown here to use in future campaigns.")})}):i.jsxs(i.Fragment,{children:[i.jsx(c("InstagramLeadGenMessageTemplateUseExistingTabSection.react"),{existingTemplatesList:a.existingTemplatesList,objective:a.objective,pageID:a.pageID,selectedTemplate:a.selectedTemplate,shouldAutoConvert:a.shouldAutoConvert,welcomeMessage:a.welcomeMessage,onSelectedRowIndexChange:a.onSelectedRowIndexChange}),i.jsx(c("MessengerAdsPartialAutomatedLowLeadsWarning.react"),{account:a.account,campaignGroupIDs:a.campaignGroupIDs,campaignIDs:a.campaignIDs,isCBO:a.isCBO,isLeadGenWarningEligible:a.isLeadGenWarningEligible,welcomeMessage:a.welcomeMessage})]});r=e===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING&&r;b=e===d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CONVERT_FORM&&i.jsx(c("InstagramLeadGenMessageTemplateConvertFormTabSectionContainer.react"),{account:a.account,convertedStepListState:g,eligibleLeadFormsList:a.eligibleLeadFormsList,objective:a.objective,pageID:a.pageID,selectedTab:e,shouldAutoConvert:a.shouldAutoConvert,welcomeMessage:a.welcomeMessage,onConvertedStepListStateChange:b});var s=a.existingTemplatesList.length,t=a.eligibleLeadFormsList.length;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"x13rgm9e xieb3on",children:i.jsx("div",{className:"xieb3on",children:i.jsx(c("MessengerAdsPartialAutomatedCreation.react"),{account:a.account,convertedStepListState:g,isUnifiedCreation:a.isUnifiedCreation,objective:a.objective,shouldAutoConvert:a.shouldAutoConvert})})}),i.jsxs(c("GeoTabGroup.react"),{value:e,onChange:n,children:[i.jsx(c("GeoTab.react"),{badge:i.jsx(c("GeoBadge.react"),{label:m,status:"info",value:t}),label:o,tooltip:q,value:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.CONVERT_FORM}),i.jsx(c("GeoTab.react"),{badge:i.jsx(c("GeoBadge.react"),{label:l,status:"info",value:s}),label:p,value:d("AdsMessengerPartialAutomatedCreationTypes").AdsMessengerPartialAutomatedLeadGenObjectiveTabs.USE_EXISTING})]}),b,r]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramLeadGenMessageTemplateUseExistingTabRadioButtonSection.react",["fbt","ix","AdsMessengerConstants","GeoButton.react","GeoRadioList.react","GeoRadioListItem.react","GeoScrollableArea.react","Image.react","MessengerAdsPartialAutomatedDialogContainer.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={scrollableArea:{maxHeight:"x1iuus0c"}};function a(a){var b;b=a.isEditDisabled===!0?a.welcomeMessage:(b=a.selectedTemplate)==null?void 0:b.page_welcome_message_body;var e=(b=b)!=null?b:a.filteredExistingTemplate[0].page_welcome_message_body;return j.jsxs("div",{className:c("stylex")(c("geoMargin").vert8),"data-testid":void 0,children:[j.jsx(c("GeoScrollableArea.react"),{direction:"vertical",xstyle:k.scrollableArea,children:a.filteredExistingTemplate.map(function(b){return j.jsxs("div",{className:c("stylex")(c("geoMargin").vert4),children:[j.jsx(c("GeoRadioList.react"),{isLabelHidden:!0,label:"Use Existing Templates",value:e,onChange:a.onSelectedRowIndexChange,children:j.jsx(c("GeoRadioListItem.react"),{label:b.template_name,value:b.page_welcome_message_body},b.id)}),b.page_welcome_message_body===e&&j.jsx("div",{style:{display:"inline"},children:!a.isEditDisabled&&j.jsx(c("GeoButton.react"),{icon:a.shouldAutoConvert?j.jsx(c("Image.react"),{src:i("422636")}):j.jsx(c("Image.react"),{src:i("363753")}),label:a.shouldAutoConvert?d("AdsMessengerConstants").DUPLICATE:h._("Duplicate and edit"),xstyle:[c("geoMargin").end8,c("geoMargin").top4],onClick:a.onClickDuplicate})})]},b.id)})}),j.jsx(c("MessengerAdsPartialAutomatedDialogContainer.react"),{isShown:a.showCTMLeadGenDialog,selectedTemplateName:a.selectedCTMLeadGenTemplateName,shouldAutoConvert:a.shouldAutoConvert,onToggle:a.onToggle})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstagramLeadGenMessageTemplateUseExistingTabSection.react",["AdsInterfacesLogger","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerUtils","AdsMessengerVisualEditorUtils","InstagramLeadGenMessageTemplateUseExistingTabRadioButtonSection.react","adsMessengerDataModelGetTemplateVersion","getByPath","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var b=i(!1),e=b[0],f=b[1];b=!1;var g=!1,j=a.existingTemplatesList;if(a.selectedTemplate!=null){var k=d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(a.pageID,a.selectedTemplate.page_welcome_message_body);b=c("getByPath")(k,["is_visible"])===!1;var l=d("AdsMessengerVisualEditorUtils").parseWelcomeMessage(a.pageID,a.welcomeMessage);k=c("adsMessengerDataModelGetTemplateVersion")(k);l=c("adsMessengerDataModelGetTemplateVersion")(l);(b||l!==k)&&(g=!0,j=a.existingTemplatesList.map(function(b){if(a.selectedTemplate!=null&&a.selectedTemplate.id===b.id){var c=babelHelpers["extends"]({},b);c.page_welcome_message_body=a.welcomeMessage;return c}return b}))}b=a.selectedTemplate&&d("AdsMessengerUtils").getCTMLeadGenTemplateName(a.selectedTemplate.template_name);return h.jsx(c("InstagramLeadGenMessageTemplateUseExistingTabRadioButtonSection.react"),{filteredExistingTemplate:j,isEditDisabled:g,selectedCTMLeadGenTemplateName:b,selectedTemplate:a.selectedTemplate,shouldAutoConvert:a.shouldAutoConvert,showCTMLeadGenDialog:e,welcomeMessage:a.welcomeMessage,onClickDuplicate:n,onSelectedRowIndexChange:a.onSelectedRowIndexChange,onToggle:m});function m(a){f(a)}function n(){c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_DUPLICATE_CTM_LEAD_GEN,data:{objective:a.objective}}),m(!0)}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AdsMessengerPartialAutomatedCreationSelectors",["AdsAPIObjectives","AdsAdgroupSemanticFields","AdsBulkValueUtils","AdsCampaignGroupRecordAccessors","AdsInterfacesLogger","AdsMessengerLeadGenHOPEligibilityDataProvider","AdsMessengerPartialAutomatedCreationErrorDataProvider","AdsMessengerPartialAutomatedCreationStateDataProvider","AdsMessengerPartialAutomatedLoggerEvents","AdsMessengerUtils","AdsMessengerVideoPreviewStore","AdsPageStore","AdsSAFRSelectors","AdsUEditorAdgroupBulkSelectors","AdsUEditorMessengerContentEditorSelectors","AdsUEditorSelectors","adsCreateSelector","adsCreateStoreThunkSelector","adsMessengerDataModelGetTemplateIDForCTMLeadGen","adsStoreToSelector","adsUEditorAccountSelector","adsUEditorSelectedAdgroupIDsSelector","adsUEditorUseExistingPostSelector","getByPath"],(function(a,b,c,d,e,f,g){"use strict";a=d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").pageID.get);b=c("adsCreateSelector")([c("adsUEditorAccountSelector"),d("AdsUEditorMessengerContentEditorSelectors").adsUEditorPageWelcomeMessageSelector,c("adsUEditorSelectedAdgroupIDsSelector"),a,c("AdsMessengerPartialAutomatedCreationErrorDataProvider").toFluxSelector(),c("adsCreateStoreThunkSelector")(c("AdsPageStore"),function(a){return c("AdsPageStore").get(a)}),c("adsUEditorUseExistingPostSelector"),d("AdsUEditorAdgroupBulkSelectors").pageID],function(a,b,e,f,g,h,i,j){i=i?j:f;j=d("AdsBulkValueUtils").getUniformValueOrDefault(i,null);f=j!=null?h(j):null;i=f?f.name:null;h=c("adsMessengerDataModelGetTemplateIDForCTMLeadGen")(b);return{account:a,adgroupIDs:e,errorMessage:g.errorMessage,page:f,pageID:j,pageName:i,profileSrc:f==null?void 0:(a=f.picture)==null?void 0:(e=a.data)==null?void 0:e.url,pageWelcomeMessage:b,responsiveness:(f==null?void 0:(g=f.get_started_nullstate)==null?void 0:g.responsiveness)||"",templateID:h}},{name:f.id+".AdsMessengerPartialAutomatedCreationSelector"});e=c("adsCreateSelector")([b,c("AdsMessengerPartialAutomatedCreationStateDataProvider").toFluxSelector(),c("adsStoreToSelector")(c("AdsMessengerVideoPreviewStore")),c("AdsMessengerLeadGenHOPEligibilityDataProvider").toFluxSelector(),c("adsUEditorUseExistingPostSelector"),d("AdsSAFRSelectors").adsLeadGenConfigSelector,d("AdsUEditorSelectors").campaignGroup.bulkByAccessor(c("AdsCampaignGroupRecordAccessors").objective.get)],function(a,b,e,f,g,i,j){var k;e=a.pageID;j=d("AdsBulkValueUtils").getUniformValueOrDefault(j,c("AdsAPIObjectives").NONE);var l=a.page,m=l!=null&&l.privacy_info_url!=null?l.privacy_info_url:"";m=(k=b.privacyURL)!=null?k:m;m!=null&&m!==""&&c("AdsInterfacesLogger").log({eventName:d("AdsMessengerPartialAutomatedLoggerEvents").CTM_LEAD_GEN_EXISTING_PRIVACY_LINK});k=l!=null?c("getByPath")(l,["userpermissions","data","0","role"]):null;var n=h(b.introMessage,e),o=h(b.confirmationMessage,e);f=e==null?null:f.get(e);return{account:a.account,additionalQuestionItems:b.additionalQuestionItems,adgroupIDs:a.adgroupIDs,confirmationAttachment:b.confirmationAttachment,confirmationMessage:b.confirmationMessage,confirmationVideoPreview:o,confirmationCTA:b.confirmationCTA,customInvalidTextFields:b.customInvalidTextFields,disqualifyMessage:b.disqualifyMessage,errorMessage:a.errorMessage,expandedSectionIDs:b.expandedSectionIDs,followUpMessage:b.followUpMessage,hopAppSetting:b.hopAppSetting,hopAppData:f,introMessage:b.introMessage,introVideoPreview:n,isExistingPost:g,leadGenSAFRConfig:i,objective:j,page:l,pageID:e,pageName:a.pageName,pageRole:k,pageWelcomeMessage:a.pageWelcomeMessage,privacyPolicyURL:m,profileSrc:a.profileSrc,questionItems:b.questionItems,questionsCompleteMessage:b.questionsCompleteMessage,reminderText:b.reminderText,responsiveness:a.responsiveness,showErrorDialog:!!a.errorMessage,showConvertFormsCard:b.showConvertFormsCard,stopQuestionMessage:b.stopQuestionMessage,templateID:a.templateID}},{name:f.id+".AdsMessengerPartialAutomatedCreationDialogContainerSelector"});function h(a,b){if(a!=null&&a.media_type==="video"&&b!=null){a=d("AdsMessengerUtils").getMessengerVideoKey(Number(a.media_content),b);b=c("AdsMessengerVideoPreviewStore").get(a);a=b?b.getValue():null;return a==null?void 0:a.url}return null}g.AdsMessengerPartialAutomatedCreationSelector=b;g.AdsMessengerPartialAutomatedCreationDialogContainerSelector=e}),98);
__d("AdsUEditorMessengerContentEditorSelectors",["AdCampaignDestination","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAdgroupRecordAccessors","AdsAdgroupSemanticFields","AdsBulkValueUtils","AdsCampaignGroupRecordAccessors","AdsCampaignRecordAccessors","AdsMessengerCTMAdsAPI","AdsMessengerJSONMediaFormatType","AdsMessengerJSONPaths","AdsMessengerLeadGenDefaultSwitchBackCountDataProvider","AdsMessengerLeadGenDefaultSwitchBackDataProvider","AdsMessengerLeadGenInLGObjectiveWarningLowLeadsDataProvider","AdsMessengerLeadGenInLeadGenObjectiveUpsellDataProvider","AdsMessengerLeadGenSeenDefaultingDataProvider","AdsMessengerOrdersDataProvider","AdsMessengerPageWelcomeMessageListDataProvider","AdsMessengerPartialAutomatedCreationStateDataProvider","AdsMessengerPhoneNumberDataProvider","AdsMessengerUtils","AdsMessengerVideoPreviewStore","AdsMessengerVideoStore","AdsMessengerVisualEditorCustomerActionType","AdsMessengerVisualEditorLandingScreenType","AdsMessengerVisualEditorUtils","AdsPageStore","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupLeadGenSelectors","AdsUEditorCampaignDeliveryEstimateSelectors","AdsUEditorHostIDs","AdsUEditorMessagesObjectiveUnifiedCreationSelectors","AdsUEditorSelectors","AdsUEditorUnifiedCreationUtils","AdsUnifiedCreativeAPIFields","AdsUniformValue","LoadObject","MessageTemplateClickToMessageSectionContainer.react","PagesReplyComposerActions","PagesReplyComposerDispatcher","PagesReplyComposerStore","adsAccountGK","adsAdgroupMessengerWelcomeMessageValidationValidateCTMLeadGen","adsCreateSelector","adsCreateStoreSelector","adsCreateStructuredSelector","adsGetUniformValueSelector","adsMessengerDataModelGetLandingScreenType","adsMessengerDataModelGetMediaFormat","adsMessengerDataModelGetVideoID","adsODAXShouldUseExistingPostForLeadsSelector","adsStoreToSelector","adsUEditorAccountIDSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorAdgroupExistingPostCTAFieldSelector","adsUEditorAdgroupLinkDescriptionFieldSelector","adsUEditorAdgroupMessageFieldSelector","adsUEditorAdgroupPublishStatusSelector","adsUEditorCampaignDebugBulkSpecSelector","adsUEditorCampaignDebugOriginalBulkSpecSelector","adsUEditorCampaignOptimizationGoalEditorContainerSelector","adsUEditorHostIDSelector_ASK_AFEI_BEFORE_USING","adsUEditorSelectedAdgroupIDsSelector","adsUEditorSelectedCampaignGroupIDsSelector","adsUEditorSelectedCampaignIDsSelector","adsUEditorUseExistingPostSelector","getByPath","immutable","isTruthy","jsondiffpatch"],(function(a,b,c,d,e,f,g){"use strict";var h=d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").pageID.get);a=d("AdsUEditorAdgroupBulkSelectors").errorMessageSelectorByCreativeField(c("AdsUnifiedCreativeAPIFields").pageWelcomeMessage);b=d("AdsUEditorAdgroupBulkSelectors").errorMessageSpecSelectorByPath(c("AdsAPIAdgroupPaths").CREATIVE.MESSENGER_SPONSORED_MESSAGE);e=d("AdsUEditorAdgroupBulkSelectors").errorMessageSelectorByCreativeField(c("AdsUnifiedCreativeAPIFields").pageWelcomeMessage);var i=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.object_id.get),j=c("adsCreateSelector")([d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").pageWelcomeMessage.get),d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").destination_type.get),h],function(a,b,e){var f=c("AdsMessengerJSONMediaFormatType").TEXT;b=d("AdsBulkValueUtils").getUniformValue(b);a=a instanceof c("AdsUniformValue")?d("AdsBulkValueUtils").getUniformValue(a):null;e=d("AdsBulkValueUtils").getUniformValue(e,null);if(!a&&b===c("AdCampaignDestination").WHATSAPP)return d("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSONWithDestination(e,b);a||(a=d("AdsMessengerVisualEditorUtils").getLastUsedPageWelcomeMessage(e));if(!a)return d("AdsMessengerVisualEditorUtils").getVisualEditorDefaultJSON(e,"visual_editor",f);else try{return JSON.parse(a)}catch(a){return d("AdsMessengerVisualEditorUtils").getVisualEditorDefaultJSON(e,"visual_editor",f)}},{name:f.id}),k=c("adsCreateSelector")([c("AdsMessengerPhoneNumberDataProvider").toFluxSelector(),c("adsUEditorAdgroupLinkDescriptionFieldSelector"),d("adsUEditorAdgroupMessageFieldSelector").bulkMessageSelector],function(a,b,c){c=d("AdsBulkValueUtils").getUniformValueOrDefault(c);b=b.renderUsingDCO?null:b.value;b=d("AdsBulkValueUtils").getUniformValueOrDefault(b);return{phoneNumberData:a,adPrimaryText:c,adDescriptionText:b}},{name:f.id+".phoneNumberSectionSelector"}),l=c("adsCreateSelector")([d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.messenger_sponsored_message.get),d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").destination_type.get)],function(a,b){a=a instanceof c("AdsUniformValue")?a.getValue():null;var e=c("AdsMessengerJSONMediaFormatType").TEXT,f=i;f=f instanceof c("AdsUniformValue")?f.getValue():null;b=d("AdsBulkValueUtils").getUniformValue(b);a=a==null?d("AdsMessengerVisualEditorUtils").getVisualEditorDefaultWelcomeMessageString(b,f):a;if(!a)return d("AdsMessengerVisualEditorUtils").getVisualEditorDefaultJSONWithDestination(b,f,"sponsored_messages",e);else try{return JSON.parse(a)}catch(a){return d("AdsMessengerVisualEditorUtils").getVisualEditorDefaultJSON(f,"sponsored_messages",e)}},{name:f.id+".adsUEditorMessengerSponsoredMessageSelector"}),m=c("adsCreateSelector")([d("AdsUEditorAdgroupBulkSelectors").pageID,d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").pageWelcomeMessage.get)],function(a,b){b=d("AdsBulkValueUtils").getUniformValueOrDefault(b,null);var e=c("AdsMessengerJSONMediaFormatType").TEXT;a=d("AdsBulkValueUtils").getUniformValueOrDefault(a,null);if(!b)return d("AdsMessengerVisualEditorUtils").getVisualEditorDefaultJSON(a,"visual_editor",e);else try{return JSON.parse(b)}catch(b){return d("AdsMessengerVisualEditorUtils").getVisualEditorDefaultJSON(a,"visual_editor",e)}},{name:f.id+".adsUEditorExistingPostPageWelcomeMessageMessageSelector"}),n=c("adsCreateSelector")([c("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){return a.every(function(a){return d("AdsMessengerUtils").isMessengerSponsoredMessageSelected(a.campaign)})},{name:f.id+".isMessengerSponsoredMessageSelector"}),o=c("adsCreateSelector")([d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").targeting.facebook_positions.get)],function(a){a=d("AdsBulkValueUtils").getUniformValueOrDefault(a,null);return a!=null&&a.contains("feed")},{name:f.id+".isFBFeedEnabledSelector"}),p=c("adsCreateSelector")([d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").targeting.instagram_positions.get)],function(a){a=d("AdsBulkValueUtils").getUniformValueOrDefault(a,null);return a==null},{name:f.id+".noIGPlacementSelector"});function q(a,b,d,e){var f={videoID:null,videoURL:null,isLoading:!1,videoErrorSpec:null};if(d)return f;d=b instanceof c("AdsUniformValue")&&b.getValue();if(!d)return f;if(c("adsMessengerDataModelGetMediaFormat")(a)!==c("AdsMessengerJSONMediaFormatType").VIDEO)return f;b=c("adsMessengerDataModelGetVideoID")(a);if(b&&e.isEmpty())return babelHelpers["extends"]({},s(b,d),{videoID:b,videoErrorSpec:null});return!e.isEmpty()?r(e,d):f}function r(a,b){var c=t(a),d=a.isLoading(),e={videoID:null,videoURL:null,isLoading:d,videoErrorSpec:c};if(!a.hasValue())return e;a=a.getValue();if(!a)return e;a=a.videoID;if(!a)return e;e=s(a,b);b=e.videoURL;e=e.isLoading;d=d||e;return{isLoading:d,videoErrorSpec:c,videoID:a,videoURL:b}}function s(a,b){a=d("AdsMessengerUtils").getMessengerVideoKey(a,b);b=c("AdsMessengerVideoPreviewStore").get(a);a=b.getValue();return{videoURL:a?a.url:null,isLoading:b.isLoading()}}function t(a){if(!a.hasError())return null;a=c("getByPath")(a.getError(),["message"]);return a?JSON.parse(a):null}function u(a,b){if(a!=null&&a.media_type==="video"&&b!=null)return s(Number(a.media_content),b).videoURL;else return null}l=c("adsCreateSelector")([l,j,m,d("AdsUEditorAdgroupBulkSelectors").pageID,c("adsUEditorAdgroupExistingPostCTAFieldSelector"),h,c("adsUEditorAccountSelector"),a,n,i,b,e,c("adsUEditorUseExistingPostSelector"),c("adsStoreToSelector")(c("AdsMessengerVideoStore")),c("adsStoreToSelector")(c("AdsMessengerVideoPreviewStore")),c("AdsMessengerPartialAutomatedCreationStateDataProvider").toFluxSelector(),d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").destination_type.get),c("adsUEditorHostIDSelector_ASK_AFEI_BEFORE_USING"),o,p,k,c("AdsMessengerOrdersDataProvider").toFluxSelector()],function(a,b,e,f,g,h,i,j,k,l,m,n,o,p,r,s,t,v,w,x,y,z){k?(r=a,a=l,l=d("AdsBulkValueUtils").getUniformValueOrDefault(m,null)):o?(r=e,a=f,l=d("AdsBulkValueUtils").getUniformValueOrDefault(n,null)):(r=b,a=h,l=d("AdsBulkValueUtils").getUniformValueOrDefault(j,null));m=s.introMessage;e=s.confirmationMessage;f=c("adsMessengerDataModelGetLandingScreenType")(r);n=d("AdsBulkValueUtils").getUniformValueOrDefault(a,null);b=null;h=null;f===c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW&&(b=u(m,n),h=u(e,n));j=q(r,a,k,p);f=j.videoID;p=j.videoURL;var A=j.isLoading;j=j.videoErrorSpec;j=j||l;l=!!d("AdsMessengerCTMAdsAPI").getIsMessengerPlatformBotGetStartedEnabled(n);n=d("AdsBulkValueUtils").getUniformValue(t);g=(t=g.ctaSelectorData.getValue())==null?void 0:t.bulkPostCTAType;t=g!=null?d("AdsBulkValueUtils").getUniformValue(g,null):null;g=(n===c("AdCampaignDestination").INSTAGRAM_DIRECT||n===c("AdCampaignDestination").MESSAGING_INSTAGRAM_DIRECT_WHATSAPP)&&w;return{account:i,accountID:i.account_id,confirmationMessage:e,confirmationVideoPreview:h,ctaType:t,defaultFormatType:c("AdsMessengerJSONMediaFormatType").TEXT,destinationType:n,errorSpec:j,followUpMessage:s.followUpMessage,hostID:v,introMessage:m,introVideoPreview:b,isCTDOnFBFeedEnabled:g,isExistingPost:o,isGetStartedEnabled:l,isLoading:A,isSponsoredMessage:k,json:r,noIGPlacement:x,ordersData:z,pageID:a,phoneNumberSectionData:y,questionItems:s.questionItems,videoID:f,videoURL:p}},{name:f.id});b=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupIDsSelector"),l,d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").destination_type.get)],function(a,b,c){c=d("AdsBulkValueUtils").getUniformValue(c);return{accountID:b.accountID,defaultFormatType:b.defaultFormatType,destinationType:c,errorSpec:b.errorSpec,ids:a,isGetStartedEnabled:b.isGetStartedEnabled&&!b.isSponsoredMessage,isLoading:b.isLoading,isSponsoredMessage:b.isSponsoredMessage,isSuggestedReply:!0,json:b.json,pageID:b.pageID,videoID:b.videoID,videoURL:b.videoURL}},{name:f.id});o=c("adsCreateSelector")([d("AdsUEditorSelectors").campaignGroup.bulkByAccessor(c("AdsCampaignGroupRecordAccessors").objective.get),d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").destination_type.get),n],function(a,b,e){a=d("AdsBulkValueUtils").getUniformValue(a,c("AdsAPIObjectives").NONE);b=d("AdsBulkValueUtils").getUniformValue(b);return{destinationType:b,isSponsoredMessage:e,objective:a}},{name:f.id});var v=c("adsCreateStructuredSelector")({welcomeMessageList:c("AdsMessengerPageWelcomeMessageListDataProvider").toFluxSelector()},f.id+".pageWelcomeMessageListSelector");p=c("adsCreateSelector")([c("adsUEditorUseExistingPostSelector"),d("AdsUEditorAdgroupBulkSelectors").pageID,h,v],function(a,b,e){a=a?b:e;b=d("AdsBulkValueUtils").getUniformValueOrDefault(a,null);e=!1;if(!b)return{customTemplatesList:[],isCustomTemplatesListLoading:e};a=v().welcomeMessageList.get(b);e=a.isLoading();if(!e){b=a.getValue();b&&(b=b.data.filter(function(a){var b=!(a&&a.template_name&&a.time_created&&a.page_welcome_message_body);if(b)return!1;try{b=JSON.parse(a.page_welcome_message_body);a=c("getByPath")(b,["landing_screen_type"]);return a!==c("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP}catch(a){return!0}}));return{customTemplatesList:b,isCustomTemplatesListLoading:e}}return{customTemplatesList:[],isCustomTemplatesListLoading:e}},{name:f.id});n=c("adsCreateStoreSelector")(function(a){return[].concat(j.getStores(a),h.getStores(a),m.getStores(a),d("AdsUEditorAdgroupBulkSelectors").pageID.getStores(a),c("adsUEditorUseExistingPostSelector").getStores(a),[c("AdsMessengerVideoStore"),c("AdsMessengerVideoPreviewStore")])},function(a){var b=c("adsUEditorUseExistingPostSelector")(a),e=b?m(a):j(a);b=b?d("AdsUEditorAdgroupBulkSelectors").pageID(a):h(a);return q(e,b,!1,c("AdsMessengerVideoStore").getState())},{name:f.id+".AdsUEditorMessengerExperienceVideoSelector"});var w="MessengerJSONPreview",x=c("adsCreateSelector")([n,p,d("AdsUEditorAdgroupBulkSelectors").pageID,d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").pageWelcomeMessage.get),c("adsUEditorUseExistingPostSelector"),c("adsODAXShouldUseExistingPostForLeadsSelector")],function(a,b,e,f,g,h){if(g===!1)return{isVideoLoading:void 0};g=d("AdsBulkValueUtils").getUniformValueOrDefault(f,null);f=null;var i=null;h?c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW:c("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE;if(g==null)return babelHelpers["extends"]({},b);h=null;try{h=JSON.parse(g)}catch(a){e=d("AdsBulkValueUtils").getUniformValueOrDefault(e,null);h=d("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSON(e)}var j=c("getByPath")(h,c("AdsMessengerJSONPaths").TEMPLATE_ID);e=b.customTemplatesList;e&&e.some(function(a){return a.id===j})&&(f=e.find(function(a){return a.id===j}),i=j);e=c("adsMessengerDataModelGetLandingScreenType")(h);return babelHelpers["extends"]({},b,{isVideoLoading:a.isLoading,landingScreenType:e,selectedTemplate:f,selectedTemplateID:i},a,{welcomeMessage:g})},{name:f.id});n=c("adsCreateSelector")([d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").pageWelcomeMessage.get),n,h,p,c("adsUEditorUseExistingPostSelector"),d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").destination_type.get)],function(a,b,e,f,g,h){if(g===!0)return{};g=d("AdsBulkValueUtils").getUniformValueOrDefault(a,null);a=d("AdsBulkValueUtils").getUniformValueOrDefault(e,null);e=d("AdsBulkValueUtils").getUniformValue(h);h=null;var i=null,j=c("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE;if(g){var k=null;try{k=JSON.parse(g)}catch(b){g=JSON.stringify(d("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSONWithDestination(a,e))}if(k!==null){var l=c("getByPath")(k,c("AdsMessengerJSONPaths").TEMPLATE_ID),m=f.customTemplatesList;m&&m.some(function(a){return a.id===l})&&(h=m.find(function(a){return a.id===l}),i=l);j=c("adsMessengerDataModelGetLandingScreenType")(k)}}else{m=d("AdsMessengerVisualEditorUtils").getStandardTemplateDefaultJSONWithDestination(a,e);g=JSON.stringify(m)}return babelHelpers["extends"]({},f,{isVideoLoading:b.isLoading,landingScreenType:j,selectedTemplate:h,selectedTemplateID:i},b,{welcomeMessage:g})},{name:f.id});p=c("adsCreateSelector")([d("AdsUEditorAdgroupBulkSelectors").errorObjectSelectorByPaths(c("immutable").List([d("adsAdgroupMessengerWelcomeMessageValidationValidateCTMLeadGen").LEAD_GEN_TEMPLATE_ERROR_PATH]))],function(a){return d("AdsBulkValueUtils").getUniformValue(a)},{name:f.id+".inlineErrorSelector"});n=c("adsCreateSelector")([c("adsUEditorAccountSelector"),c("adsUEditorAccountIDSelector"),c("adsUEditorSelectedAdgroupIDsSelector"),d("adsUEditorSelectedCampaignGroupIDsSelector").adsUEditorSelectedCampaignGroupIDsSelector,c("adsUEditorSelectedCampaignIDsSelector"),h,n,x,a,e,c("AdsPageStore").getSelector,d("AdsUEditorMessagesObjectiveUnifiedCreationSelectors").adsUEditorCampaignMessagesUnifiedCreationSelector,c("adsUEditorUseExistingPostSelector"),d("AdsUEditorAdgroupBulkSelectors").pageID,d("AdsUEditorSelectors").campaignGroup.bulkByAccessor(c("AdsCampaignGroupRecordAccessors").objective.get),c("adsUEditorCampaignOptimizationGoalEditorContainerSelector"),d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").destination_type.get),c("AdsMessengerLeadGenInLeadGenObjectiveUpsellDataProvider").toFluxSelector(),c("AdsMessengerLeadGenSeenDefaultingDataProvider").toFluxSelector(),c("AdsMessengerLeadGenInLGObjectiveWarningLowLeadsDataProvider").toFluxSelector(),d("AdsUEditorAdgroupLeadGenSelectors").activeMultiDestinationEligibleFormsSelector,c("AdsMessengerPhoneNumberDataProvider").toFluxSelector(),c("AdsMessengerOrdersDataProvider").toFluxSelector(),d("AdsUEditorCampaignDeliveryEstimateSelectors").estimatedCampaignDailyBudgetSelector,c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").campaignGroup.bulkByAccessor(c("AdsCampaignGroupRecordAccessors").daily_budget.get)),c("AdsMessengerLeadGenDefaultSwitchBackDataProvider").toFluxSelector(),c("AdsMessengerLeadGenDefaultSwitchBackCountDataProvider").toFluxSelector(),c("adsUEditorCampaignDebugOriginalBulkSpecSelector"),c("adsUEditorCampaignDebugBulkSpecSelector"),c("adsUEditorAdgroupPublishStatusSelector"),p],function(a,b,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,x,y,z,A,B,C,D,E,F,G,H){p=o?p:h;h=d("AdsBulkValueUtils").getUniformValueOrDefault(p,null);p=o?j:i;j=p.videoErrorSpec||o?d("AdsBulkValueUtils").getUniformValueOrDefault(l,null):d("AdsBulkValueUtils").getUniformValueOrDefault(k,null);i=d("AdsMessengerCTMAdsAPI").getIsMessengerPlatformBotGetStartedEnabled(h);l=c("isTruthy")(h)?m(h):void 0;k=l==null?void 0:l.name;m=l==null?void 0:l.category;q=d("AdsBulkValueUtils").getUniformValueOrDefault(q,c("AdsAPIObjectives").NONE);s=d("AdsBulkValueUtils").getUniformValue(s);var I=q===c("AdsAPIObjectives").LEAD_GENERATION||q===c("AdsAPIObjectives").OUTCOME_LEADS,J=c("adsAccountGK")._(a,"23pjNQ3Vs");I&&p.customTemplatesList&&(p.customTemplatesList=p.customTemplatesList.filter(function(a){try{var b=d("AdsMessengerUtils").getLandingScreenType(a.page_welcome_message_body);if(J&&b===c("AdsMessengerVisualEditorLandingScreenType").WELCOME_MESSAGE){a=JSON.parse(a.page_welcome_message_body);if(d("AdsMessengerVisualEditorUtils").getWelcomeMessageDataType(a)==="JSON_SETUP")return!0}return b===c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW}catch(a){return!1}}));d("AdsUEditorUnifiedCreationUtils").isWhatsAppOrInstagramOrComboDestination(s)&&p.customTemplatesList&&(p.customTemplatesList=p.customTemplatesList.filter(function(a){a=a.page_welcome_message_body;try{var b=d("AdsMessengerUtils").getLandingScreenType(a);b=b===c("AdsMessengerVisualEditorLandingScreenType").CTM_LEAD_GEN_NEW||b===c("AdsMessengerVisualEditorLandingScreenType").FOLLOW_UP;var e=d("AdsMessengerVisualEditorUtils").getTemplateType(a),f=d("AdsMessengerVisualEditorUtils").getGreetingType(a);a=d("AdsMessengerUtils").getCustomerActionType(a);return!b&&e==="VISUAL_EDITOR"&&f===c("AdsMessengerJSONMediaFormatType").TEXT&&a===c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS}catch(a){return!1}}));d("AdsUEditorUnifiedCreationUtils").isMultiDestinationWithMessenger(s)&&p.customTemplatesList&&(p.customTemplatesList=p.customTemplatesList.filter(function(a){a=a.page_welcome_message_body;try{a=d("AdsMessengerUtils").getCustomerActionType(a);return a===c("AdsMessengerVisualEditorCustomerActionType").ICE_BREAKERS}catch(a){return!1}}));c("PagesReplyComposerActions").getActionsByKey(w).initializeStoreWithConfig({composerKey:w,initialReply:"",initialDisabled:!1,isAdsInterfaceSource:!0,pageID:h||"",placeholderText:""});c("PagesReplyComposerDispatcher").getByKey(w).explicitlyRegisterStore(c("PagesReplyComposerStore").getByKey(w));var K=c("PagesReplyComposerStore").getByKey("MessengerJSONPreview").getState(),L={account:a,adgroupIDs:c("LoadObject").withValue(e),bidStrategy:r.bidStrategy,campaignIDs:r.campaignIDs,isNewCampaign:r.isNewCampaign,hostID:c("AdsUEditorHostIDs").CREATION,objective:r.objective,promotedObjectType:r.promotedObjectType};s=s===c("AdCampaignDestination").MESSENGER;i=!!i&&!I&&s;var M=!1,N=!1,O=!1;if(h!=null){t=t.get({pageID:h,accountID:b});t.hasValueWithoutError()&&(M=t.getValueEnforcing().defaultMSGObjective&&q===c("AdsAPIObjectives").MESSAGES);t=v.get({pageID:h,accountID:b});if(t.hasValueWithoutError()){v=t.getValueEnforcing();A=Math.max(A,Number((t=B)!=null?t:0));O=A===0?!1:v*100>A*7}t=G.some(function(a){a=a.isNew;return a});if(E.hasValueWithoutError()){v=d("jsondiffpatch").diff(E.getValueEnforcing(),F);if(v==null?void 0:v.targeting){A=Object.keys(v==null?void 0:v.targeting).filter(function(a){return!a.includes("platforms")&&!a.includes("positions")});!t&&A.length!==0&&(O=!1)}}}G=e.some(function(a){return u.has(a)});E=e.some(function(a){return C.has(a)});F=d("MessageTemplateClickToMessageSectionContainer.react").messages_obj_impression_cap;if(q===c("AdsAPIObjectives").MESSAGES&&s){v=D.get({accountID:b,objective:c("AdsAPIObjectives").MESSAGES});v.hasValueWithoutError()&&v.getValueEnforcing()!==-1&&(F=v.getValueEnforcing())}return{accountID:a.account_id,adgroupIDs:e,campaignGroupIDs:f,campaignIDs:g,composerState:K,customTemplatesList:p.customTemplatesList,errorSpec:j,hasSeenLGDefaulting:G,eligibleLeadFormsList:x,isAutobid:d("AdsBulkValueUtils").getUniformValueOrDefault(r.isAutoBid,!1),isCBO:Number((t=B)!=null?t:0)>0,isCustomTemplatesListLoading:p.isCustomTemplatesListLoading,isExistingPost:o,isGetStartedEnabled:i,inlineError:H,isLeadGenObjective:I,isLeadGenDefaultingEligible:M,isLeadGenDefaultingEligibleV2:N,isLeadGenWarningEligible:O,isLoading:p.isLoading,isUnifiedCreation:n,isVideoLoading:p.isVideoLoading,landingScreenType:p.landingScreenType,objective:q,optimizationGoal:d("AdsBulkValueUtils").getUniformValue(r.optimizationGoal),optimizationParams:L,page:l,pageCategory:m,pageID:h,pageName:k,phoneNumberData:y,ordersData:z,selectedTemplate:p.selectedTemplate,selectedTemplateID:p.selectedTemplateID,videoErrorSpec:p.videoErrorSpec,videoID:p.videoID,videoURL:p.videoURL,visualEditorName:null,welcomeMessage:p.welcomeMessage,hasDefaultSwitchBack:E,defaultSwitchBackCount:F}},{name:f.id});g.adsUEditorPageWelcomeMessageSelector=j;g.phoneNumberSectionSelector=k;g.adsUEditorMessengerVisualEditorSelector=l;g.adsUEditorMessengerContentEditorSelector=b;g.adsUEditorMessageTemplateSectionWrapperSelector=o;g.adsUEditorMessengerExperienceEditorSelector=n}),98);
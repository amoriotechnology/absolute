if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("XAdPreviewErrorsV2Controller",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/ad_preview/errorsv2/",{adaccountid:{type:"Int"},adcreativeoptimizations:{type:"String"},ad_creative_optimization_type:{type:"Int"},ad_creative_optimization_option_value:{type:"Int"},ad_creative_optimization_multi:{type:"IntToIntDict"},adid:{type:"Int"},appid:{type:"Int"},assetlabel:{type:"String"},borderstyle:{type:"String"},clickable:{type:"Bool",defaultValue:!1},creative:{type:"String"},campaign:{type:"String"},campaign_group:{type:"String"},creativeid:{type:"Int"},customplaymode:{type:"Int"},dof_preview_spec:{type:"String"},dynamiccustomization:{type:"String"},editable:{type:"Bool",defaultValue:!1},enable_comment:{type:"Bool",defaultValue:!1},enablemsiteplayvideo:{type:"Bool",defaultValue:!1},enddate:{type:"Int"},formats:{type:"EnumVector",required:!0,enumType:{member:1}},hideufiinmobilefeed:{type:"Bool",defaultValue:!1},hmac:{type:"String"},ad_experience_id:{type:"Int"},imagedata:{type:"String"},preview_parent:{type:"String"},preview_shops_optimizations:{type:"StringToIntDict"},is_dco_preview_with_fixed_index:{type:"Bool",defaultValue:!1},isshared:{type:"Bool",defaultValue:!1},linksharedata:{type:"String"},loadingoverlay:{type:"String"},locale:{type:"String"},place_page_id:{type:"Int"},postdata:{type:"String"},productitemids:{type:"String"},published_adgroup_id:{type:"Int"},render_type:{type:"String"},renderingmode:{type:"String"},skip_disclaimer_for_an:{type:"Bool",defaultValue:!1},startdate:{type:"Int"},suppresslinks:{type:"Bool",defaultValue:!0},use_subscriptions:{type:"Bool",defaultValue:!1},version:{type:"String"},videodata:{type:"String"},videoautoplayable:{type:"Bool",defaultValue:!0},traffic_type:{type:"Enum",defaultValue:"public",enumType:1},request_uuid:{type:"String"},screenshot_test_render_mode:{type:"Enum",enumType:1},selectedPreviewLoadJoinID:{type:"String"},selectedPreviewLoadRequestID:{type:"String"},adsPreviewStickerSpec:{type:"String"}})}),null);
__d("AdsAdPreviewErrorsDataProviderPlugin",["AdsAdPreviewDataProviderPluginHelper","AdsPreviewErrorAllowedFormatsSitevarConfig","AdsPreviewRenderPropsAllowedFormatsSitevarConfig","AdsSelectedPreviewLoadScenarioLogger","AsyncRequest","LoadObject","LoadObjectMap","Promise","WebApiApplication","XAdPreviewErrorsV2Controller","adsPreviewGetPageletAPIVersion","cancelAnimationFrame","chunkArray","immutable","promiseDone","regeneratorRuntime","requestAnimationFrame"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=200,m=0,n=function(a,b,d){return d(function(d){return d.set(a,c("LoadObject").withValue(((d=d.get(a).getValue())!=null?d:c("immutable").Map()).merge(b)))})},o=function(a,b,d){var e;e=(e=i.get(a.context))!=null?e:c("immutable").Map();i.set(a.context,e.merge(b));e=j.get(a.context);if(e==null){b=c("requestAnimationFrame")(function(){var b;b=(b=i.get(a.context))!=null?b:c("immutable").Map();n(a,b,d);i["delete"](a.context);j["delete"](a.context)});j.set(a.context,b)}};a={initialState:function(a){return c("LoadObjectMap").createKeyed(function(e){a(function(a){m+=e.size;if(m>l){m=e.size;return a.clear().setLoading(e)}return a.setLoading(e)}),e.forEach(function(e){var f=d("AdsAdPreviewDataProviderPluginHelper").createErrorsKey(e);if(f===k.get(e.context))return;k.set(e.context,f);q(e.context);var g=!1;f=function(b){g||(a(function(a){return a.setKeyStale(b)}),g=!0)};c("promiseDone")(b("Promise").all(p(e,f).map(function(b){return b.then(function(b){return o(e,b,a)})})))})},d("AdsAdPreviewDataProviderPluginHelper").createErrorsKey)}};var p=function(a,b){var d=a.placements.filter(function(a){return c("AdsPreviewErrorAllowedFormatsSitevarConfig").ALLOWED_FORMATS.includes(a)});return c("chunkArray")(d,c("AdsPreviewRenderPropsAllowedFormatsSitevarConfig").MAX_FORMATS_PER_REQUEST).map(function(c){return r(a,c,b)})},q=function(a){var b;if(a==null)return;b=(b=h.get(a))!=null?b:{};Object.values(b).forEach(function(a){a instanceof c("AsyncRequest")&&a.abort()});i["delete"](a);b=j.get(a);b!=null&&c("cancelAnimationFrame")(b);j["delete"](a);h["delete"](a)},r=function(a,e,f){var g,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){while(1)switch(o.prev=o.next){case 0:g=c("XAdPreviewErrorsV2Controller").getURIBuilder().setEnumVector("formats",e).setInt("appid",d("WebApiApplication").getClientID()).setInt("adaccountid",a.adAccountId).setString("version",c("adsPreviewGetPageletAPIVersion")()).setString("request_uuid",a.requestUUID).setString("creative",JSON.stringify(a.creative));i=d("AdsSelectedPreviewLoadScenarioLogger").getQPLJoinID();j=d("AdsSelectedPreviewLoadScenarioLogger").makeQPLRequestID("errors");i!=null&&(g.setString("selectedPreviewLoadJoinID",i),g.setString("selectedPreviewLoadRequestID",j));k=g.getURI();l=new(c("AsyncRequest"))(k);o.next=8;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,e){var g,i=(g=h.get(a.context))!=null?g:{};h.set(a.context,i);d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestStart(j);l.setHandler(function(a){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(j);b(a);delete i[l.id];return c("AsyncRequest").suppressOnloadToken}).setErrorHandler(function(a){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(j),delete i[l.id],e(a)}).setAbortHandler(function(){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(j),delete i[l.id],f(a)}).send();i[l.id]=l}));case 8:m=o.sent;n=m.getPayload();return o.abrupt("return",c("immutable").Map(n.payload));case 11:case"end":return o.stop()}},null,this)};e=a;g["default"]=e}),98);
__d("AdsAdPreviewErrorsDataProvider",["AdsAdPreviewErrorsDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAdPreviewErrorsDataProviderPlugin"),"AdsAdPreviewErrorsDataProviderPlugin")}),null);
__d("XAdPreviewPropsV2Controller",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/ad_preview/render_props/",{adaccountid:{type:"Int"},adcreativeoptimizations:{type:"String"},ad_creative_optimization_type:{type:"Int"},ad_creative_optimization_option_value:{type:"Int"},ad_creative_optimization_multi:{type:"IntToIntDict"},adid:{type:"Int"},appid:{type:"Int"},assetlabel:{type:"String"},borderstyle:{type:"String"},clickable:{type:"Bool",defaultValue:!1},creative:{type:"String"},campaign:{type:"String"},campaign_group:{type:"String"},creativeid:{type:"Int"},customplaymode:{type:"Int"},dof_preview_spec:{type:"String"},dynamiccustomization:{type:"String"},editable:{type:"Bool",defaultValue:!1},enable_comment:{type:"Bool",defaultValue:!1},enablemsiteplayvideo:{type:"Bool",defaultValue:!1},enddate:{type:"Int"},formats:{type:"EnumVector",required:!0,enumType:{member:1}},hideufiinmobilefeed:{type:"Bool",defaultValue:!1},hmac:{type:"String"},ad_experience_id:{type:"Int"},imagedata:{type:"String"},preview_parent:{type:"String"},preview_shops_optimizations:{type:"StringToIntDict"},is_dco_preview_with_fixed_index:{type:"Bool",defaultValue:!1},isshared:{type:"Bool",defaultValue:!1},linksharedata:{type:"String"},loadingoverlay:{type:"String"},locale:{type:"String"},place_page_id:{type:"Int"},postdata:{type:"String"},productitemids:{type:"String"},published_adgroup_id:{type:"Int"},render_type:{type:"String"},renderingmode:{type:"String"},skip_disclaimer_for_an:{type:"Bool",defaultValue:!1},startdate:{type:"Int"},suppresslinks:{type:"Bool",defaultValue:!0},use_subscriptions:{type:"Bool",defaultValue:!1},version:{type:"String"},videodata:{type:"String"},videoautoplayable:{type:"Bool",defaultValue:!0},traffic_type:{type:"Enum",defaultValue:"public",enumType:1},request_uuid:{type:"String"},screenshot_test_render_mode:{type:"Enum",enumType:1},selectedPreviewLoadJoinID:{type:"String"},selectedPreviewLoadRequestID:{type:"String"},adsPreviewStickerSpec:{type:"String"}})}),null);
__d("AdsAdPreviewRenderPropsDataProviderPlugin",["AdsAdPreviewDataProviderPluginHelper","AdsPreviewRenderPropsAllowedFormatsSitevarConfig","AdsSelectedPreviewLoadScenarioLogger","AsyncRequest","LoadObject","LoadObjectMap","Promise","WebApiApplication","XAdPreviewPropsV2Controller","adsPreviewGetPageletAPIVersion","cancelAnimationFrame","chunkArray","promiseDone","regeneratorRuntime","requestAnimationFrame"],(function(a,b,c,d,e,f,g){"use strict";var h={version:"v2",callToActionData:{callToActionDataCells:[]},commonData:{apiAdFormat:"INSTAGRAM_STORY"},identityData:{profileName:null,brandedContentSponsorName:null,profilePictureUrl:null},mediaData:{mediaDataCells:[]},textData:{headlines:[],primaryText:""}},i=new Map(),j=new Map(),k=new Map(),l=new Map(),m=200,n=0,o=function(a,b,d){return d(function(d){return d.set(a,c("LoadObject").withValue(babelHelpers["extends"]({},d.get(a).getValue(),b)))})},p=function(a,b,d){var e;e=(e=j.get(a.context))!=null?e:{};j.set(a.context,babelHelpers["extends"]({},e,b));e=k.get(a.context);if(e==null){b=c("requestAnimationFrame")(function(){var b;b=(b=j.get(a.context))!=null?b:{};o(a,b,d);j["delete"](a.context);k["delete"](a.context)});k.set(a.context,b)}};a={initialState:function(a){return c("LoadObjectMap").createKeyed(function(e){a(function(a){n+=e.size;if(n>m){n=e.size;return a.clear().setLoading(e)}return a.setLoading(e)}),e.forEach(function(e){var f=d("AdsAdPreviewDataProviderPluginHelper").createRenderPropsKey(e);if(f===l.get(e.context))return;l.set(e.context,f);r(e.context);var g=!1;f=function(b){g||(a(function(a){return a.setKeyStale(b)}),g=!0)};c("promiseDone")(b("Promise").all(q(e,f).map(function(b){return b.then(function(b){return p(e,b,a)})})))})},d("AdsAdPreviewDataProviderPluginHelper").createRenderPropsKey)}};var q=function(a,b){var d=a.placements.filter(function(a){return c("AdsPreviewRenderPropsAllowedFormatsSitevarConfig").ALLOWED_FORMATS.includes(a)});return c("chunkArray")(d,c("AdsPreviewRenderPropsAllowedFormatsSitevarConfig").MAX_FORMATS_PER_REQUEST).map(function(c){return s(a,c,b)})},r=function(a){var b;if(a==null)return;b=(b=i.get(a))!=null?b:{};Object.values(b).forEach(function(a){a instanceof c("AsyncRequest")&&a.abort()});j["delete"](a);b=k.get(a);b!=null&&c("cancelAnimationFrame")(b);k["delete"](a);i["delete"](a)},s=function(a,e,f){var g,j,k,l,m,n,o,p;return b("regeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:g=c("XAdPreviewPropsV2Controller").getURIBuilder().setEnumVector("formats",e).setInt("appid",d("WebApiApplication").getClientID()).setInt("adaccountid",a.adAccountId).setString("version",c("adsPreviewGetPageletAPIVersion")()).setString("request_uuid",a.requestUUID);j=d("AdsAdPreviewDataProviderPluginHelper").shouldLoadByAdID(a)?g.setInt("adid",a.adID):g.setString("creative",JSON.stringify(a.creative));k=d("AdsSelectedPreviewLoadScenarioLogger").getQPLJoinID();l=d("AdsSelectedPreviewLoadScenarioLogger").makeQPLRequestID("props");k!=null&&(j.setString("selectedPreviewLoadJoinID",k),j.setString("selectedPreviewLoadRequestID",l));m=j.getURI();n=new(c("AsyncRequest"))(m);o=new(b("Promise"))(function(b,e){var g,h=(g=i.get(a.context))!=null?g:{};i.set(a.context,h);d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestStart(l);n.setHandler(function(a){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(l);b(a);delete h[n.id];return c("AsyncRequest").suppressOnloadToken}).setErrorHandler(function(a){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(l),delete h[n.id],e(a)}).setAbortHandler(function(){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(l),delete h[n.id],f(a)}).send();h[n.id]=n});q.next=10;return b("regeneratorRuntime").awrap(o.then(function(a){return a.getPayload()})["catch"](function(a){return{meta:{},payload:e.reduce(function(b,c){b[c]=babelHelpers["extends"]({},h,{commonData:{apiAdFormat:c},error_message:a.errorSummary});return b},{})}}));case 10:p=q.sent;return q.abrupt("return",p.payload);case 12:case"end":return q.stop()}},null,this)};e=a;g["default"]=e}),98);
__d("AdsAdPreviewRenderPropsDataProvider",["AdsAdPreviewRenderPropsDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAdPreviewRenderPropsDataProviderPlugin"),"AdsAdPreviewRenderPropsDataProviderPlugin")}),null);
__d("AdsShoppingProductsProviderPlugin",["AdsGraphAPI","ProductCatalogProductsDataLoader","loadObjectMapProvider","objectToMap"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:c("loadObjectMapProvider")(function(a){return d("AdsGraphAPI").get(f.id).objectsByName("product_item",a).batched().get({fields:d("ProductCatalogProductsDataLoader").FIELDS}).then(function(a){return c("objectToMap")(a)})})};b=a;g["default"]=b}),98);
__d("AdsShoppingProductsProvider",["AdsShoppingProductsProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsShoppingProductsProviderPlugin"),"AdsShoppingProductsProviderPlugin")}),null);
__d("AdsAdgroupUnifiedPreviewClientSideContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={selectArg:null};c=a.createContext(b);g["default"]=c}),98);
__d("SmallQueue",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=[]}var b=a.prototype;b.enqueue=function(a){this.$1.push(a)};b.enqueueList=function(a){var b=this;a.forEach(function(a){b.enqueue(a)})};b.dequeue=function(){return this.isEmpty()?null:this.$1.shift()};b.peek=function(){return this.isEmpty()?null:this.$1[0]};b.getLength=function(){return this.$1.length};b.isEmpty=function(){return this.getLength()===0};b.remove=function(a){a=this.$1.indexOf(a);a>-1&&this.$1.splice(a,1)};return a}();f["default"]=a}),66);
__d("LRUCache",["SmallQueue"],(function(a,b,c,d,e,f,g){a=function(){function a(a){this.$1=new Map(),this.$2=a,this.$3=new(c("SmallQueue"))()}var b=a.prototype;b.set=function(a,b){this.$1.set(a,b);this.$3.enqueue(a);if(this.$3.getLength()>this.$2){b=this.$3.dequeue();b!=null&&this.$1["delete"](b)}};b.get=function(a){a=this.$1.get(a);return a===void 0?null:a};return a}();g["default"]=a}),98);
__d("useClientSidePreviewServerData",["AdsAdPreviewDataProviderPluginHelper","AdsMgmtQPLLogger","AdsSelectedPreviewLoadScenarioLogger","AsyncRequest","LRUCache","Promise","WebApiApplication","XAdPreviewErrorsV2Controller","XAdPreviewPropsV2Controller","adsPreviewGetPageletAPIVersion","promiseDone","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useEffect,i=e.useRef,j=e.useState,k=new(c("LRUCache"))(2e3),l={version:"v2",callToActionData:{callToActionDataCells:[]},commonData:{apiAdFormat:"INSTAGRAM_STORY"},identityData:{profileName:null,brandedContentSponsorName:null,profilePictureUrl:null},mediaData:{mediaDataCells:[]},textData:{headlines:[],primaryText:""}},m=function(a,e,f,g){var h=null;g=g.getURIBuilder().setEnumVector("formats",[f]).setInt("appid",d("WebApiApplication").getClientID()).setInt("adaccountid",e.adAccountId).setString("version",c("adsPreviewGetPageletAPIVersion")()).setString("request_uuid",e.requestUUID);var i=d("AdsSelectedPreviewLoadScenarioLogger").getQPLJoinID(),j=d("AdsSelectedPreviewLoadScenarioLogger").makeQPLRequestID(a),k=d("AdsAdPreviewDataProviderPluginHelper").shouldLoadByAdID(e)&&((a=e.creative)==null?void 0:a.ad_disclaimer_spec)===null?g.setInt("adid",e.adID):g.setString("creative",JSON.stringify(e.creative));i!=null&&(k.setString("selectedPreviewLoadJoinID",i),k.setString("selectedPreviewLoadRequestID",j));a=new(b("Promise"))(function(a,b){h=new(c("AsyncRequest"))(k.getURI()).setHandler(function(b){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(j);a(b);return c("AsyncRequest").suppressOnloadToken}).setErrorHandler(function(a){d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestEnd(j),b(a)}),d("AdsSelectedPreviewLoadScenarioLogger").onPreviewRequestStart(j),h.send()});return{request:h,promise:a.then(function(a){return a.getPayload().payload}).then(function(a){return(a=a[f])!=null?a:null})}},n={},o=function(a){var b=n[a];if(b!=null){b.count--;if(b.count===0){(b=b.request)==null?void 0:b.abort();delete n[a]}}},p={props:function(a,b){return babelHelpers["extends"]({},a,{placements:[b]})},errors:function(a,b){return babelHelpers["extends"]({},a,{placements:[b],loadByID:!1})}},q={props:d("AdsAdPreviewDataProviderPluginHelper").createRenderPropsKey,errors:d("AdsAdPreviewDataProviderPluginHelper").createErrorsKey},r={props:c("XAdPreviewPropsV2Controller"),errors:c("XAdPreviewErrorsV2Controller")};function s(a,b,c){b=p[a](b,c);c=q[a](b);a=a+":"+c;return{key:b,stringKey:c,inFlightKey:a}}function t(a,e,f,g,h,i){i===void 0&&(i="useClientSidePreviewServerData");var j=i==="useClientSidePreviewServerData",l=k.get(a),o=n[a];if(l!=null)h&&d("AdsMgmtQPLLogger").addPoint(c("qpl")._(41498606,"4668"),"CLIENT_SIDE_DATA_"+e+"_ALREADY_IN_CACHE_(CALLER_"+i+")"),l=b("Promise").resolve(l.data);else{if(o!=null)h&&d("AdsMgmtQPLLogger").addPoint(c("qpl")._(41498606,"4668"),"CLIENT_SIDE_DATA_"+e+"_IN_FLIGHT_(CALLER_"+i+")"),j&&o.count++,l=o.promise;else{h&&d("AdsMgmtQPLLogger").addPoint(c("qpl")._(41498606,"4668"),"CLIENT_SIDE_DATA_"+e+"_NOT_IN_CACHE_(CALLER_"+i+")");o=m(e,f,g,r[e]);i=o.request;f=o.promise;l=f;n[a]={promise:l,request:i,count:j?1:0};h&&(l=l.then(function(a){d("AdsMgmtQPLLogger").addPoint(c("qpl")._(41498606,"4668"),"CLIENT_SIDE_DATA_"+e+"_RESOLVED");return a}))}l=l.then(function(b){k.set(a,{data:b});return b})}return l}var u=function(a,b,d,e,f){b=s(a,b,d);var g=b.key,j=b.stringKey,k=b.inFlightKey,l=i(!1),m=i({});h(function(){l.current=!1;m.current={};return function(){l.current=!0,o(k)}},[j,d,a,k]);if(m.current[k]!==!0){m.current[k]=!0;b=t(k,a,g,d,f);c("promiseDone")(e(b,l,j),function(){return o(k)},function(){return o(k)})}return j};function a(a,b,c){var d=j(null),e=d[0],f=d[1];d=j(null);var g=d[0],h=d[1];d=u("props",a,b,function(c,d,a){return c["catch"](function(a){return babelHelpers["extends"]({},l,{commonData:{apiAdFormat:b},error_message:a.errorSummary})}).then(function(b){d.current||f({key:a,data:b})})},c);a=u("errors",a,b,function(b,c,a){return b["catch"](function(){return null}).then(function(b){if(!c.current){var d;h({key:a,data:b!=null?babelHelpers["extends"]({},b,{code:b.error_code,message:(d=b.data)!=null?d:b.message}):null})}})},c);return{renderProps:d===(e==null?void 0:e.key)?e==null?void 0:e.data:null,renderPropsLoading:d!==(e==null?void 0:e.key),error:a===(g==null?void 0:g.key)?(c=g==null?void 0:g.data)!=null?c:null:null,errorsLoading:a!==(g==null?void 0:g.key)}}g.getTransformedKeys=s;g.executePreviewServerCall=t;g.useClientSidePreviewServerData=a}),98);
__d("useRenderSpecWithServerData",["useClientSidePreviewServerData"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){e===void 0&&(e=!1);b=d("useClientSidePreviewServerData").useClientSidePreviewServerData(b,c,e);c=b.renderProps;e=b.renderPropsLoading;var f=b.error;b=b.errorsLoading;return a!=null?babelHelpers["extends"]({},a,{renderProps:c!=null?c:void 0,error:f!=null?f:(c==null?void 0:c.error_message)!=null?{message:c==null?void 0:c.error_message}:null,loading:babelHelpers["extends"]({},a==null?void 0:a.loading,{props:e,errors:b})}):a}g["default"]=a}),98);
__d("AdsRenderSpecServerDataSelectors",["AdsAccountStore","AdsAdPreviewErrorsDataProvider","AdsAdPreviewRenderPropsDataProvider","AdsPreviewRenderSpecBaseSelectors","LoadObject","adsCreateSelector","adsCreateStoreSelector","adsCreateStructuredSelector","adsCurrentAdgroupApiFormatsSelector","adsUEditorAdgroupPublishStatusSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAdgroupPublishStatusSelector"),d("AdsPreviewRenderSpecBaseSelectors").selectAdID],function(a,b){return b!=null&&!((a=a.get(b))==null?void 0:a.hasDraft)},{name:f.id+".selectMaybeLoadByID"});b=c("adsCreateSelector")([c("AdsAccountStore").getSelectedAccount],function(a){return a.getValue()},{name:f.id+".selectAdAccount"});e=c("adsCreateStoreSelector")([],function(a){return a},{name:f.id+".selectContext"});b=c("adsCreateStructuredSelector")({adAccount:b,creative:d("AdsPreviewRenderSpecBaseSelectors").selectCreative,campaign:d("AdsPreviewRenderSpecBaseSelectors").selectCampaign,campaignGroup:d("AdsPreviewRenderSpecBaseSelectors").selectCampaignGroup,placements:c("adsCurrentAdgroupApiFormatsSelector"),adAccountId:d("AdsPreviewRenderSpecBaseSelectors").selectAccountID,requestUUID:d("AdsPreviewRenderSpecBaseSelectors").selectUUID,adID:d("AdsPreviewRenderSpecBaseSelectors").selectAdID,loadByID:a,context:e},f.id+".selectRequestKey");d=c("adsCreateSelector")([b,c("AdsAdPreviewErrorsDataProvider").toFluxSelector()],function(a,b){return a.placements.length>0&&a.creative!=null?b.get(a):c("LoadObject").withValue(c("immutable").Map())},{name:f.id+".adsRenderSpecErrorsLoadObjectSelector"});var h=function(a,b){return babelHelpers["extends"]({},a,{placements:[b]})};e=c("adsCreateSelector")([b,c("AdsAdPreviewRenderPropsDataProvider").toFluxSelector()],function(a,b){return function(c){var d;return a.creative!=null?(d=b.getCached(h(a,c)).getValue())==null?void 0:d[c]:null}},{name:f.id+".adsRenderSpecRenderPropsGetterSelector"});var i=c("adsCreateSelector")([b,c("AdsAdPreviewErrorsDataProvider").toFluxSelector()],function(a,b){return function(d){return a.creative!=null?b.getCached(h(a,d)):c("LoadObject").withValue(c("immutable").Map())}},{name:f.id+".errorsLoadObjectGetterForLazyLoad"}),j=c("adsCreateSelector")([i],function(a){return function(b){var c;return(c=a(b).getValue())==null?void 0:c.get(b)}},{name:f.id+".adsRenderSpecServerErrorGetterSelector"});i=c("adsCreateSelector")([i],function(a){return function(b){return a(b).isLoadingOrEmpty()}},{name:f.id+".adsRenderSpecIsLoadingErrorSelector"});g.selectMaybeLoadByID=a;g.selectRequestKey=b;g.adsRenderSpecErrorsLoadObjectSelector=d;g.adsRenderSpecRenderPropsGetterSelector=e;g.adsRenderSpecServerErrorGetterSelector=j;g.adsRenderSpecIsLoadingErrorSelector=i}),98);
__d("AdsRenderSpecUtils",[],(function(a,b,c,d,e,f){function a(a,b){return a.get(b)||a.get("DEFAULT")||null}f.getPlacementRenderSpec=a}),66);
__d("AdsRenderSpecCombiners",["AdsCallToActionTypes"],(function(a,b,c,d,e,f,g){"use strict";a=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.find(Boolean)||null};b=function(a){if(typeof a!=="string")return null;a=c("AdsCallToActionTypes").TYPES[a];return a?a.text:null};d=function(a){if(typeof a!=="string")return null;a=c("AdsCallToActionTypes").TYPES[a];return a?a.name:null};g.notEmptyCombiner=a;g.ctaTextCombiner=b;g.ctaTypeCombiner=d}),98);
__d("adsPreviewShoppingTagsData",["AdsInteractiveComponentConstants"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=a.map(function(a){return(a=a.filter(function(a){return a.get("type")===d("AdsInteractiveComponentConstants").SHOPPING_PRODUCT_TAG}))!=null?a:[]});if(!a.some(function(a){a=a.length;return a>0}))return;a=a.map(function(a){return a.map(function(a){var d=a.getIn(["position_spec"]);a=a.getIn(["product_tag_spec","product_id"]);var e=b.get(""+a).getValue();if(e==null)return;var f=!1,g=0,h=0;d!=null&&(f=!0,g=d.get("x"),h=d.get("y"));d=(d=(d=e.product_catalog)==null?void 0:(d=d.capability_features)==null?void 0:d.includes("checkout"))!=null?d:!1;return{checkoutSetting:c&&d?"on":"off",id:a,hasCoordinates:f,positionX:g,positionY:h,imageURI:e.da_display_preview_url,name:e.name,priceLabel:e.price,salePriceLabel:e.sale_price}}).filter(Boolean)});return{productTags:a,relatedProductTags:a.map(function(){return[]})}}g["default"]=a}),98);
__d("adsFirstUEditorAdObjectForSelectedAdgroupsSelector",["adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","firstx"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAdObjectsForSelectedAdgroupsSelector")],c("firstx"),{name:f.id+".adsFirstUEditorAdObjectForSelectedAdgroupsSelector"});b=a;g["default"]=b}),98);
__d("adsAdgroupSpecPathPluginSelector",["AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","adsCreateSelector","adsEnforcePureGetStores","adsFirstUEditorAdObjectForSelectedAdgroupsSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsEnforcePureGetStores")(c("adsCreateSelector")([c("adsFirstUEditorAdObjectForSelectedAdgroupsSelector")],d("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin,{name:f.id}));b=a;g["default"]=b}),98);
__d("adsRenderSpecDefaultAdgroupSpecPathPluginSelector",["adsAdgroupSpecPathPluginSelector"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("adsAdgroupSpecPathPluginSelector")}),98);
__d("adsRenderSpecAdgroupSpecPathPluginSelector",["adsRenderSpecDefaultAdgroupSpecPathPluginSelector"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("adsRenderSpecDefaultAdgroupSpecPathPluginSelector")}),98);
__d("AdsPreviewRenderSpecStaticSelectors",["AdsAPIAdgroupRecordUtils","AdsAdgroupRecordAccessors","AdsAdgroupSemanticFields","AdsAssetFeedFieldUtils","AdsPreviewRenderSpecBaseSelectors","AdsRenderSpecCombiners","AdsShoppingProductsProvider","adsCreateSelector","adsPreviewShoppingTagsData","adsRenderSpecAdgroupSpecPathPluginSelector","immutable","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";b=[c("adsRenderSpecAdgroupSpecPathPluginSelector"),d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector];e=c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").pageID.get,{name:f.id+".selectPageId"});var h=function(a){return a instanceof c("immutable").List||c("immutable").List.isList(a)?null:a};function a(a){return function(b){if(b instanceof c("immutable").List){var d=b.first();return d!=null?a(d):d}return h(b)}}var i=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").headline.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"text")}),{name:f.id+".selectHeadline"}),j=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").message.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"text")}),{name:f.id+".selectMessage"}),k=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").linkDescription.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"text")}),{name:f.id+".selectDescription"}),l=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").videoID.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"video_id")}),{name:f.id+".selectVideoId"}),m=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").displayURL.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"display_url")}),{name:f.id+".selectDisplayUrl"}),n=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").linkURL.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"website_url")}),{name:f.id+".selectLinkUrl"}),o=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").videoThumbnailURL.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"thumbnail_url")}),{name:f.id+".videoThumbnailURL"}),p=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").imageURL.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"url")}),{name:f.id+".selectImageUrl"}),q=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").imageHash.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"hash")}),{name:f.id+".selectImageHash"}),r=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").callToActionType.get,{name:f.id})],a(function(a){return a}),{name:f.id+".selectCTATypeFromCTATypeField"}),s=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){return(a=a.creative)==null?void 0:(a=a.call_to_action)==null?void 0:a.type},{name:f.id+".selectCTATypeFromCTAField"});r=c("adsCreateSelector")([r,s],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectCTA"});s=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").callToActionValue.get,{name:f.id})],h,{name:f.id+".selectCTAValue"});var t=c("adsCreateSelector")([s],function(a){return(a==null?void 0:a.lead_gen_form_id)!=null},{name:f.id+".selectHasCTALeadGenFormId"});s=c("adsCreateSelector")([s],function(a){return a==null?void 0:a.app_destination},{name:f.id+".selectCTAAppDestination"});var u=c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").videoThumbnailHash.get,{name:f.id+".selectVideoThumbnailImageHash"}),v=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){return(a=a.creative)==null?void 0:(a=a.object_story_spec)==null?void 0:(a=a.video_data)==null?void 0:a.image_hash},{name:f.id+".selectVideoImageHash"});u=c("adsCreateSelector")([u,v],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectVideoThumbnailHash"});v=c("adsCreateSelector")([c("adsCreateSelector")(b,c("AdsAdgroupSemanticFields").imageCrops.get,{name:f.id})],a(function(a){return d("AdsAssetFeedFieldUtils").getImageAssetCrops(a)}),{name:f.id+".selectImageCropsRecord"});b=c("adsCreateSelector")([v],function(a){return a!=null?c("immutable").Map(typeof a.toJS==="function"?a.toJS():a).first():null},{name:f.id+".selectImageCrops"});a=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){a=a==null?void 0:(a=a.creative)==null?void 0:(a=a.portrait_customizations)==null?void 0:a.specifications;if(a==null||a.count()===0)return null;a=a.first().getIn(["background_color"]).toObject();var b=a.top_color;a=a.bottom_color;return{topColor:b,bottomColor:a}},{equal:c("shallowEqual"),name:f.id+".selectBackgroundColor"});v=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){return a==null?void 0:(a=a.creative)==null?void 0:(a=a.portrait_customizations)==null?void 0:a.carousel_delivery_mode},{name:f.id+".selectCarouselDeliveryMode"});var w=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){a=c("AdsAdgroupRecordAccessors").creative.interactive_components_spec.components.get(a);return a!=null?a.toArray():void 0},{name:f.id+".selectSingleImageInteractiveComponents"}),x=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){a=c("AdsAdgroupRecordAccessors").creative.interactive_components_spec.child_attachments.get(a);if(a==null)return void 0;a=a.map(function(a){return a.getIn(["components"]).toArray()}).toArray();return a.length>0?a:void 0},{name:f.id+".selectCarouselInteractiveComponents"}),y=c("adsCreateSelector")([w,x],function(a,b){return a!=null?[a]:b},{name:f.id+".selectInteractiveComponents"}),z=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],function(a){return d("AdsAPIAdgroupRecordUtils").isInstantCheckoutEnabled(a)},{name:f.id+".selectOnsiteCheckoutSetting"});f=c("adsCreateSelector")([c("AdsShoppingProductsProvider").toFluxSelector(),y,z],function(a,b,d){return b!=null?c("adsPreviewShoppingTagsData")(b,a,d):void 0},{name:f.id+".selectShoppingProductTags"});g.selectPageId=e;g.selectHeadline=i;g.selectMessage=j;g.selectDescription=k;g.selectVideoId=l;g.selectDisplayUrl=m;g.selectLinkUrl=n;g.videoThumbnailURL=o;g.selectImageUrl=p;g.selectImageHash=q;g.selectCTA=r;g.selectHasCTALeadGenFormId=t;g.selectCTAAppDestination=s;g.selectVideoThumbnailHash=u;g.selectImageCrops=b;g.selectBackgroundColor=a;g.selectCarouselDeliveryMode=v;g.selectSingleImageInteractiveComponents=w;g.selectCarouselInteractiveComponents=x;g.selectInteractiveComponents=y;g.selectOnsiteCheckoutSetting=z;g.selectShoppingProductTags=f}),98);
__d("AdPreviewRenderSpecExistingPostSelectors",["AdsBulkValueUtils","AdsInstagramMediaStore","AdsInstagramMediaV2DataProvider","AdsLoadStateUtils_LEGACY","AdsPreviewRenderSpecBaseSelectors","AdsPreviewRenderSpecStaticSelectors","AdsRenderSpecCombiners","AdsUEditorAdgroupBulkSelectors","adsCreateSelector","adsInstagramPostConvertToFBPagePost","adsInstagramPostConvertV2MediaToFBPagePost","adsPagePostGetSelector","first"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectExistingPostID,c("adsPagePostGetSelector")],function(a,b){return a!=null?b(a):null},{name:f.id+".selectExistingFacebookPost"});b=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectExistingInstagramBeandedPostID,c("AdsInstagramMediaStore").getSelector],function(a,b){return a!=null?d("AdsLoadStateUtils_LEGACY").toLoadObject(b(a)):null},{name:f.id+".selectExistingInstagramStoryLoadObject"});e=c("adsCreateSelector")([b],function(a){return a!=null&&a.hasValueWithoutError()?a.getValueEnforcing():null},{name:f.id+".selectExistingInstagramStory"});b=c("adsCreateSelector")([e],function(a){return a!=null?c("adsInstagramPostConvertToFBPagePost")(a):null},{name:f.id+".selectExistingNormalizedInstagramStory"});e=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectExistingInstagramPostID,c("AdsInstagramMediaV2DataProvider").toFluxSelector()],function(a,b){return a!=null?b.get(a):null},{name:f.id+".selectExistingInstagramPostLoadObject"});e=c("adsCreateSelector")([e],function(a){return a!=null&&a.hasValueWithoutError()?a.getValueEnforcing():null},{name:f.id+".selectExistingInstagramPost"});e=c("adsCreateSelector")([e],function(a){return a!=null?c("adsInstagramPostConvertV2MediaToFBPagePost")(a):null},{name:f.id+".selectNormalizedInstagramPost"});e=c("adsCreateSelector")([a,e,b],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectExistingPost"});b=[e];e=c("adsCreateSelector")(b,function(a){return a==null?void 0:a.name},{name:f.id+".selectExistingPostHeadline"});var h=c("adsCreateSelector")(b,function(a){return(a==null?void 0:(a=a.attachments)==null?void 0:a.data)||[]},{name:f.id+".selectAttachments"});h=c("adsCreateSelector")([h],c("first"),{name:f.id+".selectFirstAttachment"});var i=c("adsCreateSelector")([h],function(a){return["album","multi_share"].includes(a==null?void 0:a.type)},{name:f.id+".selectExistingPostIsCarousel"}),j=c("adsCreateSelector")([h],function(a){return(a==null?void 0:a.type)==="rich_media_collection"},{name:f.id+".selectExistingPostIsCollection"}),k=c("adsCreateSelector")(b,function(a){return a==null?void 0:a.description},{name:f.id+".selectExistingPostDescription"}),l=c("adsCreateSelector")(b,function(a){return a==null?void 0:a.link},{name:f.id+".selectExistingPostLink"}),m=c("adsCreateSelector")(b,function(a){return a==null?void 0:a.message},{name:f.id+".selectExistingPostMessage"});a=c("adsCreateSelector")([a,d("AdsUEditorAdgroupBulkSelectors").pageID],function(a,b){return(a==null?void 0:(a=a.from)==null?void 0:a.id)||d("AdsBulkValueUtils").getUniformValue(b)},{name:f.id+".selectExistingPostPageID"});var n=c("adsCreateSelector")(b,function(a){return a==null?void 0:(a=a.call_to_action)==null?void 0:a.type},{name:f.id+".selectExistingPostCTA"}),o=c("adsCreateSelector")(b,function(a){return a==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.link},{name:f.id+".selectExistingPostCTALink"}),p=c("adsCreateSelector")(b,function(a){return a==null?void 0:(a=a.call_to_action)==null?void 0:(a=a.value)==null?void 0:a.app_destination},{name:f.id+".selectExistingPostCTAAppDestination"});h=c("adsCreateSelector")([h],function(a){return(a==null?void 0:(a=a.subattachments)==null?void 0:a.data)||[]},{name:f.id+".selectSubAttachments"});var q=c("adsCreateSelector")([h,d("AdsPreviewRenderSpecStaticSelectors").selectHasCTALeadGenFormId],function(a,b){return a.map(function(a){return{description:a.description,headline:a.title,destinationLink:null,displayURL:null,callToAction:null,callToActionType:null,hasDynamicLeadGenCallToAction:b,media:{backgroundColor:null,imageCrops:null,imageURL:(a=a.media)==null?void 0:(a=a.image)==null?void 0:a.src,videoURL:null}}})},{name:f.id+".selectExistingPostCarousel"});h=c("adsCreateSelector")([h],c("first"),{name:f.id+".selectFirstSubattachment"});h=c("adsCreateSelector")([h],function(a){return a==null?void 0:(a=a.media)==null?void 0:(a=a.image)==null?void 0:a.src},{name:f.id+".selectFirstSubattachmentImage"});b=c("adsCreateSelector")(b,function(a){return(a==null?void 0:a.full_picture)||(a==null?void 0:a.picture)},{name:f.id+".selectExistingPostMainImageUrl"});h=c("adsCreateSelector")([h,b],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectExistingPostImageUrl"});g.selectExistingPostHeadline=e;g.selectExistingPostIsCarousel=i;g.selectExistingPostIsCollection=j;g.selectExistingPostDescription=k;g.selectExistingPostLink=l;g.selectExistingPostMessage=m;g.selectExistingPostPageID=a;g.selectExistingPostCTA=n;g.selectExistingPostCTALink=o;g.selectExistingPostCTAAppDestination=p;g.selectExistingPostCarousel=q;g.selectExistingPostImageUrl=h}),98);
__d("AdsPreviewRenderSpecAdgroupContextSelectors",["AdPreviewRenderSpecExistingPostSelectors","AdsLoadStateUtils_LEGACY","AdsPageStore","AdsPreviewRenderSpecStaticSelectors","AdsRenderSpecCombiners","LoadObject","adsCreateSelector","adsRenderSpecInstagramAccountSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostPageID,d("AdsPreviewRenderSpecStaticSelectors").selectPageId],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectPageId"});b=c("adsCreateSelector")([a,c("AdsPageStore").getSelector],function(a,b){return a!=null?d("AdsLoadStateUtils_LEGACY").toLoadObject(b(a)):c("LoadObject").withValue(null)},{name:f.id+".selectPage"});e=c("adsCreateSelector")([c("adsRenderSpecInstagramAccountSelector")],function(a){return a!=null?d("AdsLoadStateUtils_LEGACY").toLoadObject(a):c("LoadObject").withValue(null)},{name:f.id+".selectInstagramAccountLoadObject"});g.selectPage=b;g.selectInstagramAccountLoadObject=e}),98);
__d("AdsMobileFeedRenderSpecSelector",["adsCreateBranchSelector","adsCreateSelector","adsCreateStructuredSelector","adsCurrentAdgroupApiFormatsSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsCurrentAdgroupApiFormatsSelector")],function(a){return a.includes("MOBILE_FEED_STANDARD")},{name:f.id+".selectHasMobileFeedPlacement"});b=c("adsCreateSelector")([],function(){return 3},{name:f.id+".selectMobileFeedMessageMaxLines"});d=c("adsCreateStructuredSelector")({mobileFeedMessageMaxLines:b},f.id+".selectMobileFeedSpecificRenderSpec");e=c("adsCreateSelector")([],function(){return null},{name:f.id+".nullSelector"});b=c("adsCreateBranchSelector")(a,d,e);g.selectMobileFeedSpecificRenderSpecIfHasPlacement=b}),98);
__d("adsGetApiFormatFromPositionData",["AdsPreviewApiFormatPositionsWithVideoFeedsVersionChange","getByPath","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.freeze(c("immutable").Map(c("AdsPreviewApiFormatPositionsWithVideoFeedsVersionChange")).reduce(function(a,b,c){if(b==null)return a;a[b.platform]==null&&(a[b.platform]={});a[b.platform][b.position]==null&&(a[b.platform][b.position]=[]);a[b.platform][b.position].push(c);return a},{}));function a(a,b){return c("getByPath")(h,[a,b],[])}g["default"]=a}),98);
__d("adsUEditorDevicePlatformsSelector",["adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){a=a.map(function(a){return a.campaign.targeting.device_platforms});return a.length!==1||a[0]==null?null:a[0].toArray()},{name:f.id+".adsUEditorDevicePlatformsSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationDefaultCoverageSelector",["AdsAdgroupRecordAccessors","AdsBulkValueUtils","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUEditorSelectors","adsCreateSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get);b=c("adsCreateSelector")([a,d("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector],function(a,b){if(a==null||a instanceof c("AdsMixedValue")||b==null)return null;a=d("AdsBulkValueUtils").getUniformValue(a,c("immutable").List());if(a==null)return null;var e=d("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(a);if(e==null)return null;e=d("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(e);if(!e.isEmpty())return d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(e).toArray();var f=a.map(function(a){return d("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(a)}).map(d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements).filter(Boolean).flatten().toSet();return b.assetGroups.filter(function(a){return!f.has(a)})},{name:f.id+".adsUEditorPlacementCustomizationDefaultCoverageSelector"});e=b;g["default"]=e}),98);
__d("AdsImagePlacementAssetCustomizationSelectors",["AdsAccountStore","AdsAdgroupRecordAccessors","AdsAdgroupSemanticFields","AdsAdgroupUnifiedCreativeAPIMigrationUtils","AdsAssetFeedConstant","AdsAssetFeedFieldUtils","AdsAssetSelectorsUtils","AdsBulkValueUtils","AdsDCODegreesOfFreedomUtils","AdsImageAssetSelectors","AdsImageLegacy","AdsMixedValue","AdsPlacementAPISpecDefaultsUtils","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsPlacementCustomizationConstants","AdsUEditorAdgroupAppProductPageIdsMutators","AdsUEditorAdgroupAudiosAdsMutators","AdsUEditorAdgroupBadges","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupCreativeFormat","AdsUEditorAdgroupMetaRewardAdsUtils","AdsUEditorAdgroupStaticAdsUsingAFSUtils","AdsUEditorCampaignSelectors","AdsUEditorSelectors","AdsUniformValue","ApiDynamicCreativeOptimizationTypes","LoadObject","PlacementAssetCustomizationTypes","adsContainsAssetCustomizationPlacement","adsCreateSelector","adsCreateStoreSelector","adsGetUniformValueSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorDevicePlatformsSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","adsUEditorPlacementCustomizationDefaultCoverageSelector","adsUEditorSelectedAdgroupsSelector","first","immutable","isFalsey","nullthrows","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map(),i=c("immutable").List();function j(a){var b=a.crops,e=a.hash;a=a.url;if(b instanceof c("AdsMixedValue")||e instanceof c("AdsMixedValue")||a instanceof c("AdsMixedValue"))return null;var f;e&&(f=d("AdsBulkValueUtils").getUniformValueOrDefault(e),f instanceof c("immutable").List&&(f=f.first().get("hash")));var g;a&&(g=d("AdsBulkValueUtils").getUniformValueOrDefault(a),g instanceof c("immutable").List&&(g=g.first().get("url")));var h;b&&(h=d("AdsBulkValueUtils").getUniformValueOrDefault(b),h instanceof c("immutable").List&&(h=h.first().get("image_crops")),h instanceof c("immutable").Map&&(h=h.toJS()));return{crops:b?h:null,hash:e?f:null,url:a?g:null}}a=d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").imageCrops.get);b=d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").imageHash.get);e=d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").imageURL.get);var k=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.platform_customizations.instagram.get),l=c("adsCreateSelector")([d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.get)],function(a){return!d("AdsBulkValueUtils").isNullValue(a)},{name:f.id+".someSelectedAdgroupsUseAssetFeedSelector"}),m=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector")],function(a){return a.some(function(a){return!d("AdsUEditorAdgroupMetaRewardAdsUtils").isAdgroupUsingOnlyMetaRewardAssetFeedFromRecord(a)})},{name:f.id+".someSelectedAdgroupsUseAssetFeedExcludeMetaRewardSelector"}),n=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector")],function(a){return a.some(function(a){return!d("AdsUEditorAdgroupBadges").isAdgroupUsingOnlyBadgesAssetFeedFromRecord(a)})},{name:f.id+".someSelectedAdgroupsUseAssetFeedExcludeBadgesSelector"}),o=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector")],function(a){return a.some(function(a){return!d("AdsUEditorAdgroupAudiosAdsMutators").isAdgroupUsingOnlyAudiosAssetFeedFromRecord(a)})},{name:f.id+".someSelectedAdgroupsUseAssetFeedExcludeAudioSelector"}),p=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector")],function(a){return a.some(function(a){return!d("AdsUEditorAdgroupStaticAdsUsingAFSUtils").isAdgroupUsingOnlyAssetFeedForStaticAdsFromRecord(a)})},{name:f.id+".someSelectedAdgroupsExcludeAssetFeedForStaticAdsSelector"}),q=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector")],function(a){return a.some(function(a){return!d("AdsUEditorAdgroupAppProductPageIdsMutators").isAdgroupUsingOnlyAppProductPageIdFromRecord(a)})},{name:f.id+".someSelectedAdgroupsUseAssetFeedExcludeAppProductPageIdsSelector"}),r=c("adsCreateSelector")([d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.onsite_destinations.get)],function(a){return!d("AdsBulkValueUtils").isNullValue(a)},{name:f.id+".isOnsiteDestinationsAdgroupSelector"}),s=c("adsCreateSelector")([d("AdsUEditorAdgroupBulkSelectors").selectorByAdgroupFn(d("AdsAdgroupUnifiedCreativeAPIMigrationUtils").isUnifiedCreativePhotoData)],function(a){return d("AdsBulkValueUtils").getUniformValue(a)},{name:f.id+".isUsingUCASelector"}),t=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.optimization_type.get);a=c("adsCreateSelector")([d("AdsPlacementAssetCustomizationSelectors").pacConfigSelector,c("AdsAccountStore").getSelectedAccount,d("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,d("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupPlacementAssetCustomizationTypeSelector,a,b,e,k,s,l,r,t,c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),n,o,q,m,p],function(b,e,f,g,h,i,k,l,m,n,o,q,r,s,t,u,v,a){q=d("AdsBulkValueUtils").getUniformValueOrDefault(q);if(m!==!0&&n&&s&&t&&u&&v&&a&&!o&&!d("AdsDCODegreesOfFreedomUtils").isDoFOptimizationType(q)&&q!==c("ApiDynamicCreativeOptimizationTypes").DOF_MESSAGING_DESTINATION)return c("LoadObject").empty();m=j({crops:h,hash:i,url:k});n=l instanceof c("AdsUniformValue")?l.getValue():null;s=n==null?void 0:n.image_crops;t={crops:s instanceof c("immutable").Map?s.toJS():s,hash:n==null?void 0:n.image_hash,url:n==null?void 0:n.image_url};if(m==null)return c("LoadObject").empty();if(m.hash==null&&m.url==null)return c("LoadObject").empty();u=e.getValue();if(c("isFalsey")(u))return c("LoadObject").loading();v={};a={};o=null;q=[];h=null;v[b.basePlacementGroup]=d("AdsAssetSelectorsUtils").getImageID(u.account_id,m.hash,m.url);a[b.basePlacementGroup]=m.crops;if(n!=null)v[d("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups.INSTAGRAM]=d("AdsAssetSelectorsUtils").getImageID(u.account_id,t.hash,t.url),a[d("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups.INSTAGRAM]=t.crops;else if(g!=d("PlacementAssetCustomizationTypes").PAC_PHASE_1&&f){q=f.assetGroups;q=d("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(q,r);h=c("immutable").List.of(b.basePlacementGroup);i=c("immutable").List(q.map(d("AdsPlacementAssetUtils").getPlacementsFromAssetGroup)).flatten();o=c("immutable").Map((k={},k[b.basePlacementGroup]=i,k))}return c("LoadObject").withValue({assetGroups:q,assetImageIDs:d("AdsAssetSelectorsUtils").compactMap(c("immutable").Map(v)),assetsPlacements:o,backgroundColorsByAsset:c("immutable").Map(),cropsByAsset:c("immutable").Map(a),labels:h,interactivePollByAsset:c("immutable").Map(),interactivePositionByAsset:c("immutable").Map()})},{name:f.id+".adsUEditorPlacementAssetSelectorNonAssetFeedAdgroupDataSelector"});b=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get);e=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.ad_formats.get);k=c("adsCreateSelector")([c("AdsAccountStore").getSelectedAccount,t,d("AdsImageAssetSelectors").assetFeedBulkImageHashSelector,b,d("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),e],function(a,b,e,f,g,j,k){b=d("AdsBulkValueUtils").getUniformValueOrDefault(b);var l=b===c("ApiDynamicCreativeOptimizationTypes").LANGUAGE||b===c("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS,m=a.getValue();if(b!==c("ApiDynamicCreativeOptimizationTypes").PLACEMENT&&!l||e instanceof c("AdsMixedValue")||f instanceof c("AdsMixedValue")||!g||c("isFalsey")(m)||b===c("ApiDynamicCreativeOptimizationTypes").DOF_MESSAGING_DESTINATION)return c("LoadObject").empty();a=g.assetGroups;l=d("AdsPlacementAssetTargetingRuleUtils").targetingRuleByFieldsTypeFromTargetingRules(d("AdsBulkValueUtils").getUniformValue(f,null),"image_label");b=d("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(l,"image_label");g=d("AdsBulkValueUtils").getUniformValue(e,null);if(g==null)return c("LoadObject").empty();if(typeof g==="string"||g==null)throw c("unrecoverableViolation")("This is a PAC ad so images must be in an asset list","ads_cx_pac");f=d("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsList(l,"image_label");e=d("AdsBulkValueUtils").getUniformValue(k,[]);(e==null?void 0:e.includes(c("AdsUEditorAdgroupCreativeFormat").CAROUSEL))&&(f=g.map(function(a){return a.get(d("AdsAssetFeedConstant").ADLABELS)}).filter(Boolean).flatten(1).map(function(a){return a.get("name")}),b=f.reduce(function(a,b){return a.set(b,i)},h));l=d("AdsAssetFeedFieldUtils").getAssetMapForLabels(g,"adlabels",f);k=d("AdsAssetSelectorsUtils").compactMap(l.map(function(a){return d("AdsAssetSelectorsUtils").getImageID(m.account_id,d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"hash"),d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"url"))}));e=d("AdsAssetSelectorsUtils").compactMap(l.map(function(a){return d("AdsAssetFeedFieldUtils").getAssetBackgroundColor(a)}));g=d("AdsAssetSelectorsUtils").compactMap(l.map(function(a){return d("AdsAssetFeedFieldUtils").getAssetInteractivePollSpec(a)}));var n=d("AdsAssetSelectorsUtils").compactMap(l.map(function(a){return d("AdsAssetFeedFieldUtils").getAssetInteractivePositionSpec(a)}));l=d("AdsAssetSelectorsUtils").compactMap(l.map(function(a){a=d("AdsAssetFeedFieldUtils").getImageAssetCrops(a);return a?a.toJS():null}));a=d("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(a,j);var o=c("immutable").List(a.map(d("AdsPlacementAssetUtils").getPlacementsFromAssetGroup)).flatten();b=b.map(function(a){return a.filter(function(a){return c("adsContainsAssetCustomizationPlacement")(o,a)})});return c("LoadObject").withValue({assetGroups:a,assetImageIDs:k,assetsPlacements:b,backgroundColorsByAsset:e,cropsByAsset:l,labels:f,interactivePollByAsset:g,interactivePositionByAsset:n})},{name:f.id+".adsUEditorPlacementAssetSelectorAssetFeedAdgroupDataSelector"});var u=c("adsCreateSelector")([k,a],function(a,b){a=a;a.hasValue()||(a=b);return a.hasValue()?a.getValueEnforcing():null},{name:f.id+".adsPlacementAssetAdgroupDataSelector"});l=c("adsCreateSelector")([u],function(a){return a==null?void 0:a.assetGroups},{name:f.id+".assetGroupsSelector"});r=c("adsCreateSelector")([u],function(a){return a==null?void 0:a.assetsPlacements},{name:f.id+".assetsPlacementsSelector"});n=c("adsCreateSelector")([u],function(a){return(a==null?void 0:a.backgroundColorsByAsset)||c("immutable").Map()},{name:f.id+".backgroundColorsByAssetSelector"});o=c("adsCreateSelector")([u],function(a){return(a==null?void 0:a.interactivePollByAsset)||c("immutable").Map()},{name:f.id+".InteractivePollByAssetSelector"});q=c("adsCreateSelector")([u],function(a){return(a==null?void 0:a.interactivePositionByAsset)||c("immutable").Map()},{name:f.id+".InteractivePositionByAssetSelector"});m=c("adsCreateSelector")([u],function(a){return a==null?void 0:a.cropsByAsset},{name:f.id+".rawCropsByAssetSelector"});p=c("adsCreateSelector")([m],function(a){return a?a.map(function(a){return a instanceof c("immutable").Map?a.toJS():a}):null},{name:f.id+".cropsByAssetSelector"});t=c("adsCreateSelector")([u],function(a){return a==null?void 0:a.labels},{name:f.id+".labelsSelector"});var v=[u,d("AdsImageAssetSelectors").imageAssetsSelector];e=c("adsCreateStoreSelector")(function(a){return v.flatMap(function(b){return b.getStores(a)})},function(a){a=u(a);return a?d("AdsImageAssetSelectors").imageAssetsSelector(babelHelpers["extends"]({},a)):c("LoadObject").withValue(null)},{isGetStoresPure:v.every(function(a){return a.isGetStoresPure}),name:f.id+".placementAssetSelectorImageAssetsSelector"});m=c("adsCreateSelector")([e,r,l],function(a,b,e){if(!b||a.isLoading()||e==null)return null;a=a.getValueEnforcing();if(!a)return null;a=a.map(function(a,c){return d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(b.get(c))});var f=a.filter(function(a){return a.isEmpty()});if(!f.isEmpty()){f=c("first")(f.keys());if(f==null)return null;var g=c("immutable").Set(a.values()).flatten();e=c("immutable").Set(e).subtract(g);a=a.set(f,c("immutable").List(e))}return a.size!==0?a:null},{name:f.id+".assetGroupsByAsset"});b=c("adsCreateSelector")([e,r,c("adsUEditorDevicePlatformsSelector"),p,c("adsUEditorPlacementCustomizationDefaultCoverageSelector"),c("AdsAccountStore").getSelectedAccount,c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),c("adsGetUniformValueSelector")(b,c("immutable").List())],function(a,b,e,f,g,h,i,j){h=h.getValue();if(!b||!e||a.isLoading()||f==null||c("isFalsey")(h))return null;h=a.getValueEnforcing();if(!h)return null;a=h.map(function(a,g){var h=f.get(g);if(a.format!=="image")throw c("unrecoverableViolation")("This selector handles only image assets.","ads_cx_pac");a=new(c("AdsImageLegacy"))({height:a.height,url:a.url,width:a.width});a={image:a,imageCrops:h?h:void 0};h=c("immutable").List();b&&b.get(g)&&d("AdsPlacementAssetUtils").isInstagramStoryPlacementOnly(b.get(g))?h=b.get(g):g!=d("AdsPlacementCustomizationConstants").NO_ADLABEL&&(h=d("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithImage(a,c("nullthrows")(b).get(g),c("nullthrows")(e)));return d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(h)});if(j.isEmpty()||g==null)return a.size!==0?a:null;h=d("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(j);if(h==null){c("recoverableViolation")("default rule not found","ads_cx_pac");return a.size!==0?a:null}j=d("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable(h,"image_label");if(j==null)return a.size!==0?a:null;a=a.set(j,c("immutable").List(d("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(g,i)));return a.size!==0?a:null},{name:f.id+".validAssetGroupsByAssetSelector"});l=c("adsCreateSelector")([l,e,r,t,d("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupPlacementAssetCustomizationTypeSelector,d("AdsPlacementAssetCustomizationSelectors").pacConfigSelector,b,c("adsUEditorAdObjectsForSelectedAdgroupsSelector"),c("AdsAccountStore").getSelectedAccount,c("adsUEditorDevicePlatformsSelector"),n,p,d("AdsPlacementAssetCustomizationSelectors").adsUEditorPACBodyAssetInfoByMediaAssetLabel,d("AdsPlacementAssetCustomizationSelectors").adsUEditorPACCustomizedImageAssetLabelSelector,d("AdsPlacementAssetCustomizationSelectors").adsUEditorPACHeadlineAssetInfoByMediaAssetLabel,d("AdsPlacementAssetCustomizationSelectors").adsUEditorPACUrlAssetInfoByMediaAssetLabel,o,q,s],function(a,b,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){k=k.getValue();if(b.isLoading()||c("isFalsey")(k))return c("LoadObject").loading();b=b.getValueEnforcing();var v=g===d("PlacementAssetCustomizationTypes").PAC_PHASE_1;if(u!==!0&&(b==null||!v&&!i||a==null||n==null))return c("LoadObject").withValue(null);u=j.map(function(a){return a.adgroup.id});v=j.map(function(a){return a.campaign.id});return c("LoadObject").withValue(babelHelpers["extends"]({accountID:k.account_id,adgroupIDs:u,assetGroups:d("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder((j=a)!=null?j:[])},h,{assets:b,assetsPlacements:e,bodyInfoByAssetLabel:o,campaignIDs:v,customizedAssetLabels:p,backgroundColorsByAsset:m,cropsByAsset:n,devicePlatforms:l,headlineInfoByAssetLabel:q,urlInfoByAssetLabel:r,labels:f,placementAssetCustomizationType:g,validAssetGroupsByAsset:i?i:void 0,interactivePollByAsset:s,interactivePositionByAsset:t}))},{name:f.id+".adsUEditorPlacementAssetSelectorPropsSelector"});r=c("adsCreateSelector")([d("AdsUEditorCampaignSelectors").eligibilityInformation],function(a){var b=d("AdsPlacementAPISpecDefaultsUtils").getAllEligibleGroupsKeySet(a),c=d("AdsPlacementAssetEligibilityUtils").getAssetCustomizationPlacementGroupsToAdd(a);return b.length>c.length?!1:b.every(function(a){return c.includes(a)})},{name:f.id+".adsPACPhase2SupportsAllPlacementsSelector"});g.adsUEditorPlacementAssetSelectorNonAssetFeedAdgroupDataSelector=a;g.adsUEditorPlacementAssetSelectorAssetFeedAdgroupDataSelector=k;g.adsPlacementAssetAdgroupDataSelector=u;g.backgroundColorsByAssetSelector=n;g.cropsByAssetSelector=p;g.placementAssetSelectorImageAssetsSelector=e;g.assetGroupsByAsset=m;g.validAssetGroupsByAssetSelector=b;g.adsUEditorPlacementAssetSelectorPropsSelector=l;g.adsPACPhase2SupportsAllPlacementsSelector=r}),98);
__d("adsUEditorPlacementCustomizationInteractivePollComponentSelector",["AdsAdgroupRecordAccessors","AdsAssetFeedFieldUtils","AdsPlacementCustomizationConstants","AdsUEditorSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.images.get),null),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.videos.get),null)],function(a,b){var e=c("immutable").List();a!=null&&(e=e.concat(a));b!=null&&(e=e.concat(b));a=c("immutable").fromJS(e);return a.reduce(function(a,b){var e=d("AdsAssetFeedFieldUtils").getAssetInteractiveComponents(c("immutable").Map(b));if(e!=null){b=b.get("adlabels");if(b!=null)return b.reduce(function(a,b){return a.set(b.get("name"),e)},a);else return a.set(d("AdsPlacementCustomizationConstants").NO_ADLABEL,e)}return a},c("immutable").Map())},{name:f.id+".adsUEditorPlacementCustomizationInteractivePollComponentSelector"});b=a;g["default"]=b}),98);
__d("AdsAssetFeedVideoAssetsUtils",["AdsAssetFeedFieldUtils","AdsLoadState_LEGACY","LoadObject","immutable","recoverableViolation","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=[];function a(a){return!a?[]:a.map(function(a){return d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"video_id")}).toArray().filter(Boolean)}function b(a){var b=new Map();a&&a.forEach(function(a){var c=d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"video_id");c!=null&&b.set(c,d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"thumbnail_url"))});return b}function i(a){a=a.get("thumbnail_source");if(a==null)return null;switch(a){case"custom":case"generated_default":case"generated_selected":case"scrubber_selected":case"smart_selected":case"unknown":return a}c("recoverableViolation")("Unexpected video thumbnail source "+String(a),"ads_cx_pac");return null}function e(a){var b=new Map();a&&a.forEach(function(a){var c=d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"video_id");if(c!=null){a=i(a);b.set(c,a)}});return b}function f(a){var b=new Map();a&&a.forEach(function(a){var e=d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"video_id");if(e!=null){a=a.get("caption_ids");a instanceof c("immutable").List&&(a=a.map(String).toArray());Array.isArray(a)||(a=h);b.set(e,a)}});return b}function j(a,b,d,e,f){if(!(a instanceof Array))throw c("unrecoverableViolation")("video ids should be an array","ads_cx_pac");if(a.length===0)return c("LoadObject").empty();if(b.some(function(a){return a&&a.loadState!==c("AdsLoadState_LEGACY").LOADED&&a.loadState!==c("AdsLoadState_LEGACY").ERROR}))return c("LoadObject").loading();a=a.reduce(function(a,c){var g=b.get(c);g&&(a[c]={captionIDs:f.get(c)||[],format:"video",thumbnailUrl:d.get(c),thumbnailSource:e.get(c),video:g});return a},{});return c("LoadObject").withValue(c("immutable").Map(a))}g.getVideoAssetIDs=a;g.getVideoThumbnailUrlMap=b;g.getVideoThumbnailSource=i;g.getVideoThumbnailSourceMap=e;g.getVideoCaptionIDsMap=f;g.getVideoAssetsSelect=j}),98);
__d("AdsVideoAssetSelectors",["invariant","AdsAdgroupRecordAccessors","AdsAssetFeedVideoAssetsUtils","AdsBulkValueUtils","AdsMixedValue","AdsUEditorSelectors","AdsVideoStore","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.videos.get);b=c("adsCreateSelector")([a],function(a){if(!a||a instanceof c("AdsMixedValue"))return null;a=d("AdsBulkValueUtils").getUniformValue(a,null);typeof a!=="string"||h(0,6123);return a},{name:f.id+".assetFeedVideoListSelector"});e=c("adsCreateSelector")([b],d("AdsAssetFeedVideoAssetsUtils").getVideoAssetIDs,{name:f.id+".videoAssetIDsSelector"});var i=c("adsCreateStoreSelector")([c("AdsVideoStore")],function(a){return c("AdsVideoStore").get(a)},{name:f.id+".videoInfoStoreSelector"});i=c("adsCreateMapSelector")(e,i,f.id+".videoInfoMapSelector");var j=c("adsCreateSelector")([b],d("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailUrlMap,{name:f.id+".videoThumbnailUrlMapSelector"}),k=c("adsCreateSelector")([b],d("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailSourceMap,{name:f.id+".videoThumbnailSourceMapSelector"}),l=c("adsCreateSelector")([b],d("AdsAssetFeedVideoAssetsUtils").getVideoCaptionIDsMap,{name:f.id+".videoCaptionIDsMapSelector"});j=c("adsCreateSelector")([e,i,j,k,l],d("AdsAssetFeedVideoAssetsUtils").getVideoAssetsSelect,{name:f.id+".videoAssetsSelector"});g.assetFeedBulkVideoAssetListSelector=a;g.assetFeedVideoListSelector=b;g.videoAssetIDsSelector=e;g.videoInfoMapSelector=i;g.videoAssetsSelector=j}),98);
__d("AdsVideoPlacementAssetSelectorSelectors",["AdsAPIObjectives","AdsAdgroupRecordAccessors","AdsBulkValueUtils","AdsCarteAssetCustomizationSpecSelectors","AdsImageIDClasses","AdsImageInfoStore","AdsLoadState_LEGACY","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsUEditorSelectors","AdsVideoStore","LoadObject","PlacementAssetCustomizationTypes","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorODAXTranslatedObjectivesForSelectedAdgroupsSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","firstx","immutable","isFalsey","isTruthy","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();a=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.video_id.get);b=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.image_url.get);e=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.image_hash.get);var i=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.object_story_spec.video_data.caption_ids.get),j=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.platform_customizations.get),k=c("adsCreateStoreSelector")([c("AdsVideoStore")],function(a){return c("isFalsey")(a)?null:c("AdsVideoStore").get(a)},{name:f.id+".videoInfoStoreSelector"});a=c("adsCreateSelector")([d("AdsCarteAssetCustomizationSpecSelectors").adsCarteHasDCAssetCustomizationAssetFeedSelector,d("AdsCarteAssetCustomizationSpecSelectors").adsCarteSelectedSegmentVideoDataSelector,a,j],function(a,b,e,f){if(!a&&(d("AdsBulkValueUtils").isNullValue(e)||e instanceof c("AdsMixedValue")))return null;a=a?d("AdsBulkValueUtils").getUniformValueOrDefault(b.videoID,null):d("AdsBulkValueUtils").getUniformValue(e,null);b=f.getValues().map(function(a){return a!=null&&a.instagram!=null&&a.instagram.video_id!=null?a.instagram.video_id:null}).filter(function(a,b,c){return c.indexOf(a)===b});if(b.length>1)return null;e=b.length===0?null:b[0];return{baseVideoID:a,instagramCustomizationVideoID:e}},{name:f.id+".platformVideoIDsSelector"});var l=c("adsCreateStoreSelector")([c("AdsImageInfoStore")],function(a){return c("AdsImageInfoStore").getFullSizeURL(a)},{name:f.id+".imageURLStoreSelector"}),m=c("adsCreateSelector")([c("adsUEditorAccountSelector"),e],function(a,b){b=d("AdsBulkValueUtils").getUniformValue(b,null);return c("isTruthy")(b)?[d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(a.account_id,b)]:[]},{name:f.id+".imageIDsFromHashSelector"});m=c("adsCreateMapSelector")(m,l,f.id+".imageURLMapSelector");l=c("adsCreateSelector")([a],function(a){var b=[];a&&a.baseVideoID!=null&&a.baseVideoID!==""&&b.push(a.baseVideoID);a&&a.instagramCustomizationVideoID!=null&&a.instagramCustomizationVideoID!==""&&b.push(a.instagramCustomizationVideoID);return b},{name:f.id+".videoIDsSelector"});l=c("adsCreateMapSelector")(l,k,f.id+".videoInfoMapSelector");k=c("adsCreateSelector")([c("adsUEditorAccountSelector"),m,j,a,d("AdsCarteAssetCustomizationSpecSelectors").adsCarteHasDCAssetCustomizationAssetFeedSelector,d("AdsCarteAssetCustomizationSpecSelectors").adsCarteSelectedSegmentVideoDataSelector,i,l,e,b,c("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a,b,e,f,g,h,i,j,k,l,m){if(f==null)return c("LoadObject").empty();var n=f.baseVideoID!=null&&f.baseVideoID!==""?j.get(f.baseVideoID):null;j=f.instagramCustomizationVideoID!=null&&f.instagramCustomizationVideoID!==""?j.get(f.instagramCustomizationVideoID):null;if(n&&n.loadState!==c("AdsLoadState_LEGACY").LOADED||j&&j.loadState!==c("AdsLoadState_LEGACY").LOADED){f=n==null?void 0:n.error;return n&&n.loadState===c("AdsLoadState_LEGACY").ERROR&&f!=null?c("LoadObject").withError(f):c("LoadObject").loading()}f=null;if(m&&m.length>0){m=c("firstx")(m).adgroup;f=(m=m.creative)==null?void 0:(m=m.object_story_spec)==null?void 0:(m=m.video_data)==null?void 0:m.video_thumbnail_source}var o;if(n){m=g?d("AdsBulkValueUtils").getUniformValueOrDefault(h.imageHash,null):d("AdsBulkValueUtils").getUniformValue(k,null);k=g?d("AdsBulkValueUtils").getUniformValueOrDefault(h.imageURL,null):d("AdsBulkValueUtils").getUniformValue(l,null);if(c("isFalsey")(k)&&c("isTruthy")(m)){h=d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(a.account_id,m);l=b.get(h);if(l.isLoading())return c("LoadObject").loading();else l.hasValue()&&(k=l.getValueEnforcing())}a=g?null:d("AdsBulkValueUtils").getUniformValue(i,null);a!=null&&a instanceof c("immutable").List&&(a=a.map(String).toArray());o={captionIDs:a||[],format:"video",thumbnailUrl:k,thumbnailSource:f,video:n}}var p;if(j){m=null;b=null;var q;h=d("AdsBulkValueUtils").getUniformValue(e,null);h!=null&&h.instagram!=null&&(m=h.instagram.image_url,b=h.instagram.thumbnail_source,q=h.instagram.caption_ids);q!=null&&q instanceof c("immutable").List&&(q=q.map(String).toArray());p={captionIDs:q||[],format:"video",thumbnailUrl:m,video:j,thumbnailSource:b}}return c("LoadObject").withValue({baseVideo:o,instagramCustomizationVideo:p})},{name:f.id+".adsUEditorAdgroupVideosSelector"});m=c("adsCreateSelector")([c("adsUEditorODAXTranslatedObjectivesForSelectedAdgroupsSelector"),d("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,d("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupPlacementAssetCustomizationTypeSelector,d("AdsPlacementAssetCustomizationSelectors").pacConfigSelector,a,l,c("adsUEditorAccountSelector"),c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,b,e,f,g,h,i,j){if(g==null)return c("LoadObject").empty();var k=e===d("PlacementAssetCustomizationTypes").PAC_PHASE_1,l=e===d("PlacementAssetCustomizationTypes").PAC_PHASE_2,m=[];g.baseVideoID!=null&&g.baseVideoID!==""&&m.push(f.basePlacementGroup);(g.instagramCustomizationVideoID!=null&&g.instagramCustomizationVideoID!==""||k)&&f.customizationPlacementGroups.length>0&&m.push(f.customizationPlacementGroups[0]);var n,o,p;if(l&&m.length===1&&b!=null){n=d("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(b.assetGroups,j);var q=g.baseVideoID!=null?h.get(g.baseVideoID):null;if(q){k=n.filter(function(b){b=d("AdsPlacementAssetUtils").getPlacementsFromAssetGroup(b);var e=d("AdsBulkValueUtils").getUniformValue(a,c("AdsAPIObjectives").NONE);e=d("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithVideo(q,c("nullthrows")(b),e,i.capabilities);return e.size===b.size});o=c("immutable").Map((f={},f[m[0]]=c("immutable").List(k),f));p=c("immutable").Map((l={},l[m[0]]=c("immutable").List(n),l))}}return c("LoadObject").withValue({assetGroups:d("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder(n||[]),placementAssetCustomizationType:e,labels:c("immutable").List(m),validAssetGroupsByAsset:o||c("immutable").Map(),assetGroupsByAsset:p||c("immutable").Map()})},{name:f.id+".nonAssetFeedAdgroupInfoSelector"});j=c("adsCreateSelector")([m],function(a){if(a.isEmpty())return h;a=a.getValueEnforcing();return a.validAssetGroupsByAsset},{name:f.id+".adsUEditorAdgroupVideoNonAssetFeedValidAssetGroupsByAssetSelector"});i=c("adsCreateSelector")([m,k],function(a,b){if(b.isLoading()||a.isLoading())return c("LoadObject").loading();if(b.isEmpty()||a.isEmpty())return c("LoadObject").withValue(!1);if(b.hasError())return c("LoadObject").withError(b.getErrorEnforcing());a=b.getValueEnforcing();b=a.baseVideo;return b==null?c("LoadObject").withValue(!1):c("LoadObject").withValue(!0)},{name:f.id+".adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector"});e=c("adsCreateSelector")([c("adsUEditorAccountSelector"),i,c("adsUEditorAdObjectsForSelectedAdgroupsSelector"),m,d("AdsPlacementAssetCustomizationSelectors").pacConfigSelector,k],function(a,b,e,f,g,h){if(b.isLoading()||h.isLoading()||f.isLoading())return c("LoadObject").loading();if(h.hasError())return c("LoadObject").withError(h.getErrorEnforcing());if(!b.getValueEnforcing()||h.isEmpty()||f.isEmpty())return c("LoadObject").withError(new Error("Not eligible to render placement asset selector from non asset feed"));b=a.account_id;a=h.getValueEnforcing();h=a.baseVideo;if(h==null)return c("LoadObject").withError(new Error("An initial video must be selected to use the placement asset selector"));var i={};h&&(i[g.basePlacementGroup]=h);a.instagramCustomizationVideo&&(i[d("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups.INSTAGRAM]=a.instagramCustomizationVideo);return c("LoadObject").withValue(babelHelpers["extends"]({accountID:b,adgroupIDs:e.map(function(a){return a.adgroup.id}),campaignIDs:e.map(function(a){return a.campaign.id}),assets:c("immutable").Map(i)},f.getValueEnforcing(),g))},{name:f.id+".adsUEditorAdgroupVideoPACNonAssetFeedSelector"});b=c("adsCreateSelector")([e],function(a){if(a.isLoading())return c("LoadObject").loading();if(a.getValue()==null)return c("LoadObject").withError(new Error("Not eligible to render placement asset selector from DOF"));a=a.getValueEnforcing();return c("LoadObject").withValue(babelHelpers["extends"]({},a,{assetsPlacements:c("immutable").Map(),customizationPlacementGroups:[],placementAssetCustomizationType:d("PlacementAssetCustomizationTypes").PAC_PHASE_1,validAssetGroupsByAsset:c("immutable").Map()}))},{name:f.id+".adsUEditorAdgroupVideoDOFSelector"});g.adsUEditorAdgroupVideosSelector=k;g.nonAssetFeedAdgroupInfoSelector=m;g.adsUEditorAdgroupVideoNonAssetFeedValidAssetGroupsByAssetSelector=j;g.adsUEditorAdgroupVideoPACCanRenderFromNonAssetFeedSelector=i;g.adsUEditorAdgroupVideoPACNonAssetFeedSelector=e;g.adsUEditorAdgroupVideoDOFSelector=b}),98);
__d("AdsVideoPlacementAssetCustomizationSelectors",["AdsAPIObjectives","AdsAdgroupRecordAccessors","AdsAssetFeedFieldUtils","AdsAssetFeedUtils","AdsAssetFeedVideoAssetsUtils","AdsBulkValueUtils","AdsMixedValue","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementAssetValidationUtils","AdsUEditorSelectors","AdsVideoAssetSelectors","AdsVideoPlacementAssetSelectorSelectors","LoadObject","PlacementAssetCustomizationTypes","adsCreateSelector","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorODAXTranslatedObjectivesForSelectedAdgroupsSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","adsUEditorPlacementCustomizationDefaultCoverageSelector","firstx","immutable","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get);b=c("adsCreateSelector")([a,d("AdsVideoAssetSelectors").assetFeedVideoListSelector],function(a,b){if(a instanceof c("AdsMixedValue")||!b)return null;a=d("AdsPlacementAssetTargetingRuleUtils").targetingRuleByFieldsTypeFromTargetingRules(d("AdsBulkValueUtils").getUniformValue(a,null),"video_label");var e=d("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsList(a,"video_label");a=d("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(a,"video_label");b=d("AdsAssetFeedFieldUtils").getAssetMapForLabels(b,"adlabels",e);var f=b.map(function(a){return c("nullthrows")(d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"video_id"))});return{labels:e,placementsByLabel:a,videoIDsByLabel:f,videoAssetsByLabel:b}},{name:f.id+".assetFeedAdgroupInfoSelector"});e=c("adsCreateSelector")([d("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,b){if(a==null)return null;a=d("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(a.assetGroups,b);return d("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder(a)},{name:f.id+".assetGroupsSelector"});function h(a,b,e,f,g,h,i){if(!b)return null;var j=d("AdsBulkValueUtils").getUniformValue(a,c("AdsAPIObjectives").NONE),k=c("nullthrows")(b).placementsByLabel;a=k.filter(function(a){return a.isEmpty()});if(!a.isEmpty()&&g!=null){a=c("firstx")(a.keys());g=d("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(g,i);k=k.set(a,d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(g))}return b.videoIDsByLabel.map(function(a,b){a=e.get(a);if(!a||k.isEmpty())return c("immutable").List();a=f(a,k.get(b),j,h.capabilities);return d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a)}).filter(function(a){return a.size!==0})}a=c("adsCreateSelector")([c("adsUEditorODAXTranslatedObjectivesForSelectedAdgroupsSelector"),b,d("AdsVideoAssetSelectors").videoInfoMapSelector,d("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,c("adsUEditorPlacementCustomizationDefaultCoverageSelector"),c("adsUEditorAccountSelector"),c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,b,c,d,e,f,g){return h(a,b,c,function(a,b,c,d){return b},e,f,g)},{name:f.id+".assetGroupsByAssetSelector"});var i=c("adsCreateSelector")([d("AdsVideoPlacementAssetSelectorSelectors").adsUEditorAdgroupVideoNonAssetFeedValidAssetGroupsByAssetSelector,c("adsUEditorODAXTranslatedObjectivesForSelectedAdgroupsSelector"),b,d("AdsVideoAssetSelectors").videoInfoMapSelector,c("adsUEditorPlacementCustomizationDefaultCoverageSelector"),c("adsUEditorAccountSelector"),c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector")],function(a,b,c,e,f,g,i){return c==null?a:h(b,c,e,d("AdsPlacementAssetValidationUtils").getPlacementsCompatibleWithVideo,f,g,i)},{name:f.id+".validAssetGroupsByAssetSelector"}),j=c("adsCreateSelector")([b,d("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,d("AdsVideoAssetSelectors").videoAssetsSelector,i],function(a,b,d,e){if(d.isLoading())return c("LoadObject").loading();return d.isEmpty()||!a||a.labels.size===0||!b||!e?c("LoadObject").withValue(!1):c("LoadObject").withValue(!0)},{name:f.id+".adsUEditorAdgroupVideoPACCanRenderFromAssetFeedSelector"}),k=c("adsCreateSelector")([d("AdsVideoAssetSelectors").videoAssetsSelector],function(a){if(a.isLoading())return c("LoadObject").loading();return a.isEmpty()?c("LoadObject").withValue(!1):c("LoadObject").withValue(!0)},{name:f.id+".adsUEditorAdgroupVideoDCOCanRenderFromAssetFeedSelector"}),l=c("adsCreateSelector")([c("adsUEditorAccountSelector"),j,c("adsUEditorAdObjectsForSelectedAdgroupsSelector"),b,d("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,d("AdsVideoAssetSelectors").videoAssetsSelector,i,a,d("AdsPlacementAssetCustomizationSelectors").adsUEditorPACBodyAssetInfoByMediaAssetLabel,d("AdsPlacementAssetCustomizationSelectors").adsUEditorPACCustomizedVideoAssetLabelSelector,e,d("AdsPlacementAssetCustomizationSelectors").adsUEditorPACHeadlineAssetInfoByMediaAssetLabel,d("AdsPlacementAssetCustomizationSelectors").adsUEditorPACUrlAssetInfoByMediaAssetLabel,d("AdsPlacementAssetCustomizationSelectors").adsUEditorPACInteractivePollVideoAssetLabelSelector],function(a,b,e,f,g,h,i,j,k,l,m,n,o,p){if(h.isLoading()||b.isLoading())return c("LoadObject").loading();if(!b.getValueEnforcing()||h.isEmpty()||!f||f.labels.size===0||!g||!i||!j||!m)return c("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));var q=h.getValueEnforcing();b=f.videoAssetsByLabel.map(function(a){var b=d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"video_id");if(b!=null){b=q.get(b);if(b.format!=="video")throw c("unrecoverableViolation")("[PAC] Asset must be video","ads_cx_pac");b=babelHelpers["extends"]({},b);var e=a.get("thumbnail_url");typeof e==="string"&&(b.thumbnailUrl=e,b.thumbnailSource=d("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailSource(a));return b}}).filter(Boolean);g=c("firstx")(e).adgroup;h=d("AdsAssetFeedUtils").isDLOAdgroupFromRecord(g);g=(g=g.creative)==null?void 0:(g=g.asset_feed_spec)==null?void 0:g.videos;h=h&&g!=null&&g.size>1;return c("LoadObject").withValue({accountID:a.account_id,adgroupIDs:e.map(function(a){return a.adgroup.id}),assets:b,assetGroups:m,basePlacementGroup:null,bodyInfoByAssetLabel:k,campaignIDs:e.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],customizedAssetLabels:l,assetsPlacements:f.placementsByLabel,placementAssetCustomizationType:d("PlacementAssetCustomizationTypes").PAC_PHASE_2,labels:f.labels,validAssetGroupsByAsset:i,assetGroupsByAsset:j,hasLanguageSpecificMedia:h,headlineInfoByAssetLabel:n,urlInfoByAssetLabel:o,interactivePollAssetLabels:p})},{name:f.id+".adsUEditorAdgroupVideoPACAssetFeedSelector"});f=c("adsCreateSelector")([c("adsUEditorAccountSelector"),k,c("adsUEditorAdObjectsForSelectedAdgroupsSelector"),d("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,d("AdsVideoAssetSelectors").videoAssetsSelector,d("AdsPlacementAssetCustomizationSelectors").pacConfigSelector,d("AdsVideoAssetSelectors").assetFeedVideoListSelector],function(a,b,e,f,g,h,i){if(g.isLoading()||b.isLoading())return c("LoadObject").loading();if(!b.getValueEnforcing()||g.isEmpty()||!f)return c("LoadObject").withError(new Error("Not eligible to render placement asset selector from asset feed"));b=g.getValueEnforcing();g=i?i.map(function(a){return a.get("video_id").toString()}):c("immutable").List();return c("LoadObject").withValue({accountID:a.account_id,adgroupIDs:e.map(function(a){return a.adgroup.id}),assets:b,assetGroups:f.assetGroups,assetsPlacements:c("immutable").Map(),basePlacementGroup:h.basePlacementGroup,campaignIDs:e.map(function(a){return a.campaign.id}),customizationPlacementGroups:[],hasDCO:!0,placementAssetCustomizationType:d("PlacementAssetCustomizationTypes").PAC_PHASE_1,labels:g,validAssetGroupsByAsset:c("immutable").Map()})},{name:f.id+".adsUEditorAdgroupVideoDCOAssetFeedSelector"});g.assetFeedAdgroupInfoSelector=b;g.assetGroupsSelector=e;g.assetGroupsByAssetSelector=a;g.validAssetGroupsByAssetSelector=i;g.adsUEditorAdgroupVideoPACCanRenderFromAssetFeedSelector=j;g.adsUEditorAdgroupVideoDCOCanRenderFromAssetFeedSelector=k;g.adsUEditorAdgroupVideoPACAssetFeedSelector=l;g.adsUEditorAdgroupVideoDCOAssetFeedSelector=f}),98);
__d("adsAdgroupCanvasEnabledSelector",["AdsCanvasAdUtils","adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAdObjectsForSelectedAdgroupsSelector")],function(a){a=a[0];return a==null?!1:d("AdsCanvasAdUtils").isCanvasDestinationEnabled(a.adgroup)},{name:f.id+".adsAdgroupCanvasEnabledSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector",["AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetUtils","AdsVideoPlacementAssetCustomizationSelectors","adsAdgroupCanvasEnabledSelector","adsCreateSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsImagePlacementAssetCustomizationSelectors").validAssetGroupsByAssetSelector,d("AdsVideoPlacementAssetCustomizationSelectors").validAssetGroupsByAssetSelector,c("adsAdgroupCanvasEnabledSelector")],function(a,b,e){var f=c("immutable").Map();a=a!=null?f.concat(a):f;f=b!=null?a.concat(b):a;e&&(f=f.map(function(a){return c("immutable").List(d("AdsPlacementAssetUtils").getFilteredIXSupportedAssetGroups(a))}));return f.map(function(a){return d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(a)})},{name:f.id+".adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationImageAssetSelector",["AdsAdgroupRecordAccessors","AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationDataUtils","AdsUEditorSelectors","LoadObject","adsCreateSelector","adsGetUniformValueSelector","adsUEditorPlacementCustomizationDefaultMediaAssetLabelSelector","adsUEditorPlacementCustomizationInteractivePollComponentSelector","adsUEditorPlacementCustomizationValidPlacementsByMediaSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();a=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector")],function(a){a=a!=null?c("first")(a):null;if(a!=null){return(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.images}},{name:f.id+".imageAssetsSelector"});b=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get),null),a,c("adsUEditorPlacementCustomizationDefaultMediaAssetLabelSelector"),d("AdsImagePlacementAssetCustomizationSelectors").placementAssetSelectorImageAssetsSelector,c("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"),d("AdsImagePlacementAssetCustomizationSelectors").backgroundColorsByAssetSelector,d("AdsImagePlacementAssetCustomizationSelectors").cropsByAssetSelector,c("adsUEditorPlacementCustomizationInteractivePollComponentSelector")],function(a,b,e,f,g,i,j,k){var l=e.defaultMediaLabel,m=e.defaultMediaFormat;if(f.isLoading())return c("LoadObject").loading();if(a==null||!f.hasValue()||b==null)return c("LoadObject").withValue(h);e=f.getValueEnforcing();return e==null?c("LoadObject").withValue(h):c("LoadObject").withValue(e.reduce(function(e,f,h){if(f.format!=="image")return e;var n=k.get(h);f=babelHelpers["extends"]({},f,{backgroundColor:i.get(h),crops:j!=null?j.get(h):null,interactiveComponents:n});return e.set(h,{adlabel:h,format:d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage,isCustomized:l!=null?m!=="image"||d("AdsPlacementCustomizationDataUtils").isAssetCustomized(a,b,l,h):!1,validPlacements:g.get(h)||c("immutable").List(),value:f})},c("immutable").Map()))},{name:f.id+".adsUEditorPlacementCustomizationImageAssetSelector"});e=b;g["default"]=e}),98);
__d("adsIsPACSupportedForAdWithExistingPostSelector",["adsCreateSelector","adsIsPACSupportedForAdWithExistingPost","adsUEditorAccountSelector","adsUEditorSelectedAdgroupsSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAccountSelector"),c("adsUEditorSelectedAdgroupsSelector")],function(a,b){return b.every(function(a){return c("adsIsPACSupportedForAdWithExistingPost")(a)})},{name:f.id+".adsIsPACSupportedForAdWithExistingPostSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationTargetingRulesSelector",["AdsAdgroupRecordAccessors","AdsUEditorSelectors","adsCreateSelector","adsCreateThunkSelector","adsGetUniformValueSelector","adsIsPACSupportedForAdWithExistingPostSelector","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsIsPACSupportedForAdWithExistingPostSelector"),c("adsCreateThunkSelector")(c("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector")),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get),null)],function(a,b,c){if(!a)return c;a=b();c=a.hasValue()?a.getValue():null;return c!=null?(b=c.creative)==null?void 0:(a=b.asset_feed_spec)==null?void 0:a.asset_customization_rules:null},{name:f.id+".adsUEditorPlacementCustomizationTargetingRulesSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationBackgroundColorSelector",["AdsAdgroupRecordAccessors","AdsAssetFeedConstant","AdsAssetFeedFieldUtils","AdsUEditorSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").List(),i=c("immutable").Map();a=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.images.get),h),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.videos.get),h)],function(a,b){a=h.concat(a).concat(b);return a.reduce(function(a,b){var e=d("AdsAssetFeedFieldUtils").getAssetBackgroundColor(b);b=b.get(d("AdsAssetFeedConstant").ADLABELS);return e!=null&&b instanceof c("immutable").List?b.reduce(function(a,b){return a.set(b.get("name"),e)},a):a},i)},{name:f.id+".adsUEditorPlacementCustomizationBackgroundColorSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationVideoAssetSelector",["AdsAdgroupRecordAccessors","AdsAssetFeedFieldUtils","AdsAssetFeedVideoAssetsUtils","AdsInteractiveComponentConstants","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationConstants","AdsPlacementCustomizationDataUtils","AdsUEditorSelectors","AdsVideoAssetSelectors","LoadObject","adsCreateSelector","adsGetUniformValueSelector","adsUEditorPlacementCustomizationBackgroundColorSelector","adsUEditorPlacementCustomizationDefaultMediaAssetLabelSelector","adsUEditorPlacementCustomizationInteractivePollComponentSelector","adsUEditorPlacementCustomizationValidPlacementsByMediaSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();a=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector")],function(a){a=a!=null?c("first")(a):null;if(a!=null){return(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.videos}},{name:f.id+".assetFeedVideoAssetSelector"});b=c("adsCreateSelector")([d("AdsVideoAssetSelectors").videoAssetsSelector,d("AdsVideoAssetSelectors").assetFeedVideoListSelector],function(a,b){if(a.isLoading())return c("LoadObject").loading();if(!a.hasValue()||b==null||b.size===0)return c("LoadObject").withValue(h);var e=a.getValueEnforcing();return c("LoadObject").withValue(b.reduce(function(a,b){var f=d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(b,"video_id");if(f!=null){f=e.get(f);if(f.format!=="video")return a;var g=babelHelpers["extends"]({},f);f=b.get("thumbnail_url");(f==null||typeof f==="string")&&(g.thumbnailUrl=f,g.thumbnailSource=d("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailSource(b));f=b.get("adlabels");if(f!=null&&f instanceof c("immutable").List)return f.reduce(function(a,b){return a.set(b.get("name"),g)},a);else return a.set(d("AdsPlacementCustomizationConstants").NO_ADLABEL,g)}return a},c("immutable").Map()))},{name:f.id+".videoAssetsByAdlabelSelector"});e=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get),null),a,b,c("adsUEditorPlacementCustomizationDefaultMediaAssetLabelSelector"),c("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"),c("adsUEditorPlacementCustomizationInteractivePollComponentSelector"),c("adsUEditorPlacementCustomizationBackgroundColorSelector")],function(a,b,e,f,g,i,j){var k=f.defaultMediaLabel,l=f.defaultMediaFormat;if(e.isLoading())return c("LoadObject").loading();if(b==null||!e.hasValue()||a==null)return c("LoadObject").withValue(h);f=e.getValueEnforcing();return f==null?c("LoadObject").withValue(h):c("LoadObject").withValue(f.reduce(function(e,f,h){if(f.format!=="video")return e;f=babelHelpers["extends"]({},f,{backgroundColor:j.get(h),interactiveComponents:i.get(h),pollComponentSpec:(f=i.get(h))==null?void 0:f.filter(function(a){return a.get("type")===d("AdsInteractiveComponentConstants").INTERACTIVE_COMPONENT_POLL_TYPE}).get(0)});f={adlabel:h,format:d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo,isCustomized:k!=null?l!=="video"||d("AdsPlacementCustomizationDataUtils").isAssetCustomized(a,b,k,h):!1,validPlacements:g.get(h)||c("immutable").List(),value:f};return e.set(h,f)},c("immutable").Map()))},{name:f.id+".adsUEditorPlacementCustomizationVideoAssetSelector"});a=e;g["default"]=a}),98);
__d("AdsUEditorPlacementCustomizationCarouselAssetSelectors",["AdsAPIChildAttachmentPaths","AdsAPIObjectives","AdsAdgroupRecordAccessors","AdsBulkValueUtils","AdsMessengerDestinationAdgroupUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsUEditorSelectors","ApiObjectStorySpecLinkChildFields","LoadObject","adsCreateSelector","adsCreateThunkSelector","adsGetUniformValueSelector","adsPlacementAssetGetChildAttachmentFromLabelMap","adsUEditorAccountSelector","adsUEditorODAXTranslatedObjectivesForSelectedAdgroupsSelector","adsUEditorPlacementCustomizationDefaultCoverageSelector","adsUEditorPlacementCustomizationImageAssetSelector","adsUEditorPlacementCustomizationTargetingRulesSelector","adsUEditorPlacementCustomizationVideoAssetSelector","adsUEditorSelectedAdgroupsSelector","first","immutable","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map(),i=c("immutable").List();function j(a,b){return a.map(function(a){a=a.getIn(["video_label","name"])||a.getIn(["image_label","name"]);a=(a=b.get(a))==null?void 0:a.value;if(a==null)return c("LoadObject").empty();if(a.format==="carousel"||a.format==="post"){c("recoverableViolation")("Media format should be an image or video","ads_cx_pac");return c("LoadObject").empty()}return c("LoadObject").withValue(a)})}a=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector")],c("first"),{name:f.id+".selectAdgroup"});b=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationVideoAssetSelector"),c("adsUEditorPlacementCustomizationImageAssetSelector")],function(a,b){a=(a=a.getValue())!=null?a:h;b=(b=b.getValue())!=null?b:h;return a.concat(b)},{equal:c("immutable").is,name:f.id+".selectMediaAssets"});e=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get),null)],function(a){a=d("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(a);return a==null?void 0:a.getIn(["carousel_label","name"])},{name:f.id+".selectDefaultCarouselLabel"});var k=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationTargetingRulesSelector"),c("adsUEditorPlacementCustomizationDefaultCoverageSelector"),c("adsUEditorAccountSelector")],function(a,b,c){var e=d("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsPlacementListsMap(a,"carousel_label");e=e.map(d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements);a=d("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(a);if(a!=null&&b!=null){a=d("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRuleNullable(a,"carousel_label");b=d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(b).filter(function(a){return d("AdsPlacementAssetEligibilityUtils").isEligiblePlacementForCarouselPlacementAssetCustomization(a,c.capabilities)});e=e.set(a,d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(b))}return e},{name:f.id+".assetFeedValidAssetGroupsByAssetLabel"}),l=c("adsCreateSelector")([a,c("adsUEditorODAXTranslatedObjectivesForSelectedAdgroupsSelector")],function(a,b){b=d("AdsBulkValueUtils").getUniformValue(b,c("AdsAPIObjectives").NONE);return a!=null&&d("AdsMessengerDestinationAdgroupUtils").hasMessengerDestinationForAdgroupSpec(a)||b===c("AdsAPIObjectives").LEAD_GENERATION},{name:f.id+".shouldHideLinkSelector"});a=c("adsCreateSelector")([a,c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.carousels.get),null),c("adsCreateThunkSelector")(e),c("adsCreateThunkSelector")(b),c("adsCreateThunkSelector")(k),l],function(a,b,e,f,g,k){if(b==null||a==null)return h;var l=e(),m=f(),n=g();return c("immutable").Map(b.reduce(function(b,e){var f=d("AdsPlacementAssetUtils").getFirstAdLabel(e),g=e.get("child_attachments"),h=g.map(function(b){return c("adsPlacementAssetGetChildAttachmentFromLabelMap")(b,a)}),o=j(g,m);g=h.map(function(a,b){var d=a.get(c("ApiObjectStorySpecLinkChildFields").LINK);return{media:(b=o.get(b))!=null?b:c("LoadObject").loading(),description:a.get(c("ApiObjectStorySpecLinkChildFields").DESCRIPTION),link:k?"":d,headline:a.get(c("ApiObjectStorySpecLinkChildFields").NAME),deeplink:a.getIn(c("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_LINK)}}).toArray();h=e.get("multi_share_end_card");e=e.get("multi_share_optimized");var p=i;if(f!=null){var q=n.get(f);q==null?c("recoverableViolation")("No valid asset groups found for ad label","ads_cx_pac"):p=d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(q)}q={adlabel:f,isCustomized:f===l,format:d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatCarousel,value:{cards:g,format:d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatCarousel,multiShareEndCard:h,multiShareOptimized:e},validPlacements:p};b[f]=q;return b},{}))},{name:f.id+".adsUEditorPlacementCustomizationCarouselAssetSelector"});g.getMediaLoadObjectList=j;g.shouldHideLinkSelector=l;g.adsUEditorPlacementCustomizationCarouselAssetSelector=a}),98);
__d("adsImageIDForStaticAdgroupWithPostSelector",["AdsAssetSelectorsUtils","AdsPlacementCustomizationConstants","adsCreateSelector","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","immutable","mixedToString"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector")],function(a){var b;a=a.hasValue()?a.getValueEnforcing():null;if(a==null)return null;b=(b=a.creative)==null?void 0:(b=b.asset_feed_spec)==null?void 0:b.images;var e=a.account_id;return b==null||e==null?null:b.reduce(function(a,b){var f=b!=null?d("AdsAssetSelectorsUtils").getImageID(e,c("mixedToString")(b.get("hash")),c("mixedToString")(b.get("url"))):null,g=d("AdsPlacementCustomizationConstants").NO_ADLABEL;b=b.get("adlabels");if(b instanceof c("immutable").List&&b.size){b=b.first();g=b!=null&&b instanceof c("immutable").Map?b.get("name"):d("AdsPlacementCustomizationConstants").NO_ADLABEL}return f!=null?a.set(g,f):a},c("immutable").Map())},{name:f.id+".adsImageIDForStaticAdgroupWithPostSelector"});b=a;g["default"]=b}),98);
__d("adsImageAssetsForStaticAdgroupWithPostSelector",["AdsImageAssetSelectors","AdsImageIDClasses","AdsPlacementAssetCustomizationTypes","LoadObject","adsCreateMapSelector","adsCreateSelector","adsImageIDForStaticAdgroupWithPostSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsImageIDForStaticAdgroupWithPostSelector")],function(a){return a!=null?Array.from(a.values()):[]},{name:f.id+".imageAssetImageIDSelector"});b=c("adsCreateMapSelector")(a,d("AdsImageAssetSelectors").fullSizeImageSelector,f.id+".fullSizeImageMapSelector");e=c("adsCreateMapSelector")(a,d("AdsImageAssetSelectors").imageNameSelector,f.id+".imageNameMapSelector");var h=c("adsCreateMapSelector")(a,d("AdsImageAssetSelectors").imageDimensionsSelector,f.id+".imageDimensionsMapSelector");a=c("adsCreateMapSelector")(a,d("AdsImageAssetSelectors").thumbnailURLSelector,f.id+".thumbnailURLMapSelector");b=c("adsCreateSelector")([c("adsImageIDForStaticAdgroupWithPostSelector"),b,e,h,a],function(a,b,e,f,g){var h=c("immutable").Map();a=a!=null&&!a.isEmpty()?a:null;if(a==null)return c("LoadObject").withValue(h);return b.some(function(a){return a.isLoading()})||e.some(function(a){return a.isLoading()})||g.some(function(a){return a.isLoading()})||f.some(function(a){return a!=null&&a.isLoading()})?c("LoadObject").loading():c("LoadObject").withValue(a.reduce(function(a,i,j){var k;if(i instanceof d("AdsImageIDClasses").AdsAccountImageID){var l=g.get(i).map(function(a){var b;return a.url||((b=a.displayImage)==null?void 0:b.url)||a}),m=i.getHash(),n=b.get(i),o=e.get(i);k=d("AdsImageAssetSelectors").getAssetForAccountImage(m,n,o,l)}else if(i instanceof d("AdsImageIDClasses").AdsExternalImageID){m=f.get(i);k=m!=null?d("AdsImageAssetSelectors").getAssetForExternalImage(i.getUrl(),m):null}if(k==null||k.format!=="image")return h;n=babelHelpers["extends"]({},k,{backgroundColor:null,pollComponentSpec:null});o={adlabel:j,format:d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage,isCustomized:!1,validPlacements:c("immutable").List(),value:n};return a.set(j,o)},h))},{name:f.id+".adsImageAssetsForStaticAdgroupWithPostSelector"});e=b;g["default"]=e}),98);
__d("adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector",["AdsAdAssetSelectorTypes","AdsAssetFeedFieldUtils","AdsAssetFeedVideoAssetsUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationConstants","AdsVideoStore","LoadObject","adsCreateMapSelector","adsCreateSelector","adsCreateStoreSelector","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";b=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector")],function(a){return a.match({loaded:function(a){a=a!=null?(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.videos:null;return a!=null?a:c("immutable").List()},loading:function(){return c("immutable").List()},error:function(){return c("immutable").List()}})},{name:f.id+".assetFeedVideoListSelector"});e=c("adsCreateStoreSelector")([c("AdsVideoStore")],function(a){return c("AdsVideoStore").get(a)},{name:f.id+".videoInfoStoreSelector"});var h=c("adsCreateSelector")([b],d("AdsAssetFeedVideoAssetsUtils").getVideoAssetIDs,{name:f.id+".videoAssetIDsSelector"});e=c("adsCreateMapSelector")(h,e,f.id+".videoInfoMapSelector");var i=c("adsCreateSelector")([b],d("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailUrlMap,{name:f.id+".videoThumbnailUrlMapSelector"}),j=c("adsCreateSelector")([b],d("AdsAssetFeedVideoAssetsUtils").getVideoThumbnailSourceMap,{name:f.id+".videoThumbnailSourceMapSelector"}),k=c("adsCreateSelector")([b],d("AdsAssetFeedVideoAssetsUtils").getVideoCaptionIDsMap,{name:f.id+".videoCaptionIDsMapSelector"});function a(a){return!a?c("immutable").Map():a.reduce(function(a,b){var e=d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(b,"video_id");if(e!=null){b=b.get("adlabels");var f=d("AdsPlacementCustomizationConstants").NO_ADLABEL;if(b instanceof c("immutable").List&&b.size){b=b.first();f=b!=null&&b instanceof c("immutable").Map?b.get("name"):d("AdsPlacementCustomizationConstants").NO_ADLABEL}return a.set(e,f)}return a},c("immutable").Map())}b=c("adsCreateSelector")([b],a,{name:f.id+".videoAdLabelsIDsMapSelector"});a=c("adsCreateSelector")([h,e,i,j,k],d("AdsAssetFeedVideoAssetsUtils").getVideoAssetsSelect,{name:f.id+".videoAssetsSelector"});h=c("adsCreateSelector")([a,b],function(a,b){return a.match({loaded:function(a){if(a==null)return c("LoadObject").withValue(c("immutable").Map());a=a.reduce(function(a,e,f){if(e.format===d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.video){e=babelHelpers["extends"]({},e,{backgroundColor:null,pollComponentSpec:null});f=(f=b.get(f))!=null?f:d("AdsPlacementCustomizationConstants").NO_ADLABEL;return a.set(f,{adlabel:f,format:d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo,isCustomized:!1,validPlacements:c("immutable").List(),value:e})}return a},c("immutable").Map());return c("LoadObject").withValue(a)},loading:function(){return c("LoadObject").loading()},error:function(){return c("LoadObject").withValue(c("immutable").Map())}})},{name:f.id+".adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector"});e=h;g["default"]=e}),98);
__d("adsCarouselAssetsForStaticAdgroupWithPostSelector",["AdsAPIChildAttachmentPaths","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationConstants","AdsUEditorPlacementCustomizationCarouselAssetSelectors","ApiObjectStorySpecLinkChildFields","LoadObject","adsCreateSelector","adsCreateThunkSelector","adsImageAssetsForStaticAdgroupWithPostSelector","adsPlacementAssetGetChildAttachmentFromLabelMap","adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","first","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();a=c("adsCreateSelector")([c("adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector"),c("adsImageAssetsForStaticAdgroupWithPostSelector")],function(a,b){a=(a=a.getValue())!=null?a:h;b=(b=b.getValue())!=null?b:h;return a.concat(b)},{equal:c("immutable").is,name:f.id+".selectMediaAssets"});b=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector"),c("adsCreateThunkSelector")(a),d("AdsUEditorPlacementCustomizationCarouselAssetSelectors").shouldHideLinkSelector],function(a,b,e){var f=a.hasValue()?a.getValueEnforcing():null;if(f==null)return h;a=(a=f.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.carousels;a=a!=null?c("first")(a):null;if(a==null)return h;b=b();var g=a.get("child_attachments");if(!(g instanceof c("immutable").List))return h;var i=g.map(function(a){return c("adsPlacementAssetGetChildAttachmentFromLabelMap")(a,f)}),j=d("AdsUEditorPlacementCustomizationCarouselAssetSelectors").getMediaLoadObjectList(g,b);g=i.map(function(a,b){var d=a.get(c("ApiObjectStorySpecLinkChildFields").LINK);return{media:(b=j.get(b))!=null?b:c("LoadObject").loading(),description:a.get(c("ApiObjectStorySpecLinkChildFields").DESCRIPTION),link:e?"":d,headline:a.get(c("ApiObjectStorySpecLinkChildFields").NAME),deeplink:a.getIn(c("AdsAPIChildAttachmentPaths").CALL_TO_ACTION.VALUE.APP_LINK)}}).toArray();b=Boolean(a.get("multi_share_end_card"));i=Boolean(a.get("multi_share_optimized"));a=d("AdsPlacementCustomizationConstants").NO_ADLABEL;g={adlabel:a,format:d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatCarousel,isCustomized:!1,validPlacements:c("immutable").List(),value:{cards:g,format:d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatCarousel,multiShareEndCard:b,multiShareOptimized:i}};return h.set(a,g)},{name:f.id+".adsCarouselAssetsForStaticAdgroupWithPostSelector"});e=b;g["default"]=e}),98);
__d("adsGetAssetGroupsFromPlacementCustomizationData",["AdsPlacementAssetCustomizationTypes","AdsPlacementAssetUtils","immutable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g){a=a.reduce(function(a,b){return a.concat(b.placements)},c("immutable").Set());a=d("AdsPlacementAssetUtils").getAssetGroupsFromPlacements(a.toList()).toArray();a=a;b==="image"?a=d("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(a,e):b==="video"?a=d("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(a,e):b==="carousel"&&(a=d("AdsPlacementAssetUtils").getFilteredCarouselSupportedAssetGroups(a,g));f&&(a=d("AdsPlacementAssetUtils").getFilteredIXSupportedAssetGroups(a));return c("immutable").List(d("AdsPlacementAssetCustomizationTypes").sortAssetGroupsByPreferredOrder(a))}g["default"]=a}),98);
__d("adsPostAssetsForStaticAdgroupWithPostSelector",["AdsAdAssetSelectorTypes","AdsPagePostUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementCustomizationConstants","AdsUEditorAdgroupSharedSelectors","adsCreateSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();a=c("adsCreateSelector")([d("AdsUEditorAdgroupSharedSelectors").uniformPagePostIDSelector,d("AdsUEditorAdgroupSharedSelectors").uniformSourceMediaIDSelector],function(a,b){var e;if(a==null&&b==null)return h;a={format:d("AdsAdAssetSelectorTypes").AdsAssetSelectorFormat.post,postId:d("AdsPagePostUtils").getPostIdFromPagePostId_BROKEN(a),sourceInstagramMediaId:b};b=d("AdsPlacementCustomizationConstants").NO_ADLABEL;a={adlabel:b,format:d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatPost,isCustomized:!1,validPlacements:c("immutable").List(),value:a};return c("immutable").Map((e={},e[b]=a,e))},{name:f.id+".adsPostAssetsForStaticAdgroupWithPostSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationBodyAssetSelector",["AdsAdgroupRecordAccessors","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementCustomizationConstants","AdsUEditorSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();a=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.bodies.get),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get("adlabels")==null){a=a.get(0).get("text");if(typeof a==="string")return c("immutable").Map().set(d("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,values:c("immutable").List([a]),isCustomized:!1})}},{name:f.id+".noAdlabelsBodyAssetsSelector"});b=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get),null),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.bodies.get),null),a],function(a,b,c){if(a==null||b==null||b.size===0)return h;if(c!=null&&c.size>0)return c;var e=d("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,b,"body_label");return a.reduce(function(a,c){if(!d("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(c,"body_label"))return a;c=d("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(c,"body_label");var f=d("AdsAssetFeedFieldUtils").getAssetEntriesForLabel(b,"adlabels",c,"text");f=f!=null?f.map(function(a){return a.fieldValue}):null;return f!=null?a.set(c,{adlabel:c,values:f,isCustomized:e.includes(c)}):a},h)},{name:f.id+".adsUEditorPlacementCustomizationBodyAssetSelector"});e=b;g["default"]=e}),98);
__d("adsUEditorPlacementCustomizationCTAAssetSelector",["AdsAdgroupRecordAccessors","AdsPlacementCustomizationConstants","AdsUEditorSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();a=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.call_to_action_types.get))],function(a){if(a!=null&&c("immutable").List.isList(a)){a=a.get(0);if(typeof a==="string"){var b;return c("immutable").Map((b={},b[d("AdsPlacementCustomizationConstants").NO_ADLABEL]={adlabel:null,value:a,isCustomized:!1},b))}}return h},{name:f.id+".adsUEditorPlacementCustomizationCTAAssetSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationDescriptionAssetSelector",["AdsAdgroupRecordAccessors","AdsPlacementCustomizationConstants","AdsUEditorSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();a=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.descriptions.get),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get("adlabels")==null){a=a.get(0).get("text");if(typeof a==="string")return c("immutable").Map().set(d("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,value:a,isCustomized:!1})}},{name:f.id+".noAdlabelsDescriptionAssetsSelector"});b=c("adsCreateSelector")([a],function(a){return a!=null&&a.size>0?a:h},{name:f.id+".adsUEditorPlacementCustomizationDescriptionAssetSelector"});e=b;g["default"]=e}),98);
__d("adsUEditorPlacementCustomizationHeadlineAssetSelector",["AdsAdgroupRecordAccessors","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementCustomizationConstants","AdsUEditorSelectors","adsCreateSelector","adsGetUniformValueSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();a=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.titles.get),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get("adlabels")==null){a=a.get(0).get("text");if(typeof a==="string")return c("immutable").Map().set(d("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,value:a,isCustomized:!1})}},{name:f.id+".noAdlabelsHeadlineAssetsSelector"});b=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get),null),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.titles.get),null),a],function(a,b,c){if(a==null||b==null||b.size===0)return h;if(c!=null&&c.size>0)return c;var e=d("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,b,"title_label");return a.reduce(function(a,c){if(!d("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(c,"title_label"))return a;c=d("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(c,"title_label");var f=d("AdsAssetFeedFieldUtils").getAssetEntryForLabel(b,c,"text").fieldValue;return f!=null?a.set(c,{adlabel:c,value:f,isCustomized:e.includes(c)}):a},h)},{name:f.id+".adsUEditorPlacementCustomizationHeadlineAssetSelector"});e=b;g["default"]=e}),98);
__d("adsUEditorPlacementCustomizationLanguageSelector",["AdsAPITargetFields","AdsAdgroupRecordAccessors","AdsAssetFeedLanguageMappingsStatic","AdsDLOLanguageUtils","AdsUEditorSelectors","adsCreateSelector","adsGetUniformValueSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector"),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get),null)],function(a,b){if(a==null||b==null)return;a=c("first")(a);if(a==null)return;b=b.reduce(function(a,b){var d=b.getIn(["customization_spec",c("AdsAPITargetFields").LOCALES]);if(d==null)return a.set(b,null);d=c("first")(d);d=d!=null?c("AdsAssetFeedLanguageMappingsStatic").locales_to_language_codes[d]:null;return a.set(b,d!=null?c("immutable").List([d]):null)},c("immutable").Map());a=d("AdsDLOLanguageUtils").getPrimaryLanguageFromAdgroup(a);return{primaryLanguage:a,targetingRuleToLanguageMap:b}},{name:f.id+".adsUEditorPlacementCustomizationLanguageSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector",["AdsPlacementAssetTargetingRuleUtils","adsCreateSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorAdObjectsForSelectedCampaignsSelector","adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector","first","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAdObjectsForSelectedCampaignsSelector"),c("adsUEditorAdObjectsForSelectedAdgroupsSelector"),c("adsUEditorPlacementCustomizationPACAdgroupForPostAdSelector")],function(a,b,e){if(a!=null&&a.length!==1&&b==null)return c("immutable").Map();a=c("first")(a);return a==null||e.isLoading()?c("immutable").Map():b.reduce(function(a,b){var c=d("AdsPlacementAssetTargetingRuleUtils").computeDefaultRulePlacementsSet(b,e);return c!=null?a.set(b.adgroup.id,c):a},c("immutable").Map())},{name:f.id+".adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector",["AdsPlacementAssetEligibilityUtils","AdsPlacementAssetTargetingRuleUtils","adsAdgroupCanvasEnabledSelector","adsCreateSelector","adsUEditorAccountSelector","adsUEditorPlacementCustomizationTargetingRulesSelector","adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector","adsUEditorSelectedAdgroupIDsSelector","first","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();a=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationTargetingRulesSelector"),c("adsUEditorSelectedAdgroupIDsSelector"),c("adsUEditorSelectedAdgroupIDToDefaultRulePlacementsMapSelector"),c("adsAdgroupCanvasEnabledSelector"),c("adsUEditorAccountSelector")],function(a,b,e,f,g){if(a==null||b==null)return h;b=c("first")(b);if(b==null)return h;var i=e.get(b);return a.reduce(function(a,b){var c=d("AdsPlacementAssetTargetingRuleUtils").convertTargetingRuleToPlacementList(b);c.isEmpty()&&i!=null&&(c=i.toList(),c=c.filter(function(a){return d("AdsPlacementAssetEligibilityUtils").isEligiblePlacementForPlacementAssetCustomizationPhase2(a,g.capabilities)}),b.has("carousel_label")&&(c=c.filter(function(a){return d("AdsPlacementAssetEligibilityUtils").isEligiblePlacementForCarouselPlacementAssetCustomization(a,g.capabilities)})));f&&(c=c.filter(function(a){return d("AdsPlacementAssetEligibilityUtils").isEligiblePlacementForIXPlacementAssetCustomization(a)}));return a.set(b,c)},h)},{name:f.id+".adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationPostAssetSelector",["AdsAdgroupRecordAccessors","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementCustomizationDataUtils","AdsUEditorSelectors","adsCreateSelector","adsGetUniformValueSelector","adsUEditorPlacementCustomizationDefaultMediaAssetLabelSelector","adsUEditorSelectedAdgroupsSelector","first","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").List([{platform:"facebook",position:"feed"},{platform:"instagram",position:"stream"},{platform:"instagram",position:"story"}]);a=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector")],function(a){a=a!=null?c("first")(a):null;if(a!=null){return(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.posts}},{name:f.id+".assetFeedSpecPostAssetsSelector"});b=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get),null),a],function(a,b){if(a==null||b==null)return c("immutable").Map();a=d("AdsPlacementAssetTargetingRuleUtils").targetingRulesToLabelsList(a,"post_label");b=d("AdsAssetFeedFieldUtils").getAssetMapForLabels(b,"adlabels",a);return b.map(function(a){var b=d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"post_id");a=d("AdsAssetFeedFieldUtils").getAssetFieldStringValue(a,"source_instagram_media_id");return{format:"post",postId:b,sourceInstagramMediaId:a}})},{name:f.id+".postAssetsByAdLabelMapSelector"});e=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get),null),a,c("adsUEditorPlacementCustomizationDefaultMediaAssetLabelSelector"),b],function(a,b,e,f){var g=e.defaultMediaLabel,i=e.defaultMediaFormat;return a==null||b==null?c("immutable").Map():a.reduce(function(c,e){if(!d("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(e,"post_label"))return c;e=d("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(e,"post_label");var j={adlabel:e,format:"post",validPlacements:h,value:f.get(e),isCustomized:g!=null?i!=="post"||d("AdsPlacementCustomizationDataUtils").isAssetCustomized(a,b,g,e):!1};return c.set(e,j)},c("immutable").Map())},{name:f.id+".adsUEditorPlacementCustomizationPostAssetSelector"});a=e;g["default"]=a}),98);
__d("adsUEditorPlacementCustomizationUrlAssetSelector",["AdsAdgroupRecordAccessors","AdsAssetFeedFieldUtils","AdsPlacementAssetTargetingRuleUtils","AdsPlacementAssetUtils","AdsPlacementCustomizationConstants","AdsUEditorSelectors","adsCreateSelector","adsGetUniformValueSelector","first","immutable","mixedToString"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Map();a=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.link_urls.get),null)],function(a){if(a!=null&&a.size===1&&a.get(0).get("adlabels")==null){a=c("first")(a);var b=a==null?void 0:a.get("website_url");if(a!=null&&typeof b==="string")return c("immutable").Map().set(d("AdsPlacementCustomizationConstants").NO_ADLABEL,{adlabel:null,value:{websiteUrl:b,displayUrl:c("mixedToString")(a.get("display_url"))},isCustomized:!1})}},{name:f.id+".noAdlabelsUrlAssetsSelector"});b=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get),null),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.link_urls.get),null),a],function(a,b,c){if(a==null||b==null||b.size===0)return h;if(c!=null&&c.size>0)return c;var e=d("AdsPlacementAssetUtils").getCustomizedAssetLabelList(a,b,"link_url_label");return a.reduce(function(a,c){if(!d("AdsPlacementAssetTargetingRuleUtils").hasLabelFieldInRule(c,"link_url_label"))return a;c=d("AdsPlacementAssetTargetingRuleUtils").getLabelNameFromTargetingRule(c,"link_url_label");var f=d("AdsAssetFeedFieldUtils").getAssetEntryForLabel(b,c,"website_url").fieldValue,g=d("AdsAssetFeedFieldUtils").getAssetEntryForLabel(b,c,"display_url").fieldValue;return f!=null?a.set(c,{adlabel:c,value:{displayUrl:g,websiteUrl:f},isCustomized:e.includes(c)}):a},h)},{name:f.id+".adsUEditorPlacementCustomizationUrlAssetSelector"});e=b;g["default"]=e}),98);
__d("adsGetMultiShareFieldValueForPACCarousel",["recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:(a=a.carousels)==null?void 0:a.first();if(a!=null)return!!a.get(b);else c("recoverableViolation")("carousels should contain more than one element","ads_cx_pac");return!1}g["default"]=a}),98);
__d("AdsCarouselPlacementAssetSelectorSelectors",["AdsAdgroupChildAttachmentsFields","AdsAdgroupSemanticFields","AdsAssetFeedUtils","AdsEditorMPAConstants","AdsImageDimensionProvider","AdsImageIDClasses","AdsImageIDUtils","AdsImageInfoStore","AdsLoadObjectUtils","AdsMixedValue","AdsUEditorAdgroupBulkSelectors","AdsUEditorAdgroupSpecPathPluginAdObjectsUtils","AdsUniformValue","AdsVideoStore","LoadObject","adsCreateSelector","adsCreateStoreThunkSelector","adsGetMultiShareFieldValueForPACCarousel","adsUEditorAccountSelector","adsUEditorAdObjectsForSelectedAdgroupsSelector","adsUEditorSelectedAdgroupsSelector","immutable","mixedToString"],(function(a,b,c,d,e,f,g){"use strict";var h=c("AdsImageDimensionProvider").toFluxStore();function i(a,b,e,f,g,h,i,j){var k=c("mixedToString")(b.get("video_id")),l=c("mixedToString")(b.get("image_hash"));if(k!=null&&k!=c("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID){b=e(k);return c("LoadObject").withValue({captionIDs:[],format:"video",thumbnailUrl:null,video:b})}else{e=d("AdsImageIDUtils").getImageID({accountID:a.account_id,hash:l,url:j});if(e!=null){if(e instanceof d("AdsImageIDClasses").AdsAccountImageID)return d("AdsLoadObjectUtils").all([f(e),g(e),h(e).mapValue(function(a){a=a.url;return a})]).mapValue(function(a){var b=a[0],c=a[1];a=a[2];return{format:"image",hash:l,height:b.getTyped().height,name:c,thumbnailURL:a,url:b.getTyped().url,width:b.getTyped().width}});if(e instanceof d("AdsImageIDClasses").AdsExternalImageID){var m=e.getUrl();k=i(m);return!k.hasValueWithoutError()?null:k.map(function(a){var b=a.height;a=a.width;return{format:"image",hash:null,name:null,url:m,width:a,height:b}})}}}}a=c("adsCreateSelector")([c("adsUEditorAccountSelector"),c("adsUEditorAdObjectsForSelectedAdgroupsSelector"),c("AdsVideoStore").getSelector,c("AdsImageInfoStore").getFullSizeSelector,c("AdsImageInfoStore").getNameSelector,c("AdsImageInfoStore").getThumbnailURLSelector,c("adsCreateStoreThunkSelector")(h,function(a){return h.getState().get(a)})],function(a,b,e,f,g,h,j){var k,l=b[0];if(l==null)return null;b=d("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(l);k=(k=c("AdsAdgroupSemanticFields").childAttachments.get(b,l.adgroup))!=null?k:c("immutable").List();if(k.size===0)return null;k=k.map(function(b,k){var m;k=c("AdsAdgroupChildAttachmentsFields").imageURL.get(l.adgroup,d("AdsUEditorAdgroupSpecPathPluginAdObjectsUtils").getAdgroupSpecPathPlugin(l),k);k=k.supported?k.value:null;return{description:(m=b.get("description"))!=null?m:"",headline:(m=b.get("name"))!=null?m:"",link:(m=b.get("link"))!=null?m:"",media:i(a,b,e,f,g,h,j,k)}});return{cards:k.toArray(),format:"carousel",multiShareEndCard:!!c("AdsAdgroupSemanticFields").multiShareEndCard.get(b,l.adgroup),multiShareOptimized:!!c("AdsAdgroupSemanticFields").multiShareOptimized.get(b,l.adgroup)}},{name:f.id+".adsUEditorAdgroupCarouselPACNonAssetFeedSelector"});b=d("AdsUEditorAdgroupBulkSelectors").selectorByAdgroupFn(function(a,b){return d("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)?c("adsGetMultiShareFieldValueForPACCarousel")(a,"multi_share_optimized"):!!c("AdsAdgroupSemanticFields").multiShareOptimized.get(b,a)});e=d("AdsUEditorAdgroupBulkSelectors").selectorByAdgroupFn(function(a,b){return d("AdsAssetFeedUtils").isPACAdgroupFromRecord(a)?c("adsGetMultiShareFieldValueForPACCarousel")(a,"multi_share_end_card"):!!c("AdsAdgroupSemanticFields").multiShareEndCard.get(b,a)});f=c("adsCreateSelector")([c("adsUEditorSelectedAdgroupsSelector")],function(a){var b=a.every(d("AdsAssetFeedUtils").getIsAudiosAdgroupEnabled);return b?new(c("AdsUniformValue"))(!0):a.some(d("AdsAssetFeedUtils").getIsAudiosAdgroupEnabled)?new(c("AdsMixedValue"))([]):new(c("AdsUniformValue"))(!1)},{name:f.id+".musicOnReelsSelector"});g.adsUEditorAdgroupCarouselPACNonAssetFeedSelector=a;g.multiShareOptimizedSelector=b;g.multiShareShowEndCardSelector=e;g.musicOnReelsSelector=f}),98);
__d("adsUEditorRegularAdgroupMediaSelector",["AdsCarouselPlacementAssetSelectorSelectors","AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsVideoPlacementAssetSelectorSelectors","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){b=b.get(a);return c!=null&&b!=null&&b.format==="image"?babelHelpers["extends"]({},b,{crops:c.get(a)}):b}a=c("adsCreateSelector")([d("AdsImagePlacementAssetCustomizationSelectors").placementAssetSelectorImageAssetsSelector,d("AdsImagePlacementAssetCustomizationSelectors").cropsByAssetSelector,d("AdsVideoPlacementAssetSelectorSelectors").adsUEditorAdgroupVideosSelector,d("AdsCarouselPlacementAssetSelectorSelectors").adsUEditorAdgroupCarouselPACNonAssetFeedSelector],function(a,b,c,e){if(e!=null)return e;e=a.getValue();if(e!=null){return(a=h(d("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups.FACEBOOK,e,b))!=null?a:h(d("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups.INSTAGRAM,e,b)}a=c.getValue();if(a!=null)return a.baseVideo},{name:f.id+".adsUEditorRegularAdgroupMediaSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorRegularAdgroupPlacementsSelector",["AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetUtils","adsAdgroupCanvasEnabledSelector","adsCreateSelector","adsUEditorAccountSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","adsUEditorRegularAdgroupMediaSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsPlacementAssetCustomizationSelectors").candidateAssetGroupSelector,c("adsUEditorRegularAdgroupMediaSelector"),c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),c("adsAdgroupCanvasEnabledSelector"),c("adsUEditorAccountSelector")],function(a,b,e,f,g){if(a==null||b==null)return c("immutable").List();a=a.assetGroups;b.format==="carousel"?g=d("AdsPlacementAssetUtils").getFilteredCarouselSupportedAssetGroups(a,g.capabilities):g=b.format==="video"?d("AdsPlacementAssetUtils").getFilteredVideoSupportedAssetGroups(a,e):d("AdsPlacementAssetUtils").getFilteredImageSupportedAssetGroups(a,e);f&&(g=d("AdsPlacementAssetUtils").getFilteredIXSupportedAssetGroups(g));return d("AdsPlacementAssetUtils").getPlacementsFromAssetGroups(g)},{name:f.id+".adsUEditorRegularAdgroupPlacementsSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorRegularAdgroupAdlabelSelector",["AdsPlacementAssetCustomizationTypes","adsCreateSelector","adsUEditorRegularAdgroupPlacementsSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorRegularAdgroupPlacementsSelector")],function(a){return a.some(function(a){return a.platform==="facebook"})?d("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups.FACEBOOK:d("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups.INSTAGRAM},{name:f.id+".adsUEditorRegularAdgroupAdlabelSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorPlacementCustomizationDataSelector",["AdsAdgroupRecordAccessors","AdsImagePlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationSelectors","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetTargetingRuleUtils","AdsPlacementCustomizationDataUtils","AdsPlacementCustomizationMediaUtils","AdsUEditorPlacementCustomizationCarouselAssetSelectors","AdsUEditorSelectors","AdsVideoPlacementAssetSelectorSelectors","ApiDynamicCreativeOptimizationTypes","LoadObject","PlacementAssetCustomizationTypes","adsAdgroupCanvasEnabledSelector","adsCarouselAssetsForStaticAdgroupWithPostSelector","adsCreateSelector","adsCreateStructuredSelector","adsCreateThunkSelector","adsGetAssetGroupsFromPlacementCustomizationData","adsGetUniformValueSelector","adsImageAssetsForStaticAdgroupWithPostSelector","adsIsPACChangePostSupportedForSelectedAdgroupsSelector","adsIsPACSupportedForAdWithExistingPostSelector","adsPostAssetsForStaticAdgroupWithPostSelector","adsUEditorAccountSelector","adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector","adsUEditorAssetFeedOptimizationTypeSelector","adsUEditorPlacementCustomizationBodyAssetSelector","adsUEditorPlacementCustomizationCTAAssetSelector","adsUEditorPlacementCustomizationCanUseMixedFormatsSelector","adsUEditorPlacementCustomizationDescriptionAssetSelector","adsUEditorPlacementCustomizationHeadlineAssetSelector","adsUEditorPlacementCustomizationImageAssetSelector","adsUEditorPlacementCustomizationLanguageSelector","adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector","adsUEditorPlacementCustomizationPostAssetSelector","adsUEditorPlacementCustomizationTargetingRulesSelector","adsUEditorPlacementCustomizationUrlAssetSelector","adsUEditorPlacementCustomizationValidPlacementsByMediaSelector","adsUEditorPlacementCustomizationVideoAssetSelector","adsUEditorRegularAdgroupAdlabelSelector","adsUEditorRegularAdgroupMediaSelector","adsUEditorRegularAdgroupPlacementsSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateStructuredSelector")({bodies:c("adsCreateSelector")([],function(){return c("immutable").Map()},{name:f.id+".bodies"}),carousels:c("adsCarouselAssetsForStaticAdgroupWithPostSelector"),ctas:c("adsCreateSelector")([],function(){return c("immutable").Map()},{name:f.id+".ctas"}),descriptions:c("adsCreateSelector")([],function(){return c("immutable").Map()},{name:f.id+".descriptions"}),headlines:c("adsCreateSelector")([],function(){return c("immutable").Map()},{name:f.id+".headlines"}),imagesLoadObject:c("adsImageAssetsForStaticAdgroupWithPostSelector"),posts:c("adsPostAssetsForStaticAdgroupWithPostSelector"),urls:c("adsCreateSelector")([],function(){return c("immutable").Map()},{name:f.id+".urls"}),videosLoadObject:c("adsUEditorAdgroupVideoAssetsForStaticAdgroupWithPostSelector")},f.id+".adgroupWithPostCreativesSelector");b=c("adsCreateStructuredSelector")({bodies:c("adsUEditorPlacementCustomizationBodyAssetSelector"),carousels:d("AdsUEditorPlacementCustomizationCarouselAssetSelectors").adsUEditorPlacementCustomizationCarouselAssetSelector,ctas:c("adsUEditorPlacementCustomizationCTAAssetSelector"),descriptions:c("adsUEditorPlacementCustomizationDescriptionAssetSelector"),headlines:c("adsUEditorPlacementCustomizationHeadlineAssetSelector"),imagesLoadObject:c("adsUEditorPlacementCustomizationImageAssetSelector"),posts:c("adsUEditorPlacementCustomizationPostAssetSelector"),urls:c("adsUEditorPlacementCustomizationUrlAssetSelector"),videosLoadObject:c("adsUEditorPlacementCustomizationVideoAssetSelector")},f.id+".assetFeedCreativesSelector");e=c("adsCreateSelector")([d("AdsImagePlacementAssetCustomizationSelectors").placementAssetSelectorImageAssetsSelector,d("AdsVideoPlacementAssetSelectorSelectors").adsUEditorAdgroupVideosSelector],function(a,b){a=a.getValue();if(a!=null)return a.get(d("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups.INSTAGRAM);a=b.getValue();return a!=null?a.instagramCustomizationVideo:null},{name:f.id+".regularAdgroupInstagramMediaSelector"});var h=c("adsCreateStructuredSelector")({bodies:c("adsCreateSelector")([],function(){return null},{name:f.id+".bodies"}),description:c("adsCreateSelector")([],function(){return null},{name:f.id+".description"}),headline:c("adsCreateSelector")([],function(){return null},{name:f.id+".headline"}),media:c("adsCreateSelector")([c("adsUEditorRegularAdgroupMediaSelector"),c("adsUEditorPlacementCustomizationValidPlacementsByMediaSelector"),c("adsUEditorRegularAdgroupAdlabelSelector")],function(a,b,d){return a==null?null:{adlabel:d,format:a.format,isCustomized:!1,validPlacements:b.get(d)||c("immutable").List(),value:a}},{name:f.id+".media"}),url:c("adsCreateSelector")([],function(){return null},{name:f.id+".url"})},f.id+".regularAdgroupCreativesSelector");e=c("adsCreateStructuredSelector")({bodies:c("adsCreateSelector")([],function(){return null},{name:f.id+".bodies"}),description:c("adsCreateSelector")([],function(){return null},{name:f.id+".description"}),headline:c("adsCreateSelector")([],function(){return null},{name:f.id+".headline"}),media:c("adsCreateSelector")([e],function(a){return a==null?null:{adlabel:d("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups.INSTAGRAM,format:a.format,isCustomized:!1,value:a}},{name:f.id+".media"}),url:c("adsCreateSelector")([],function(){return null},{name:f.id+".url"})},f.id+".regularAdgroupInstagramCreativesSelector");h=c("adsCreateSelector")([h,e,c("adsUEditorPlacementCustomizationLanguageSelector"),c("adsUEditorRegularAdgroupPlacementsSelector"),d("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupPlacementAssetCustomizationTypeSelector,c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),c("adsAdgroupCanvasEnabledSelector"),c("adsUEditorAccountSelector")],function(a,b,e,f,g,h,i,j){var k=a.media;a=babelHelpers.objectWithoutPropertiesLoose(a,["media"]);var l=g===d("PlacementAssetCustomizationTypes").PAC_PHASE_2;if(k==null)return c("LoadObject").withValue(null);var m=null;a=c("immutable").List([{isDefault:!0,assets:babelHelpers["extends"]({},a,{media:k}),languages:m,placements:f}]);f=b.media;b=babelHelpers.objectWithoutPropertiesLoose(b,["media"]);k.adlabel!==d("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups.INSTAGRAM&&f!=null&&(a=a.push({isDefault:g!==d("PlacementAssetCustomizationTypes").PAC_PHASE_1,assets:babelHelpers["extends"]({},b,{media:f}),languages:m,placements:c("immutable").List([{platform:"instagram",position:"stream"}])}));return c("LoadObject").withValue({customizationData:a,isPAC2Supported:l,primaryLanguage:e==null?void 0:e.primaryLanguage,optimizationType:null,derivedValues:{assetGroups:c("adsGetAssetGroupsFromPlacementCustomizationData")(a,k.format,h,i,j.capabilities),mediaAdlabelsForCustomizedPlacements:d("AdsPlacementCustomizationMediaUtils").getMediaAssetAdlabelsForCustomizedPlacements(a),mediaAssets:d("AdsPlacementCustomizationMediaUtils").getMediaAssetValues(a),validAssetGroupsByMediaAssetLabel:d("AdsPlacementCustomizationMediaUtils").getValidAssetGroupsByMediaAsset(a)}})},{name:f.id+".adsUEditorRegularAdgroupPlacementCustomizationDataSelector"});function i(a,b,e,f,g,h,i,j,k,l){var m=e.bodies,n=e.ctas,o=e.descriptions,p=e.headlines,q=e.imagesLoadObject,r=e.urls,s=e.videosLoadObject,t=e.carousels;e=e.posts;if(q.isLoading()||s.isLoading())return c("LoadObject").loading();q=q.hasValue()?q.getValueEnforcing():c("immutable").Map();s=s.hasValue()?s.getValueEnforcing():c("immutable").Map();var u=q.concat(s).concat(t).concat(k?e:c("immutable").Map());if(b==null||u.isEmpty())return c("LoadObject").withValue(null);var v=d("AdsPlacementAssetTargetingRuleUtils").getDefaultRuleOrRuleWithMostPlacements(b);q=b.reduce(function(a,b){var c=d("AdsPlacementCustomizationDataUtils").getMediaAssetFromTargetingRule(b,u);if(c==null)return a;var e=v===b;c={assets:{media:c,bodies:d("AdsPlacementCustomizationDataUtils").getAssetlistFromTargetingRule(b,m,"body_label"),cta:d("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(b,n,"call_to_action_type_label"),description:d("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(b,o,"description_label"),headline:d("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(b,p,"title_label"),url:d("AdsPlacementCustomizationDataUtils").getAssetFromTargetingRule(b,r,"link_url_label")},placements:f.get(b),languages:g!=null?g.targetingRuleToLanguageMap.get(b):null,isDefault:e};return e?a.unshift(c):a.concat(c)},c("immutable").List());t=v!=null?(s=d("AdsPlacementCustomizationDataUtils").getMediaAssetFromTargetingRule(v,u))==null?void 0:s.format:null;return c("LoadObject").withValue({customizationData:q,isPAC2Supported:h,optimizationType:a,primaryLanguage:g==null?void 0:g.primaryLanguage,derivedValues:{assetGroups:c("adsGetAssetGroupsFromPlacementCustomizationData")(q,t,i,j,l),mediaAdlabelsForCustomizedPlacements:d("AdsPlacementCustomizationMediaUtils").getMediaAssetAdlabelsForCustomizedPlacements(q),mediaAssets:d("AdsPlacementCustomizationMediaUtils").getMediaAssetValues(q),validAssetGroupsByMediaAssetLabel:d("AdsPlacementCustomizationMediaUtils").getValidAssetGroupsByMediaAsset(q)}})}e=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationTargetingRulesSelector"),a,c("adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector"),c("adsUEditorPlacementCustomizationLanguageSelector"),d("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupPlacementAssetCustomizationTypeSelector,c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),c("adsAdgroupCanvasEnabledSelector"),c("adsIsPACChangePostSupportedForSelectedAdgroupsSelector"),c("adsUEditorAccountSelector")],function(a,b,c,e,f,g,h,j,k){f=f===d("PlacementAssetCustomizationTypes").PAC_PHASE_2;return i(null,a,b,c,e,f,g,h,j,k.capabilities)},{name:f.id+".adsUEditorRegularAdgroupWithPostPlacementCustomizationDataSelector"});a=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.optimization_type.get),null),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.asset_feed_spec.asset_customization_rules.get),null),b,c("adsUEditorPlacementCustomizationPlacementsByTargetingRuleSelector"),c("adsUEditorPlacementCustomizationLanguageSelector"),c("adsUEditorPlacementCustomizationCanUseMixedFormatsSelector"),c("adsAdgroupCanvasEnabledSelector"),c("adsIsPACChangePostSupportedForSelectedAdgroupsSelector"),c("adsUEditorAccountSelector")],function(a,b,c,d,e,f,g,h,j){return i(a,b,c,d,e,!0,f,g,h,j.capabilities)},{name:f.id+".assetFeedAdgroupPlacementCustomizationDataSelector"});b=c("adsCreateSelector")([a],function(a){var b=a.hasValue()?a.getValueEnforcing():null;if(b!=null){var d=b.customizationData,e=b.optimizationType,f=b.primaryLanguage;if((e===c("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS||e===c("ApiDynamicCreativeOptimizationTypes").LANGUAGE)&&f!=null){e=d.filter(function(a){return a.languages!=null&&a.languages.includes(f)});return c("LoadObject").withValue(babelHelpers["extends"]({},b,{customizationData:e}))}}return a},{name:f.id+".assetFeedAdgroupPlacementCustomizationDataWithPrimaryLanguageSelector"});a=c("adsCreateSelector")([c("adsUEditorAssetFeedOptimizationTypeSelector"),c("adsIsPACSupportedForAdWithExistingPostSelector"),c("adsCreateThunkSelector")(a),c("adsCreateThunkSelector")(b),c("adsCreateThunkSelector")(h),c("adsCreateThunkSelector")(e)],function(a,b,d,e,f,g){switch(a){case null:case c("ApiDynamicCreativeOptimizationTypes").DOF_MESSAGING_DESTINATION:return b?g():f();case c("ApiDynamicCreativeOptimizationTypes").PLACEMENT:return d();case c("ApiDynamicCreativeOptimizationTypes").LOCALIZED_PLACEMENTS:case c("ApiDynamicCreativeOptimizationTypes").LANGUAGE:return e();case c("ApiDynamicCreativeOptimizationTypes").DEGREES_OF_FREEDOM:return f();default:return c("LoadObject").withValue(null)}},{name:f.id+".adsUEditorPlacementCustomizationDataSelector"});b=a;g["default"]=b}),98);
__d("adsPreviewRenderSpecInitialRenderSelector",["AdPreviewRenderSpecExistingPostSelectors","AdsAccountStore","AdsAdPreviewUtils","AdsAssetFeedUtils","AdsChildAttachmentsUtils","AdsCollectionsAdUtils","AdsEditorMPAConstants","AdsImageIDClasses","AdsImageStore","AdsLoadStateUtils_LEGACY","AdsLoadState_LEGACY","AdsLocalVideoSelectors","AdsMobileFeedRenderSpecSelector","AdsPlacementAssetCustomizationTypes","AdsPreviewRenderSpecAdgroupContextSelectors","AdsPreviewRenderSpecBaseSelectors","AdsPreviewRenderSpecStaticSelectors","AdsRenderSpecCombiners","AdsShoppingProductsProvider","AdsStockImageSourceImageDataStore","AdsVideoStore","LoadObject","MentionsInputUtility","ShutterstockImageUtils","adsCreateBranchSelector","adsCreateSelector","adsCreateStoreThunkSelector","adsCreateStructuredSelector","adsGetApiFormatFromPositionData","adsPreviewShoppingTagsData","adsRenderSpecInstagramAccountSelector","adsUEditorPlacementCustomizationDataSelector","filterNulls","getImageSourceURLFromImageish","immutable","isAdsCanvasLink","nullthrows","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="DEFAULT";a=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectMessage,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostMessage],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectRawMessage"});var i=function(a){return a!=null?d("MentionsInputUtility").parseTextWithMentions(a):null};b=c("adsCreateSelector")([a],i,{name:f.id+".selectParsedMessageResult"});e=c("adsCreateSelector")([b],function(a){return a==null?void 0:a.text.trim()},{name:f.id+".selectParsedMessageString"});var j=function(a){return(a=a==null?void 0:a.ranges.map(function(a){var b=a.length;a=a.offset;return{length:b,offset:a}}))!=null?a:[]};a=c("adsCreateSelector")([b],j,{name:f.id+".selectParsedMessageEntityRanges"});b=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectCTA,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostCTA],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectCTA"});var k=c("adsCreateSelector")([b],d("AdsRenderSpecCombiners").ctaTextCombiner,{name:f.id+".selectCTAText"});b=c("adsCreateSelector")([b],d("AdsRenderSpecCombiners").ctaTypeCombiner,{name:f.id+".selectCTAType"});var l=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectCTAAppDestination,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostCTAAppDestination],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectCTAAppDestination"}),m=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectIsDCO,d("AdsPreviewRenderSpecStaticSelectors").selectImageHash,d("AdsPreviewRenderSpecStaticSelectors").selectImageUrl],function(a,b,c){return a&&(b!=null||c!=null)},{name:f.id+".selectHasDCOImage"});m=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectVideoId,c("AdsVideoStore").getSelector,m],function(a,b,d){if(d||a==null||a===""||a===c("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID)return null;d=b(a);return d.loadState===c("AdsLoadState_LEGACY").LOADED?(b=d.download_hd_url)!=null?b:d.download_sd_url:null},{name:f.id+".selectVideoURL"});var n=c("adsCreateSelector")([d("AdsPreviewRenderSpecAdgroupContextSelectors").selectPage],function(a){a=a.getValue();return a!=null?{name:a.name,imageURL:a.picture.data.url,verified:a.is_verified,brandName:a.global_brand_page_name}:null},{name:f.id+".pageProfileSelector"}),o=c("adsCreateSelector")([c("adsRenderSpecInstagramAccountSelector")],function(a){return a!=null?d("AdsLoadStateUtils_LEGACY").toLoadObject(a):c("LoadObject").withValue(null)},{name:f.id+".instagramAccountLoadObjectSelector"});o=c("adsCreateSelector")([o,n],function(a,b){a=a.getValue();if(!a)return null;var d=c("getImageSourceURLFromImageish")(a.profile_pic),e=!a.is_published;return e?b?babelHelpers["extends"]({},b,{isPageBacked:!0}):null:{name:a.username.toString(),imageURL:d,verified:!1}},{name:f.id+".instagramAccountSelector"});o=c("adsCreateSelector")([n,o],function(a,b){return{page:a,instagram:b}},{name:f.id+".selectProfile"});var p=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectImageHash,d("AdsPreviewRenderSpecStaticSelectors").selectVideoThumbnailHash],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectMainImageHash"}),q=function(a,b){var d=c("nullthrows")(c("AdsAccountStore").getSelectedAccountID());if(typeof a!=="string")return null;b=b(d,a);return typeof b!=="string"&&b&&b.loadState===c("AdsLoadState_LEGACY").LOADED?b.url:null},r=c("adsCreateStoreThunkSelector")(c("AdsImageStore"),c("AdsImageStore").getOneFor.bind(c("AdsImageStore")));p=c("adsCreateSelector")([p,r],q,{name:f.id+".selectUrlFromHash"});var s=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectImageUrl],function(a){return a!=null&&d("ShutterstockImageUtils").isStockImageURL(a)?d("AdsImageIDClasses").AdsImageID.fromShutterstockURL(a):null},{name:f.id+".selectShutterstockImageID"}),t=c("adsCreateStoreThunkSelector")(c("AdsStockImageSourceImageDataStore"),c("AdsStockImageSourceImageDataStore").getWithFullSizeURL.bind(c("AdsStockImageSourceImageDataStore")));t=c("adsCreateSelector")([t,s],function(a,b){return b?a(b):null},{name:f.id+".selectShutterstockImageUrlLoadObject"});s=c("adsCreateSelector")([t],function(a){return a&&a.isDone()&&a.hasValue()&&((a=a.value)==null?void 0:a.fullSizeURL)||null},{name:f.id+".selectShutterstockImageUrl"});t=c("adsCreateSelector")([d("AdsLocalVideoSelectors").selectLocalVideoURL,m],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectFinalVideoURL"});m=c("adsCreateSelector")([d("AdsLocalVideoSelectors").selectLocalVideoThumbnailURL,s,d("AdsPreviewRenderSpecStaticSelectors").selectImageUrl,p,d("AdsPreviewRenderSpecStaticSelectors").videoThumbnailURL,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostImageUrl],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectFinalImageUrl"});s=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectDisplayUrl,d("AdsPreviewRenderSpecStaticSelectors").selectLinkUrl,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostCTALink,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostLink],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectURL"});p=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectLinkUrl],c("isAdsCanvasLink"),{name:f.id+".selectIsCanvasAd"});var u=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostIsCollection],function(a,b){return b||d("AdsCollectionsAdUtils").isCollectionsAd(a)},{name:f.id+".selectIsCollection"}),v=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],d("AdsAssetFeedUtils").isPACAdgroupFromRecord,{name:f.id+".selectIsPAC"});function w(a){var b;switch(a.format){case d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage:return a.url;case d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo:return(b=a.thumbnailUrl)!=null?b:(b=a.video)==null?void 0:(a=b.preferredThumbnail)==null?void 0:a.uri;default:return null}}function x(a){switch(a.format){case d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo:return y(a.video);default:return null}}function y(a){var b;return(b=a.download_hd_url)!=null?b:a.download_sd_url}function z(a){return a&&a.format===d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage&&a.crops!=null&&c("immutable").Map(a.crops).first()||null}function A(a){var b;return{description:a.description,headline:a.headline,destinationLink:a.link,media:((b=a.media)==null?void 0:b.hasValue())?(b=a.media)==null?void 0:b.getValueEnforcing():null}}function B(a){var b;return{headline:(b=a.headline)==null?void 0:b.value,description:(b=a.description)==null?void 0:b.value,media:a.media.format!=="carousel"&&a.media.format!=="post"?a.media.value:null,destinationLink:d("AdsRenderSpecCombiners").notEmptyCombiner((b=a.url)==null?void 0:b.value.displayUrl,(b=a.url)==null?void 0:b.value.websiteUrl),displayURL:(b=a.url)==null?void 0:b.value.displayUrl}}var C=function(a,b,e,f,g,h,k){var l=b.bodies!=null?b.bodies.values.get(-1,""):"";l=i(l);var m=l==null?void 0:l.text.trim();l=j(l);if(b.media.value.format===d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatImage||b.media.value.format===d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatVideo){var n,o=x(b.media.value)!=null;o=o?"VIDEO":"IMAGE";var p=[B(b)].map(function(a){var c=a.headline,e=a.description,f=a.media,h=a.displayURL;return{headline:c,description:e,destinationLink:d("AdsAdPreviewUtils").sanitiseUrl(a.destinationLink),callToAction:d("AdsRenderSpecCombiners").ctaTextCombiner((c=b.cta)==null?void 0:c.value),callToActionType:d("AdsRenderSpecCombiners").ctaTypeCombiner((e=b.cta)==null?void 0:e.value),callToActionAppDestination:null,hasDynamicLeadGenCallToAction:g,media:{backgroundColor:f==null?void 0:f.backgroundColor,imageURL:f!=null?w(f):null,videoURL:f!=null?x(f):null,imageCrops:f!=null?z(f):null},displayURL:h}});n=(n=b.media.value.interactiveComponents)==null?void 0:n.toArray();var q=n!=null?c("adsPreviewShoppingTagsData")([n],h,k):void 0;return{mediaFormat:o,objectType:e,profiles:a,isCanvasAd:f,message:m,messageEntityRanges:l,cards:p,interactiveComponents:n,shoppingProductTagsData:q}}if(b.media.value.format===d("AdsPlacementAssetCustomizationTypes").AdsPlacementCustomizationMediaFormatPost){c("recoverableViolation")("Post format is not supported in render spec yet","ads_cx_pac");return null}o=b.media.value.cards.map(function(a){return A(a)});p=o.map(function(a){var c=a.headline,e=a.description,f=a.media;return{headline:c,description:e,destinationLink:d("AdsAdPreviewUtils").sanitiseUrl(a.destinationLink),callToAction:d("AdsRenderSpecCombiners").ctaTextCombiner((c=b.cta)==null?void 0:c.value),callToActionType:d("AdsRenderSpecCombiners").ctaTypeCombiner((e=b.cta)==null?void 0:e.value),callToActionAppDestination:null,hasDynamicLeadGenCallToAction:g,media:{backgroundColor:f==null?void 0:f.backgroundColor,imageURL:f!=null?w(f):null,videoURL:f!=null?x(f):null,imageCrops:f!=null?z(f):null},displayURL:null}});n=o.map(function(a){a=a.media;if(a!=null){return(a=(a=a.interactiveComponents)==null?void 0:a.toArray())!=null?a:[]}return[]});q=c("adsPreviewShoppingTagsData")(n,h,k);return{mediaFormat:"CAROUSEL",objectType:e,profiles:a,isCanvasAd:f,message:m,messageEntityRanges:l,cards:p,shoppingProductTagsData:q}},D=c("adsCreateSelector")([c("adsUEditorPlacementCustomizationDataSelector")],function(a){a=a.hasValue()?a.getValueEnforcing():null;return(a==null?void 0:a.customizationData)||c("immutable").List()},{name:f.id+".selectPACCustomizationData"}),E=function(a){return a.toSet().map(function(a){return c("immutable").Set(c("adsGetApiFormatFromPositionData")(a.platform,a.position))}).flatten()};D=c("adsCreateSelector")([D,o,d("AdsPreviewRenderSpecBaseSelectors").selectObjectType,p,d("AdsPreviewRenderSpecStaticSelectors").selectHasCTALeadGenFormId,c("AdsShoppingProductsProvider").toFluxSelector(),d("AdsPreviewRenderSpecStaticSelectors").selectOnsiteCheckoutSetting],function(a,b,d,e,f,g,i){return a.reduce(function(a,j){var k=j.isDefault===!0?c("immutable").List([h]):E(j.placements),l=C(b,j.assets,d,e,f,g,i);return l==null?a:a.merge(k.map(function(a){return[a,l]}))},c("immutable").Map())},{name:f.id+".selectPACRenderSpecMap"});var F=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector],d("AdsChildAttachmentsUtils").getChildAttachments,{name:f.id+".selectChildAttachments"}),G=function(a,b,e){var f;return{headline:a.name,description:a.description,callToAction:d("AdsRenderSpecCombiners").ctaTextCombiner((f=a.call_to_action)==null?void 0:f.type),callToActionType:(f=a.call_to_action)==null?void 0:f.type,media:{backgroundColor:null,imageCrops:a.image_crops!=null?c("immutable").Map(a.image_crops).first():null,imageURL:a.picture!=null?a.picture:q(a.image_hash,b),videoURL:a.video_id!=null&&a.video_id!==c("AdsEditorMPAConstants").MPA_PLACEHOLDER_VIDEO_ID?y(e(a.video_id)):null,isLocationCard:a.place_data!=null},destinationLink:a.link}},H=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectExistingPostID,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostHeadline,n],function(a,b,c){return b!=null&&b!==""?b:a!=null?c==null?void 0:c.name:null},{name:f.id+".selectExistingPostHeadlineWithProfile"});n=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectExistingPostID,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostDescription,n],function(a,b,c){return b!=null&&b!==""?b:a!=null?c==null?void 0:c.name:null},{name:f.id+".selectExistingPostDescriptionWithProfile"});H=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectHeadline,H],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectHeadline"});n=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectDescription,n],d("AdsRenderSpecCombiners").notEmptyCombiner,{name:f.id+".selectDescription"});m=c("adsCreateStructuredSelector")({backgroundColor:d("AdsPreviewRenderSpecStaticSelectors").selectBackgroundColor,imageURL:m,imageCrops:d("AdsPreviewRenderSpecStaticSelectors").selectImageCrops,videoURL:t},f.id+".selectMedia");t=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").adsAdgroupSelector,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostIsCarousel],function(a,b){return d("AdsChildAttachmentsUtils").isCarouselAd(a)||b},{name:f.id+".selectIsCarousel"});t=c("adsCreateSelector")([d("AdsPreviewRenderSpecBaseSelectors").selectMediaFormat,t],function(a,b){return b?"CAROUSEL":a},{name:f.id+".selectMediaFormat"});var I=c("adsCreateSelector")([d("AdsPreviewRenderSpecStaticSelectors").selectCarouselDeliveryMode],function(a){if(a)return{carouselDeliveryMode:a}},{name:f.id+".selectCustomizations"});n=c("adsCreateStructuredSelector")({description:n,headline:H,destinationLink:s,callToAction:k,callToActionType:b,callToActionAppDestination:l,hasDynamicLeadGenCallToAction:d("AdsPreviewRenderSpecStaticSelectors").selectHasCTALeadGenFormId,media:m,displayURL:d("AdsPreviewRenderSpecStaticSelectors").selectDisplayUrl},f.id+".selectSingleFormatCard");H=c("adsCreateSelector")([F,r,c("AdsVideoStore").getSelector,d("AdPreviewRenderSpecExistingPostSelectors").selectExistingPostCarousel,n,u],function(a,b,d,e,f,g){a=a!=null?a.map(function(a){return G(a,b,d)}):e;if(a.length===0)return[f];if(g){e={products:c("filterNulls")(a.map(function(a){return(a=a.media)==null?void 0:a.imageURL})).map(function(a){return{imageURI:a}}).slice(0,-1)};return[babelHelpers["extends"]({},f,{productListData:e})]}g=f.media;e=f.callToAction;var h=f.callToActionAppDestination,i=f.hasDynamicLeadGenCallToAction,j=f.description,k=f.headline,l=f.destinationLink;f=f.displayURL;var m={media:g,callToAction:e,callToActionAppDestination:h,hasDynamicLeadGenCallToAction:i,description:j,headline:k,destinationLink:l,displayURL:f};return a.map(function(a){return babelHelpers["extends"]({},m,a)})},{name:f.id+".selectCards"});s=c("adsCreateStructuredSelector")({profiles:o,message:e,messageEntityRanges:a,mediaFormat:t,objectType:d("AdsPreviewRenderSpecBaseSelectors").selectObjectType,isCanvasAd:p,cards:H,customizations:I,interactiveComponents:d("AdsPreviewRenderSpecStaticSelectors").selectSingleImageInteractiveComponents,shoppingProductTagsData:d("AdsPreviewRenderSpecStaticSelectors").selectShoppingProductTags},f.id+".adsPreviewRenderSpecSelector");k=c("adsCreateSelector")([s],function(a){return c("immutable").Map([[h,a]])},{name:f.id+".selectRenderSpecMap"});b=c("adsCreateBranchSelector")(v,D,k,!0,f.id+".adsPreviewRenderSpecMapSelector");l=c("adsCreateSelector")([d("AdsMobileFeedRenderSpecSelector").selectMobileFeedSpecificRenderSpecIfHasPlacement],function(a){return a!=null},{name:f.id+".selectHasPlacementSpecificSpecMap"});m=c("adsCreateSelector")([d("AdsMobileFeedRenderSpecSelector").selectMobileFeedSpecificRenderSpecIfHasPlacement],function(a){var b;return c("immutable").Map((b={DEFAULT:a},b.MOBILE_FEED_STANDARD=a,b))},{name:f.id+".selectPlacementSpecificSpecMap"});F=c("adsCreateBranchSelector")(l,c("adsCreateSelector")([b,m],function(a,b){return a.map(function(a,c){c=b.get(c);return c!=null?babelHelpers["extends"]({},a,{placementSpecificSpec:c}):a})},{name:f.id}),b,!0,f.id+".adsPreviewRenderSpecInitialRenderSelector");r=F;g["default"]=r}),98);
__d("adsPreviewRenderSpecWithFinalRenderSelector",["AdsPreviewRenderSpecAdgroupContextSelectors","adsCreateSelector","adsPreviewRenderSpecInitialRenderSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsPreviewRenderSpecAdgroupContextSelectors").selectPage,d("AdsPreviewRenderSpecAdgroupContextSelectors").selectInstagramAccountLoadObject],function(a,b){return{errors:!1,facebookPage:a.isLoading(),instagramProfile:b.isLoading(),props:!1}},{name:f.id+".selectBaseLoadingObject"});b=c("adsCreateSelector")([c("adsPreviewRenderSpecInitialRenderSelector"),a],function(a,b){return a.map(function(a){return babelHelpers["extends"]({},a,{loading:b})})},{name:f.id+".adsPreviewRenderSpecWithFinalRenderSelector"});e=b;g["default"]=e}),98);
__d("AdsAdPreviewClientSideConsistencySampler.react",["AdsAdPreviewClientSideUtils","AdsAdgroupUnifiedPreviewClientSideContext","AdsFluxHooks","AdsRenderSpecServerDataSelectors","AdsRenderSpecUtils","AdsUEditorHooks","adPreviewConsistencySamples","adsCreateStructuredSelector","adsMemoizeAdgroupRecordCreation","adsPreviewRenderSpecWithFinalRenderSelector","immutable","nullthrows","react","useIsUnmounted","useRenderSpecWithServerData"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useContext,j=e.useEffect,k=c("adsCreateStructuredSelector")({renderSpecMap:c("adsPreviewRenderSpecWithFinalRenderSelector"),requestKey:d("AdsRenderSpecServerDataSelectors").selectRequestKey},f.id+".selectState"),l=function(a,b){var d=c("adPreviewConsistencySamples").get(a);d!=null&&d.has(b)&&c("adPreviewConsistencySamples").set(a,d.remove(b))};function a(a){var b=i(c("AdsAdgroupUnifiedPreviewClientSideContext")),e=d("AdsUEditorHooks").useUEditorAdgroupContext();b=(b=b.selectArg)!=null?b:e;e=d("AdsFluxHooks").useAdsSelector(k,b,b);b=e.renderSpecMap;e=e.requestKey;var f=c("useRenderSpecWithServerData")(d("AdsRenderSpecUtils").getPlacementRenderSpec(b,a.format),e,a.format),g=c("useIsUnmounted")();j(function(){var b;if(!g.current&&f!=null&&f.error==null&&Object.values((b=f.loading)!=null?b:{}).every(function(a){return!a})){b=c("adPreviewConsistencySamples").get(a.adid,c("immutable").Map()).set(a.format,{adAccountId:a.adAccountId,creativeSpec:a.creativeSpec,renderSpec:f,sampleSource:a.previewParent,adId:a.adid});c("adPreviewConsistencySamples").set(a.adid,b)}},[f,a.adid,a.adAccountId,a.creativeSpec,a.format,a.previewParent,g]);return h.jsx("div",{"data-testid":void 0})}a.displayName=a.name+" [from "+f.id+"]";var m=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});function b(a){var b=d("AdsAdPreviewClientSideUtils").isClientSideSupportedBypassGK(a.format,a.adgroupSpec,a.previewParent,a.account,!1),e=c("adsMemoizeAdgroupRecordCreation")(a.adgroupSpec),f=e.toJSCached().creative,g=e.id;j(function(){b||l(g,a.format)},[g,b,a.format]);return b&&f!=null?h.jsx(m,{adAccountId:c("nullthrows")(a.account).account_id,adid:g,creativeSpec:f,format:a.format,previewParent:a.previewParent}):null}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
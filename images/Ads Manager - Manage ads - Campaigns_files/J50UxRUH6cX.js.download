if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("CometFRXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5298485626929443"}),null);
__d("CometFRXQuery$Parameters",["CometFRXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometFRXQuery_facebookRelayOperation"),metadata:{},name:"CometFRXQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useCometFileSelector",["react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef;function k(a){return a.map(function(a){if(a.indexOf("/")!==-1||a[0]===".")return a;c("recoverableViolation")('Accept parameter "'+a+'" for CometFileSelector is being interpreted as a file extension since it has no slash (/), but file extensions must start with a period (.)',"profile_comet");return"."+a}).join(",")}function a(a){var b=a.accept,c=a.multiple,d=c===void 0?!1:c,e=a.onFilesSelected,f=j(null);i(function(){if(f.current==null){var a=document.createElement("input");a.setAttribute("type","file");f.current=a}var c=f.current;c.setAttribute("multiple",d?"true":"false");b!=null&&c.setAttribute("accept",k(b));var g=function(){var a=c.files;e(a);c.value=""},h=function(a){a.stopPropagation()};c.addEventListener("input",g);c.addEventListener("click",h);return function(){c.removeEventListener("input",g),c.removeEventListener("click",h)}},[b,d,e]);return h(function(){var a;(a=f.current)==null?void 0:a.click()},[])}g["default"]=a}),98);
__d("CometMenuItemFileSelector.react",["CometMenuContext","CometMenuItem.react","react","useCometFileSelector"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext;function a(a,b){var d=a.accept,e=a.multiple,f=a.onFilesSelected;a=babelHelpers.objectWithoutPropertiesLoose(a,["accept","multiple","onFilesSelected"]);var g=j(c("CometMenuContext")),k=i(function(a){g==null?void 0:g.onClose(),f(a)},[f,g]);d=c("useCometFileSelector")({accept:d,multiple:e,onFilesSelected:k});return h.jsx(c("CometMenuItem.react"),babelHelpers["extends"]({},a,{onClick:d,preventClosingMenuOnSelect:!0,ref:b}))}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("CometMenuItemGroup.react",["TetraText.react","react","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var d=c("useCometUniqueID")();return h.jsxs("div",{"aria-labelledby":d,ref:b,role:"group",children:[h.jsx("div",{className:"x1swvt13 xsag5q8 x1pi30zi xz9dl7a",children:h.jsx(c("TetraText.react"),{id:d,type:"headlineEmphasized3",children:a.label})}),a.children]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometMenuItemRadio.react",["ix","CometIcon.react","CometMenuItemBase.react","CometMenuItemIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a,b){var e=a.disabled,f=a.icon,g=a.iconColor,j=a.iconStyle,k=a.isSelected,l=a.radioStyle;l=l===void 0?"default":l;a=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","icon","iconColor","iconStyle","isSelected","radioStyle"]);l==="checkmark"?l=k?i.jsx(c("CometIcon.react"),{color:e===!0?"disabled":"highlight",icon:d("fbicon")._(h("477814"),20)}):void 0:l=k?i.jsx(c("CometIcon.react"),{color:e===!0?"disabled":"highlight",icon:d("fbicon")._(h("621399"),20)}):i.jsx(c("CometIcon.react"),{color:e===!0?"disabled":"secondary",icon:d("fbicon")._(h("545517"),20)});return i.jsx(c("CometMenuItemBase.react"),babelHelpers["extends"]({},a,{"aria-checked":k,aux:l,disabled:e,iconNode:f!=null?i.jsx(c("CometMenuItemIcon.react"),{icon:f,iconColor:g,use:j}):void 0,ref:b,role:"menuitemradio"}))}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("CometMenuItemRadioGroup.react",["CometMenuItemGroup.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return h.jsx(c("CometMenuItemGroup.react"),{label:a.label,ref:b,children:a.children})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometMenuItemWithSubmenu.react",["fbt","ix","BaseContextualLayerAvailableHeightContext","BaseMultiPageViewContext","CometComponentWithKeyCommands.react","CometIcon.react","CometKeys","CometMenuBase.react","CometMenuItemBase.react","CometMenuItemIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useContext,m=b.useMemo,n=b.useState,o=j.createContext([]);function a(a,b){var e=a.disabled,f=a.icon,g=a.iconColor,q=a.iconStyle,r=a.onClick,s=a.primaryText,t=a.secondaryText,u=a.submenu;a=babelHelpers.objectWithoutPropertiesLoose(a,["disabled","icon","iconColor","iconStyle","onClick","primaryText","secondaryText","submenu"]);var v=l(o),w=m(function(){return[].concat(v,[s])},[v,s]),x=n(!1),y=x[0],z=x[1];x=j.jsx(c("CometIcon.react"),{color:"secondary",icon:d("fbicon")._(i("492572"),20)});var A=l(c("BaseMultiPageViewContext")),B=k(function(){if(A==null)return;var a=u.header,b=babelHelpers.objectWithoutPropertiesLoose(u,["header"]),d=function(){z(!1),a==null?void 0:a.onPressBack==null?void 0:a.onPressBack(),A==null?void 0:A.popPage==null?void 0:A.popPage()},e={meta:a!=null?a.meta:t,onPressBack:d,title:a!=null?a.title:s};z(!0);A.pushPage(function(){var a=[{command:{key:c("CometKeys").LEFT},description:h._("Move to parent menu"),handler:d},{command:{key:c("CometKeys").ESCAPE},description:h._("Move to parent menu"),handler:d}];a=j.jsx(o.Provider,{value:w,children:j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:a,children:j.jsx(p,babelHelpers["extends"]({},b,{header:e}))})});for(var f=w.length-1;f>=0;f--)a=j.jsx("div",{"aria-label":w[f],role:"menu",children:a});return a})},[A,u,t,s,w]),C=function(a){r&&r(a),B()},D=m(function(){return[{command:{key:c("CometKeys").RIGHT},description:h._("Move to submenu"),handler:B}]},[B]);return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:D,children:j.jsx(c("CometMenuItemBase.react"),babelHelpers["extends"]({},a,{"aria-expanded":y,"aria-haspopup":"menu",aux:f?j.jsx("div",{className:"x16ldp7u xz62fqu",children:x}):x,disabled:e,iconNode:f?j.jsx(c("CometMenuItemIcon.react"),{icon:f,iconColor:g,use:q}):null,onClick:C,preventClosingMenuOnSelect:!0,primaryText:s,ref:b,role:"menuitem",secondaryText:t}))})}a.displayName=a.name+" [from "+f.id+"]";e=j.forwardRef(a);function p(a){var b=a.items,d=a.truncate;d=d===void 0?!1:d;a=babelHelpers.objectWithoutPropertiesLoose(a,["items","truncate"]);var e=l(c("BaseContextualLayerAvailableHeightContext"));return j.jsx(c("CometMenuBase.react"),babelHelpers["extends"]({},a,{maxHeight:d?(a=e)!=null?a:0:void 0,children:b}))}p.displayName=p.name+" [from "+f.id+"]";g["default"]=e}),98);
__d("GroupsCometGroupLabel$FbtEnum",[],(function(a,b,c,d,e,f){"use strict";a={garden:"Workroom",group:"Group"};b=a;f["default"]=b}),66);
__d("MercuryIgnoredBlockedParticipants.re",["MercuryIgnoredBlockedParticipants.bs"],(function(a,b,c,d,e,f){a=b("MercuryIgnoredBlockedParticipants.bs").qualifiesAs;f.qualifiesAs=a;c=b("MercuryIgnoredBlockedParticipants.bs").shouldShowBlock;f.shouldShowBlock=c}),null);
__d("WorkForeignEntityInfo.re",["WorkForeignEntityInfo.bs"],(function(a,b,c,d,e,f){a=b("WorkForeignEntityInfo.bs").isCoworker;f.isCoworker=a;c=b("WorkForeignEntityInfo.bs").areAllCoworkers;f.areAllCoworkers=c}),null);
__d("WorkCometDialogFooterButtonGroup.react",["CometProgressRing.react","TetraButtonGroup.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.primary,d=a.secondary,e=a.isLoading;a=babelHelpers.objectWithoutPropertiesLoose(a,["primary","secondary","isLoading"]);return h.jsx(c("TetraButtonGroup.react"),babelHelpers["extends"]({direction:"backward",align:"end",primary:babelHelpers["extends"]({addOnPrimary:e===!0?h.jsx(c("CometProgressRing.react"),{type:"estimated",duration:2,color:"disabled",size:16}):void 0,padding:"wide"},b),secondary:d?babelHelpers["extends"]({reduceEmphasis:!0},d):void 0},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkCometBaseErrorDialog.react",["fbt","CometCardedDialogLegacy.react","CometRow.react","CometRowItem.react","TetraText.react","WorkCometDialogFooterButtonGroup.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.title,d=a.content,e=a.action;a=a.onClose;return i.jsx(c("CometCardedDialogLegacy.react"),{title:b,onClose:a,withCloseButton:!0,children:i.jsx("div",{className:"xsag5q8",children:i.jsxs(c("CometRow.react"),{wrap:"forward",align:"end",children:[i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("TetraText.react"),{type:"body3",children:d})}),i.jsx(c("CometRowItem.react"),{children:e==null?i.jsx(c("WorkCometDialogFooterButtonGroup.react"),{primary:{label:h._("Close"),onPress:a}}):e})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkCometGenericErrorDialog.react",["fbt","WorkCometBaseErrorDialog.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.message;a=a.onClose;a=a===void 0?function(){}:a;return i.jsx(c("WorkCometBaseErrorDialog.react"),{title:h._("Something went wrong"),content:b,onClose:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkCometFRX.entrypoint",["CometFRXQuery$Parameters","JSResource","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.entryPoint,e=a.id,f=a.location;a=a.responsible_id;return{queries:{frx:{parameters:c("CometFRXQuery$Parameters"),variables:{input:{entry_point:b,id:e,location:f,responsible_id:a},scale:d("WebPixelRatio").get()}}}}},root:c("JSResource")("WorkCometFRX.react").__setRef("WorkCometFRX.entrypoint")};b=a;g["default"]=b}),98);
__d("useWorkCometGenericErrorDialog",["react","requireDeferred","useCometDeferredDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useCallback,i=b.useRef,j=c("requireDeferred")("WorkCometGenericErrorDialog.react").__setRef("useWorkCometGenericErrorDialog");function a(){var a=i(null),b=c("useCometDeferredDialog")(j),d=h(function(a,c){c===void 0&&(c=function(){}),b({message:a},c)},[b]);return[d,a]}g["default"]=a}),98);
__d("WorkGalahadAsyncStatefulActionHelper",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useReducer;function i(a,b){switch(b.type){case"reset":return{loading:!1,requested:!1,error:null};case"startAction":return babelHelpers["extends"]({},a,{loading:!0,error:null});case"actionSuccess":return babelHelpers["extends"]({},a,{loading:!1,requested:!0});case"actionFailed":return babelHelpers["extends"]({},a,{loading:!1,requested:!0,error:b.error});default:return a}}function a(){var a=h(i,{loading:!1,requested:!1,error:null}),b=a[0],c=b.error,d=b.loading;b=b.requested;a=a[1];var e=!d&&b&&c==null,f=!d&&b&&c!=null;return[{loading:d,requested:b,error:c,isSuccessful:e,isFailed:f},a]}g.useAsyncActionReducer=a}),98);
__d("WorkGalahadBlockChatCometMenuItem.react",["fbt","ix","CometMenuItem.react","CurrentUser","JSResource","MercuryThreadActions","fbicon","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResource")("WorkGalahadConfirmBlockThreadDialog.react").__setRef("WorkGalahadBlockChatCometMenuItem.react");function a(a){var b=a.isBlocked,e=a.thread;a=c("useCometLazyDialog")(k);var f=a[0];return j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("482898"),20),onClick:function(){b?c("MercuryThreadActions").getForFBID(c("CurrentUser").getAccountID()).unblockOnMessengerDotCom(e.thread_id):f({thread:e})},primaryText:b?h._("Unblock messages"):h._("Block messages")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadChangeChatEmojiCometMenuItem.react",["fbt","ix","CometMenuItem.react","JSResource","fbicon","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.thread;a=c("useCometLazyDialog")(c("JSResource")("WorkGalahadChangeEmojiDialog.react").__setRef("WorkGalahadChangeChatEmojiCometMenuItem.react"));var e=a[0];return j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("509927"),20),onClick:function(){e({thread:b})},primaryText:h._("Change emoji")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XMessagingSetThreadImageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/set_thread_image/",{})}),null);
__d("WorkGalahadChangeChatPhotoCometMenuItem.react",["fbt","AsyncRequest","CometMenuItemFileSelector.react","FileInputUploader","MercuryConfig","MercuryIDs","WorkGalahadAsyncStatefulActionHelper","XMessagingSetThreadImageController","react","useWorkCometGenericErrorDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect;function a(a){var b=a.secondaryText,e=a.icon,f=a.primaryText,g=a.threadID;a=d("WorkGalahadAsyncStatefulActionHelper").useAsyncActionReducer();var l=a[0],m=l.error,n=l.isFailed,o=a[1];l=c("useWorkCometGenericErrorDialog")();var p=l[0],q=j(function(){o({type:"actionFailed",error:h._("There was an error in the uploading process.")})},[o]),r=j(function(a,b){a=b.response.payload;a=(b=a.metadata[0])==null?void 0:b.image_id;if(!a)return;b=c("XMessagingSetThreadImageController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(b).setData({thread_id:d("MercuryIDs").getThreadFBIDFromThreadID(g),thread_image_id:a}).setHandler(function(){o({type:"actionSuccess"})}).setErrorHandler(function(a){q()}).send()},[o,q,g]);a=j(function(a){a=a[0];if(!a)return;o({type:"startAction"});a=new(c("FileInputUploader"))().setFiles({file:a}).setURI(c("MercuryConfig").upload_url).setAllowCrossOrigin(!0).setAllowCrossPageTransition(!0).setData({images_only:!0});a.subscribe("success",r);a.subscribe("failure",q);a.send()},[o,r,q]);k(function(){n&&m!=null&&p(m,function(){o({type:"reset"})})},[m,n,p,o]);return i.jsx(c("CometMenuItemFileSelector.react"),{accept:["image/*"],onFilesSelected:a,primaryText:f,secondaryText:b,icon:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadCreateGroupFromChatCometMenuItem.react",["fbt","ix","CometMenuItem.react","GroupsCometGroupLabel$FbtEnum","JSResource","MessengerParticipants.re","fbicon","gkx","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResource")("WorkGalahadCreateGroupFromChatDialog.react").__setRef("WorkGalahadCreateGroupFromChatCometMenuItem.react");function a(a){var b=a.thread;a=c("useCometLazyDialog")(k);var e=a[0];a=c("gkx")("1742612")?"garden":"group";return j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("943402"),20),onClick:function(){e({onClose:function(){},thread:b,participants:b.participants.map(d("MessengerParticipants.re").getNow).filter(Boolean)})},primaryText:h._({"garden":"Create a Workroom for this chat","group":"Create a group for this chat"},[h._enum(a,c("GroupsCometGroupLabel$FbtEnum"))]),testid:void 0},"create-group")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadDeleteChatCometMenuItem.react",["fbt","ix","CometMenuItem.react","CometMenuItemWithSubmenu.react","JSResource","MessagingTag","fbicon","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResource")("WorkGalahadDeleteChatHistoryDialog.react").__setRef("WorkGalahadDeleteChatCometMenuItem.react"),l=c("JSResource")("WorkGalahadHideChatDialog.react").__setRef("WorkGalahadDeleteChatCometMenuItem.react"),m=function(a){var b=a.showDescription,e=a.thread;a=c("useCometLazyDialog")(k);var f=a[0];a={primaryText:h._("Delete message history"),secondaryText:h._("Delete your copy of this chat and all of the messages within it."),onClick:function(){f({thread:e,onClose:function(){}})}};if(!b){delete a.secondaryText;return j.jsx(c("CometMenuItem.react"),babelHelpers["extends"]({icon:d("fbicon")._(i("483829"),20)},a))}return j.jsx(c("CometMenuItem.react"),babelHelpers["extends"]({},a))},n=function(a){var b=a.thread;a=c("useCometLazyDialog")(l);var d=a[0];return j.jsx(c("CometMenuItem.react"),{onClick:function(){d({thread:b,onClose:function(){}})},primaryText:h._("Permanently hide"),secondaryText:h._("This chat will move to 'Permanently hidden'. It will stay there until you unhide it.")})};function a(a){a=a.thread;var b=a.folder===c("MessagingTag").OTHER;if(!a.is_subscribed||a.is_archived||b)return j.jsx(m,{showDescription:!1,thread:a});var e=[];b||e.push(j.jsx(n,{thread:a},"hide-chat-permanently"));e.push(j.jsx(m,{showDescription:!0,thread:a},"delete-chat-history"));return j.jsx(c("CometMenuItemWithSubmenu.react"),{icon:d("fbicon")._(i("483829"),20),primaryText:h._("Remove chat"),submenu:{items:e}},"remove-chat")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadDropdownMenuHelper",["CometSeparatorMenuItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){b===void 0&&(b="separator");return a.reduce(function(a,d){if(d.length===0)return a;if(a.length===0)return d;var e=a.length;return[].concat(a,[h.jsx(c("CometSeparatorMenuItem.react"),{},b+"-"+e)],d)},[])}g.createItemsFromSectionsForCometMenu=a}),98);
__d("WorkGalahadEditChatColorCometMenuItem.react",["fbt","ix","CometMenuItem.react","JSResource","fbicon","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.thread;a=c("useCometLazyDialog")(c("JSResource")("WorkGalahadChangeColourDialog.react").__setRef("WorkGalahadEditChatColorCometMenuItem.react"));var e=a[0];return j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("785872"),20),onClick:function(){e({thread:b})},primaryText:h._("Change color")},"edit-chat-color")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadEditChatNameCometMenuItem.react",["fbt","ix","CometMenuItem.react","JSResource","fbicon","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResource")("WorkGalahadRenameChatThreadDialog.react").__setRef("WorkGalahadEditChatNameCometMenuItem.react");function a(a){var b=a.onSave,e=a.previousThreadName;a=c("useCometLazyDialog")(k);var f=a[0];return j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("657786"),20),onClick:function(){f({onSave:b,previousThreadName:e})},primaryText:h._("Rename chat")},"rename-chat")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WorkGalahadEditChatNicknamesCometMenuItem.react",["fbt","ix","CometMenuItem.react","CurrentUser","JSResource","MercuryThreadActions","MercuryThreadInfo","fbicon","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useRef,l=c("JSResource")("WorkGalahadChatChangeNicknameDialog").__setRef("WorkGalahadEditChatNicknamesCometMenuItem.react");function a(a){var b=a.thread,e=babelHelpers.objectWithoutPropertiesLoose(a,["thread"]);a=k(null);var f=c("useCometLazyDialog")(l),g=f[0];return j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("987429"),20),onClick:function(){g(babelHelpers["extends"]({},e,{onNicknameChange:function(a,e){d("MercuryThreadInfo").isEmptyLocalThread(b)||c("MercuryThreadActions").getForFBID(c("CurrentUser").getAccountID()).changeThreadNicknames(b.thread_id,a,e,"thread_settings")}}))},primaryText:h._("Edit nicknames"),ref:a},"edit-chat-nicknames")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XRapidReportingDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/rapid_report/",{__asyncDialog:{type:"Int"},context:{type:"String",required:!0},preselectedtagid:{type:"Enum",enumType:1}})}),null);
__d("FRXURI",["ActorURI","NFXContextFactory","XRapidReportingDialogController"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.reportable_ent_token,e=a.story_location,f=a.entry_point;f=f===void 0?"unknown":f;var g=a.responsible_id;a=a.actor_id;b=d("NFXContextFactory").withEntMessageThread({reportable_ent_token:b,story_location:e,entry_point:f,responsible_id:g});e=c("XRapidReportingDialogController").getURIBuilder().setString("context",b).getURI();a!=null&&(e=d("ActorURI").create(e,a));return e}function b(a){var b=a.reportable_ent_token,e=a.story_location,f=a.entry_point;f=f===void 0?"unknown":f;var g=a.initial_action_name,h=a.actor_id;a=a.page_id;b=d("NFXContextFactory").withEntReportableOnPage({reportable_ent_token:b,story_location:e,entry_point:f,initial_action_name:g,page_id:a});e=c("XRapidReportingDialogController").getURIBuilder().setString("context",b).getURI();h!=null&&(e=d("ActorURI").create(e,h));return e}function e(a){var b=a.reportable_ent_token,e=a.story_location,f=a.entry_point;f=f===void 0?"unknown":f;var g=a.initial_action_name;a=a.actor_id;b=d("NFXContextFactory").withEntReportable({reportable_ent_token:b,story_location:e,entry_point:f,initial_action_name:g});e=c("XRapidReportingDialogController").getURIBuilder().setString("context",b).getURI();a!=null&&(e=d("ActorURI").create(e,a));return e}function f(a,b){return btoa(a+":"+b)}g.withEntMessageThread=a;g.withEntReportableOnPage=b;g.withEntReportable=e;g.getReportableToken=f}),98);
__d("useWorkGalahadChatReportDialog",["AsyncRequest","FRXURI","MercuryIDs","WorkCometFRX.entrypoint","cr:1373381","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){var f=d("MercuryIDs").getThreadFBIDFromThreadID(a);f=btoa("message_thread:"+((f=f)!=null?f:""));f=c("useCometEntryPointDialog")(c("WorkCometFRX.entrypoint"),{entryPoint:"REPORT_BUTTON",id:f,responsible_id:e!=null?d("MercuryIDs").tokenize(e).value:void 0,location:"messenger_direct_thread_details"});var g=f[0];return b("cr:1373381")?function(){if(e!=null){var f=d("MercuryIDs").getUserIDFromThreadID(a)||"",g=btoa("EntMessengerViewer1To1ThreadBase:"+f),h="messenger_direct_thread_details";g=d("FRXURI").withEntMessageThread({reportable_ent_token:g,story_location:h,entry_point:"report_button",responsible_id:f});new(c("AsyncRequest"))(g).send()}else b("cr:1373381").bootloadFRXDialog(a)}:function(){return g({})}}g["default"]=a}),98);
__d("WorkGalahadReportChatCometMenuItem.react",["fbt","ix","CometMenuItem.react","JSResource","fbicon","react","useCometLazyDialog","useWorkGalahadChatReportDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.isCanonicalChat,e=a.isSubtitleVisible,f=a.threadID,g=a.participants;a=c("useCometLazyDialog")(c("JSResource")("WorkGalahadReportChatParticipantDialog.react").__setRef("WorkGalahadReportChatCometMenuItem.react"));var k=a[0],l=c("useWorkGalahadChatReportDialog")(f);return j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("490583"),20),onClick:function(){b?l():k({threadID:f,participants:g})},primaryText:h._("Report chat"),secondaryText:e?h._("Give feedback and report something a person has shared in this chat"):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XCometWorkChatNewControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/chat/new/",Object.freeze({new_room:!1}),new Set(["new_room"]));b=a;g["default"]=b}),98);
__d("WorkGalahadChatCometMenuHelper",["fbt","ix","Arbiter","CometMenuItem.react","CometMenuItemRadio.react","CometMenuItemRadioGroup.react","CometMenuItemWithSubmenu.react","CometSeparatorMenuItem.react","CurrentUser","JSResource","MercuryIDs","MercuryIgnoredBlockedParticipants.re","MercuryThreadActions","MercuryThreadInfo","MessagingTag","MessengerActions","MessengerAdminGroupUtils","MessengerParticipants.re","MessengerState.re","QPLUserFlow","QPLUtils","WorkChatConstants","WorkForeignEntityInfo.re","WorkGalahadBlockChatCometMenuItem.react","WorkGalahadChangeChatEmojiCometMenuItem.react","WorkGalahadChangeChatPhotoCometMenuItem.react","WorkGalahadCreateGroupFromChatCometMenuItem.react","WorkGalahadDeleteChatCometMenuItem.react","WorkGalahadDropdownMenuHelper","WorkGalahadEditChatColorCometMenuItem.react","WorkGalahadEditChatNameCometMenuItem.react","WorkGalahadEditChatNicknamesCometMenuItem.react","WorkGalahadReportChatCometMenuItem.react","XCometWorkChatNewControllerRouteBuilder","fbicon","formatDate","gkx","immutable","qpl","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("JSResource")("WorkGalahadLeaveThreadDialog.react").__setRef("WorkGalahadChatCometMenuHelper"),l=3600,m="chat-notification",n={createMuteChatItems:function(a){var b=a==null?void 0:a.mute_until,e=h._("Mute chat"),f=h._("Pause notifications for messages"),g=n.isChatMuted(a);g&&(e=h._("Unmute chat"),f=j.jsx("span",{className:"x1a1m0xk",children:b===-1?h._("Muted indefinitely"):h._("Muted until {date}",[h._param("date",c("formatDate")(b,{today:"g:ia",withinDay:"g:ia",thisYear:"M jS, g:ia",future:"M d, Y g:ia"}))])}));if(g)return[j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("532356"),20),onClick:function(){return n.unmuteChat(a)},primaryText:e,secondaryText:f},m)];b=function(b){n.muteChat(a,b)};return n.createChatMuteOptionsMenu(b,a)},isChatMuted:function(a){a=a==null?void 0:a.mute_until;return a!=null&&Number.isInteger(a)&&(a===-1||a*1e3>Date.now())},unmuteChat:function(a){if(a==null||!n.isChatMuted(a))return;c("MercuryThreadActions").getForFBID(c("CurrentUser").getID()).updateMuteSetting(a.thread_id,0)},muteChat:function(a,b){if(a==null)return;c("MercuryThreadActions").getForFBID(c("CurrentUser").getID()).updateMuteSetting(a.thread_id,b)},createChatMuteOptionsMenu:function(a,b){return[j.jsx(c("CometMenuItemWithSubmenu.react"),{submenu:{items:n.createChatMuteOptionItems(a),header:{title:h._("Mute this chat...")},footer:b!=null&&!b.is_canonical?{text:h._("While muted, you'll still be notified about {\u0040mentions} in this chat.",[h._param("@mentions",j.jsx("strong",{children:"@mentions"}))])}:void 0},primaryText:h._("Mute chat"),secondaryText:h._("Pause notifications for messages"),icon:d("fbicon")._(i("652791"),20)},m)]},createChatMuteOptionItems:function(a){return[j.jsx(c("CometMenuItem.react"),{primaryText:h._("For 1 hour"),onClick:function(){a(l)}},"chat-mute-1-hour"),j.jsx(c("CometMenuItem.react"),{primaryText:h._("For 2 hours"),onClick:function(){a(2*l)}},"chat-mute-2-hour"),j.jsx(c("CometMenuItem.react"),{primaryText:h._("Until tomorrow at 8 am"),onClick:function(){var b=new Date(),c=b.getHours()>=8;c&&b.setDate(b.getDate()+1);b.setHours(8,0,0,0);a(Math.ceil((b.getTime()-Date.now())/1e3))}},"chat-mute-until-tomorrow"),j.jsx(c("CometMenuItem.react"),{primaryText:h._("Until next week (Monday at 8 am)"),onClick:function(){var b=new Date();b.setDate(b.getDate()+(7-b.getDay())%7+1);b.setHours(8,0,0,0);a(Math.ceil((b.getTime()-Date.now())/1e3))}},"chat-mute-next-week"),j.jsx(c("CometMenuItem.react"),{primaryText:h._("Until I change it"),onClick:function(){a(-1)}},"chat-mute-until-changed")]},createCustomizeItems:function(a){var b=[];!a.is_canonical&&!a.work_associated_group&&a.group_thread_subtype!=18&&(a.is_subscribed&&!a.is_canonical&&c("MessengerAdminGroupUtils").canUpdateThreadCustomization(a,c("CurrentUser").getAccountID())&&(b.push(j.jsx(c("WorkGalahadEditChatNameCometMenuItem.react"),{previousThreadName:a.name,onSave:function(b){d("MercuryThreadInfo").isEmptyLocalThread(a)||c("MercuryThreadActions").getForFBID(c("CurrentUser").getAccountID()).changeGroupThreadName(a.thread_id,b)}},"rename-chat")),b.push(j.jsx(c("WorkGalahadChangeChatPhotoCometMenuItem.react"),{icon:d("fbicon")._(i("540023"),20),primaryText:h._("Change chat photo"),threadID:a.thread_id},"change-chat-photo"),j.jsx(c("CometSeparatorMenuItem.react"),{},"customize-options-separator"))));if(a.customization_enabled){var e=new Map();a.participants.forEach(function(b){var d;b=c("MessengerParticipants.re").getNow(b);d=(d=a.custom_nickname)!=null?d:{};if(b){var f,g=b.fbid;e.set(g,{contactId:g,name:(f=d[g])!=null?f:b.short_name,actualName:b.name,nickname:d[g],profileUrl:(f=b.href)!=null?f:void 0,profilePictureUrl:(d=b.image_src)!=null?d:void 0,isContact:b.is_friend,isAdmin:c("MessengerAdminGroupUtils").isAdmin(a.admins,b.fbid)})}});b.push(j.jsx(c("WorkGalahadEditChatNicknamesCometMenuItem.react"),{thread:a,participants:e,onClose:function(){}},"edit-chat-nicknames"));b.push(j.jsx(c("WorkGalahadEditChatColorCometMenuItem.react"),{thread:a},"edit-chat-color"));b.push(j.jsx(c("WorkGalahadChangeChatEmojiCometMenuItem.react"),{thread:a},"change-chat-emoji"))}if(b.length===0)return[];var f=a.is_canonical||a.work_associated_group?h._("Edit emoji, nicknames and more"):h._("Edit chat name, photo and more");return[j.jsx(c("CometMenuItemWithSubmenu.react"),{icon:d("fbicon")._(i("477831"),20),primaryText:h._("Customize chat"),secondaryText:f,submenu:{items:b}},"customize-chat")]},getOnHideChatCallback:function(a){return function(){var b;o((b=a.thread_fbid)!=null?b:"");b=c("MercuryThreadActions").getForFBID(c("CurrentUser").getAccountID());a.is_pinned===!0&&b.unpin(a.thread_id);b.archive(a.thread_id);c("gkx")("1217157")||c("MessengerActions").selectThread(null)}},getOnUnhideChatCallback:function(a){return function(){var b=c("MercuryThreadActions").getForFBID(c("CurrentUser").getAccountID());a.is_archived===!0&&b.unarchive(a.thread_id);a.folder===c("MessagingTag").OTHER&&b.changeFolder(a.thread_id,c("MessagingTag").INBOX);c("gkx")("1217157")||c("MessengerActions").selectThread(a.thread_id)}},createHideChatItems:function(a){var b=a.folder===c("MessagingTag").OTHER;if(!a.is_archived&&!b)return[j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("577043"),20),onClick:n.getOnHideChatCallback(a),primaryText:h._("Hide chat"),secondaryText:h._("Hide this chat from your inbox")},"hide-chat")];else return[j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("725928"),20),onClick:n.getOnUnhideChatCallback(a),primaryText:h._("Unhide chat"),secondaryText:h._("Show this chat in your inbox")},"unhide-chat")]},createRemoveChatItems:function(a){return[j.jsx(c("WorkGalahadDeleteChatCometMenuItem.react"),{thread:a},"delete-chat-wrapper")]},createBlockMessagesItems:function(a){var b=c("CurrentUser").getID(),d=!1;c("MessengerState.re").compute(b,function(e){e=e.blocked_ids;d=c("MercuryIgnoredBlockedParticipants.re").qualifiesAs(b,e,a)});var e=c("MercuryIDs").getParticipantIDFromFromThreadID(a.thread_id);e=e!=null?c("MessengerParticipants.re").getNow(e):null;if(e==null)return[];return!c("MercuryIgnoredBlockedParticipants.re").shouldShowBlock(a,b,e)?[]:[j.jsx(c("WorkGalahadBlockChatCometMenuItem.react"),{isBlocked:d,thread:a},"block-chat")]},createReportChatItems:function(a,b){var d=c("CurrentUser").getID();if(a.message_count===0||a.participants.length<=1)return[];var e=a.participants.map(function(a){return c("MessengerParticipants.re").getNow(a)}).filter(Boolean);return e.find(function(a){return(a==null?void 0:a.id)!==c("MercuryIDs").getParticipantIDFromUserID(d)&&(a==null?void 0:a.user_type)!=="page"})==null?[]:[j.jsx(c("WorkGalahadReportChatCometMenuItem.react"),{threadID:a.thread_id,isSubtitleVisible:b,isCanonicalChat:a.is_canonical,participants:e},"report-chat")]},createChatPrivacySubMenuItems:function(a){if(a==null)return[];var b=a.other_user_fbid===c("CurrentUser").getID(),e=d("MercuryThreadInfo").isEmptyLocalThread(a),f=n.createBlockMessagesItems(a);if(!a.is_subscribed||b||e)return[];b=n.createReportChatItems(a,!0);return d("WorkGalahadDropdownMenuHelper").createItemsFromSectionsForCometMenu([[].concat(b),[].concat(f)])},createPrivacyItems:function(a){var b=n.createChatPrivacySubMenuItems(a);if(a==null)return[];if(b.length===0)return[];return b.length===1?n.createReportChatItems(a,!1):[j.jsx(c("CometMenuItemWithSubmenu.react"),{icon:d("fbicon")._(i("497248"),20),primaryText:h._("Privacy options"),submenu:{items:b},testid:void 0},"privacy-chat-options")]},createPinOrUnpinItems:function(a,b){if(!a.is_pinned&&(!a.is_subscribed||a.message_count===0))return[];b=b==null?!1:b>=c("WorkChatConstants").max_pinned_threads;if(!a.is_pinned)return[j.jsx(c("CometMenuItem.react"),{disabled:b,icon:d("fbicon")._(i("511758"),20),onClick:function(){c("MercuryThreadActions").getForFBID(c("CurrentUser").getAccountID()).pin(a.thread_id,"menu_item_in_overflow_menu")},primaryText:h._("Pin chat"),secondaryText:b?h._("Reached limit for pinned threads"):h._("Pin this chat to the top of inbox")},"pin-unpin-chat")];else return[j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("832467"),20),onClick:function(){c("MercuryThreadActions").getForFBID(c("CurrentUser").getAccountID()).unpin(a.thread_id,"menu_item_in_overflow_menu")},primaryText:h._("Unpin chat"),secondaryText:h._("Unpin this chat in your inbox")},"pin-unpin-chat")]},createAdminOptionsItems:function(a,b){var e=c("MessengerAdminGroupUtils").isAdmin(a.admins,c("CurrentUser").getID());if(a.is_canonical||!e)return[];e=!c("MessengerAdminGroupUtils").isApprovalOpenThread(a);e=[j.jsxs(c("CometMenuItemRadioGroup.react"),{label:h._("Membership Approval"),children:[j.jsx(c("CometMenuItemRadio.react"),{isSelected:e,onClick:function(){c("MercuryThreadActions").getForFBID(c("CurrentUser").getAccountID()).setApprovalMode(1,a)},primaryText:h._("On"),secondaryText:h._("Admins can approve new people that are added by non-admins.")},"membership-approval-on"),j.jsx(c("CometMenuItemRadio.react"),{isSelected:!e,onClick:function(){c("MercuryThreadActions").getForFBID(c("CurrentUser").getAccountID()).setApprovalMode(0,a)},primaryText:h._("Off"),secondaryText:h._("Any member can add new people to the chat without approval.")},"membership-approval-off")]},"chat-admin-options-header")];var f=c("immutable").OrderedMap(a.participants.reduce(function(a,b){return babelHelpers["extends"]({},a,(a={},a[b]=c("MessengerParticipants.re").getNow(b),a))},{}));f=!c("WorkForeignEntityInfo.re").areAllCoworkers(f);b&&a.is_subscribed&&!a.work_associated_group&&!f&&(e.push(j.jsx(c("CometSeparatorMenuItem.react"),{},"admin-create-group-option-separator")),e.push(j.jsx(c("WorkGalahadCreateGroupFromChatCometMenuItem.react"),{thread:a},"create-group")));return[j.jsx(c("CometMenuItemWithSubmenu.react"),{icon:d("fbicon")._(i("530477"),20),primaryText:h._("Admin options"),submenu:{items:e},testid:void 0},"chat-admin-options")]},useCreateLeaveItems:function(a){var b=c("useCometLazyDialog")(k),e=b[0];return a==null||a.is_canonical||!a.is_subscribed?[]:[j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("538183"),20),onClick:function(){e({thread:a})},primaryText:h._("Leave")},"leave-chat")]},createNewGroupChatItems:function(a){return[j.jsx(c("CometMenuItem.react"),{href:c("XCometWorkChatNewControllerRouteBuilder").buildURL({}).toString(),icon:d("fbicon")._(i("1570728"),20),primaryText:h._("Create new group chat")},"new-chat")]},createMarkAsReadOrUnreadItems:function(a){return a.unread_count>0?[j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("1163975"),20),onClick:function(){c("MercuryThreadActions").getForFBID(c("CurrentUser").getID()).markRead(a.thread_id)},primaryText:h._("Mark As Read")},"mark-as-read-unread")]:[j.jsx(c("CometMenuItem.react"),{icon:d("fbicon")._(i("495082"),20),onClick:function(){c("MercuryThreadActions").getForFBID(c("CurrentUser").getID()).markUnread(a.thread_id)},primaryText:h._("Mark As Unread")},"mark-as-read-unread")]},useChatChannelOverflowMenuItems:function(a,b){return d("WorkGalahadDropdownMenuHelper").createItemsFromSectionsForCometMenu([n.createPinOrUnpinItems(a,b),[].concat(n.createMuteChatItems(a),n.createHideChatItems(a)),[].concat(n.createMarkAsReadOrUnreadItems(a),n.createRemoveChatItems(a),n.useCreateLeaveItems(a))])}};function o(a){var b,e={instanceKey:d("QPLUtils").deriveInstanceKey((b=a)!=null?b:"")};c("QPLUserFlow").start(c("qpl")._(57409537,"1748"),e);var f=c("Arbiter").subscribe(["AsyncRequest/response","AsyncRequest/error","AsyncRequest/timeout"],function(b,d){var g=null;d=Object.keys((d=d==null?void 0:(d=d.request)==null?void 0:(d=d.data)==null?void 0:d.ids)!=null?d:{});Array.isArray(d)&&d.length>0&&(g=d[0]);if(a!==g)return;f.unsubscribe();b==="AsyncRequest/response"?c("QPLUserFlow").endSuccess(c("qpl")._(57409537,"1748"),e):c("QPLUserFlow").endFailure(c("qpl")._(57409537,"1748"),"unknown_error",e)})}a=n;g["default"]=a}),98);
__d("WorkGalahadPinnedThreadsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({pinnedThreadsCount:0});g["default"]=b}),98);
__d("WorkGalahadChatChannelOverflowMenu.react",["CometMenu.react","WorkGalahadChatCometMenuHelper","WorkGalahadPinnedThreadsContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.label;a=a.thread;var d=i(c("WorkGalahadPinnedThreadsContext.react"));d=d.pinnedThreadsCount;return h.jsx(c("CometMenu.react"),{children:c("WorkGalahadChatCometMenuHelper").useChatChannelOverflowMenuItems(a,d),label:b,withArrow:!0})}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b}),98);
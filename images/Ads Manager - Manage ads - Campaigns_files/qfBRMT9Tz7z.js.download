if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("AdsAccountImageSourceImageListLoadMoreReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.query,a.getMore(b.query))}};b=a;f["default"]=b}),66);
__d("AdsAccountImageSourceDataLoaderV2",["AdsAssetListBaseDataLoader","AdsImageDialogPanelUtils","AdsImageIDClasses","AdsImageSelectorV2Types","buildAdAccountImagesRequest","immutable","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.load=function(a,b){return e.sendRequest(a,b).then(function(b){var e;return{imageIDs:c("immutable").OrderedSet(b.data.map(function(b){return d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(a.accountID,b.hash)})),uploadedImageIDs:c("immutable").OrderedSet([]),after:c("isTruthy")(b==null?void 0:(e=b.paging)==null?void 0:e.next)?b==null?void 0:(e=b.paging)==null?void 0:(b=e.cursors)==null?void 0:b.after:void 0}})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.sendRequest=function(a,b){var e=a.nameQuery;return c("buildAdAccountImagesRequest")(a,b).go().then(function(a){a.data.length===0&&e!==""&&d("AdsImageDialogPanelUtils").logEmptySearchResult(d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,e);return a})};return b}(c("AdsAssetListBaseDataLoader"));b=new a();g["default"]=b}),98);
__d("AdsAccountImageSourceImageListProviderPlugin",["AdsAccountImageSourceDataLoaderV2","LoadObject","PaginationLoadObjectMap","immutable"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:function(a){return new(c("PaginationLoadObjectMap"))({imageIDs:c("immutable").OrderedSet([]),uploadedImageIDs:c("immutable").OrderedSet([]),after:null},c("AdsAccountImageSourceDataLoaderV2").load,function(b,d){a(function(a){return a.update(b,function(e){return c("LoadObject").withValue({after:d.after,imageIDs:a.get(b).getValueEnforcing().imageIDs.union(d.imageIDs),uploadedImageIDs:a.get(b).getValueEnforcing().uploadedImageIDs.subtract(d.imageIDs)})})})},function(b,c){a(function(a){return a.update(b,function(a){return a.setError(c).done()})})})}};b=a;g["default"]=b}),98);
__d("AdsAccountImageSourceImageListProvider",["AdsAccountImageSourceImageListProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAccountImageSourceImageListProviderPlugin"),"AdsAccountImageSourceImageListProviderPlugin")}),null);
__d("AdsAccountImageSourceImageListLoadMoreAction",["AdsAccountImageSourceImageListLoadMoreReducerPlugin","AdsAccountImageSourceImageListProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAccountImageSourceImageListLoadMoreReducerPlugin"),b("AdsAccountImageSourceImageListProvider"),{},"")]},function(){return[]},"ADS_ACCOUNT_IMAGE_SOURCE_IMAGE_LIST_LOAD_MORE");e.exports=a}),null);
__d("AdsAccountImageSourceSetQueryReducerPlugins",["AdsAllImageSourceQueryUtils","immutable"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return c("immutable").is(b.query,a.query)?a:{query:b.query}}};b={reduce:function(a,b){b=b.query;b=d("AdsAllImageSourceQueryUtils").getAdAccountImagesQuery(b);return b!=null?{query:b}:a}};g.onTriggerInAccountImageSource=a;g.onTriggerInAllImageSource=b}),98);
__d("AdsAccountImageSourceSetQueryAction",["AdsAccountImageSourceSetQueryReducerPlugins","AdsAccountImageSourceStateProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAccountImageSourceSetQueryReducerPlugins").onTriggerInAccountImageSource,b("AdsAccountImageSourceStateProvider"),{},"")]},function(){return[]},"ADS_ACCOUNT_IMAGE_SOURCE_SET_QUERY");e.exports=a}),null);
__d("AdsAccountImageSourceUploadedListProviderPlugin",["immutable"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:{uploadedImageIDs:c("immutable").OrderedSet([])}};b=a;g["default"]=b}),98);
__d("AdsAccountImageSourceUploadedListProvider",["AdsAccountImageSourceUploadedListProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAccountImageSourceUploadedListProviderPlugin"),"AdsAccountImageSourceUploadedListProviderPlugin")}),null);
__d("XAdMediaPreviewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/ad_preview/media/",{instagram_actor_id:{type:"FBID",required:!0},ad_account_id:{type:"Int",required:!0},ad_creative_optimization_type:{type:"Int",required:!0},ad_creative_optimization_option_value:{type:"Int",required:!0},app_store_uri:{type:"String"}})}),null);
__d("AdsAdMediaPreviewDataProviderPlugin",["AdsInterfacesLogger","AsyncTypedRequest","QPLUserFlow","SignalsLaminarHelpers","XAdMediaPreviewController","immutable","qpl","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").Record({instagram_actor_id:null,ad_account_id:null,ad_creative_optimization_type:null,ad_creative_optimization_option_value:null,app_store_uri:null});function a(a){var d,e,f,g,h,i,j,k;return b("regeneratorRuntime").async(function(l){while(1)switch(l.prev=l.next){case 0:d=a.instagram_actor_id,e=a.ad_account_id,f=a.ad_creative_optimization_type,g=a.ad_creative_optimization_option_value,h=a.app_store_uri;c("QPLUserFlow").addPoint(c("qpl")._(270213890,"75"),"IG_END_CARD_DATA_LOADING_START");i=c("XAdMediaPreviewController").getURIBuilder().setFBID("instagram_actor_id",d).setInt("ad_account_id",e).setInt("ad_creative_optimization_type",f).setInt("ad_creative_optimization_option_value",g);h!=null&&i.setString("app_store_uri",h);j=i.getURI();l.next=7;return b("regeneratorRuntime").awrap(new(c("AsyncTypedRequest"))(j).promisePayload());case 7:k=l.sent;c("AdsInterfacesLogger").log({eventName:"ig_profile_card_preview_props_endpoint_invoked",data:{ad_account_id:e,rf_instagram_actor_id:d}});return l.abrupt("return",k);case 10:case"end":return l.stop()}},null,this)}e={initialState:d("SignalsLaminarHelpers").createLoadObjectMap(a,function(a){return h(a)},function(){c("QPLUserFlow").addPoint(c("qpl")._(270213890,"75"),"IG_END_CARD_DATA_LOADING_END")})};f=e;g["default"]=f}),98);
__d("AdsAdMediaPreviewDataProvider",["AdsAdMediaPreviewDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAdMediaPreviewDataProviderPlugin"),"AdsAdMediaPreviewDataProviderPlugin")}),null);
__d("XAdPreviewCreativeOptimizationInfoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/ad_preview/creative_optimization_info/",{privacy_mutation_token:{type:"String"},adaccountid:{type:"Int"},adcreativeoptimizations:{type:"String"},ad_creative_optimization_type:{type:"Int"},ad_creative_optimization_option_value:{type:"Int"},ad_creative_optimization_multi:{type:"IntToIntDict"},adid:{type:"Int"},appid:{type:"Int"},assetlabel:{type:"String"},borderstyle:{type:"String"},clickable:{type:"Bool",defaultValue:!1},creative:{type:"String"},campaign:{type:"String"},campaign_group:{type:"String"},creativeid:{type:"Int"},customplaymode:{type:"Int"},dof_preview_spec:{type:"String"},dynamiccustomization:{type:"String"},editable:{type:"Bool",defaultValue:!1},enable_comment:{type:"Bool",defaultValue:!1},enablemsiteplayvideo:{type:"Bool",defaultValue:!1},enddate:{type:"Int"},formats:{type:"EnumVector",required:!0,enumType:{member:1}},hideufiinmobilefeed:{type:"Bool",defaultValue:!1},hmac:{type:"String"},ad_experience_id:{type:"Int"},imagedata:{type:"String"},preview_parent:{type:"String"},preview_shops_optimizations:{type:"StringToIntDict"},is_dco_preview_with_fixed_index:{type:"Bool",defaultValue:!1},isshared:{type:"Bool",defaultValue:!1},linksharedata:{type:"String"},loadingoverlay:{type:"String"},locale:{type:"String"},place_page_id:{type:"Int"},postdata:{type:"String"},productitemids:{type:"String"},published_adgroup_id:{type:"Int"},render_type:{type:"String"},renderingmode:{type:"String"},skip_disclaimer_for_an:{type:"Bool",defaultValue:!1},startdate:{type:"Int"},suppresslinks:{type:"Bool",defaultValue:!0},use_subscriptions:{type:"Bool",defaultValue:!1},version:{type:"String"},videodata:{type:"String"},videoautoplayable:{type:"Bool",defaultValue:!0},traffic_type:{type:"Enum",defaultValue:"public",enumType:1},request_uuid:{type:"String"},screenshot_test_render_mode:{type:"Enum",enumType:1},selectedPreviewLoadJoinID:{type:"String"},selectedPreviewLoadRequestID:{type:"String"},adsPreviewStickerSpec:{type:"String"}})}),null);
__d("AdsAdPreviewCreativeOptimizationInfoDataProviderPlugin",["AdsAdPreviewDataProviderPluginHelper","AsyncRequest","LoadObject","LoadObjectMap","Promise","QPLUserFlow","WebApiApplication","XAdPreviewCreativeOptimizationInfoController","adsPreviewGetPageletAPIVersion","cancelAnimationFrame","chunkArray","immutable","promiseDone","qpl","regeneratorRuntime","requestAnimationFrame"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=new Map(),k=new Map(),l=3,m=["INSTAGRAM_STORY","INSTAGRAM_STANDARD","MOBILE_FEED_STANDARD"],n=200,o=0,p=function(a,b,d){return d(function(d){return d.set(a,c("LoadObject").withValue(((d=d.get(a).getValue())!=null?d:c("immutable").Map()).merge(b)))})},q=function(a,b,d){var e;e=(e=i.get(a.context))!=null?e:c("immutable").Map();i.set(a.context,e.merge(b));e=j.get(a.context);if(e==null){b=c("requestAnimationFrame")(function(){var b;b=(b=i.get(a.context))!=null?b:c("immutable").Map();p(a,b,d);i["delete"](a.context);j["delete"](a.context)});j.set(a.context,b)}};a={initialState:function(a){return c("LoadObjectMap").createKeyed(function(e){a(function(a){o+=e.size;if(o>n){o=e.size;return a.clear().setLoading(e)}return a.setLoading(e)}),e.forEach(function(e){var f=d("AdsAdPreviewDataProviderPluginHelper").createErrorsKey(e);if(f===k.get(e.context))return;k.set(e.context,f);s(e.context);var g=!1;f=function(b){g||(a(function(a){return a.setKeyStale(b)}),g=!0)};c("promiseDone")(b("Promise").all(r(e,f).map(function(b){return b.then(function(b){c("QPLUserFlow").addPoint(c("qpl")._(270214534,"617"),"CREATIVE_OPTIMIZATION_INFOS_LOADING_END"),q(e,b,a)})})))})},d("AdsAdPreviewDataProviderPluginHelper").createErrorsKey)}};var r=function(a,b){var d=a.placements.filter(function(a){return m.includes(a)});c("QPLUserFlow").addPoint(c("qpl")._(270214534,"617"),"CREATIVE_OPTIMIZATION_INFOS_LOADING_START");return c("chunkArray")(d,l).map(function(c){return t(a,c,b)})},s=function(a){var b;if(a==null)return;b=(b=h.get(a))!=null?b:{};Object.values(b).forEach(function(a){a instanceof c("AsyncRequest")&&a.abort()});i["delete"](a);b=j.get(a);b!=null&&c("cancelAnimationFrame")(b);j["delete"](a);h["delete"](a)},t=function(a,e,f){var g,i,j,k,l;return b("regeneratorRuntime").async(function(m){while(1)switch(m.prev=m.next){case 0:g=c("XAdPreviewCreativeOptimizationInfoController").getURIBuilder().setEnumVector("formats",e).setInt("appid",d("WebApiApplication").getClientID()).setInt("adaccountid",a.adAccountId).setString("version",c("adsPreviewGetPageletAPIVersion")()).setString("request_uuid",a.requestUUID).setString("creative",JSON.stringify(a.creative)).setString("campaign",JSON.stringify(a.campaign)).setString("campaign_group",JSON.stringify(a.campaignGroup));i=g.getURI();j=new(c("AsyncRequest"))(i);m.next=5;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,d){var e,g=(e=h.get(a.context))!=null?e:{};h.set(a.context,g);j.setHandler(function(a){b(a);delete g[j.id];return c("AsyncRequest").suppressOnloadToken}).setErrorHandler(function(a){delete g[j.id],d(a)}).setAbortHandler(function(){delete g[j.id],f(a)}).send();g[j.id]=j}));case 5:k=m.sent;l=k.getPayload();return m.abrupt("return",c("immutable").Map(l));case 8:case"end":return m.stop()}},null,this)};e=a;g["default"]=e}),98);
__d("AdsAdPreviewCreativeOptimizationInfoDataProvider",["AdsAdPreviewCreativeOptimizationInfoDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAdPreviewCreativeOptimizationInfoDataProviderPlugin"),"AdsAdPreviewCreativeOptimizationInfoDataProviderPlugin")}),null);
__d("AdsCreativeContainerImagePickerDataProviderPlugin",["AdsImageSelectorV2Types","immutable"],(function(a,b,c,d,e,f,g){"use strict";a={initialState:{lastUploadedImageID:null,source:d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,selectedItems:c("immutable").OrderedSet()}};b=a;g["default"]=b}),98);
__d("AdsCreativeContainerImagePickerDataProvider",["AdsCreativeContainerImagePickerDataProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCreativeContainerImagePickerDataProviderPlugin"),"AdsCreativeContainerImagePickerDataProviderPlugin")}),null);
__d("AdsCFPOptInSettingReducerPlugin",["AdsAccountSettingsIdProvider","AdsUEditorAdgroupTransformationsGKSelector","AdsUEditorIsEligibleForAutoflowLiteDefaultOnSelectors","AdsUserSettingsDataManager","Laminar","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:d("Laminar").withFluxSelectors({userSettingsID:c("AdsAccountSettingsIdProvider").toFluxSelector(),isEligibleForGBGDefaultOn:d("AdsUEditorIsEligibleForAutoflowLiteDefaultOnSelectors").adsUEditorIsEligibleForSEDefaultOnGBGUnmanagedSelector,isCarouselDefaultStickyOptOut:d("AdsUEditorAdgroupTransformationsGKSelector").isMusicCarouselDefaultStickyOptOutSelector,isSingleImageMainOptIn:d("AdsUEditorAdgroupTransformationsGKSelector").isMusicSingleImageMainOptInChangeSelector,isSingleImageDefaultStickyOptOut:d("AdsUEditorAdgroupTransformationsGKSelector").isMusicSingleImageDefaultStickyOptOutSelector},function(a,b,d){var e=d.userSettingsID;d=d.isEligibleForGBGDefaultOn;e!=null&&(b.enableAutomaticFlow!=null&&c("AdsUserSettingsDataManager").setAutoFlowLiteOptInStatus(e,b.enableAutomaticFlow?"OPTED_IN":"OPTED_OUT",d),c("AdsUserSettingsDataManager").setMusicOnReelsOptIn(e,c("isTruthy")(b.enableMusicDefaultStickyOptInCarousel)?"ON":"OFF",c("isTruthy")(b.enableMusicDefaultStickyOptInSingleImage)?"ON":"OFF"));return a})};b=a;g["default"]=b}),98);
__d("AdsCFPUserActionLoggerPlugins",["AdsCreativeFeaturesLoggerUtils"],(function(a,b,c,d,e,f,g){"use strict";a={log:function(a){var b=a.value?"on":"off";a.adsCFPTransformationState.availableRootLevelStates.forEach(function(c,e){b!==c&&d("AdsCreativeFeaturesLoggerUtils").logCFPPluginToggleChanged(a.adgroupIDs[0],a.value?"OPT_IN":"OPT_OUT",e,"turn_on_all_toggle")})}};b={log:function(a){d("AdsCreativeFeaturesLoggerUtils").logCFPPluginToggleChanged(a.adgroupIDs[0],a.selection,a.tool,"individual_plugin_toggle",a.selection==="selected"?(a=a.changeSet.media_music)==null?void 0:(a=a.selected_audios)==null?void 0:a[0].label:null)}};g.AdsCFPTurnOnAllUserActionLoggerPlugin=a;g.AdsCFPEditPluginToggleUserActionLoggerPlugin=b}),98);
__d("AdsCreativeFeaturesPlatformEditAction",["AdsCFPDataProvider","AdsCFPOptInSettingReducerPlugin","AdsCFPSetChangeSetsReducerPlugin","AdsCFPUserActionLoggerPlugins","AdsUserSettingsProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsCFPOptInSettingReducerPlugin"),b("AdsUserSettingsProvider"),{},""),b("Laminar").__createReducer(b("AdsCFPSetChangeSetsReducerPlugin"),b("AdsCFPDataProvider"),{},"")]},function(){return[b("Laminar").__createLogger("AdsCFPUserActionLoggerPlugins.AdsCFPEditPluginToggleUserActionLoggerPlugin",b("AdsCFPUserActionLoggerPlugins").AdsCFPEditPluginToggleUserActionLoggerPlugin,{})]},"AdsCreativeFeaturesPlatformEditActionPlugin");e.exports=a}),null);
__d("AdsCFPToolDefault",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a={normal:d("fbicon")._(h("496945"),16)};g.adsCFPTransformationToolDefaultIcon=a}),98);
__d("AdsCFPTransformationToolConstants",["fbt","ix","fbicon","immutable"],(function(a,b,c,d,e,f,g,h,i){"use strict";a=h._("All optimizations");b=h._("Turn on bundle");e=h._("Turn off bundle");f=h._("Partially on");var j=h._("Turn on"),k=h._("Turn off"),l=h._("Please select a bundle or optimization feature on the left to see how the optimization may benefit the ads appearance."),m=h._("Unnamed optimization"),n=h._("Individual features"),o=h._("Bundled features"),p=h._("Debug (FB only)"),q=h._("Adgroup Spec"),r=h._("CFP Provider"),s=h._("Ad rendering and interaction may vary based on device, format, and other factors."),t=h._("Advantage+ creative will be turned off"),u=h._("This placement is required for ads optimized with Advantage+ creative."),v=h._("This platform is required for ads optimized with Advantage+ creative."),w=h._("Not optimized"),x=h._("Partially optimized"),y=h._("Fully optimized"),z=h._("Original"),A=h._("Optimized"),B=h._("We'll automatically create variations of your ad and dynamically deliver them based on what our data predicts will improve performance. Your creative inputs, ad setup and placement selections determine which variations we automatically create."),C=c("immutable").Map({subHeader:c("immutable").List([h._("How does it work?")]),items:c("immutable").List([h._("Add an image or video and a variety of text options."),h._("We\u2019ll automatically create variations of your ad with the different creative features included in this bundle."),h._("Based on our data, we\u2019ll show each person the variation we think they\u2019ll best respond to.")])}),D=h._("Dynamic experiences"),E=h._("Advantage+ creative"),F=h._("Enhancement bundle"),G=h._("Standard enhancements"),H=h._("Standard enhancements (recommended)"),I=E;d={normal:d("fbicon")._(i("494830"),16)};i=h._("Businesses have seen a decrease in cost per result by using standard enhancements.");var J=h._("Ads with this campaign objective have seen a 3\u0025 lower cost per result with standard enhancements."),K=h._("The analysis results are based on one-month of scaled experiment data on 54,834 ad sets during Jul 17,2021 - Aug 1,2021 and Aug 25,2021 - Sept 6,2021, where the eligible ad sets had a conversion type of Link Clicks, Landing Page Views, or Offsite Conversions, had liquidity enabled, and also had revenue balance between control and test."),L=h._("We will apply a basic set of enhancements to optimize your ad creative and improve performance.");c=c("immutable").Map({subHeader:c("immutable").List(),text:c("immutable").List([h._("This can include things like automatically adjusting the aspect ratio of your image or video, applying a template to your image to help it better fit certain ad placements or displaying relevant Facebook comments below your ad.")])});var M=h._("Personalize your ad by letting us automatically optimize your creative. We\u2019ll deliver the ad creative most likely to improve performance."),N=h._("Tailor your ad for the person viewing it by letting us automatically optimize your creative. This can help improve performance."),O=h._("We will apply a basic set of enhancements to optimize your ad creative and improve performance."),P=h._("Try standard enhancements"),Q=h._("Turn on standard enhancements"),R=h._("Preview standard enhancements"),S=h._("Video highlight"),T=h._("Vary video aspect ratio"),U=h._("3D animation"),V=h._("Image brightness & contrast"),W=h._("Vary image aspect ratio"),X=h._("Image templates for Feed"),Y=h._("Facebook comments"),Z=h._("We will show either the original or cropped version of your video depending on which is more likely to improve performance."),$=h._("We will display the most relevant Facebook comment below your ad when likely to improve performance."),aa=h._("We will adjust the brightness and contrast of your image when likely to improve performance."),ba=h._("We will show either the original or cropped version of your image depending on which is more likely to improve performance."),ca=h._("We will use a set of templates designed to help your image fit Feed placements when likely to improve performance."),da=h._("We will add 3D motion and depth to your image when likely to improve performance."),ea=h._("Maintain your ad performance"),fa=h._("Optimize your ad with minor adjustments"),ga=h._("Improve your ad performance by 4\u0025 with standard enhancements"),ha=h._("Optimizations"),ia=h._("Turn on optimizations for your ad creative"),ja=h._("Advantage+ creative is not available for one or more of the ads you\u2019re editing.");h=h._("Advantage+ creative is not compatible with some of the ad formats you're editing.");g.ALL_OPTIMIZATIONS=a;g.TOGGLE_BUNDLE_ON_LABEL=b;g.TOGGLE_BUNDLE_OFF_LABEL=e;g.BUNDLE_PARTIALLY_ON_STATE=f;g.TOGGLE_TRANSFORMATION_ON_LABEL=j;g.TOGGLE_TRANSFORMATION_OFF_LABEL=k;g.NO_CREATIVE_FEATURE_SELECTION_GUIDANCE=l;g.UNNAMED_CREATIVE_FEATURE_TRANSFORMATION=m;g.INDIVIDUAL_FEATURES=n;g.BUNDLED_FEATURES=o;g.DEBUG_HEADER=p;g.DEBUG_TAB_ADGROUP_SPEC=q;g.DEBUG_TAB_CFP_PROVIDER=r;g.CFP_PREVIEW_FALLBACK_DISCLAIMER=s;g.EXIT_DIALOG_HEADER=t;g.EXIT_DIALOG_PLACEMENT_BODY=u;g.EXIT_DIALOG_PLATFORM_BODY=v;g.OPTIMZATION_STATE_NOT_OPTIMIZED=w;g.OPTIMZATION_STATE_PARTIALLY_OPTIMIZED=x;g.OPTIMZATION_STATE_FULLY_OPTIMIZED=y;g.EXAMPLE_ORIGINAL=z;g.EXAMPLE_OPTIMIZED=A;g.DE_OPTIMIZATION_DESCRIPTION=B;g.DE_OPTIMIZATION_EXTRA_DESCRIPTION=C;g.DYNAMIC_EXPERIENCES_TOGGLE_LABEL=D;g.ADVANTAGE_PLUS_CREATIVE_TOGGLE_LABEL=E;g.ENHANCEMENT_BUNDLE_TOGGLE_LABEL=F;g.STANDARD_ENHANCEMENTS_TOGGLE_LABEL=G;g.STANDARD_ENHANCEMENTS_RECOMMENDED_TOGGLE_LABEL=H;g.DE_OPTIMIZATION_LABEL=I;g.DE_OPTIMIZATION_ICON=d;g.STANDARD_ENHANCEMENTS_CFP_GENERAL_OPT_OUT_MESSAGE=i;g.STANDARD_ENHANCEMENTS_CFP_SPECIFIC_OPT_OUT_MESSAGE=J;g.STANDARD_ENHANCEMENTS_CFP_SPECIFIC_OPT_OUT_MESSAGE_TOOLTIP=K;g.STANDARD_ENHANCEMENTS_CFP_PLUGIN_DESCRIPTION=L;g.STANDARD_ENHANCEMENTS_CFP_PLUGIN_EXTRA_DESCRIPTION=c;g.CFP_TOGGLE_DESCRIPTION_1=M;g.CFP_TOGGLE_DESCRIPTION_2=N;g.ADVANTAGE_PLUS_CREATIVE_TOGGLE_DESCRIPTION=O;g.SEE_HOW_IT_WORKS_EDUCATIONAL_MODAL_CTA=P;g.SEE_HOW_IT_WORKS_EDUCATIONAL_MODAL_CTA_2=Q;g.CFP_PREVIEW_INTRO_CARD_HEADER=R;g.VIDEO_HIGHLIGHT_LABEL=S;g.VIDEO_AUTO_CROP_LABEL=T;g.CV_TRANSFORMATION_LABEL=U;g.IMAGE_ENHANCEMENT_LABEL=V;g.IMAGE_AUTO_CROP_LABEL=W;g.IG_GLADOS_FEED_LABEL=X;g.INLINE_COMMENT_LABEL=Y;g.VIDEO_AUTO_CROP_DESCRIPTION=Z;g.INLINE_COMMENT_DESCRIPTION=$;g.IMAGE_ENHANCEMENT_DESCRIPTION=aa;g.IMAGE_AUTO_CROP_DESCRIPTION=ba;g.IG_GLADOS_FEED_DESCRIPTION=ca;g.CV_TRANSFORMATION_DESCRIPTION=da;g.STANDARD_ENHANCEMENTS_SUBTITLE_FEAR_LOSING_OUT=ea;g.STANDARD_ENHANCEMENTS_SUBTITLE_FEAR_LOSING_CONTROL=fa;g.STANDARD_ENHANCEMENTS_SUBTITLE_HIGH_PERF=ga;g.OPTIMIZATION=ha;g.OPTIMIZATION_STATE_BULK_EDIT_NOT_OPTIMIZED=ia;g.ADGROUP_BULK_ADVANTAGE_CREATIVE_INELIGIBLE=ja;g.ADGROUP_BULK_ADVANTAGE_CREATIVE_TOOLTIP=h}),98);
__d("AdsCFPToolToggleUtils",["fbt","AdsCFPTransformationToolConstants"],(function(a,b,c,d,e,f,g,h){"use strict";var i=Object.freeze({on:{selected:!0,actionLabel:d("AdsCFPTransformationToolConstants").TOGGLE_BUNDLE_OFF_LABEL,stateLabel:h._("On")},off:{selected:!1,actionLabel:d("AdsCFPTransformationToolConstants").TOGGLE_BUNDLE_ON_LABEL,stateLabel:h._("Off")},relative:{selected:!1,actionLabel:d("AdsCFPTransformationToolConstants").TOGGLE_BUNDLE_ON_LABEL,stateLabel:h._("Off")}});function a(a){return i[a]}var j=Object.freeze({on:{selected:!0,actionLabel:d("AdsCFPTransformationToolConstants").TOGGLE_TRANSFORMATION_OFF_LABEL,stateLabel:h._("On")},off:{selected:!1,actionLabel:d("AdsCFPTransformationToolConstants").TOGGLE_TRANSFORMATION_ON_LABEL,stateLabel:h._("Off")},relative:{selected:!1,actionLabel:d("AdsCFPTransformationToolConstants").TOGGLE_TRANSFORMATION_ON_LABEL,stateLabel:h._("Off")}});function b(a){return j[a]}var k=Object.freeze({on:{visible:!0,label:h._("On")},off:{visible:!1,label:h._("Off")},relative:{visible:!1,label:d("AdsCFPTransformationToolConstants").BUNDLE_PARTIALLY_ON_STATE}});function c(a){return k[a]}g.cfpBundleToggleAppearanceByToolState=i;g.getBundleToggleAppearance=a;g.cfpTransformationAppearanceByToolState=j;g.getTransformationToggleAppearance=b;g.cfpTransformationReadOnlyAppearanceByToolState=k;g.getTransformationStateAppearance=c}),98);
__d("AdsCFPTransformationListItem.react",["ix","AdsCFPToolDefault","AdsCFPToolToggleUtils","AdsCFPTransformationToolConstants","GeoFlexbox.react","GeoIcon.react","GeoPill.react","GeoText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={root:{width:"xh8yej3",paddingTop:"x123j3cw",paddingEnd:"x1mpkggp",paddingBottom:"xs9asl8",paddingStart:"x1t2a60a"},content:{marginEnd:"x1t4t16n"}};function a(a){var b=a.toolState,e=a.icon;b=d("AdsCFPToolToggleUtils").getTransformationStateAppearance(b);return i.jsxs(c("GeoFlexbox.react"),{alignItems:"center",xstyle:j.root,children:[i.jsx(c("GeoFlexbox.react"),{grow:0,xstyle:j.content,children:i.jsx(c("GeoIcon.react"),{icon:((e=e)!=null?e:d("AdsCFPToolDefault").adsCFPTransformationToolDefaultIcon).normal})}),i.jsx(c("GeoFlexbox.react"),{grow:1,xstyle:j.content,children:i.jsx(c("GeoText.react"),{display:"block",maxLines:1,children:(e=a.label)!=null?e:d("AdsCFPTransformationToolConstants").UNNAMED_CREATIVE_FEATURE_TRANSFORMATION})}),b.visible&&i.jsx(c("GeoFlexbox.react"),{grow:0,children:i.jsx(c("GeoPill.react"),{label:b.label,value:b.label})}),i.jsx(c("GeoFlexbox.react"),{grow:0,xstyle:j.content,children:i.jsx(c("GeoIcon.react"),{icon:d("fbicon")._(h("492533"),16)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AdsCreativeFeatureLoggingWrapper.react",["AdsCreativeFeaturesLoggerUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){i(function(){d("AdsCreativeFeaturesLoggerUtils").mayLogCreativeFeaturesImpression(a.adgroupIDs,a.adCreativeOptimizationType)});return h.jsx(h.Fragment,{children:a.children})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AdsOptimizationToolTransformationGroup",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Enhancements","PostModalOptmizations","CreativeFeaturePlatform"]);c=a;f["default"]=c}),66);
__d("AdsCFPOptimizationAvailabilityHelperSelectors",["AdsAccountQESelectors","AdsAdgroupImageUtils","AdsAdgroupSpecUtils","AdsCampaignRecordAccessors","AdsUEditorSelectors","adsCreateSelector","adsCurrentUEditorAdgroupSelector","adsGetUniformValueSelector","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h=c("AdsAccountQESelectors")._("18a4I5VmQ:3Sdm3r70fVe",{},{def:!1,log:!1});function a(a){return c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").targeting.instagram_positions.get))],function(b){return!!(b==null?void 0:b.contains(a))},{name:f.id})}function b(a){return c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").targeting.instagram_positions.get))],function(b){return Array.from(a.keys()).some(function(a){return!!(b==null?void 0:b.contains(a))})},{name:f.id})}function e(a){return c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").targeting.facebook_positions.get))],function(b){return!!(b==null?void 0:b.contains(a))},{name:f.id})}var i=c("adsCreateSelector")([c("adsCurrentUEditorAdgroupSelector")],function(a){return!c("isStringNullOrEmpty")(d("AdsAdgroupImageUtils").getImageHash(a))},{name:f.id+".isImageHashBasedSelector"}),j=c("adsCreateSelector")([c("adsCurrentUEditorAdgroupSelector")],function(a){return d("AdsAdgroupSpecUtils").getDoesAdgroupHaveVideos(a)},{name:f.id+".isVideoAdsSelector"}),k=c("adsCreateSelector")([c("adsCurrentUEditorAdgroupSelector")],function(a){return d("AdsAdgroupSpecUtils").getDoesAdgroupHaveImages(a)},{name:f.id+".isImageAdsSelector"});g.passIsEligibleForCFPDebundleQESelector=h;g.isInstagramPlacementEnabledSelector=a;g.areInstagramPlacementsEnabledSelector=b;g.isFacebookPlacementEnabledSelector=e;g.isImageHashBasedSelector=i;g.isVideoAdsSelector=j;g.isImageAdsSelector=k}),98);
__d("adsUEditorAdgroupCVTransformationSelector",["AdsCFPOptimizationAvailabilityHelperSelectors","adsCreateAdAccountGKSelector","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";a=new Set(["story","stream","reels"]);b=c("adsCreateSelector")([d("AdsCFPOptimizationAvailabilityHelperSelectors").areInstagramPlacementsEnabledSelector(a),d("AdsCFPOptimizationAvailabilityHelperSelectors").isImageAdsSelector,c("adsCreateAdAccountGKSelector")._("58NyERkxU")],function(a,b,c){return a&&b&&c},{name:f.id+".adsUEditorAdgroupCVTransformationSelector"});g.adsUEditorAdgroupCVTransformationSelector=b}),98);
__d("AdsCVTransformationOptimizationToolPlugin",["ix","AdsCFPTransformationListItem.react","AdsCFPTransformationToolConstants","AdsCreativeFeatureLoggingWrapper.react","AdsCreativeFeaturesPlatformMutators","AdsCreativeFeaturesUtils","AdsCreativeOptimizationToolChangeSetRecord","AdsOptimizationToolTransformationGroup","JSResource","adsUEditorAdgroupCVTransformationSelector","fbicon","immutable","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={cv_transformation:{enroll_status:"OPT_OUT"}},k={normal:d("fbicon")._(h("1087814"),16)},l=c("lazyLoadComponent")(c("JSResource")("AdsCFPCVTransformationPreview.react").__setRef("AdsCVTransformationOptimizationToolPlugin"));a={type:"creative/optimizationTools",key:"cvTransformation",description:d("AdsCFPTransformationToolConstants").CV_TRANSFORMATION_DESCRIPTION,icon:k,label:d("AdsCFPTransformationToolConstants").CV_TRANSFORMATION_LABEL,getIsAvailableSelectorCFPModal:d("adsUEditorAdgroupCVTransformationSelector").adsUEditorAdgroupCVTransformationSelector,transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform]),getCFPAffectedPlacements:function(){return c("immutable").List(["previews/instagram_story","previews/instagram_stream","previews/instagram_reels"])},getAppliedChangeSetFromAdgroup:function(a){return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(j)},getCFPGenericChangeSet:function(a){a={cv_transformation:{enroll_status:a?"OPT_IN":"OPT_OUT"}};return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(a)},updateCFPGloabalChangeSet:function(a,b){return b.cv_transformation!=null?a.set("cv_transformation",b.cv_transformation):a},FieldComponentCFP:function(a){var b=a.adgroupIDs;a=a.toolState;return i.jsx(c("AdsCreativeFeatureLoggingWrapper.react"),{adCreativeOptimizationType:[122],adgroupIDs:b,children:i.jsx(c("AdsCFPTransformationListItem.react"),{icon:k,label:d("AdsCFPTransformationToolConstants").CV_TRANSFORMATION_LABEL,toolState:a})})},isOptedInFromAdgroup:function(a){return d("AdsCreativeFeaturesUtils").isCVTransformationOptedInFromAdgroup(a)},convertAdgroupToChangeSet:function(a,b){a=d("AdsCreativeFeaturesUtils").isCVTransformationOptedInFromAdgroup(a);if(a){a={enroll_status:"OPT_IN"};return b.set("cv_transformation",a)}return b},mutateAdgroupCFP:function(a,b){return d("AdsCreativeFeaturesPlatformMutators").mutateAdgroupForCVTransformation(a,b)},PreviewComponentCFP:function(){return i.jsx(l,{})},getOptInStatusFromChangeSet:function(a){return(a=a.cv_transformation)==null?void 0:a.enroll_status}};b=a;g["default"]=b}),98);
__d("adsUEditorAdgroupDynamicExperienceSelector",["AdsCreativeFeaturesPlatfromUtils","adsCreateSelector","adsUEditorAccountSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAccountSelector")],function(a){return d("AdsCreativeFeaturesPlatfromUtils").passIsEligibleForCFPQE(a,!0)&&!d("AdsCreativeFeaturesPlatfromUtils").passIsEligibleForCFPDebundleQE(a,!0)},{name:f.id+".adsUEditorAdgroupDynamicExperienceSelector"});b=a;g["default"]=b}),98);
__d("AdsDEOptimizationToolPlugin",["AdsAssetFeedUtils","AdsCFPTransformationListItem.react","AdsCFPTransformationToolConstants","AdsCreativeFeaturesPlatformMutators","AdsCreativeOptimizationToolChangeSetRecord","AdsOptimizationToolTransformationGroup","adsUEditorAdgroupDynamicExperienceSelector","immutable","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={dynamic_experience:{enroll_status:"OPT_IN"}};a={type:"creative/optimizationTools",key:"dynamicExperiences",description:d("AdsCFPTransformationToolConstants").STANDARD_ENHANCEMENTS_CFP_PLUGIN_DESCRIPTION,extraDescription:d("AdsCFPTransformationToolConstants").STANDARD_ENHANCEMENTS_CFP_PLUGIN_EXTRA_DESCRIPTION,icon:d("AdsCFPTransformationToolConstants").DE_OPTIMIZATION_ICON,label:d("AdsCFPTransformationToolConstants").STANDARD_ENHANCEMENTS_TOGGLE_LABEL,transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform]),hasOptOutMessage:!0,mutateAdgroupCFP:function(a,b,c){return d("AdsCreativeFeaturesPlatformMutators").mutateAdgroupForDynamicExperience(a,b,c)},getIsAvailableSelectorCFPModal:c("adsUEditorAdgroupDynamicExperienceSelector"),getAppliedChangeSetFromAdgroup:function(a){return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(i)},getCFPGenericChangeSet:function(a){a={dynamic_experience:{enroll_status:a?"OPT_IN":"OPT_OUT"}};return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(a)},FieldComponentCFP:function(a){a=a.toolState;return h.jsx(c("AdsCFPTransformationListItem.react"),{icon:d("AdsCFPTransformationToolConstants").DE_OPTIMIZATION_ICON,label:d("AdsCFPTransformationToolConstants").STANDARD_ENHANCEMENTS_TOGGLE_LABEL,toolState:a})},updateCFPGloabalChangeSet:function(a,b){return b.dynamic_experience!=null?a.set("dynamic_experience",b.dynamic_experience):a},isOptedInFromAdgroup:function(a){return d("AdsAssetFeedUtils").isAutomaticFlowLiteAdgroup(a)},getOptInStatusFromChangeSet:function(a){return(a=a.dynamic_experience)==null?void 0:a.enroll_status},getStatusFromAdgroupSpec:function(a){return a.map(function(a){return(a=a.creative)==null?void 0:(a=a.degrees_of_freedom_spec)==null?void 0:(a=a.creative_features_spec)==null?void 0:(a=a.standard_enhancements)==null?void 0:a.enroll_status}).map(function(a){return a==="OPT_IN"})},convertAdgroupToChangeSet:function(a,b){a=d("AdsAssetFeedUtils").isAutomaticFlowLiteAdgroup(a);if(a){a={enroll_status:"OPT_IN"};return b.set("dynamic_experience",a)}return b}};b=a;g["default"]=b}),98);
__d("AdsDynamicHandleBrandedContentPreviewSection.react",["AdsDynamicHandleBrandedContentConstants","AdsFluxHooks","AdsInstagramFeedAdPreview.react","AdsInstagramStoryAdPreview.react","AdsLabeledField.react","AdsUEditorHooks","AdsUseExistingPostModalConstants","AdsUseExistingPostModalOnTabChangeDataProvider","GeoDivider.react","GeoFlexbox.react","GeoText.react","adsUEditorAdgroupBrandedContentInstagramAccountFieldSelector","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={box:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha"},previewContainer:{overflowY:"x1rife3k"}};function j(a){return h.jsx("div",babelHelpers["extends"]({className:c("stylex")(i.box)},a))}j.displayName=j.name+" [from "+f.id+"]";a=function(a){var b={identityData:{brandedContentSponsorName:a.sponsorUsername,profilePictureUrl:a.creatorProfilePic,profileName:a.creatorUsername,isBrandedContent:!0}};b=babelHelpers["extends"]({},a.basePreviewProps,b);var e=d("AdsUEditorHooks").useUEditorAdgroupContext(),f=d("AdsFluxHooks").useAdsSelector(c("AdsUseExistingPostModalOnTabChangeDataProvider").toFluxSelector(),e,e);e=d("AdsFluxHooks").useAdsSelector(d("adsUEditorAdgroupBrandedContentInstagramAccountFieldSelector").isBrandedContentCreatorInlineSelector,e,e);var g={identityData:{brandedContentSponsorName:a.creatorUsername,profilePictureUrl:a.sponsorProfilePic,profileName:a.sponsorUsername,hideUsername:!0,isBrandedContent:!0}};g=babelHelpers["extends"]({},a.basePreviewProps,g);var k=h.jsx(c("AdsInstagramFeedAdPreview.react"),{newProps:b}),l=h.jsx(c("AdsInstagramFeedAdPreview.react"),{newProps:g});if(a.is_story===!0){a=babelHelpers["extends"]({newProps:b},b);b=babelHelpers["extends"]({newProps:g},g);k=h.jsx(c("AdsInstagramStoryAdPreview.react"),babelHelpers["extends"]({},a));l=h.jsx(c("AdsInstagramStoryAdPreview.react"),babelHelpers["extends"]({},b))}return h.jsxs("div",{"data-testid":void 0,children:[h.jsx("div",{className:c("stylex")([c("geoMargin").top16,c("geoMargin").horiz16]),children:h.jsx(c("AdsLabeledField.react"),{label:d("AdsDynamicHandleBrandedContentConstants").DHA_CONSTANTS.PREVIEW_HEADER,children:h.jsx(c("GeoText.react"),{display:"block",children:f.postModalTabState===d("AdsUseExistingPostModalConstants").NAV_TAB_TYPE.INSTAGRAM||e===!0?d("AdsDynamicHandleBrandedContentConstants").DHA_CONSTANTS.CREATOR_BOOST_PREVIEW_SUBHEADER:d("AdsDynamicHandleBrandedContentConstants").DHA_CONSTANTS.PREVIEW_SUBHEADER})})}),h.jsx(c("GeoDivider.react"),{xstyle:c("geoMargin").bottom8}),h.jsxs(c("GeoFlexbox.react"),{xstyle:i.previewContainer,children:[h.jsx(j,{children:k}),h.jsx(j,{children:l})]})]})};b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("AdsDynamicHandleOptimizationToolPreviewUtils",["fbt","CallToActionTypes"],(function(a,b,c,d,e,f,g,h){"use strict";var i={callToActionType:c("CallToActionTypes").LEARN_MORE,cta:h._("Learn more").toString()};function j(a){return{imageMediaData:{height:500,imageURL:a,width:500},videoMediaData:null}}function k(a){return{imageMediaData:null,videoMediaData:{videoID:null,videoURL:a,videoSubtitleURL:null,videoSubtitleOffset:null,isLongVideo:null,isLoopVideo:!0}}}function l(a){if(a!=null){a=a.map(function(a){return a.type==="video"?k(a.media_url):j(a.media_url)});return{mediaDataCells:a}}return{mediaDataCells:[]}}function m(a){var b=(a==null?void 0:a.type)==="video";return{mediaDataCells:[b?k(a==null?void 0:a.video_url):j(a==null?void 0:a.picture)]}}function n(a,b){var c;return{checkoutSetting:"off",id:a.product_id,imageURI:b.image_url,name:(c=b==null?void 0:b.name)!=null?c:"",hasCoordinates:a.has_coordinates,positionX:a.x,positionY:a.y,priceLabel:(c=b==null?void 0:b.price)!=null?c:"",salePriceLabel:null}}function o(a){var b,c=[];a==null?void 0:(b=a.product_tags)==null?void 0:(b=b.data)==null?void 0:b.forEach(function(b){var d,e=b.product_id;if(e==null)return;d=a==null?void 0:(d=a.tagged_products)==null?void 0:d.data.find(function(a){return a.id===e.toString()});d!=null&&c.push(n(b,d))});return c}function p(a){return a.map(function(a){return{id:a.id,imageURI:a.image_uri,name:a.name,priceLabel:a.price_label,salePriceLabel:a.sale_price_label,checkoutSetting:a.checkout_setting}})}function q(a){var b=o(a),c=[];if(a.type==="carousel"){var d;a==null?void 0:(d=a.children_media)==null?void 0:d.forEach(function(a){a=o(a);c.push(a)})}else b=[b];d=[].concat(b,c);return a.has_product_tags&&a.related_product_tags!=null?{productTags:d,relatedProductTags:new Array(a.type==="carousel"&&a.children_media!=null?a.children_media.length:1).fill(p(a.related_product_tags))}:null}function a(a){var b;b={version:"v2",callToActionData:{callToActionDataCells:new Array(a.type==="carousel"&&a.children_media!=null?a.children_media.length:1).fill(i),disclaimerCTAData:null},commonData:{adType:(a==null?void 0:a.type)==="carousel"?"carousel":"single_media",apiAdFormat:(a==null?void 0:a.is_story)===!0?"INSTAGRAM_STORY":"INSTAGRAM_STANDARD"},textData:{primaryText:(b=a==null?void 0:a.caption)!=null?b:"",headlines:null},mediaData:(a==null?void 0:a.type)==="carousel"?l(a==null?void 0:a.children_media):m(a),identityData:{brandedContentSponsorName:"",isPageBacked:!1,profileName:"",profilePictureUrl:""},perceptualHashResult:null,productListData:null,shoppingProductTagsCollectionsData:q(a)};return b}function r(a){var b;return{mediaDataCells:[a.type==="video"?k((b=a.asset.download_hd_url)!=null?b:""):j((a=(b=a.asset.value)==null?void 0:b.url)!=null?a:"")]}}function s(){return{mediaDataCells:[j("/images/ads/ads_manager/dha-stock-image.png")]}}function b(a){a={version:"v2",callToActionData:{callToActionDataCells:new Array(1).fill(i),disclaimerCTAData:null},commonData:{adType:"single_media",apiAdFormat:"INSTAGRAM_STANDARD"},textData:{primaryText:"",headlines:null},mediaData:r(a),identityData:{brandedContentSponsorName:"",isPageBacked:!1,profileName:"",profilePictureUrl:""},perceptualHashResult:null,productListData:null};return a}function d(){var a={version:"v2",callToActionData:{callToActionDataCells:new Array(1).fill(i),disclaimerCTAData:null},commonData:{adType:"single_media",apiAdFormat:"INSTAGRAM_STANDARD"},textData:{primaryText:"",headlines:null},mediaData:s(),identityData:{brandedContentSponsorName:"",isPageBacked:!1,profileName:"",profilePictureUrl:""},perceptualHashResult:null,productListData:null};return a}g.updatePreviewPropertySpec=a;g.generateInlinePreviewPropertySpec=b;g.generateInlinePreviewPropertySpecWithDefaultPreview=d}),98);
__d("AdsDynamicHandleInlineBrandedContentPreviewContainer.react",["AdsDynamicHandleBrandedContentPreviewSection.react","AdsDynamicHandleOptimizationToolPreviewUtils","AdsFluxHooks","AdsUEditorHooks","GeoFlexbox.react","GeoSpinner.react","adsUEditorAdgroupIGBCIdentityDetailsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){a=a.post;var b=d("AdsUEditorHooks").useUEditorAdgroupContext();b=d("AdsFluxHooks").useAdsSelector(d("adsUEditorAdgroupIGBCIdentityDetailsSelectors").adsUEditorAdgroupIGBCInlineUsersIdentityDetailsSelector,b,b);if(b==null)return null;else if(b==null?void 0:b.isLoading())return h.jsx(c("GeoFlexbox.react"),{alignItems:"center",grow:1,justifyContent:"center",children:h.jsx(c("GeoSpinner.react"),{center:!0})});b=b.getValueEnforcing();var e=b.creatorUsername,f=b.creatorProfilePic,g=b.sponsorUsername;b=b.sponsorProfilePic;return h.jsx(c("AdsDynamicHandleBrandedContentPreviewSection.react"),{basePreviewProps:d("AdsDynamicHandleOptimizationToolPreviewUtils").generateInlinePreviewPropertySpec(a),creatorProfilePic:f,creatorUsername:e,is_story:!1,sponsorProfilePic:b,sponsorUsername:g})};b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("AdsDynamicHandleInlineOptimizationToolPlugin",["AdsAdgroupRecordAccessors","AdsBrandedContentDynamicHandleUtils","AdsDynamicHandleBrandedContentConstants","AdsDynamicHandleInlineBrandedContentPreviewContainer.react","AdsInterfacesLogger","AdsOptimizationToolTransformationGroup","AdsUEditorSelectors","GeoCheckboxInput.react","adsCreateSelector","adsGetUniformValueSelector","adsUEditorAdgroupBrandedContentInstagramAccountFieldSelector","geoMargin","immutable","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={highlight:{backgroundColor:"xqjfwa5"},padding:{paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l"}};a=c("adsCreateSelector")([d("adsUEditorAdgroupBrandedContentInstagramAccountFieldSelector").isBrandedContentInlineCreationSelector,c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.branded_content_boosting_type.get),null),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec.ad_handle_type.get),null),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").id.get),"0")],function(a,b,c,d){return{isBrandedContentInline:a,boostType:b,currentDHAValue:c,adId:d}},{name:f.id+".extraDataSelector"});b={type:"creative/optimizationTools",key:"dynamicHandleInlineOptimization",transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").Enhancements]),isAvailableSelector:d("adsUEditorAdgroupBrandedContentInstagramAccountFieldSelector").adsUEditorIsDHAOptimizationAvailableSelector,extraDataSelector:a,isAvailableSF:function(a){return!0},mutateAdgroup:function(a,b,d,e){c("AdsInterfacesLogger").log({eventName:"dynamic_handle_ads_modified_checkbox",data:(b={},b.adgroup_id=e.adId,b.is_enabled=!!d,b.subsequent_data=e.boostType,b)});return c("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec.ad_handle_type.set(d?"DYNAMIC":"ORIGINAL",a)},FieldComponentSF:function(a){var b=a.changeSet,e=a.disableTooltip,f=a.extraData,g=a.isDisabled,j=a.onChange;a=a.highlight;if(f==null?void 0:f.isBrandedContentInline){var k;c("AdsInterfacesLogger").log({eventName:"dynamic_handle_ads_saw_checkbox",data:(k={},k.adgroup_id=f.adId,k.subsequent_data=f.boostType,k)});return h.jsx("div",{className:c("stylex")(c("geoMargin").bottom16),children:h.jsx("div",{className:c("stylex")(i.padding,a===!0&&i.highlight),children:h.jsx(c("GeoCheckboxInput.react"),{"data-testid":void 0,disabledMessage:e,isDisabled:g,label:d("AdsDynamicHandleBrandedContentConstants").DHA_CONSTANTS.CHECKBOX_TEXT,value:b===!0&&f.currentDHAValue!=="ORIGINAL",onChange:function(a){j(a),d("AdsBrandedContentDynamicHandleUtils").onDHACheckboxClickLog(a)}})})})}return null},PreviewComponentSF:function(a){var b;return a.assetType==null||((b=a.assetType)==null?void 0:b.type)==="post"||a.assetType.type==="localVideo"?null:h.jsx(c("AdsDynamicHandleInlineBrandedContentPreviewContainer.react"),{post:a.assetType})},initChangeSetSF:function(a){return a.isBrandedContentInline===!0},getAppliedChangeSetFromAdgroup:function(a){return null}};e=b;g["default"]=e}),98);
__d("AdsAutomaticFlowLitePreviewFeedbackStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";b=h._("Your feedback was sent");c=h._("It'll be used to help improve this optimization.");d=h._("Your feedback was not sent");e=h._("Something went wrong and your feedback was not sent. Please try again later.");f=h._("I like the way this example looks.");var i=h._("I do not like the way this example looks."),j=function(a,b,c){c===void 0&&(c=null);return h._("Example {Current preview index number, starts from 1} of {Total number of preview variations}{Optimization label}",[h._param("Current preview index number, starts from 1",a),h._param("Total number of preview variations",b),h._param("Optimization label",c)])},k=h._(": Original"),l=h._(": Optimized"),m=h._(": Text combinations"),n=h._(": Media enhancements"),o=h._(": Compositional changes"),p=h._(": Vary image aspect ratio"),q=h._(": Vary video aspect ratio"),r=h._(": Image templates for Feed");function a(a,b,c,d){if(d)if(d===52||d===32)return j(a,b,p);else if(d===93)return j(a,b,r);else if(d===154||d===67)return j(a,b,q);var e;switch(c){case"text_combinations":e=m;break;case"media_enhancements":e=n;break;case"compositional_changes":e=o;break;case"other":break}return j(a,b,e)}var s=h._("Let us know how we can improve the optimization shown in this preview example."),t=h._("Let us know how we can improve the optimization shown in this preview example. Provide specific examples like, \"My text doesn't make sense in this order.\""),u=h._("Let us know how we can improve the optimization shown in this preview example. Provide specific examples like, \"This crop cuts off an important part of my image.\""),v=h._("Let us know how we can improve the optimization shown in this preview example. Provide specific examples like, \"The Facebook comment being displayed isn't relevant to my ad.\"");g.toastSuccessTitle=b;g.toastSuccessBodyText=c;g.toastErrorTitle=d;g.toastErrorBodyText=e;g.posFeedbackTooltipText=f;g.negFeedbackTooltipText=i;g.pillContentText=j;g.pillContentWithOriginal=k;g.pillContentWithOptimization=l;g.pillContentWithTextCombinations=m;g.pillContentWithMediaEnhancements=n;g.pillContentWithCompositionalChanges=o;g.pillContentWithImageAutoCrop=p;g.pillContentWithVideoAutoCrop=q;g.pillContentWithFeedGlados=r;g.pillContentWithOptimizationLabel=a;g.modalPlaceholderText=s;g.modalPlaceholderTextWithTextCombinations=t;g.modalPlaceholderTextWithMediaEnhancements=u;g.modalPlaceholderTextWithCompositionalChanges=v}),98);
__d("AdsCarouselNavigationButton.react",["fbt","ix","GeoButton.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k="-";function a(a){if(a==null)return;for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return[a].concat(c).join(k)}function b(a){var b=a["data-testid"];b=a.children;var e=a.isPreviousDisabled,f=a.isNextDisabled,g=a.previousXStyle,k=a.nextXStyle,l=a.onPrevious;a=a.onNext;return j.jsxs(j.Fragment,{children:[j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:d("fbicon")._(i("492485"),16),isDisabled:Boolean(e),isLabelHidden:!0,label:h._("Back"),xstyle:g,onClick:l}),b!=null&&b,j.jsx(c("GeoButton.react"),{"data-testid":void 0,icon:d("fbicon")._(i("492533"),16),isDisabled:Boolean(f),isLabelHidden:!0,label:h._("Next"),xstyle:k,onClick:a})]})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("AdsDynamicHandleBrandedContentInlinePreviewSection.react",["AdsAutomaticFlowLitePreviewFeedbackStrings","AdsCarouselNavigationButton.react","AdsFluxHooks","AdsInstagramFeedAdPreview.react","GeoFlexbox.react","GeoPill.react","react","stylex","useGeoTheme"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState,j={box:{paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd"},container:{width:"xh8yej3"},control:{width:"xh8yej3",boxSizing:"x9f619"},description:{maxWidth:"x193iq5w"}};function k(a){return h.jsx("div",babelHelpers["extends"]({className:c("stylex")(j.box)},a))}k.displayName=k.name+" [from "+f.id+"]";a=function(a){var b={identityData:{brandedContentSponsorName:a.sponsorUsername,profilePictureUrl:a.creatorProfilePic,profileName:a.creatorUsername,isBrandedContent:!0}};b=babelHelpers["extends"]({},a.basePreviewProps,b);var e={identityData:{brandedContentSponsorName:a.creatorUsername,profilePictureUrl:a.sponsorProfilePic,profileName:a.sponsorUsername,hideUsername:!0,isBrandedContent:!0}};a=babelHelpers["extends"]({},a.basePreviewProps,e);e=i(0);var f=e[0],g=e[1];e=2;function l(){g(f+1)}function m(){g(f-1)}var n="";n=d("AdsAutomaticFlowLitePreviewFeedbackStrings").pillContentText(f+1,e,n);function o(){var a=c("useGeoTheme")();a=a.selectSpacing;return[a({bounds:"internal",context:"component",target:"normal"}),j.control]}return h.jsxs(c("GeoFlexbox.react"),{alignItems:"center",direction:"column",justifyContent:"center",xstyle:j.container,children:[h.jsx(k,{children:f===0?h.jsx(c("AdsInstagramFeedAdPreview.react"),{newProps:a}):h.jsx(c("AdsInstagramFeedAdPreview.react"),{newProps:b})}),h.jsx(c("GeoFlexbox.react"),{alignItems:"center",justifyContent:"space-around",xstyle:o(),children:h.jsx(c("AdsCarouselNavigationButton.react"),{isNextDisabled:f>=e-1,isPreviousDisabled:f===0,onNext:l,onPrevious:m,children:h.jsx(c("GeoFlexbox.react"),{alignItems:"center",grow:1,justifyContent:"center",children:h.jsx(c("GeoPill.react"),{label:n,value:n,xstyle:j.description})})})})]})};b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("AdsDynamicHandleInlineBrandedContentV2PreviewContainer.react",["AdsDynamicHandleBrandedContentInlinePreviewSection.react","AdsDynamicHandleOptimizationToolPreviewUtils","AdsFluxHooks","AdsSFMediaPickerDataProvider","AdsUEditorHooks","GeoFlexbox.react","GeoSpinner.react","adsCreateSelector","adsCreateStructuredSelector","adsUEditorAdgroupIGBCIdentityDetailsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=c("adsCreateSelector")([c("AdsSFMediaPickerDataProvider").toFluxSelector()],function(a){return a.selectedBaseAsset},{name:f.id+".adsSFMediaPickerBaseAssetSelector"});var i=c("adsCreateStructuredSelector")({baseAsset:a,userIdentityDetails:d("adsUEditorAdgroupIGBCIdentityDetailsSelectors").adsUEditorAdgroupIGBCInlineUsersIdentityDetailsSelector},f.id+".selector");b=function(){var a=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(i);a=a.state;var b=a.baseAsset;a=a.userIdentityDetails;if(a==null)return null;else if(a==null?void 0:a.isLoading())return h.jsx(c("GeoFlexbox.react"),{alignItems:"center",grow:1,justifyContent:"center",children:h.jsx(c("GeoSpinner.react"),{center:!0})});a=a.getValueEnforcing();var e=a.creatorUsername,f=a.creatorProfilePic,g=a.sponsorUsername;a=a.sponsorProfilePic;return h.jsx(c("AdsDynamicHandleBrandedContentInlinePreviewSection.react"),{basePreviewProps:b==null||b.type==="post"||b.type==="localVideo"?d("AdsDynamicHandleOptimizationToolPreviewUtils").generateInlinePreviewPropertySpecWithDefaultPreview():d("AdsDynamicHandleOptimizationToolPreviewUtils").generateInlinePreviewPropertySpec(b),creatorProfilePic:f,creatorUsername:e,is_story:!1,sponsorProfilePic:a,sponsorUsername:g})};e=d("AdsFluxHooks").adsFluxContainer(b,null,{containerName:f.id});g["default"]=e}),98);
__d("AdsDynamicHandleInlineV2OptimizationToolPlugin",["ix","AdsCFPTransformationListItem.react","AdsCreativeFeatureLoggingWrapper.react","AdsCreativeFeaturesPlatformMutators","AdsCreativeFeaturesUtils","AdsCreativeOptimizationToolChangeSetRecord","AdsDynamicHandleBrandedContentConstants","AdsDynamicHandleInlineBrandedContentV2PreviewContainer.react","AdsOptimizationToolTransformationGroup","adsUEditorAdgroupBrandedContentInstagramAccountFieldSelector","fbicon","immutable","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={dha_optimization:{enroll_status:"OPT_IN"}},k={normal:d("fbicon")._(h("496945"),16)};a={type:"creative/optimizationTools",key:"dhaOptimization",description:d("AdsDynamicHandleBrandedContentConstants").DHA_CONSTANTS.CREATOR_BOOST_PREVIEW_SUBHEADER,icon:k,label:d("AdsDynamicHandleBrandedContentConstants").DHA_CONSTANTS.PREVIEW_HEADER,getIsAvailableSelectorCFPModal:d("adsUEditorAdgroupBrandedContentInstagramAccountFieldSelector").adsUEditorIsDHAOptimizationAvailableSelector,transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform]),getCFPAffectedPlacements:function(){return c("immutable").List(["previews/instagram_story","previews/instagram_stream"])},getAppliedChangeSetFromAdgroup:function(a){return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(j)},getCFPGenericChangeSet:function(a){a={dha_optimization:{enroll_status:a?"OPT_IN":"OPT_OUT"}};return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(a)},updateCFPGloabalChangeSet:function(a,b){return b.dha_optimization!=null?a.set("dha_optimization",b.dha_optimization):a},FieldComponentCFP:function(a){var b=a.adgroupIDs;a=a.toolState;return i.jsx(c("AdsCreativeFeatureLoggingWrapper.react"),{adCreativeOptimizationType:[94],adgroupIDs:b,children:i.jsx(c("AdsCFPTransformationListItem.react"),{icon:k,label:d("AdsDynamicHandleBrandedContentConstants").DHA_CONSTANTS.PREVIEW_HEADER,toolState:a})})},isOptedInFromAdgroup:function(a){return d("AdsCreativeFeaturesUtils").isDHAOptedInFromAdgroup(a)},convertAdgroupToChangeSet:function(a,b){a=d("AdsCreativeFeaturesUtils").isDHAOptedInFromAdgroup(a);if(a){a={enroll_status:"OPT_IN"};return b.set("dha_optimization",a)}return b},mutateAdgroupCFP:function(a,b){return d("AdsCreativeFeaturesPlatformMutators").mutateAdgroupForDHAOptimization(a,b)},PreviewComponentCFP:function(){return i.jsx(c("AdsDynamicHandleInlineBrandedContentV2PreviewContainer.react"),{})},initChangeSetSF:function(){return new(c("AdsCreativeOptimizationToolChangeSetRecord"))({dha_optimization:{enroll_status:"OPT_IN"}})},getOptInStatusFromChangeSet:function(a){return(a=a.dha_optimization)==null?void 0:a.enroll_status}};b=a;g["default"]=b}),98);
__d("AdsDynamicHandleBrandedContentPreviewContainer.react",["AdsDynamicHandleBrandedContentPreviewSection.react","AdsDynamicHandleOptimizationToolPreviewUtils","AdsFluxHooks","AdsUEditorHooks","GeoFlexbox.react","GeoSpinner.react","adsUEditorAdgroupIGBCIdentityDetailsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){a=a.post;var b=d("AdsUEditorHooks").useUEditorAdgroupContext();b=d("AdsFluxHooks").useAdsSelector(d("adsUEditorAdgroupIGBCIdentityDetailsSelectors").adsUEditorAdgroupIGBCSponsorBoostIdentityDetailsSelector,b,b);if(b==null||a==null)return null;else if(b==null?void 0:b.isLoading())return h.jsx(c("GeoFlexbox.react"),{alignItems:"center",grow:1,justifyContent:"center",children:h.jsx(c("GeoSpinner.react"),{center:!0})});return h.jsx(c("AdsDynamicHandleBrandedContentPreviewSection.react"),{basePreviewProps:d("AdsDynamicHandleOptimizationToolPreviewUtils").updatePreviewPropertySpec(a),creatorProfilePic:a==null?void 0:(b=a.from)==null?void 0:b.profile_pic,creatorUsername:a==null?void 0:(b=a.from)==null?void 0:b.name,is_story:(a==null?void 0:a.is_story)===!0,sponsorProfilePic:a==null?void 0:(b=a.sponsors)==null?void 0:(b=b.data)==null?void 0:(b=b[0])==null?void 0:b.profile_picture_url,sponsorUsername:a==null?void 0:(b=a.sponsors)==null?void 0:(a=b.data)==null?void 0:(b=a[0])==null?void 0:b.username})};b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("AdsDynamicHandleOptimizationToolPlugin",["AdsAPIObjectives","AdsAdgroupRecordAccessors","AdsBrandedContentDynamicHandleUtils","AdsBulkValueUtils","AdsCampaignGroupRecordAccessors","AdsDynamicHandleBrandedContentConstants","AdsDynamicHandleBrandedContentPreviewContainer.react","AdsLabeledField.react","AdsOptimizationToolTransformationGroup","AdsUEditorSelectors","AdsUseExistingPostModalOnRowSelectDataProvider","AdsUseExistingPostModalOnTabChangeDataProvider","GeoCheckboxInput.react","adsCreateSelector","adsGetUniformValueSelector","adsUEditorAccountSelector","geoMargin","immutable","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=c("adsCreateSelector")([c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkByAccessor(c("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec.ad_handle_type.get),null)],function(a){return{currentDHAValue:a}},{name:f.id+".extraDataSelector"});b={type:"creative/optimizationTools",key:"dynamicHandleOptimization",transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").PostModalOptmizations]),isAvailableSelector:c("adsCreateSelector")([c("AdsUseExistingPostModalOnTabChangeDataProvider").toFluxSelector(),c("AdsUseExistingPostModalOnRowSelectDataProvider").toFluxSelector(),c("adsUEditorAccountSelector"),d("AdsUEditorSelectors").campaignGroup.bulkByAccessor(c("AdsCampaignGroupRecordAccessors").objective.get)],function(a,b,e,f){f=d("AdsBulkValueUtils").getUniformValueOrDefault(f,c("AdsAPIObjectives").NONE);return d("AdsBrandedContentDynamicHandleUtils").isDHANewExperienceEligible(a.postModalTabState,b==null?void 0:b.selectedPosts[0],e,f)},{name:f.id+".isAvailableSelector"}),extraDataSelector:a,mutateAdgroup:function(a,b,d,e){return c("AdsAdgroupRecordAccessors").creative.degrees_of_freedom_spec.ad_handle_type.set(d===!0?"DYNAMIC":"ORIGINAL",a)},FieldComponentSF:function(a){var b=a.changeSet,e=a.disableTooltip,f=a.extraData,g=a.isDisabled,i=a.onChange;if(f==null)return;return h.jsx("div",{className:c("stylex")(c("geoMargin").bottom16),children:h.jsx(c("AdsLabeledField.react"),{label:d("AdsDynamicHandleBrandedContentConstants").DHA_CONSTANTS.FORMAT_OPTIMIZATIONS,children:h.jsx("div",{className:c("stylex")(c("geoMargin").top8),children:h.jsx(c("GeoCheckboxInput.react"),{disabledMessage:e,isDisabled:g,label:d("AdsDynamicHandleBrandedContentConstants").DHA_CONSTANTS.CHECKBOX_TEXT,value:b===!0&&f.currentDHAValue!=="ORIGINAL",onChange:function(a){i(a),d("AdsBrandedContentDynamicHandleUtils").onDHACheckboxClickLog(a)}})})})})},isAvailableSF:function(a){return a.type==="post"},initChangeSetSF:function(){return!0},getAppliedChangeSetFromAdgroup:function(a){return null},PreviewComponentSF:function(a){var b;return((b=a.assetType)==null?void 0:b.type)!=="post"?null:h.jsx(c("AdsDynamicHandleBrandedContentPreviewContainer.react"),{post:a.assetType.asset})}};e=b;g["default"]=e}),98);
__d("adsUEditorAdgroupFeedGladosToolsSelector",["AdsCFPOptimizationAvailabilityHelperSelectors","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsCFPOptimizationAvailabilityHelperSelectors").passIsEligibleForCFPDebundleQESelector,d("AdsCFPOptimizationAvailabilityHelperSelectors").isFacebookPlacementEnabledSelector("feed"),d("AdsCFPOptimizationAvailabilityHelperSelectors").isImageAdsSelector],function(a,b,c){return a&&b&&c},{name:f.id+".adsUEditorAdgroupFeedGladosToolsSelector"});g.adsUEditorAdgroupFeedGladosToolsSelector=a}),98);
__d("AdsFeedGladosOptimizationToolPlugin",["ix","AdsAssetFeedUtils","AdsCFPOptimizationAvailabilityHelperSelectors","AdsCFPTransformationListItem.react","AdsCFPTransformationToolConstants","AdsCreativeFeatureLoggingWrapper.react","AdsCreativeFeaturesPlatformMutators","AdsCreativeFeaturesUtils","AdsCreativeOptimizationToolChangeSetRecord","AdsOptimizationToolTransformationGroup","adsUEditorAdgroupFeedGladosToolsSelector","fbicon","immutable","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={media_liquidity_animated_image:{enroll_status:"OPT_OUT"}},k={normal:d("fbicon")._(h("493184"),16)},l=c("immutable").List([{adCreativeOptimizationType:93,adCreativeOptimizationOptionValue:930024,apiFormat:"MOBILE_FEED_STANDARD"}]);a={type:"creative/optimizationTools",key:"feedGlados",description:d("AdsCFPTransformationToolConstants").IG_GLADOS_FEED_DESCRIPTION,icon:k,label:d("AdsCFPTransformationToolConstants").IG_GLADOS_FEED_LABEL,getIsAvailableSelectorCFPModal:d("adsUEditorAdgroupFeedGladosToolsSelector").adsUEditorAdgroupFeedGladosToolsSelector,transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform]),getCFPAffectedPlacements:function(){return c("immutable").List(["previews/mobile_feed_standard"])},getAdCreativeOptimizationInfoList:function(a){return l},getAppliedChangeSetFromAdgroup:function(a){return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(j)},getCFPGenericChangeSet:function(a){a={media_liquidity_animated_image:{enroll_status:a?"OPT_IN":"OPT_OUT"}};return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(a)},updateCFPGloabalChangeSet:function(a,b){return b.media_liquidity_animated_image!=null?a.set("media_liquidity_animated_image",b.media_liquidity_animated_image):a},FieldComponentCFP:function(a){var b=a.adgroupIDs;a=a.toolState;return i.jsx(c("AdsCreativeFeatureLoggingWrapper.react"),{adCreativeOptimizationType:[93],adgroupIDs:b,children:i.jsx(c("AdsCFPTransformationListItem.react"),{icon:k,label:d("AdsCFPTransformationToolConstants").IG_GLADOS_FEED_LABEL,toolState:a})})},mutateAdgroupCFP:function(a,b){return d("AdsCreativeFeaturesPlatformMutators").mutateAdgroupForFeedGlados(a,b)},isOptedInFromAdgroup:function(a){return d("AdsAssetFeedUtils").isAutomaticFlowLiteAdgroup(a)||d("AdsCreativeFeaturesUtils").isFeedGladosOptedInFromAdgroup(a)},convertAdgroupToChangeSet:function(a,b){a=(d("AdsAssetFeedUtils").isAutomaticFlowLiteAdgroup(a)||d("AdsCreativeFeaturesUtils").isFeedGladosOptedInFromAdgroup(a))&&d("AdsCFPOptimizationAvailabilityHelperSelectors").passIsEligibleForCFPDebundleQESelector();if(a){a={enroll_status:"OPT_IN"};return b.set("media_liquidity_animated_image",a)}return b}};b=a;g["default"]=b}),98);
__d("adsUEditorAdgroupImageAutoCropSelector",["AdsAdgroupSemanticFields","AdsAssetFeedUtils","AdsCFPOptimizationAvailabilityHelperSelectors","AdsImageStore","AdsPlacementCustomizationMediaUtils","AdsUEditorSelectors","adsCreateSelector","adsCurrentUEditorAdgroupSelector","adsGetUniformValueSelector","adsUEditorAccountSelector","immutable","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h=500,i=.8,j=1.91;function k(a,b,d){if(!c("isStringNullOrEmpty")(b)){a=c("AdsImageStore").getImageDataFromHash(a,b);return a!=null&&((b=a.dimensions)==null?void 0:b.width)!=null&&((b=a.dimensions)==null?void 0:b.height)!=null&&((b=a.dimensions)==null?void 0:b.width)>h&&((b=a.dimensions)==null?void 0:b.width)/((b=a.dimensions)==null?void 0:b.height)>=i&&((b=a.dimensions)==null?void 0:b.width)/((b=a.dimensions)==null?void 0:b.height)<=j}else if(!c("isStringNullOrEmpty")(d)){a=c("AdsImageStore").getImageDimensionsByURL(d);return(a==null?void 0:a.width)!=null&&(a==null?void 0:a.height)!=null&&a.width>h&&a.width/a.height>=i&&a.width/a.height<=j}return!1}a=c("adsCreateSelector")([d("AdsCFPOptimizationAvailabilityHelperSelectors").passIsEligibleForCFPDebundleQESelector,d("AdsCFPOptimizationAvailabilityHelperSelectors").isInstagramPlacementEnabledSelector("story"),d("AdsCFPOptimizationAvailabilityHelperSelectors").isFacebookPlacementEnabledSelector("feed"),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").imageHash.get),null),c("adsGetUniformValueSelector")(d("AdsUEditorSelectors").adgroup.bulkBySemanticField(c("AdsAdgroupSemanticFields").imageURL.get),null),d("AdsCFPOptimizationAvailabilityHelperSelectors").isImageAdsSelector,c("adsCurrentUEditorAdgroupSelector"),c("adsUEditorAccountSelector")],function(a,b,e,f,g,h,i,j){if(!a||!b&&!e)return!1;if(i&&d("AdsAssetFeedUtils").isPACAdgroupFromRecord(i)){a=d("AdsPlacementCustomizationMediaUtils").getMediaHavingPlacementsFromAdgroup(i,c("immutable").List([{platform:"instagram",position:"story"}]));return a.videoID!=null||a.videoThumbnailUrl!=null?!1:k(j.account_id,a.imageHash,a.imageUrl)}else if(!d("AdsAssetFeedUtils").isPACAdgroupFromRecord(i))return h&&k(j.account_id,f,g);return!1},{name:f.id+".adsUEditorAdgroupImageAutoCropSelector"});g.adsUEditorAdgroupImageAutoCropSelector=a}),98);
__d("AdsImageAutoCropOptimizationToolPlugin",["ix","AdsAssetFeedUtils","AdsCFPOptimizationAvailabilityHelperSelectors","AdsCFPTransformationListItem.react","AdsCFPTransformationToolConstants","AdsCreativeFeatureLoggingWrapper.react","AdsCreativeFeaturesPlatformMutators","AdsCreativeFeaturesUtils","AdsCreativeOptimizationToolChangeSetRecord","AdsOptimizationToolTransformationGroup","adsUEditorAdgroupImageAutoCropSelector","fbicon","immutable","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={image_auto_crop:{enroll_status:"OPT_OUT"}},k={normal:d("fbicon")._(h("798407"),16)},l=c("immutable").List([{adCreativeOptimizationType:52,adCreativeOptimizationOptionValue:520003,apiFormat:"INSTAGRAM_STORY"},{adCreativeOptimizationType:32,adCreativeOptimizationOptionValue:320002,apiFormat:"MOBILE_FEED_STANDARD"}]);a={type:"creative/optimizationTools",key:"imageAutoCrop",description:d("AdsCFPTransformationToolConstants").IMAGE_AUTO_CROP_DESCRIPTION,icon:k,label:d("AdsCFPTransformationToolConstants").IMAGE_AUTO_CROP_LABEL,getAdCreativeOptimizationInfoList:function(a){return l},getIsAvailableSelectorCFPModal:d("adsUEditorAdgroupImageAutoCropSelector").adsUEditorAdgroupImageAutoCropSelector,transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform]),getCFPAffectedPlacements:function(){return c("immutable").List(["previews/instagram_story","previews/mobile_feed_standard"])},getAppliedChangeSetFromAdgroup:function(a){return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(j)},getCFPGenericChangeSet:function(a){a={image_auto_crop:{enroll_status:a?"OPT_IN":"OPT_OUT"}};return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(a)},updateCFPGloabalChangeSet:function(a,b){return b.image_auto_crop!=null?a.set("image_auto_crop",b.image_auto_crop):a},FieldComponentCFP:function(a){var b=a.adgroupIDs;a=a.toolState;return i.jsx(c("AdsCreativeFeatureLoggingWrapper.react"),{adCreativeOptimizationType:[52,32],adgroupIDs:b,children:i.jsx(c("AdsCFPTransformationListItem.react"),{icon:k,label:d("AdsCFPTransformationToolConstants").IMAGE_AUTO_CROP_LABEL,toolState:a})})},mutateAdgroupCFP:function(a,b){return d("AdsCreativeFeaturesPlatformMutators").mutateAdgroupForImageAutoCrop(a,b)},isOptedInFromAdgroup:function(a){return d("AdsAssetFeedUtils").isAutomaticFlowLiteAdgroup(a)||d("AdsCreativeFeaturesUtils").isImageAutoCropOptedInFromAdgroup(a)},convertAdgroupToChangeSet:function(a,b){a=(d("AdsAssetFeedUtils").isAutomaticFlowLiteAdgroup(a)||d("AdsCreativeFeaturesUtils").isImageAutoCropOptedInFromAdgroup(a))&&d("AdsCFPOptimizationAvailabilityHelperSelectors").passIsEligibleForCFPDebundleQESelector();if(a){a={enroll_status:"OPT_IN"};return b.set("image_auto_crop",a)}return b}};b=a;g["default"]=b}),98);
__d("AdsMediaOptimizationToolStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("Enhancements");b=h._("Allow enhancements");c=h._("Media optimizations");d=h._("Add end card to Instagram Stories ads");e=h._("Format optimizations");f=h._("Media enhancements");var i=h._("The examples below are stock images and do not represent your ad."),j=h._("Image brightness & contrast"),k=h._("We will adjust the brightness and contrast of your image when likely to improve performance."),l=h._("Vary aspect ratio"),m=h._("We will show the original aspect ratio of your image when likely to improve performance."),n=h._("Profile end card"),o=h._("App Store screenshot end card"),p=h._("After displaying your ad, an additional end card will be displayed, featuring the most recent images from your Instagram feed. This optimization is for Instagram Stories ads only."),q=h._("After displaying your ad, an additional end card will be displayed, featuring the first screenshot of your app from the App or Play Store. This optimization is for Instagram Stories ads only."),r=h._("Your campaign setup does not support adding an end card to Instagram Stories ads.");h=h._("Your campaign setup does not support media enhancements.");g.IMAGE_ENHANCEMENT_TOOL_LABEL=a;g.SF_IMAGE_ENHANCEMENT_TOOL_LABEL=b;g.SF_IMAGE_ENHANCEMENT_TOOL_HEADER=c;g.ADD_END_CARD_TO_INSTAGRAM_STORIES_ADS_LABEL=d;g.FORMAT_OPTIMIZATIONS_HEADER=e;g.IMAGE_ENHANCEMENT_PREVIEW_HEADER=f;g.IMAGE_ENHANCEMENT_PREVIEW_DESCRIPTION=i;g.IMAGE_ENHANCEMENT_PREVIEW_BRIGHTNESS_HEADER=j;g.IMAGE_ENHANCEMENT_PREVIEW_BRIGHTNESS_DESCRIPTION=k;g.IMAGE_ENHANCEMENT_PREVIEW_VAR_HEADER=l;g.IMAGE_ENHANCEMENT_PREVIEW_VAR_DESCRIPTION=m;g.IG_PROFILE_CARD_OPTIMIZATION_PREVIEW_HEADER=n;g.IG_MAI_CARD_OPTIMIZATION_PREVIEW_HEADER=o;g.IG_PROFILE_CARD_OPTIMIZATION_PREVIEW_SUBHEADER=p;g.IG_MAI_CARD_OPTIMIZATION_PREVIEW_SUBHEADER=q;g.IG_END_CARD_DISABLED_REASON=r;g.IMAGE_ENHANCEMENT_DISABLED_REASON=h}),98);
__d("AdsSFLogger",["AdsImageAspectRatioUtils","AdsInterfacesLogger","first","objectValues"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;c("AdsInterfacesLogger").log({eventName:"sf_is_cropping_step_eligible",data:(b={},b.is_enabled=a,b)})}function b(a){var b;c("AdsInterfacesLogger").log({eventName:"sf_is_optimization_step_eligible",data:(b={},b.is_enabled=a,b)})}function e(a){var b;c("AdsInterfacesLogger").log({eventName:"sf_available_tools",data:(b={},b.customized_placement=a.toArray().sort().toString(),b)})}function f(a){var b;c("AdsInterfacesLogger").log({eventName:"sf_media_source",data:(b={},b.source=a,b)})}function h(a,b,d){var e;c("AdsInterfacesLogger").log({eventName:"sf_is_image_enhancement_enabled",data:(e={},e.object_ids=a,e.is_enabled=b,e)});if(b!==d){c("AdsInterfacesLogger").log({eventName:"sf_image_enhancement_flip_toggle_to",data:(e={},e.object_ids=a,e.is_enabled=b,e)})}}function i(a){var b;c("AdsInterfacesLogger").log({eventName:"sf_video_crop_enabled_aspect_ratio",data:(b={},b.customized_placement=a.filter(function(a){return a.crops!=null&&c("first")(c("objectValues")(a.crops))!=null}).keySeq().sort().toArray().toString(),b)})}function j(a,b){var d;c("AdsInterfacesLogger").log({eventName:"sf_image_crop_enabled_aspect_ratio",data:(d={},d.source=b?"manual":"default",d.customized_placement=a.filter(function(a){return a.crops!=null&&c("first")(c("objectValues")(a.crops))!=null}).keySeq().sort().toArray().toString(),d)})}function k(a,b,e){var f=a.croppingChangeSets;a=a.selectedBaseAsset;if((a==null?void 0:a.type)!=="image")return;b=b.get(a.id);if(!a.asset.hasValueWithoutError()||!b.hasValueWithoutError())return;var g=a.asset.getValueEnforcing(),h=b.getValueEnforcing(),i=new Set(f.filter(function(a){return a.crops!=null&&Object.values(a.crops).length>0}).keys());e.forEach(function(a){var b,e,f=d("AdsImageAspectRatioUtils").isSmartCropBetterThanOriginal(g,a,h),j=i.has(a);b=(b=h.get(a))!=null?b:{};var k=b.original_aes_rating;b=b.cropped_aes_rating;c("AdsInterfacesLogger").log({eventName:"sf_image_smart_crop_selection_confirmed",data:(e={},e.crop_ratios=a,e.did_use_recommendation=f===j,e.is_crop_better=f,e.image_original_aes_rating=k,e.image_cropped_aes_rating=b,e)})})}g.logCropStepEligible=a;g.logOptimizationStepEligible=b;g.logAvailableTools=e;g.logMediaSource=f;g.logImageEnhancement=h;g.logVideoCropEnabledAspectRatio=i;g.logImageCropEnabledAspectRatio=j;g.logImageSmartCropSelectionConfirmed=k}),98);
__d("adsUEditorAdgroupImageEnhancementSelector",["AdsCFPOptimizationAvailabilityHelperSelectors","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsCFPOptimizationAvailabilityHelperSelectors").isImageAdsSelector],function(a){return a},{name:f.id+".adsUEditorAdgroupImageEnhancementSelector"});g.adsUEditorAdgroupImageEnhancementSelector=a}),98);
__d("adsUEditorAdgroupIsImageEnhancementOptInSelector",["AdsSettingsStore","adsCreateSelector","adsCreateStoreThunkSelector","adsUEditorAccountIDSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAccountIDSelector"),c("adsCreateStoreThunkSelector")(c("AdsSettingsStore"),function(a){return c("AdsSettingsStore").getByFields(a,["should_default_image_auto_crop_optimization"])})],function(a,b){return b(a).should_default_image_auto_crop_optimization===!0},{name:f.id+".adsUEditorAdgroupIsImageEnhancementOptInSelector"});b=a;g["default"]=b}),98);
__d("AdsImageEnhancementsOptmizationToolPlugin",["ix","AdsACOImageUtils","AdsAPIObjectives","AdsCFPTransformationListItem.react","AdsCFPTransformationToolConstants","AdsCreativeFeatureLoggingWrapper.react","AdsCreativeFeaturesPlatformMutators","AdsCreativeFeaturesUtils","AdsCreativeOptimizationToolChangeSetRecord","AdsImageEnhancementsOptimizationUtils","AdsImageIDClasses","AdsLabeledField.react","AdsMediaOptimizationToolStrings","AdsOptimizationToolTransformationGroup","AdsSFLogger","AdsUEditorAdgroupInstagramBusinessPartnerSelectors","GeoCheckboxInput.react","JSResource","adsCreateSelector","adsGetUniformValueSelector","adsUEditorAccountIDSelector","adsUEditorAdgroupCallToActionValueSelector","adsUEditorAdgroupImageEnhancementSelector","adsUEditorAdgroupIsImageEnhancementOptInSelector","adsUEditorAdgroupIsPoliticalAdSelector","adsUEditorAssetGroupsSelector","adsUEditorODAXTranslatedObjectivesForSelectedAdgroupsSelector","fbicon","geoMargin","immutable","lazyLoadComponent","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={normal:d("fbicon")._(h("496945"),16)},k={highlight:{backgroundColor:"xqjfwa5"},padding:{paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l"}};a=c("adsGetUniformValueSelector")(c("adsUEditorODAXTranslatedObjectivesForSelectedAdgroupsSelector"),c("AdsAPIObjectives").NONE);b=c("adsCreateSelector")([c("adsUEditorAccountIDSelector"),c("adsUEditorAdgroupIsImageEnhancementOptInSelector"),c("adsUEditorAdgroupIsPoliticalAdSelector"),c("adsGetUniformValueSelector")(c("adsUEditorAdgroupCallToActionValueSelector"),null),c("adsUEditorAssetGroupsSelector"),d("AdsUEditorAdgroupInstagramBusinessPartnerSelectors").isBrandInlineCreationSelector,a],function(a,b,e,f,g,h,i){f=d("AdsACOImageUtils").getEligibleTransformations(f,e,i,g.toList(),h);e=i===c("AdsAPIObjectives").WEBSITE_CONVERSIONS||i===c("AdsAPIObjectives").CONVERSIONS;return{accountID:a,eligibleImageTransformations:f,isImageEnhancementsOptInByDefault:b,canSeeNCL1Guidance:e}},{name:f.id+".extraDataSelector"});var l=c("lazyLoadComponent")(c("JSResource")("AdsSFImageEnhancementPreview.react").__setRef("AdsImageEnhancementsOptmizationToolPlugin")),m=c("lazyLoadComponent")(c("JSResource")("AdsCFPImageEnhancementPreview.react").__setRef("AdsImageEnhancementsOptmizationToolPlugin"));e={type:"creative/optimizationTools",key:"imageEnhancements",description:d("AdsCFPTransformationToolConstants").IMAGE_ENHANCEMENT_DESCRIPTION,icon:j,label:d("AdsCFPTransformationToolConstants").IMAGE_ENHANCEMENT_LABEL,transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").Enhancements,c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform]),isAvailableSelector:c("adsCreateSelector")([b,d("AdsUEditorAdgroupInstagramBusinessPartnerSelectors").isBrandInlineCreationSelector],function(a,b){a=a.eligibleImageTransformations;return!a.isEmpty()&&b!==!0},{name:f.id+".isAvailableSelector"}),getCFPAffectedPlacements:function(){return c("immutable").List(["previews/instagram_story","previews/mobile_feed_standard","previews/instagram_stream"])},extraDataSelector:b,mutateAdgroup:function(a,b,c,e){return d("AdsImageEnhancementsOptimizationUtils").mutateAdgroupApplyOrRemoveImageEnhancements(a,c,e.eligibleImageTransformations)},FieldComponentSF:function(a){var b=a.adgroupIDs,e=a.changeSet,f=a.disableTooltip,g=a.isDisabled,h=a.onChange;a=a.highlight;return i.jsx("div",{className:c("stylex")(c("geoMargin").bottom16),children:i.jsx(c("AdsCreativeFeatureLoggingWrapper.react"),{adCreativeOptimizationType:[33],adgroupIDs:b,children:i.jsx(c("AdsLabeledField.react"),{label:d("AdsMediaOptimizationToolStrings").SF_IMAGE_ENHANCEMENT_TOOL_HEADER,children:i.jsx("div",{className:c("stylex")(k.padding,c("geoMargin").top8,a===!0&&k.highlight),children:i.jsx(c("GeoCheckboxInput.react"),{disabledMessage:f,isDisabled:g,label:d("AdsMediaOptimizationToolStrings").SF_IMAGE_ENHANCEMENT_TOOL_LABEL,value:e===!0,onChange:h})})})})})},isAvailableSF:function(a){return a.type==="image"&&!(a.id instanceof d("AdsImageIDClasses").AdsShutterstockImageID)},PreviewComponentSF:function(){return i.jsx(l,{})},PreviewComponentCFP:function(){return i.jsx(m,{})},initChangeSetSF:function(a){return a.isImageEnhancementsOptInByDefault===!0},getAppliedChangeSetFromAdgroup:function(a){return d("AdsACOImageUtils").isImageEnhancementOptedInFromAdgroup(a)},getCFPGenericChangeSet:function(a){a={image_enhancement:{enroll_status:a?"OPT_IN":"OPT_OUT"}};return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(a)},getStatusFromAdgroupSpec:function(a){return a.map(function(a){return(a=a.creative)==null?void 0:(a=a.degrees_of_freedom_spec)==null?void 0:(a=a.creative_features_spec)==null?void 0:(a=a.image_enhancement)==null?void 0:a.enroll_status}).map(function(a){return a==="OPT_IN"})},updateCFPGloabalChangeSet:function(a,b){return b.image_enhancement!=null?a.set("image_enhancement",b.image_enhancement):a},getIneligibleReasonSelectorSF:c("adsCreateSelector")([],function(){return d("AdsMediaOptimizationToolStrings").IMAGE_ENHANCEMENT_DISABLED_REASON},{name:f.id+".getIneligibleReasonSelectorSF"}),onCompleteSF:function(a,b,c){d("AdsSFLogger").logImageEnhancement(a,b,c.isImageEnhancementsOptInByDefault)},getIsAvailableSelectorCFPModal:d("adsUEditorAdgroupImageEnhancementSelector").adsUEditorAdgroupImageEnhancementSelector,FieldComponentCFP:function(a){var b=a.adgroupIDs;a=a.toolState;return i.jsx(c("AdsCreativeFeatureLoggingWrapper.react"),{adCreativeOptimizationType:[33],adgroupIDs:b,children:i.jsx(c("AdsCFPTransformationListItem.react"),{icon:j,label:d("AdsCFPTransformationToolConstants").IMAGE_ENHANCEMENT_LABEL,toolState:a})})},isEligibleFromAdgroup:function(a){return d("AdsACOImageUtils").isImageEnhancementEligibleFromAdgroup(a)},mutateAdgroupCFP:function(a,b){return d("AdsCreativeFeaturesPlatformMutators").mutateAdgroupForImageEnhancement(a,b)},isOptedInFromAdgroup:function(a){return d("AdsACOImageUtils").isImageEnhancementOptedInFromAdgroup(a)||d("AdsCreativeFeaturesUtils").isImageEnhancementOptedInFromAdgroup(a)},getOptInStatusFromChangeSet:function(a){return(a=a.image_enhancement)==null?void 0:a.enroll_status},convertAdgroupToChangeSet:function(a,b){a=d("AdsACOImageUtils").isImageEnhancementOptedInFromAdgroup(a)||d("AdsCreativeFeaturesUtils").isImageEnhancementOptedInFromAdgroup(a);a={enroll_status:a?"OPT_IN":"OPT_OUT"};return b.set("image_enhancement",a)}};h=e;g["default"]=h}),98);
__d("adsUEditorAdgroupInlineCommentSelector",["AdsCFPOptimizationAvailabilityHelperSelectors","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsCFPOptimizationAvailabilityHelperSelectors").passIsEligibleForCFPDebundleQESelector,d("AdsCFPOptimizationAvailabilityHelperSelectors").isFacebookPlacementEnabledSelector("feed")],function(a,b){return a&&b},{name:f.id+".adsUEditorAdgroupInlineCommentSelector"});g.adsUEditorAdgroupInlineCommentSelector=a}),98);
__d("AdsInlineCommentOptimizationToolPlugin",["ix","AdsAssetFeedUtils","AdsCFPOptimizationAvailabilityHelperSelectors","AdsCFPTransformationListItem.react","AdsCFPTransformationToolConstants","AdsCreativeFeatureLoggingWrapper.react","AdsCreativeFeaturesPlatformMutators","AdsCreativeFeaturesUtils","AdsCreativeOptimizationToolChangeSetRecord","AdsOptimizationToolTransformationGroup","JSResource","adsUEditorAdgroupInlineCommentSelector","fbicon","immutable","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={inline_comment:{enroll_status:"OPT_OUT"}},k={normal:d("fbicon")._(h("1279732"),16)},l=c("lazyLoadComponent")(c("JSResource")("AdsCFPInlineCommentPreview.react").__setRef("AdsInlineCommentOptimizationToolPlugin"));a={type:"creative/optimizationTools",key:"inlineComment",description:d("AdsCFPTransformationToolConstants").INLINE_COMMENT_DESCRIPTION,icon:k,label:d("AdsCFPTransformationToolConstants").INLINE_COMMENT_LABEL,getIsAvailableSelectorCFPModal:d("adsUEditorAdgroupInlineCommentSelector").adsUEditorAdgroupInlineCommentSelector,transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform]),getCFPAffectedPlacements:function(){return c("immutable").List(["previews/mobile_feed_standard"])},getAppliedChangeSetFromAdgroup:function(a){return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(j)},getCFPGenericChangeSet:function(a){a={inline_comment:{enroll_status:a?"OPT_IN":"OPT_OUT"}};return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(a)},updateCFPGloabalChangeSet:function(a,b){return b.inline_comment!=null?a.set("inline_comment",b.inline_comment):a},FieldComponentCFP:function(a){var b=a.adgroupIDs;a=a.toolState;return i.jsx(c("AdsCreativeFeatureLoggingWrapper.react"),{adCreativeOptimizationType:[26],adgroupIDs:b,children:i.jsx(c("AdsCFPTransformationListItem.react"),{icon:k,label:d("AdsCFPTransformationToolConstants").INLINE_COMMENT_LABEL,toolState:a})})},mutateAdgroupCFP:function(a,b){return d("AdsCreativeFeaturesPlatformMutators").mutateAdgroupForInlineComment(a,b)},isOptedInFromAdgroup:function(a){return d("AdsAssetFeedUtils").isAutomaticFlowLiteAdgroup(a)||d("AdsCreativeFeaturesUtils").isInlineCommentOptedInFromAdgroup(a)},convertAdgroupToChangeSet:function(a,b){a=(d("AdsAssetFeedUtils").isAutomaticFlowLiteAdgroup(a)||d("AdsCreativeFeaturesUtils").isInlineCommentOptedInFromAdgroup(a))&&d("AdsCFPOptimizationAvailabilityHelperSelectors").passIsEligibleForCFPDebundleQESelector();if(a){a={enroll_status:"OPT_IN"};return b.set("inline_comment",a)}return b},PreviewComponentCFP:function(){return i.jsx(l,{})}};b=a;g["default"]=b}),98);
__d("AdsEndCardOptimizationToolUtils",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["PROFILE_CARD","MAI_CARD"]);f.EndCardTransformationType=a}),66);
__d("AdsMediaPickerToggleEndCardOptimizationFlowAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_MEDIA_PICKER_TOGGLE_END_CARD_OPTIMIZATION_FLOW");e.exports=a}),null);
__d("AdsCreativeOptimizationToolsPluginType",["$InternalEnum","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=b("$InternalEnum")({CFP:"cfp",MEDIA_PICKER_SF:"MEDIA_PICKER_SF"});g.OptimizationEntryPoint=a}),98);
__d("AdsSFOptimizationToolPreview.react",["fbt","AdsCreativeOptimizationToolsPluginType","GeoDivider.react","GeoFlexbox.react","GeoHeading.react","GeoLink.react","GeoScrollableArea.react","GeoText.react","geoMargin","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={scrollableArea:{flexGrow:"x1iyjqo2"}};function a(a){var b=h._("If this end card doesn't comply with our {=m2}, the entire ad may be rejected and stop being delivered.",[h._implicitParam("=m2",i.jsx(c("GeoLink.react"),{href:"https://www.facebook.com/policies/ads/",showUnderline:"always",target:"_blank",children:h._("Advertising Policies")}))]);b=i.jsx(c("GeoText.react"),{xstyle:c("geoMargin").top12,children:b});return i.jsxs(c("GeoFlexbox.react"),{direction:"column",grow:1,xstyle:[c("geoMargin").horiz16,c("geoMargin").top16],children:[a.entryPoint===d("AdsCreativeOptimizationToolsPluginType").OptimizationEntryPoint.CFP?null:i.jsx(c("GeoHeading.react"),{level:4,children:a.header}),i.jsx(c("GeoText.react"),{children:a.subheader}),a.isEndCardOptimization===!0?b:null,a.entryPoint===d("AdsCreativeOptimizationToolsPluginType").OptimizationEntryPoint.CFP?null:i.jsx(c("GeoDivider.react"),{xstyle:[c("geoMargin").top12,c("geoMargin").bottom0]}),i.jsx(c("GeoScrollableArea.react"),{xstyle:j.scrollableArea,children:i.jsx(c("GeoFlexbox.react"),{alignItems:"center",direction:"column",grow:1,xstyle:[c("geoMargin").bottom16,c("geoMargin").top24],children:a.previewComponent})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AdsSFMAICardPreview.react",["AdsInstagramStoryAdPreview.react","AdsMediaOptimizationToolStrings","AdsSFOptimizationToolPreview.react","react","usePreviewGradientColors"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e;b=c("usePreviewGradientColors")(((b=a.assetType)==null?void 0:b.type)==="image"&&((b=a.assetType)==null?void 0:(b=b.asset)==null?void 0:b.value)!==null?(b=a.assetType.asset.value)==null?void 0:b.url:null);if(((e=a.assetType)==null?void 0:e.type)!=="image"||((e=a.assetType)==null?void 0:(e=e.asset)==null?void 0:e.value)==null||((e=a.extraData)==null?void 0:e.instagramAccount)==null||a.extraData.instagramMAICardPreviewInfo==null)return null;e=a.assetType.asset.value;var f=e.url,g=e.height;e=e.width;a=a.extraData;var i=a.instagramAccount,j=i.profile_pic;i=i.username;a=a.instagramMAICardPreviewInfo;j={version:"v2",commonData:{apiAdFormat:"INSTAGRAM_STORY",adType:"carousel"},identityData:{profileName:String(i),profilePictureUrl:String(j),brandedContentSponsorName:null},textData:{isAutotranslated:!1,primaryText:"",headlines:[""],descriptions:[""],portalData:[{bottomColor:"rgba("+b.bottomColor+")",primaryTextBackgroundColor:"",primaryTextColor:"rgba("+b.captionColor+")",displayHeight:g,displayWidth:e,topColor:"rgba("+b.topColor+")"},{bottomColor:"rgba("+b.bottomColor+")",primaryTextBackgroundColor:"",primaryTextColor:"rgba("+b.captionColor+")",displayHeight:g,displayWidth:e,topColor:"rgba("+b.topColor+")"}]},mediaData:{mediaDataCells:[{imageMediaData:{imageURL:f,cropType:"none",width:e,height:g},videoMediaData:null},{imageMediaData:{imageURL:f,cropType:"none",width:e,height:g},videoMediaData:null}]},callToActionData:{callToActionDataCells:[{cta:"Install App",callToActionType:"INSTALL_APP"},{cta:"Install App",callToActionType:"INSTALL_APP"}]},customizationData:{carouselDeliveryMode:"fixed_num_cards",adMAICardMediaPreviewInfo:a==null?void 0:(i=a.getValue())==null?void 0:i.mai_preview_info}};b=babelHelpers["extends"]({newProps:j},j);return h.jsx(c("AdsSFOptimizationToolPreview.react"),{header:d("AdsMediaOptimizationToolStrings").IG_MAI_CARD_OPTIMIZATION_PREVIEW_HEADER,isEndCardOptimization:!0,previewComponent:h.jsx(c("AdsInstagramStoryAdPreview.react"),babelHelpers["extends"]({},b)),subheader:d("AdsMediaOptimizationToolStrings").IG_MAI_CARD_OPTIMIZATION_PREVIEW_SUBHEADER})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AdsSFProfileCardPreview.react",["AdsInstagramStoryAdPreview.react","AdsMediaOptimizationToolStrings","AdsSFOptimizationToolPreview.react","react","usePreviewGradientColors"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e;b=c("usePreviewGradientColors")(((b=a.assetType)==null?void 0:b.type)==="image"&&((b=a.assetType)==null?void 0:(b=b.asset)==null?void 0:b.value)!==null?(b=a.assetType.asset.value)==null?void 0:b.url:null);if(((e=a.assetType)==null?void 0:e.type)!=="image"||((e=a.assetType)==null?void 0:(e=e.asset)==null?void 0:e.value)==null||((e=a.extraData)==null?void 0:e.instagramAccount)==null)return null;e=a.assetType.asset.value;var f=e.url,g=e.height;e=e.width;var i=a.extraData.instagramAccount,j=i.profile_pic;i=i.username;e={version:"v2",commonData:{apiAdFormat:"INSTAGRAM_STORY",adType:"carousel"},identityData:{profileName:String(i),profilePictureUrl:String(j),brandedContentSponsorName:null},textData:{isAutotranslated:!1,primaryText:"",headlines:[""],descriptions:[""],portalData:[{bottomColor:"rgba("+b.bottomColor+")",primaryTextBackgroundColor:"",primaryTextColor:"rgba("+b.captionColor+")",displayHeight:g,displayWidth:e,topColor:"rgba("+b.topColor+")"},{bottomColor:"rgba("+b.bottomColor+")",primaryTextBackgroundColor:"",primaryTextColor:"rgba("+b.captionColor+")",displayHeight:g,displayWidth:e,topColor:"rgba("+b.topColor+")"}]},mediaData:{mediaDataCells:[{imageMediaData:{imageURL:f,cropType:"none",width:e,height:g},videoMediaData:null},{imageMediaData:{imageURL:f,cropType:"none",width:e,height:g},videoMediaData:null}]},callToActionData:{callToActionDataCells:[{cta:null,callToActionType:null},{cta:null,callToActionType:null}]},customizationData:{carouselDeliveryMode:"fixed_num_cards",adProfileCardMediaImageURL:(f=(i=a.extraData)==null?void 0:(j=i.instagramProfileCardURL)==null?void 0:(b=j.getValue())==null?void 0:b.image_url)!=null?f:""}};g=babelHelpers["extends"]({newProps:e},e);return h.jsx(c("AdsSFOptimizationToolPreview.react"),{header:d("AdsMediaOptimizationToolStrings").IG_PROFILE_CARD_OPTIMIZATION_PREVIEW_HEADER,isEndCardOptimization:!0,previewComponent:h.jsx(c("AdsInstagramStoryAdPreview.react"),babelHelpers["extends"]({},g)),subheader:d("AdsMediaOptimizationToolStrings").IG_PROFILE_CARD_OPTIMIZATION_PREVIEW_SUBHEADER})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AdsSFEndCardBundledPreview.react",["fbt","ix","AdsEndCardOptimizationToolUtils","AdsSFMAICardPreview.react","AdsSFProfileCardPreview.react","GeoButton.react","GeoFlexbox.react","GeoPill.react","fbicon","geoMargin","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState;function l(a){var b=a.endCardTransformationType;a=babelHelpers.objectWithoutPropertiesLoose(a,["endCardTransformationType"]);switch(b){case d("AdsEndCardOptimizationToolUtils").EndCardTransformationType.PROFILE_CARD:return j.jsx(c("AdsSFProfileCardPreview.react"),babelHelpers["extends"]({},a));case d("AdsEndCardOptimizationToolUtils").EndCardTransformationType.MAI_CARD:return j.jsx(c("AdsSFMAICardPreview.react"),babelHelpers["extends"]({},a))}return null}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=k(0),e=b[0],f=b[1];if(((b=a.assetType)==null?void 0:b.type)!=="image"||((b=a.assetType)==null?void 0:(b=b.asset)==null?void 0:b.value)==null||((b=a.extraData)==null?void 0:b.instagramAccount)==null)return null;b=Array.from(a.extraData.eligibleEndCardTransformations);var g=e===0,m=e+1>=b.length,n=function(){g||f(e-1)},o=function(){m||f(e+1)},p=h._("Example {Current preview index number, starts from 1} of {Total number of preview variations}",[h._param("Current preview index number, starts from 1",e+1),h._param("Total number of preview variations",b.length)]);return j.jsxs(c("GeoFlexbox.react"),{direction:"column",xstyle:c("geoMargin").all16,children:[j.jsxs(c("GeoFlexbox.react"),{justifyContent:"space-between",xstyle:[c("geoMargin").horiz16,c("geoMargin").top16],children:[j.jsx(c("GeoPill.react"),{label:p,status:"info",value:p}),j.jsxs(c("GeoFlexbox.react"),{children:[j.jsx(c("GeoButton.react"),{icon:d("fbicon")._(i("492485"),16),isDisabled:g,isLabelHidden:!0,label:"",onClick:n}),j.jsx(c("GeoButton.react"),{icon:d("fbicon")._(i("492533"),16),isDisabled:m,isLabelHidden:!0,label:"",onClick:o})]})]}),j.jsx(l,babelHelpers["extends"]({endCardTransformationType:b[e]},a))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("adsUEditorAdgroupAppStoreURLSelector",["AdsBulkValueUtils","AdsCampaignRecordAccessors","AdsUEditorSelectors","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").promoted_object.object_store_url.get)],function(a){return d("AdsBulkValueUtils").getUniformValueOrDefault(a,null)},{name:f.id+".adsUEditorAdgroupAppStoreURLSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorAdgroupInstagramEndCardSelectors",["AdsAdMediaPreviewDataProvider","AdsEndCardOptimizationToolUtils","AdsInterfacesLogger","QPLUserFlow","adsCreateAdAccountGKSelector","adsCreateSelector","adsRenderSpecInstagramAccountSelector","adsUEditorAccountIDSelector","adsUEditorAdgroupAppStoreURLSelector","immutable","qpl"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("AdsAdMediaPreviewDataProvider").toFluxSelector(),c("adsRenderSpecInstagramAccountSelector"),c("adsUEditorAccountIDSelector"),c("adsCreateAdAccountGKSelector")._("3O0wtnTZY")],function(a,b,c,d){b=b==null?void 0:b.id_v2;if(b==null)return null;if(!d)return null;d={instagram_actor_id:b,ad_account_id:c,ad_creative_optimization_type:103,ad_creative_optimization_option_value:1030002};b=a.get(d);return b},{name:f.id+".adsInstagramProfileCardURLSelector"});b=c("adsCreateSelector")([c("AdsAdMediaPreviewDataProvider").toFluxSelector(),c("adsRenderSpecInstagramAccountSelector"),c("adsUEditorAccountIDSelector"),c("adsUEditorAdgroupAppStoreURLSelector"),c("adsCreateAdAccountGKSelector")._("Ptd6IR1J")],function(a,b,c,d,e){b=b==null?void 0:b.id_v2;if(b==null)return null;if(d==null)return null;if(!e)return null;e={instagram_actor_id:b,ad_account_id:c,ad_creative_optimization_type:119,ad_creative_optimization_option_value:1190002,app_store_uri:d};b=a.get(e);return b},{name:f.id+".adsInstagramMAICardPreviewInfoSelector"});e=c("adsCreateSelector")([c("adsUEditorAccountIDSelector"),c("adsRenderSpecInstagramAccountSelector"),a,b],function(a,b,e,f){if(b==null||b.profile_pic==null||!b.is_published){c("AdsInterfacesLogger").log({eventName:"ig_profile_card_optimization_invalid_instagram_account",data:{ad_account_id:a}});return c("immutable").Set()}if((e==null?void 0:e.isLoading())||(e==null?void 0:e.hasValue())===!1||(f==null?void 0:f.isLoading())||(f==null?void 0:f.hasValue())===!1)return c("immutable").Set();b=[];e=(e==null?void 0:e.hasValueWithoutError())&&(e==null?void 0:(a=e.getValueEnforcing())==null?void 0:a.image_url)!=null;f=(f==null?void 0:f.hasValueWithoutError())&&(f==null?void 0:(a=f.getValueEnforcing())==null?void 0:a.mai_preview_info)!=null;e===!0&&(b.push(d("AdsEndCardOptimizationToolUtils").EndCardTransformationType.PROFILE_CARD),c("QPLUserFlow").addPoint(c("qpl")._(270213890,"75"),"IG_PROFILE_CARD_ELIGIBLE"));f===!0&&(b.push(d("AdsEndCardOptimizationToolUtils").EndCardTransformationType.MAI_CARD),c("QPLUserFlow").addPoint(c("qpl")._(270213890,"75"),"IG_MAI_CARD_ELIGIBLE"));b.length===0&&c("QPLUserFlow").addPoint(c("qpl")._(270213890,"75"),"IG_END_CARD_NOT_ELIGIBLE");return c("immutable").Set(b)},{name:f.id+".adsInstagramEligibleEndCardTransformationsSelector"});g.adsInstagramProfileCardURLSelector=a;g.adsInstagramMAICardPreviewInfoSelector=b;g.adsInstagramEligibleEndCardTransformationsSelector=e}),98);
__d("adsUEditorAdgroupIsInstagramProfileCardOptInSelector",["AdsSettingsStore","adsCreateAdAccountGKSelector","adsCreateSelector","adsCreateStoreThunkSelector","adsUEditorAccountIDSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAccountIDSelector"),c("adsCreateStoreThunkSelector")(c("AdsSettingsStore"),function(a){return c("AdsSettingsStore").getByFields(a,["should_default_instagram_profile_card_optimization"])}),c("adsCreateAdAccountGKSelector")._("43ORI953x")],function(a,b,c){a=(b=b(a).should_default_instagram_profile_card_optimization)!=null?b:!0;return c&&a},{name:f.id+".adsUEditorAdgroupIsInstagramProfileCardOptInSelector"});b=a;g["default"]=b}),98);
__d("AdsInstagramEndCardOptmizationToolPlugin",["AdsEndCardOptimizationToolUtils","AdsImageIDClasses","AdsInterfacesLogger","AdsLabeledField.react","AdsMediaOptimizationToolStrings","AdsMediaPickerToggleEndCardOptimizationFlowAction","AdsOptimizationToolTransformationGroup","AdsSFEndCardBundledPreview.react","AdsSFMAICardPreview.react","AdsSFProfileCardPreview.react","AdsUEditorAdgroupDegreesOfFreedomMutators","GeoCheckboxInput.react","QPLUserFlow","adsCreateSelector","adsCreateStructuredSelector","adsRenderSpecInstagramAccountSelector","adsUEditorAccountIDSelector","adsUEditorAdgroupInstagramEndCardSelectors","adsUEditorAdgroupIsInstagramProfileCardOptInSelector","geoMargin","immutable","qpl","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={highlight:{backgroundColor:"xqjfwa5"},padding:{paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l"}};a={type:"creative/optimizationTools",key:"instagramProfileCardOptimization",transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").Enhancements]),isAvailableSelector:c("adsCreateSelector")([d("adsUEditorAdgroupInstagramEndCardSelectors").adsInstagramEligibleEndCardTransformationsSelector],function(a){return!a.isEmpty()?!0:!1},{name:f.id+".isAvailableSelector"}),isAvailableSF:function(a){return a.type==="image"&&!(a.id instanceof d("AdsImageIDClasses").AdsShutterstockImageID)},extraDataSelector:c("adsCreateStructuredSelector")({accountID:c("adsUEditorAccountIDSelector"),isProfileCardOptIn:c("adsUEditorAdgroupIsInstagramProfileCardOptInSelector"),instagramAccount:c("adsRenderSpecInstagramAccountSelector"),eligibleEndCardTransformations:d("adsUEditorAdgroupInstagramEndCardSelectors").adsInstagramEligibleEndCardTransformationsSelector,instagramProfileCardURL:d("adsUEditorAdgroupInstagramEndCardSelectors").adsInstagramProfileCardURLSelector,instagramMAICardPreviewInfo:d("adsUEditorAdgroupInstagramEndCardSelectors").adsInstagramMAICardPreviewInfoSelector},f.id+".extraDataSelector"),mutateAdgroup:function(a,b,e,f){if(e){b=[];f.eligibleEndCardTransformations.contains(d("AdsEndCardOptimizationToolUtils").EndCardTransformationType.PROFILE_CARD)&&b.push("INSTAGRAM_END_CARD");f.eligibleEndCardTransformations.contains(d("AdsEndCardOptimizationToolUtils").EndCardTransformationType.MAI_CARD)&&b.push("INSTAGRAM_MOBILE_APP_INSTALL_CARD");return d("AdsUEditorAdgroupDegreesOfFreedomMutators").addTransformations(a,{target:"stories",transformations:c("immutable").List(b)})}return d("AdsUEditorAdgroupDegreesOfFreedomMutators").removeTransformations(a,{target:"stories",transformations:c("immutable").List(["INSTAGRAM_END_CARD","INSTAGRAM_MOBILE_APP_INSTALL_CARD"])})},onCompleteSF:function(a,b,d){if(b){c("AdsInterfacesLogger").log({eventName:"ig_profile_card_optimization_opt_in",data:{ad_account_id:d.accountID,rf_instagram_actor_id:(a=d.instagramAccount)==null?void 0:a.id_v2}});c("AdsMediaPickerToggleEndCardOptimizationFlowAction").dispatch({accountID:d.accountID,isEndCardOptimizationEnabled:b},{line:"159",module:"AdsInstagramEndCardOptmizationToolPlugin.js"})}else{c("AdsInterfacesLogger").log({eventName:"ig_profile_card_optimization_opt_out",data:{ad_account_id:d.accountID,rf_instagram_actor_id:(a=d.instagramAccount)==null?void 0:a.id_v2}})}},FieldComponentSF:function(a){var b=a.changeSet,e=a.disableTooltip,f=a.isDisabled,g=a.onChange;a=a.highlight;return h.jsx("div",{className:c("stylex")(c("geoMargin").bottom16),children:h.jsx(c("AdsLabeledField.react"),{label:d("AdsMediaOptimizationToolStrings").FORMAT_OPTIMIZATIONS_HEADER,children:h.jsx("div",{className:c("stylex")(i.padding,c("geoMargin").top8,a===!0&&i.highlight),children:h.jsx(c("GeoCheckboxInput.react"),{"data-testid":void 0,disabledMessage:e,isDisabled:f,label:d("AdsMediaOptimizationToolStrings").ADD_END_CARD_TO_INSTAGRAM_STORIES_ADS_LABEL,value:b===!0,onChange:function(a){g(a),a?c("QPLUserFlow").addPoint(c("qpl")._(270213890,"75"),"IG_END_CARD_OPT_IN"):c("QPLUserFlow").addPoint(c("qpl")._(270213890,"75"),"IG_END_CARD_OPT_OUT")}})})})})},initChangeSetSF:function(a){a.isProfileCardOptIn?c("QPLUserFlow").addPoint(c("qpl")._(270213890,"75"),"IG_END_CARD_OPT_IN_BY_DEFAULT"):c("QPLUserFlow").addPoint(c("qpl")._(270213890,"75"),"IG_END_CARD_OPT_OUT_BY_DEFAULT");return a.isProfileCardOptIn},getAppliedChangeSetFromAdgroup:function(a){return null},PreviewComponentSF:function(a){var b;b=(b=a.extraData)==null?void 0:b.eligibleEndCardTransformations;if(b){if(b.size>1)return h.jsx(c("AdsSFEndCardBundledPreview.react"),babelHelpers["extends"]({},a));if(b.contains(d("AdsEndCardOptimizationToolUtils").EndCardTransformationType.PROFILE_CARD))return h.jsx(c("AdsSFProfileCardPreview.react"),babelHelpers["extends"]({},a));if(b.contains(d("AdsEndCardOptimizationToolUtils").EndCardTransformationType.MAI_CARD))return h.jsx(c("AdsSFMAICardPreview.react"),babelHelpers["extends"]({},a))}return null},getIneligibleReasonSelectorSF:c("adsCreateSelector")([],function(){return d("AdsMediaOptimizationToolStrings").IG_END_CARD_DISABLED_REASON},{name:f.id+".getIneligibleReasonSelectorSF"})};b=a;g["default"]=b}),98);
__d("AdsMediaPickerToggleVideoAdjustmentsFlowAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ADS_MEDIA_PICKER_TOGGLE_VIDEO_ADJUSTMENTS_FLOW");e.exports=a}),null);
__d("adsUEditorAdgroupIsVideoAdjustmentsOptOutSelector",["AdsSettingsStore","adsCreateSelector","adsCreateStoreThunkSelector","adsUEditorAccountIDSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAccountIDSelector"),c("adsCreateStoreThunkSelector")(c("AdsSettingsStore"),function(a){return c("AdsSettingsStore").getByFields(a,["acf_should_opt_out_video_adjustments"])})],function(a,b){return b(a).acf_should_opt_out_video_adjustments===!0},{name:f.id+".adsUEditorAdgroupIsVideoAdjustmentsOptOutSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorOMPIsPACSupportedSelector",["AdsPlacementAssetCustomizationSelectors","AdsUEditorAdgroupInstagramBusinessPartnerSelectors","PlacementAssetCustomizationTypes","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsPlacementAssetCustomizationSelectors").adsUEditorAdgroupPlacementAssetCustomizationTypeSelector,d("AdsUEditorAdgroupInstagramBusinessPartnerSelectors").isPACDisabledForBrandInlineCreationSelector],function(a,b){return a===d("PlacementAssetCustomizationTypes").PAC_PHASE_2&&b!==!0},{name:f.id+".adsUEditorOMPIsPACSupportedSelector"});b=a;g["default"]=b}),98);
__d("AdsVideoAdjustmentsOptmizationToolPlugin",["fbt","AdsMediaPickerToggleVideoAdjustmentsFlowAction","AdsOptimizationToolTransformationGroup","GeoCheckboxInput.react","GeoCheckboxList.react","adsCreateSelector","adsUEditorAccountIDSelector","adsUEditorAdgroupIsVideoAdjustmentsOptOutSelector","adsUEditorOMPIsPACSupportedSelector","immutable","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=c("adsCreateSelector")([c("adsUEditorAccountIDSelector"),c("adsUEditorAdgroupIsVideoAdjustmentsOptOutSelector")],function(a,b){return{accountID:a,isVideoAdjustmentsOptOutByDefault:b}},{name:f.id+".extraDataSelector"});b={type:"creative/optimizationTools",key:"videoEnhancements",transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").Enhancements]),isAvailableSF:function(a){return!1},isAvailableSelector:c("adsCreateSelector")([c("adsUEditorOMPIsPACSupportedSelector")],function(a){return a},{name:f.id+".isAvailableSelector"}),extraDataSelector:a,initChangeSetSF:function(a){return{isVideoAdjustmentsEnabled:!a.isVideoAdjustmentsOptOutByDefault}},getAppliedChangeSetFromAdgroup:function(a){return null},onCompleteSF:function(a,b,d){b.isVideoAdjustmentsEnabled===d.isVideoAdjustmentsOptOutByDefault&&c("AdsMediaPickerToggleVideoAdjustmentsFlowAction").dispatch({accountID:d.accountID,isVideoAdjustmentsDisabled:!b.isVideoAdjustmentsEnabled},{line:"83",module:"AdsVideoAdjustmentsOptmizationToolPlugin.js"})},FieldComponentSF:function(a){var b=a.changeSet,d=a.onChange;return i.jsx(c("GeoCheckboxList.react"),{children:i.jsx(c("GeoCheckboxInput.react"),{"data-testid":void 0,label:h._("Vary aspect ratio"),value:b.isVideoAdjustmentsEnabled,onChange:function(a){d({isVideoAdjustmentsEnabled:a})}})})}};e=b;g["default"]=e}),98);
__d("adsUEditorAdgroupVideoAutoCropSelector",["AdsCFPOptimizationAvailabilityHelperSelectors","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsCFPOptimizationAvailabilityHelperSelectors").passIsEligibleForCFPDebundleQESelector,d("AdsCFPOptimizationAvailabilityHelperSelectors").isInstagramPlacementEnabledSelector("story"),d("AdsCFPOptimizationAvailabilityHelperSelectors").isVideoAdsSelector],function(a,b,c){return a&&b&&c},{name:f.id+".adsUEditorAdgroupVideoAutoCropSelector"});g.adsUEditorAdgroupVideoAutoCropSelector=a}),98);
__d("AdsVideoAutoCropOptimizationToolPlugin",["ix","AdsAssetFeedUtils","AdsCFPOptimizationAvailabilityHelperSelectors","AdsCFPTransformationListItem.react","AdsCFPTransformationToolConstants","AdsCreativeFeatureLoggingWrapper.react","AdsCreativeFeaturesPlatformMutators","AdsCreativeFeaturesUtils","AdsCreativeOptimizationToolChangeSetRecord","AdsOptimizationToolTransformationGroup","JSResource","adsUEditorAdgroupVideoAutoCropSelector","fbicon","immutable","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={video_auto_crop:{enroll_status:"OPT_OUT"}},k=c("lazyLoadComponent")(c("JSResource")("AdsCFPPreviewCarousel.react").__setRef("AdsVideoAutoCropOptimizationToolPlugin")),l={normal:d("fbicon")._(h("798407"),16)};a={type:"creative/optimizationTools",key:"videoAutoCrop",description:d("AdsCFPTransformationToolConstants").VIDEO_AUTO_CROP_DESCRIPTION,icon:l,label:d("AdsCFPTransformationToolConstants").VIDEO_AUTO_CROP_LABEL,getIsAvailableSelectorCFPModal:d("adsUEditorAdgroupVideoAutoCropSelector").adsUEditorAdgroupVideoAutoCropSelector,transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform]),getCFPAffectedPlacements:function(){return c("immutable").List(["previews/instagram_story","previews/mobile_feed_standard"])},getAppliedChangeSetFromAdgroup:function(a){return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(j)},getCFPGenericChangeSet:function(a){a={video_auto_crop:{enroll_status:a?"OPT_IN":"OPT_OUT"}};return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(a)},updateCFPGloabalChangeSet:function(a,b){return b.video_auto_crop!=null?a.set("video_auto_crop",b.video_auto_crop):a},FieldComponentCFP:function(a){var b=a.adgroupIDs;a=a.toolState;return i.jsx(c("AdsCreativeFeatureLoggingWrapper.react"),{adCreativeOptimizationType:[67],adgroupIDs:b,children:i.jsx(c("AdsCFPTransformationListItem.react"),{icon:l,label:d("AdsCFPTransformationToolConstants").VIDEO_AUTO_CROP_LABEL,toolState:a})})},isOptedInFromAdgroup:function(a){return d("AdsAssetFeedUtils").isAutomaticFlowLiteAdgroup(a)||d("AdsCreativeFeaturesUtils").isVideoAutoCropOptedInFromAdgroup(a)},convertAdgroupToChangeSet:function(a,b){a=(d("AdsAssetFeedUtils").isAutomaticFlowLiteAdgroup(a)||d("AdsCreativeFeaturesUtils").isVideoAutoCropOptedInFromAdgroup(a))&&d("AdsCFPOptimizationAvailabilityHelperSelectors").passIsEligibleForCFPDebundleQESelector();if(a){a={enroll_status:"OPT_IN"};return b.set("video_auto_crop",a)}return b},mutateAdgroupCFP:function(a,b){return d("AdsCreativeFeaturesPlatformMutators").mutateAdgroupForVideoAutoCrop(a,b)},PreviewComponentCFP:function(){return i.jsx(k,{})}};b=a;g["default"]=b}),98);
__d("adsUEditorAdgroupVideoHighlightToolsSelector",["AdsCFPOptimizationAvailabilityHelperSelectors","adsCreateSelector","adsCreateThunkSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsCreateThunkSelector")(d("AdsCFPOptimizationAvailabilityHelperSelectors").isInstagramPlacementEnabledSelector("story")),c("adsCreateThunkSelector")(d("AdsCFPOptimizationAvailabilityHelperSelectors").isVideoAdsSelector)],function(){return!1},{name:f.id+".adsUEditorAdgroupVideoHighlightToolsSelector"});g.adsUEditorAdgroupVideoHighlightToolsSelector=a}),98);
__d("AdsVideoHighlightOptimizationToolPlugin",["AdsCFPTransformationListItem.react","AdsCFPTransformationToolConstants","AdsCreativeFeatureLoggingWrapper.react","AdsCreativeFeaturesPlatformMutators","AdsCreativeFeaturesUtils","AdsCreativeOptimizationToolChangeSetRecord","AdsOptimizationToolTransformationGroup","adsUEditorAdgroupVideoHighlightToolsSelector","immutable","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={video_highlight:{enroll_status:"OPT_OUT"}};a={type:"creative/optimizationTools",key:"videoHighlight",label:d("AdsCFPTransformationToolConstants").VIDEO_HIGHLIGHT_LABEL,getIsAvailableSelectorCFPModal:d("adsUEditorAdgroupVideoHighlightToolsSelector").adsUEditorAdgroupVideoHighlightToolsSelector,transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform]),getCFPAffectedPlacements:function(){return c("immutable").List(["previews/instagram_story"])},getAppliedChangeSetFromAdgroup:function(a){return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(i)},getCFPGenericChangeSet:function(a){a={video_highlight:{enroll_status:a?"OPT_IN":"OPT_OUT"}};return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(a)},updateCFPGloabalChangeSet:function(a,b){return b.video_highlight!=null?a.set("video_highlight",b.video_highlight):a},FieldComponentCFP:function(a){var b=a.adgroupIDs;a=a.toolState;return h.jsx(c("AdsCreativeFeatureLoggingWrapper.react"),{adCreativeOptimizationType:[117],adgroupIDs:b,children:h.jsx(c("AdsCFPTransformationListItem.react"),{label:d("AdsCFPTransformationToolConstants").VIDEO_HIGHLIGHT_LABEL,toolState:a})})},mutateAdgroupCFP:function(a,b){return d("AdsCreativeFeaturesPlatformMutators").mutateAdgroupForVideoHighlight(a,b)},isOptedInFromAdgroup:function(a){return d("AdsCreativeFeaturesUtils").isVideoHighlightOptedInFromAdgroup(a)},convertAdgroupToChangeSet:function(a,b){a=d("AdsCreativeFeaturesUtils").isVideoHighlightOptedInFromAdgroup(a);if(a){a={enroll_status:"OPT_IN"};return b.set("video_highlight",a)}return b}};b=a;g["default"]=b}),98);
__d("AdsCreativeOptimizationToolsPlugins",["AdsCVTransformationOptimizationToolPlugin","AdsDEOptimizationToolPlugin","AdsDynamicHandleInlineOptimizationToolPlugin","AdsDynamicHandleInlineV2OptimizationToolPlugin","AdsDynamicHandleOptimizationToolPlugin","AdsFeedGladosOptimizationToolPlugin","AdsImageAutoCropOptimizationToolPlugin","AdsImageEnhancementsOptmizationToolPlugin","AdsInlineCommentOptimizationToolPlugin","AdsInstagramEndCardOptmizationToolPlugin","AdsMusicOnReelsOptimizationToolPlugin","AdsVideoAdjustmentsOptmizationToolPlugin","AdsVideoAutoCropOptimizationToolPlugin","AdsVideoHighlightOptimizationToolPlugin","adsPluginsFactory"],(function(a,b,c,d,e,f){"use strict";a=b("adsPluginsFactory")(function(){return[b("AdsMusicOnReelsOptimizationToolPlugin"),b("AdsCVTransformationOptimizationToolPlugin"),b("AdsDynamicHandleInlineV2OptimizationToolPlugin"),b("AdsDEOptimizationToolPlugin"),b("AdsDynamicHandleInlineOptimizationToolPlugin"),b("AdsDynamicHandleOptimizationToolPlugin"),b("AdsFeedGladosOptimizationToolPlugin"),b("AdsImageAutoCropOptimizationToolPlugin"),b("AdsImageEnhancementsOptmizationToolPlugin"),b("AdsInlineCommentOptimizationToolPlugin"),b("AdsInstagramEndCardOptmizationToolPlugin"),b("AdsVideoAutoCropOptimizationToolPlugin"),b("AdsVideoAdjustmentsOptmizationToolPlugin"),b("AdsVideoHighlightOptimizationToolPlugin")]});e.exports=a}),null);
__d("AdsCFPTransformationMusicOnReelsToolCustomizationContainer.react",["AdsCreativeFeaturesPlatformEditAction","AdsCreativeOptimizationToolChangeSetRecord","AdsFluxHooks","AdsUEditorAdgroupTransformationsGKSelector","AdsUEditorHooks","AdsUEditorHostIDs","CometPlaceholder.react","GeoSpinner.react","JSResource","adsCreateSelector","adsUEditorAdgroupMusicOnReelsToolsCustomizationViewSelector","adsUEditorGetShouldEnableMusicOnReelsInSingleImageByDefaultGetValueSelector","adsUEditorGetShouldEnableMusicOnReelsInSingleImageByDefaultSelector","immutable","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("lazyLoadComponent")(c("JSResource")("AdsCreativeToolReelsMusicCreationMusicListSectionContainer.react").__setRef("AdsCFPTransformationMusicOnReelsToolCustomizationContainer.react")),j=c("lazyLoadComponent")(c("JSResource")("AdsCreativeCFPMusicSelectionPanelContainer.react").__setRef("AdsCFPTransformationMusicOnReelsToolCustomizationContainer.react")),k=c("adsCreateSelector")([c("adsUEditorAdgroupMusicOnReelsToolsCustomizationViewSelector"),c("adsUEditorGetShouldEnableMusicOnReelsInSingleImageByDefaultGetValueSelector"),d("AdsUEditorAdgroupTransformationsGKSelector").isMusicSingleImageMainOptInChangeSelector,d("AdsUEditorAdgroupTransformationsGKSelector").isMusicSingleImageDefaultStickyOptOutSelector],function(a,b,c,d){var e=a.adgroupIDs,f=a.cfpSortedTransformationStates;a=a.isMusicExpansionEnabled;return{adgroupIDs:e,cfpSortedTransformationStates:f,isMusicExpansionEnabled:a,getShouldEnableMusicByDefault:b,isSingleImageMainOptIn:c,isSingleImageDefaultStickyOptOut:d}},{name:f.id+".stateSelector"});function a(a){var b=d("AdsUEditorHooks").useUEditorAdgroupAdsSelector(k);b=b.state;var e=b.adgroupIDs,f=b.cfpSortedTransformationStates,g=b.isMusicExpansionEnabled,l=b.getShouldEnableMusicByDefault,m=b.isSingleImageMainOptIn,n=b.isSingleImageDefaultStickyOptOut;function o(a){var b=c("immutable").List();a.forEach(function(a,c){b=b.push({label:c,audio_asset_id:a})});return Array.from(b)}function p(a,b){var g;b!=null&&a==="selected"?b={media_music:{type:"selected",selected_audios:b}}:b={media_music:{type:a}};b=new(c("AdsCreativeOptimizationToolChangeSetRecord"))(b);g=(g=l==null?void 0:l())!=null?g:d("adsUEditorGetShouldEnableMusicOnReelsInSingleImageByDefaultSelector").MUSIC_ON_REELS_OPT_OUT_DEFAULT_STATUS;var h=m&&!n?!0:a!=="opted_out";g=g.carousel.shouldOptIn;c("AdsCreativeFeaturesPlatformEditAction").dispatch({hostID:c("AdsUEditorHostIDs").EDITING_CREATIVE_CONTAINER,adgroupIDs:e,enableMusicDefaultStickyOptInSingleImage:h,enableMusicDefaultStickyOptInCarousel:g,tool:"MusicOnReels",changeSet:b,adsCFPTransformationState:f,selection:a},{line:"144",module:"AdsCFPTransformationMusicOnReelsToolCustomizationContainer.react.js"})}function q(a){p("selected",o(a))}function r(a){a=a.media_music;a!=null&&p(a.type,a.selected_audios)}b=g?h.jsx(j,{source:a.source,onEdit:r,onSelectedSongs:q}):h.jsx(i,{source:a.source,onEdit:r,onSelectedSongs:q});return h.jsx(c("CometPlaceholder.react"),{fallback:h.jsx(c("GeoSpinner.react"),{}),children:b})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a);g["default"]=b}),98);
__d("AdsCFPSelectorsFactory.js",["AdsCFPDataProvider","adsCreateSelector","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";a=c("memoizeWithArgs")(function(a){a=a.getIsAvailableSelectorCFPModal;var b=c("adsCreateSelector")([c("AdsCFPDataProvider").toFluxSelector()],function(a){return a==null?!1:!0},{name:f.id+".entryPointCheckSelector"});return a?c("adsCreateSelector")([b,a],function(a,b){return a&&b},{name:f.id}):b},function(a){return a.key});g.createCFPToolAvailabilitySelector=a}),98);
__d("adsCFPAvailableOptimizationToolsSelector",["AdsCFPSelectorsFactory.js","AdsCreativeOptimizationToolsPlugins","AdsOptimizationToolTransformationGroup","adsCreateSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("AdsCreativeOptimizationToolsPlugins").getArray().filter(function(a){return a.transformationGroup.has(c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform)}).map(function(a){return c("adsCreateSelector")([d("AdsCFPSelectorsFactory.js").createCFPToolAvailabilitySelector(a)],function(b){return{plugin:a,isAvailable:b}},{name:f.id})});b=c("adsCreateSelector")(a,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("immutable").Set(b).filter(function(a){return a.isAvailable}).map(function(a){return a.plugin.key})},{equal:c("immutable").is,name:f.id+".adsCFPAvailableOptimizationToolsSelector"});e=b;g["default"]=e}),98);
__d("adsCFPOptsInOptimizationToolsSelector",["AdsCFPDataProvider","AdsCreativeOptimizationToolsPlugins","AdsOptimizationToolTransformationGroup","adsCreateSelector","adsCurrentUEditorAdgroupSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("AdsCreativeOptimizationToolsPlugins").getArray().filter(function(a){return a.transformationGroup.has(c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform)}).map(function(a){return c("adsCreateSelector")([c("adsCurrentUEditorAdgroupSelector"),c("AdsCFPDataProvider").toFluxSelector()],function(b,c){c=c.entryPoint!=null?a.getOptInStatusFromChangeSet!=null&&a.getOptInStatusFromChangeSet(c.globalChangeSet)==="OPT_IN":a.isOptedInFromAdgroup!=null&&a.isOptedInFromAdgroup(b);return{plugin:a,isOptsIn:c}},{name:f.id})});b=c("adsCreateSelector")(a,function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return c("immutable").Set(b).filter(function(a){return a.isOptsIn}).map(function(a){return a.plugin.key})},{equal:c("immutable").is,name:f.id+".adsCFPOptsInOptimizationToolsSelector"});d=b;g["default"]=d}),98);
__d("adsUEditorAdgroupMusicOnReelsToolsCustomizationViewSelector",["AdsCFPSelectors","AdsUEditorAdgroupTransformationsGKSelector","adsCreateStructuredSelector","adsUEditorSelectedAdgroupIDsSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateStructuredSelector")({adgroupIDs:c("adsUEditorSelectedAdgroupIDsSelector"),cfpSortedTransformationStates:d("AdsCFPSelectors").adsCFPSortedTransformationStatesSelector,isMusicExpansionEnabled:d("AdsUEditorAdgroupTransformationsGKSelector").adsMusicExpansionEnabledGKSelector},f.id+".adsUEditorAdgroupMusicOnReelsToolsCustomizationViewSelector");b=a;g["default"]=b}),98);
__d("AdsDEOptimizationBundlePlugin",["AdsAssetFeedUtils","AdsCFPOptimizationAvailabilityHelperSelectors","AdsCFPTransformationListItem.react","AdsCFPTransformationToolConstants","AdsCreativeFeaturesPlatformMutators","AdsCreativeOptimizationToolChangeSetRecord","immutable","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=c("immutable").OrderedSet(["imageAutoCrop","feedGlados","videoAutoCrop","inlineComment"]);b={type:"creative/optimizationBundle",key:"dynamicExperiencesBundle",optimizationToolKeys:a,description:d("AdsCFPTransformationToolConstants").STANDARD_ENHANCEMENTS_CFP_PLUGIN_DESCRIPTION,extraDescription:d("AdsCFPTransformationToolConstants").STANDARD_ENHANCEMENTS_CFP_PLUGIN_EXTRA_DESCRIPTION,icon:d("AdsCFPTransformationToolConstants").DE_OPTIMIZATION_ICON,label:d("AdsCFPTransformationToolConstants").STANDARD_ENHANCEMENTS_TOGGLE_LABEL,FieldComponentCFP:function(a){a=a.toolState;return h.jsx(c("AdsCFPTransformationListItem.react"),{icon:d("AdsCFPTransformationToolConstants").DE_OPTIMIZATION_ICON,label:d("AdsCFPTransformationToolConstants").STANDARD_ENHANCEMENTS_TOGGLE_LABEL,toolState:a})},isAvailable:function(){return d("AdsCFPOptimizationAvailabilityHelperSelectors").passIsEligibleForCFPDebundleQESelector()},getCFPGenericChangeSet:function(a){a={dynamic_experience_bundle:{enroll_status:a?"OPT_IN":"OPT_OUT"}};return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(a)},updateCFPGloabalChangeSet:function(a,b){return b.dynamic_experience_bundle!=null?a.set("dynamic_experience_bundle",b.dynamic_experience_bundle):a},mutateAdgroupCFP:function(a,b,c){return d("AdsCreativeFeaturesPlatformMutators").mutateAdgroupForDynamicExperienceBundle(a,b,c)},isOptedInFromAdgroup:function(a){return d("AdsAssetFeedUtils").isAutomaticFlowLiteAdgroup(a)},initChangeSet:function(){return new(c("AdsCreativeOptimizationToolChangeSetRecord"))({dynamic_experience_bundle:{enroll_status:"OPT_OUT"}})}};e=b;g["default"]=e}),98);
__d("AdsCreativeOptimizationBundlePlugins",["AdsDEOptimizationBundlePlugin","adsPluginsFactory"],(function(a,b,c,d,e,f){"use strict";a=b("adsPluginsFactory")(function(){return[b("AdsDEOptimizationBundlePlugin")]});e.exports=a}),null);
__d("AdsCFPSetChangeSetsReducerPlugin",["AdsCreativeOptimizationBundlePlugins","AdsCreativeOptimizationToolsPlugins"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var d=c("AdsCreativeOptimizationToolsPlugins").getByMixed(b.tool)||c("AdsCreativeOptimizationBundlePlugins").getByMixed(b.tool);if((d==null?void 0:d.updateCFPGloabalChangeSet)!=null){d=d.updateCFPGloabalChangeSet(a.globalChangeSet,b.changeSet);var e=a.toolsEdit.add(b.tool),f=b.adsCFPTransformationState;f.allToolStates.find(function(a){return a.key===b.tool}).state=b.selection==="opted_out"||b.selection==="OPT_OUT"?"off":"on";return babelHelpers["extends"]({},a,{adsCFPTransformationState:f,toolsEdit:e,globalChangeSet:d})}return a}};b=a;g["default"]=b}),98);
__d("AdsCreativeOptimizationInfoDataSelectors",["AdsAccountStore","AdsAdPreviewCreativeOptimizationInfoDataProvider","AdsPreviewRenderSpecBaseSelectors","LoadObject","adsCreateSelector","adsCreateStoreSelector","adsCreateStructuredSelector","adsCurrentAdgroupApiFormatsSelector","adsUEditorAdgroupPublishStatusSelector","immutable"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([c("adsUEditorAdgroupPublishStatusSelector"),d("AdsPreviewRenderSpecBaseSelectors").selectAdID],function(a,b){return b!=null&&!((a=a.get(b))==null?void 0:a.hasDraft)},{name:f.id+".selectMaybeLoadByID"});b=c("adsCreateSelector")([c("AdsAccountStore").getSelectedAccount],function(a){return a.getValue()},{name:f.id+".selectAdAccount"});e=c("adsCreateStoreSelector")([],function(a){return a},{name:f.id+".selectContext"});b=c("adsCreateStructuredSelector")({adAccount:b,creative:d("AdsPreviewRenderSpecBaseSelectors").selectCreative,campaign:d("AdsPreviewRenderSpecBaseSelectors").selectCampaign,campaignGroup:d("AdsPreviewRenderSpecBaseSelectors").selectCampaignGroup,placements:c("adsCurrentAdgroupApiFormatsSelector"),adAccountId:d("AdsPreviewRenderSpecBaseSelectors").selectAccountID,requestUUID:d("AdsPreviewRenderSpecBaseSelectors").selectUUID,adID:d("AdsPreviewRenderSpecBaseSelectors").selectAdID,loadByID:a,context:e},f.id+".selectRequestKey");d=c("adsCreateSelector")([b,c("AdsAdPreviewCreativeOptimizationInfoDataProvider").toFluxSelector()],function(a,b){return a.placements.length>0&&a.creative!=null?b.get(a):c("LoadObject").withValue(c("immutable").Map())},{name:f.id+".adsCreativeOptimizationInfoLoadObjectSelector"});g.selectMaybeLoadByID=a;g.selectRequestKey=b;g.adsCreativeOptimizationInfoLoadObjectSelector=d}),98);
__d("AdsCFPSelectors",["AdsCFPDataProvider","AdsCFPToolsGroupingUtils","AdsCreativeOptimizationInfoDataSelectors","LoadObject","adsCFPAvailableOptimizationToolsSelector","adsCFPOptsInOptimizationToolsSelector","adsCreateAdAccountGKSelector","adsCreateSelector"],(function(a,b,c,d,e,f,g){"use strict";var h=c("LoadObject").loading(),i="dynamicExperiences",j="imageEnhancements";a=c("adsCreateSelector")([c("adsCFPAvailableOptimizationToolsSelector"),c("adsCFPOptsInOptimizationToolsSelector")],function(a,b){return d("AdsCFPToolsGroupingUtils").constructCFPTransformationState(a,b)},{name:f.id+".adsCFPSortedTransformationStatesSelector"});b=c("adsCreateSelector")([c("AdsCFPDataProvider").toFluxSelector(),a,c("adsCreateAdAccountGKSelector")._("6GGpgKP8Z")],function(a,b,c){return d("AdsCFPToolsGroupingUtils").getCFPSelectedState(a.selection,b,c?i:j)},{name:f.id+".adsCFPSelectedTransformationSelector"});e=c("adsCreateSelector")([c("AdsCFPDataProvider").toFluxSelector()],function(a){return a.selectedPlacement},{name:f.id+".adsCFPSelectedPlacementSelector"});var k=c("adsCreateSelector")([c("AdsCFPDataProvider").toFluxSelector()],function(a){return a.entryPoint},{name:f.id+".adsCFPEntryPointSelector"});f=c("adsCreateSelector")([d("AdsCreativeOptimizationInfoDataSelectors").adsCreativeOptimizationInfoLoadObjectSelector],function(a){return a.isLoading()||!a.hasValue()?h:c("LoadObject").withValue(a.getValueEnforcing())},{name:f.id+".selectCreativeOptimizationInfoMapSelector"});g.adsCFPSortedTransformationStatesSelector=a;g.adsCFPSelectedTransformationSelector=b;g.adsCFPSelectedPlacementSelector=e;g.adsCFPEntryPointSelector=k;g.selectCreativeOptimizationInfoMapSelector=f}),98);
__d("adsUEditorAdgroupMusicOnReelsToolsSelector",["AdsCFPOptimizationAvailabilityHelperSelectors","AdsCreativeFeaturesPlatfromUtils","adsAccountGK","adsCreateSelector","adsUEditorAccountSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsCFPOptimizationAvailabilityHelperSelectors").isInstagramPlacementEnabledSelector("reels"),d("AdsCFPOptimizationAvailabilityHelperSelectors").isInstagramPlacementEnabledSelector("story"),d("AdsCFPOptimizationAvailabilityHelperSelectors").isFacebookPlacementEnabledSelector("facebook_reels"),d("AdsCFPOptimizationAvailabilityHelperSelectors").isImageAdsSelector,c("adsUEditorAccountSelector")],function(a,b,e,f,g){if(!f||!d("AdsCreativeFeaturesPlatfromUtils").isEligibleForMusicWithoutLog(g))return!1;if(a)return!0;return b||e?c("adsAccountGK")._(g,"2GKC03UHS"):!1},{name:f.id+".adsUEditorAdgroupMusicOnReelsToolsSelector"});g.adsUEditorAdgroupMusicOnReelsToolsSelector=a}),98);
__d("AdsMusicOnReelsOptimizationToolPlugin",["ix","AdsAssetFeedUtils","AdsCFPTransformationListItem.react","AdsCFPTransformationMusicOnReelsToolCustomizationContainer.react","AdsCreativeFeatureLoggingWrapper.react","AdsCreativeFeaturesPlatformMutators","AdsCreativeFeaturesUtils","AdsCreativeOptimizationToolChangeSetRecord","AdsOptimizationToolTransformationGroup","AdsUEditorAdgroupCreativeSectionStrings","AdsUEditorAdgroupTransformationsGKSelector","adsAccountGK","adsUEditorAdgroupMusicOnReelsToolsSelector","fbicon","immutable","isTruthy","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={normal:d("fbicon")._(h("886197"),16)},k={media_music:{type:"opted_out"}},l=c("immutable").List([{adCreativeOptimizationType:133,adCreativeOptimizationOptionValue:1330005,apiFormat:"INSTAGRAM_REELS"}]),m=function(a,b,d){var e=[];c("isTruthy")(a)&&e.push({adCreativeOptimizationType:133,adCreativeOptimizationOptionValue:1330005,apiFormat:"INSTAGRAM_REELS"});c("isTruthy")(b)&&e.push({adCreativeOptimizationType:130,adCreativeOptimizationOptionValue:650024,apiFormat:"INSTAGRAM_STORY"});c("isTruthy")(d)&&e.push({adCreativeOptimizationType:149,adCreativeOptimizationOptionValue:1490005,apiFormat:"FACEBOOK_REELS_MOBILE"});return c("immutable").List(e)},n=c("immutable").List([{apiFormat:"INSTAGRAM_REELS"}]),o=function(a,b,d){var e=[];c("isTruthy")(a)&&e.push({apiFormat:"INSTAGRAM_REELS"});c("isTruthy")(b)&&e.push({apiFormat:"INSTAGRAM_STORY"});c("isTruthy")(d)&&e.push({apiFormat:"FACEBOOK_REELS_MOBILE"});return c("immutable").List(e)};function p(a,b,c,e,f){return b?d("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)?o(c,e,f):m(c,e,f):d("AdsAssetFeedUtils").isAdgroupUsingAssetFeedFromRecord(a)?n:l}a={type:"creative/optimizationTools",key:"MusicOnReels",icon:j,label:d("AdsUEditorAdgroupCreativeSectionStrings").MUSIC_TITLE,transformationGroup:c("immutable").Set([c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform]),description:d("AdsUEditorAdgroupCreativeSectionStrings").MUSIC_DESCRIPTION,getAdCreativeOptimizationInfoList:function(a,b,d){return b!==null&&c("adsAccountGK")._(b,"2GKC03UHS")&&d!=null?p(a,!0,d.isIGReelsActive,d.isIGStoriesActive,d.isFBReelsActive):p(a,!1)},getIsAvailableSelectorCFPModal:d("adsUEditorAdgroupMusicOnReelsToolsSelector").adsUEditorAdgroupMusicOnReelsToolsSelector,getCFPAffectedPlacements:function(a,b){var d=[];b!=null&&(b.isIGReelsActive&&d.push("previews/instagram_reels"),b.isIGStoriesActive&&d.push("previews/instagram_story"),b.isFBReelsActive&&d.push("previews/facebook_reels_mobile"));return a!==null&&c("adsAccountGK")._(a,"2GKC03UHS")?c("immutable").List(d):c("immutable").List(["previews/instagram_reels"])},getAppliedChangeSetFromAdgroup:function(a){return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(k)},FieldComponentCFP:function(a){var b=a.adgroupIDs;a=a.toolState;return i.jsx(c("AdsCreativeFeatureLoggingWrapper.react"),{adCreativeOptimizationType:[133],adgroupIDs:b,children:i.jsx(c("AdsCFPTransformationListItem.react"),{icon:j,label:d("AdsUEditorAdgroupCreativeSectionStrings").MUSIC_TITLE,toolState:a})})},CustomizeComponentCFP:function(a){return i.jsx(c("AdsCFPTransformationMusicOnReelsToolCustomizationContainer.react"),{source:a.source})},updateCFPGloabalChangeSet:function(a,b){return b.media_music!=null?a.set("media_music",b.media_music):a},getCFPGenericChangeSet:function(a){a={media_music:{type:a?"random":"opted_out"}};return new(c("AdsCreativeOptimizationToolChangeSetRecord"))(a)},mutateAdgroupCFP:function(a,b){return d("AdsCreativeFeaturesPlatformMutators").mutateAdgroupForMediaMusic(a,b)},isOptedInFromAdgroup:function(a){return d("AdsCreativeFeaturesUtils").isMusicOnReelsOptedInFromAdgroup(a)},convertAdgroupToChangeSet:function(a,b,c){var e=d("AdsCreativeFeaturesUtils").isMusicOnReelsOptedInFromAdgroup(a);if(e){e=d("AdsAssetFeedUtils").getAdgroupAudiosType(a);var f;if(e==="random")f={type:"random"};else if(e==="selected"){e=d("AdsAssetFeedUtils").getAdgroupAudiosIDs(a,!1,c);c=d("AdsAssetFeedUtils").getAdgroupAudiosAsset(a);var g=[];d("AdsUEditorAdgroupTransformationsGKSelector").adsMusicExpansionEnabledGKSelector?c.forEach(function(a,b){g.push({audio_asset_id:a,label:b})}):g=e.map(function(a){return{audio_asset_id:a}});f={type:"selected",selected_audios:g}}return b.set("media_music",f)}return b},getStatusFromAdgroupSpec:function(a){return a.map(function(a){return(a=a.creative)==null?void 0:(a=a.asset_feed_spec)==null?void 0:a.audios}).map(function(a){var b;a&&a.map(function(a){b=a.get("type")});return b==="random"||b==="selected"})},getOptInStatusFromChangeSet:function(a){var b;return((b=a.media_music)==null?void 0:b.type)==="selected"||((b=a.media_music)==null?void 0:b.type)==="random"?"OPT_IN":"OPT_OUT"}};b=a;g["default"]=b}),98);
__d("AdsCFPToolsOrderingUtils",["immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=["dynamicExperiencesBundle","dynamicExperiences","feedGlados","imageAutoCrop","vidoAutoCrop","inlineComment","imageEnhancements","MusicOnReels","videoHighlight","cvTransformation"].reduce(function(a,b,c){a[b]=c;return a},{});function i(a,b){if(!Object.prototype.hasOwnProperty.call(h,a))return 1;return!Object.prototype.hasOwnProperty.call(h,b)?-1:h[a]-h[b]}function a(a){a=Array.from(a.keys());return d("immutable").OrderedSet(a.sort(i))}g.comparator=i;g.getOrderedPluginKey=a}),98);
__d("AdsCFPToolsGroupingUtils",["AdsCFPToolsKeysUtils","AdsCFPToolsOrderingUtils","AdsCreativeOptimizationBundlePlugins","AdsCreativeOptimizationToolChangeSetRecord","AdsCreativeOptimizationToolsPlugins","AdsDEOptimizationBundlePlugin","AdsOptimizationToolTransformationGroup","immutable","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(a.length===0)return b;b=a.every(function(a){return a.state!=="off"});if(b)return"on";b=a.every(function(a){return a.state==="off"});return b?"off":"relative"}function i(a){var b="off",e=d("AdsCFPToolsOrderingUtils").getOrderedPluginKey(a),f=d("AdsCFPToolsKeysUtils").getCFPBundleKeys(e).sort(d("AdsCFPToolsOrderingUtils").comparator);e=d("AdsCFPToolsKeysUtils").getCFPToolKeys(e).sort(d("AdsCFPToolsOrderingUtils").comparator);var g=new Set(e),i=new Set(e),j=d("immutable").OrderedMap(),k=[];f.forEach(function(e){var f=c("AdsCreativeOptimizationBundlePlugins").getByMixed(e),l=[];if(f){f=Array.from(f.optimizationToolKeys).sort(d("AdsCFPToolsOrderingUtils").comparator);f.forEach(function(c){if(g.has(c)){i["delete"](c);var d=a.get(c,b);d={key:c,state:d};l.push(d);j=j.set(c,d)}});f=h(l,"off");k.push({cfpBundleKey:e,bundleState:f,childTools:l})}});f=e.filter(function(a){return i.has(a)});var l=[];f.forEach(function(c){var d=a.get(c,b);d={key:c,state:d};l.push(d);j=j.set(c,d)});var m=d("immutable").OrderedMap(),n=d("immutable").OrderedSet();l.forEach(function(a){m=m.set(a.key,a.state),a.state==="on"&&(n=n.add(a.key))});k.forEach(function(a){m=m.set(a.cfpBundleKey,a.bundleState),a.bundleState==="on"&&(n=n.add(a.cfpBundleKey))});return{bundleState:k,individualToolState:l,allToolStates:j,availableRootLevelStates:m,optInRootLevelStates:n}}function a(a,b){var c=d("immutable").Map();a.forEach(function(a){var d=b.has(a)?"on":"off";c=c.set(a,d)});a=d("AdsCFPToolsKeysUtils").getCFPBundleKeysForTools(a.toArray());a.forEach(function(a){c=c.set(a,"relative")});return i(c)}function j(a,b){if(b.bundleState.length===0&&b.individualToolState.length===0)return;if(a!=null){var c=d("AdsCFPToolsKeysUtils").allCfpTransformationToolKeys.find(function(b){return b===a});if(c&&b.allToolStates.get(c)){c=b.allToolStates.get(c);return{key:c.key,state:c.state}}c=b.bundleState.find(function(b){return b.cfpBundleKey===a});if(c!=null)return{key:c.cfpBundleKey,state:c.bundleState}}}function b(a,b,d){if(a!=null){a=j(a,b);if(a!=null)return a}a=j(d,b);if(a!=null)return a;if(b.individualToolState.length>0&&b.individualToolState[0])return{key:b.individualToolState[0].key,state:b.individualToolState[0].state};if(b.bundleState.length>0&&b.bundleState[0])return{key:b.bundleState[0].cfpBundleKey,state:b.bundleState[0].bundleState};throw c("unrecoverableViolation")("CFP should have at least one available tool","ads_cx")}function e(a,b){var d=new(c("AdsCreativeOptimizationToolChangeSetRecord"))();c("AdsCreativeOptimizationToolsPlugins").getArray().filter(function(a){return a.transformationGroup.has(c("AdsOptimizationToolTransformationGroup").CreativeFeaturePlatform)&&!c("AdsDEOptimizationBundlePlugin").optimizationToolKeys.contains(a.key)}).forEach(function(c){c.convertAdgroupToChangeSet!=null&&(d=c.convertAdgroupToChangeSet(a,d,b))});return d}g.getCFPBundleState=h;g.groupCFPChangeSetsIntoBundles=i;g.constructCFPTransformationState=a;g.getCFPStateByKey=j;g.getCFPSelectedState=b;g.convertAdgroupToCFPGlobalChangeset=e}),98);
__d("AdsCFPToolsKeysUtils",["AdsCreativeOptimizationBundlePlugins","AdsCreativeOptimizationToolsPlugins"],(function(a,b,c,d,e,f,g){"use strict";e=c("AdsCreativeOptimizationBundlePlugins").getArray().filter(function(a){return a.FieldComponentCFP}).map(function(a){return a.key});f=c("AdsCreativeOptimizationToolsPlugins").getArray().filter(function(a){return a.FieldComponentCFP}).map(function(a){return a.key});var h=e.reduce(function(a,b){var d=c("AdsCreativeOptimizationBundlePlugins").getByMixed(b);d==null?void 0:(d=d.optimizationToolKeys)==null?void 0:d.forEach(function(c){return a.set(c,b)});return a},new Map());function a(a){return c("AdsCreativeOptimizationBundlePlugins").getArray().map(function(a){return a.key}).filter(function(b){return a.has(b)})}function b(a){return c("AdsCreativeOptimizationToolsPlugins").getArray().map(function(a){return a.key}).filter(function(b){return a.has(b)})}function d(a){return a.reduce(function(a,b){b=h.get(b);b!=null&&a.add(b);return a},new Set())}g.allCfpTransformationToolKeys=f;g.allCFPToolToBundleMap=h;g.getCFPBundleKeys=a;g.getCFPToolKeys=b;g.getCFPBundleKeysForTools=d}),98);
__d("AdsImageUploadApiErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGE_UPLOAD.API_ERROR"}}),null);
__d("AdsImageUploadFormatErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGE_UPLOAD.FORMAT_ERROR"}}),null);
__d("AdsImageUploadLoadFailDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){b=b.imageData;if(b.reasonForFail&&b.reasonForFail==="INVALID_FORMAT")return a.set(b.id,babelHelpers["extends"]({status:"INVALID_FORMAT"},b));else if(b.reasonForFail&&b.reasonForFail==="INVALID_SIZE")return a.set(b.id,babelHelpers["extends"]({status:"INVALID_SIZE"},b));return a.set(b.id,babelHelpers["extends"]({status:"LOAD_FAILED"},b))}a={reduce:function(a,b){return g(a,b)}};b=a;f["default"]=b}),66);
__d("AdsImageUploadProviderPlugin",["immutable"],(function(a,b,c,d,e,f,g){"use strict";a=function(){return c("immutable").Map()};b={initialState:a()};d=b;g["default"]=d}),98);
__d("AdsImageUploadProvider",["AdsImageUploadProviderPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsImageUploadProviderPlugin"),"AdsImageUploadProviderPlugin")}),null);
__d("AdsImageUploadLoadFailDataAction",["AdsImageUploadLoadFailDataReducerPlugin","AdsImageUploadProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadLoadFailDataReducerPlugin"),b("AdsImageUploadProvider"),{},"")]},function(){return[]},"IMAGE_UPLOAD.LOAD_FAIL");e.exports=a}),null);
__d("AdsImageUploadLoadFailDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGE_UPLOAD.LOAD_FAIL"}}),null);
__d("AdsImageUploadLoadSuccessDataAction",["AdsImageUploadLoadSuccessDataReducerPlugin","AdsImageUploadProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadLoadSuccessDataReducerPlugin"),b("AdsImageUploadProvider"),{},"")]},function(){return[]},"IMAGE_UPLOAD.LOAD_SUCCESS");e.exports=a}),null);
__d("AdsImageUploadReadSuccessDataAction",["AdsImageUploadProvider","AdsImageUploadReadSuccessDataReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadReadSuccessDataReducerPlugin"),b("AdsImageUploadProvider"),{},"")]},function(){return[]},"IMAGE_UPLOAD.READ_SUCCESS");e.exports=a}),null);
__d("AdsImageUploadStartDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGE_UPLOAD.START"}}),null);
__d("AdsImageUploadUploadFailDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGE_UPLOAD.UPLOAD_FAIL"}}),null);
__d("AdsImageUploadUploadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGE_UPLOAD.UPLOAD_SUCCESS"}}),null);
__d("AdsImageUploadDragDialogAndVideoThumbnailUploadPerfScenarioLoggerPlugins",["AdsImageUploadStartDataActionFlux","AdsImageUploadUploadFailDataActionFlux","AdsImageUploadUploadSuccessDataActionFlux","AdsMgmtPerfScenarioController","AdsPerfInteractionsController","AdsScenarioUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=0,i=d("AdsScenarioUtil").genScenarioInstanceKey("am:edit_ads:upload_asset_in_media_dialog");function j(a,b){return b.imagesData?{current_action_items_count:b.imagesData.imagesData.length}:{current_action_items_count:h}}a={log:function(a){var b;i=c("AdsMgmtPerfScenarioController").startScenario({name:"am:edit_ads:upload_asset_in_media_dialog",logData:j},d("AdsImageUploadStartDataActionFlux").actionType,a);c("AdsPerfInteractionsController").startInteraction("am.edit_ads.upload_asset_in_media_dialog",f.id+"_"+((b=a.perfInteractionComponent)!=null?b:"default"),{scenarioID:i,overrideTrackingSurface:a.perfInteractionComponent})}};b={log:function(a){var b;c("AdsMgmtPerfScenarioController").endScenarioFail(i,d("AdsImageUploadUploadFailDataActionFlux").actionType,a);c("AdsMgmtPerfScenarioController").endScenariosWithTrigger("ads_video_upload_thumbnail_fail",d("AdsImageUploadUploadFailDataActionFlux").actionType,a,(b={},b.message=a.imageData.errorMessage,b))}};e={log:function(a){c("AdsMgmtPerfScenarioController").endScenarioSuccess(i,d("AdsImageUploadUploadSuccessDataActionFlux").actionType,a),c("AdsMgmtPerfScenarioController").endScenariosWithTrigger("ads_video_upload_thumbnail_succeed",d("AdsImageUploadUploadSuccessDataActionFlux").actionType,a)}};g.AdsImageUploadDragDialogStartLoggerPlugin=a;g.AdsImageUploadDragDialogAndVideoThumbnailUploadFailLoggerPlugin=b;g.AdsImageUploadDragDialogAndVideoThumbnailUploadSuccessLoggerPlugin=e}),98);
__d("AdsImageUploadStartPolicyCompliantReducerPlugin",["AdsMediaPickerPolicyCompliantSelectedOptionProvider"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){return{selectedOption:c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").getInitialState().selectedOption}}};b=a;g["default"]=b}),98);
__d("AdsImageUploadStartDataAction",["AdsImageUploadDragDialogAndVideoThumbnailUploadPerfScenarioLoggerPlugins","AdsImageUploadProvider","AdsImageUploadStartDataReducerPlugin","AdsImageUploadStartPolicyCompliantReducerPlugin","AdsMediaPickerPolicyCompliantSelectedOptionProvider","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadStartDataReducerPlugin"),b("AdsImageUploadProvider"),{},""),b("Laminar").__createReducer(b("AdsImageUploadStartPolicyCompliantReducerPlugin"),b("AdsMediaPickerPolicyCompliantSelectedOptionProvider"),{},"")]},function(){return[b("Laminar").__createLogger("AdsImageUploadDragDialogAndVideoThumbnailUploadPerfScenarioLoggerPlugins.AdsImageUploadDragDialogStartLoggerPlugin",b("AdsImageUploadDragDialogAndVideoThumbnailUploadPerfScenarioLoggerPlugins").AdsImageUploadDragDialogStartLoggerPlugin,{})]},"IMAGE_UPLOAD.START");e.exports=a}),null);
__d("AdsAccountImageSourceUploadSuccessReducerPlugin",["AdsImageIDClasses","immutable"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){if(!b.imageData)return a;b=d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(b.imageData.accountID,b.imageData.hash);return a.uploadedImageIDs.has(b)?a:{uploadedImageIDs:c("immutable").OrderedSet([b]).union(a.uploadedImageIDs)}}};b=a;g["default"]=b}),98);
__d("AdsImageSelectorV2StateAdsImageUploadUploadSuccessDataReducerPlugin",["AdsImageSelectorV2StateUtils"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){if(b.imageData!=null){b=d("AdsImageSelectorV2StateUtils").handleUploadSuccess(a,b.imageData);return d("AdsImageSelectorV2StateUtils").validateImages(b)}return a}};b=a;g["default"]=b}),98);
__d("AdsImageUploadLoggerPlugins",["AdsInterfacesLogEvents","adsEditorLoggerLog"],(function(a,b,c,d,e,f,g){"use strict";a={log:function(a){c("adsEditorLoggerLog")(c("AdsInterfacesLogEvents").Event.IMAGE_LIB_UPLOAD_ERROR,{})}};b={log:function(a){c("adsEditorLoggerLog")(c("AdsInterfacesLogEvents").Event.IMAGE_LIB_UPLOAD_SUCCESS,{})}};g.AdsImageUploadErrorDataLoggerPlugin=a;g.AdsImageUploadUploadSuccessDataLoggerPlugin=b}),98);
__d("AdsImageUploadUploadSuccessDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){b=b.imageData;return b==null?a:a.set(b.id,babelHelpers["extends"]({status:"UPLOADED"},b))}a={reduce:function(a,b){return g(a,b)}};b=a;f["default"]=b}),66);
__d("AdsImageUploadUploadSuccessReducerPlugin",["AdsAccountImagesQuery","AdsImageIDClasses","LoadObject","immutable","isTruthy"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b,e){var f;e=e.currentQuery;if(b.imageData==null)return a;e=e.query;var g=b.imageData.accountID;(e==null||!c("isTruthy")((f=e)==null?void 0:f.isForAllImageSource))&&(e=new(c("AdsAccountImagesQuery"))({accountID:g}));f=d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(b.imageData.accountID,b.imageData.hash);g=a.get(e).getValueEnforcing();b=g.imageIDs;var h=g.after;g=g.uploadedImageIDs;if(g.has(f)||b.has(f))return a;var i=b,j=g;c("isTruthy")(e.isForAllImageSource)&&i.size+j.size>=e.pageLimit&&(i.size>=1?i=b.remove(b.last()):j=j.remove(g.last()));b=c("immutable").OrderedSet([f]).union(j);g=c("LoadObject").withValue({after:h,imageIDs:i,uploadedImageIDs:b});return a.set(e,g)}};b=a;g["default"]=b}),98);
__d("AdsImageUploadUploadSuccessDataAction",["AdsAccountImageSourceImageListProvider","AdsAccountImageSourceStateProvider","AdsAccountImageSourceUploadSuccessReducerPlugin","AdsAccountImageSourceUploadedListProvider","AdsCreativeContainerImagePickerDataProvider","AdsCreativeContainerImagePickerReducerPlugins","AdsImageSelectorV2StateAdsImageUploadUploadSuccessDataReducerPlugin","AdsImageSelectorV2StateProvider","AdsImageUploadDragDialogAndVideoThumbnailUploadPerfScenarioLoggerPlugins","AdsImageUploadLoggerPlugins","AdsImageUploadProvider","AdsImageUploadUploadSuccessDataReducerPlugin","AdsImageUploadUploadSuccessReducerPlugin","AdsMediaPickerImageCustomizationDataProvider","AdsMediaPickerImageCustomizationReducerPlugins","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAccountImageSourceUploadSuccessReducerPlugin"),b("AdsAccountImageSourceUploadedListProvider"),{},""),b("Laminar").__createReducer(b("AdsCreativeContainerImagePickerReducerPlugins").onUploadSuccess,b("AdsCreativeContainerImagePickerDataProvider"),{},""),b("Laminar").__createReducer(b("AdsImageSelectorV2StateAdsImageUploadUploadSuccessDataReducerPlugin"),b("AdsImageSelectorV2StateProvider"),{},""),b("Laminar").__createReducer(b("AdsImageUploadUploadSuccessDataReducerPlugin"),b("AdsImageUploadProvider"),{},""),b("Laminar").__createReducer(b("AdsImageUploadUploadSuccessReducerPlugin"),b("AdsAccountImageSourceImageListProvider"),{currentQuery:b("AdsAccountImageSourceStateProvider")},""),b("Laminar").__createReducer(b("AdsMediaPickerImageCustomizationReducerPlugins").onUploadSuccess,b("AdsMediaPickerImageCustomizationDataProvider"),{},"")]},function(){return[b("Laminar").__createLogger("AdsImageUploadDragDialogAndVideoThumbnailUploadPerfScenarioLoggerPlugins.AdsImageUploadDragDialogAndVideoThumbnailUploadSuccessLoggerPlugin",b("AdsImageUploadDragDialogAndVideoThumbnailUploadPerfScenarioLoggerPlugins").AdsImageUploadDragDialogAndVideoThumbnailUploadSuccessLoggerPlugin,{}),b("Laminar").__createLogger("AdsImageUploadLoggerPlugins.AdsImageUploadUploadSuccessDataLoggerPlugin",b("AdsImageUploadLoggerPlugins").AdsImageUploadUploadSuccessDataLoggerPlugin,{})]},"IMAGE_UPLOAD.UPLOAD_SUCCESS");e.exports=a}),null);
__d("AdsImageUploadConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({maxWidth:2048,maxHeight:2048})}),null);
__d("AdsImageUploadReadFailDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){b=b.imageData;return a.set(b.id,babelHelpers["extends"]({status:"READ_FAILED"},b))}a={reduce:function(a,b){return g(a,b)}};b=a;f["default"]=b}),66);
__d("AdsImageUploadReadFailDataAction",["AdsImageUploadProvider","AdsImageUploadReadFailDataReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadReadFailDataReducerPlugin"),b("AdsImageUploadProvider"),{},"")]},function(){return[]},"IMAGE_UPLOAD.READ_FAIL");e.exports=a}),null);
__d("AdsImageUploadTypes",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({DEFAULT:"DEFAULT",INVALID_FORMAT:"INVALID_FORMAT",INVALID_SIZE:"INVALID_SIZE"});f.UploadFailedReason=a}),66);
__d("AdsImageUploadUploadFailDataReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";function g(a,b){b=b.imageData;return a.set(b.id,babelHelpers["extends"]({status:"UPLOAD_FAILED"},b))}a={reduce:function(a,b){return g(a,b)}};b=a;f["default"]=b}),66);
__d("AdsImageUploadUploadFailDataAction",["AdsImageUploadDragDialogAndVideoThumbnailUploadPerfScenarioLoggerPlugins","AdsImageUploadProvider","AdsImageUploadUploadFailDataReducerPlugin","Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsImageUploadUploadFailDataReducerPlugin"),b("AdsImageUploadProvider"),{},"")]},function(){return[b("Laminar").__createLogger("AdsImageUploadDragDialogAndVideoThumbnailUploadPerfScenarioLoggerPlugins.AdsImageUploadDragDialogAndVideoThumbnailUploadFailLoggerPlugin",b("AdsImageUploadDragDialogAndVideoThumbnailUploadPerfScenarioLoggerPlugins").AdsImageUploadDragDialogAndVideoThumbnailUploadFailLoggerPlugin,{})]},"IMAGE_UPLOAD.UPLOAD_FAIL");e.exports=a}),null);
__d("ImageUtils",["UserAgent_DEPRECATED"],(function(a,b,c,d,e,f){var g="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAASUkqAAgAAAABABIBAwABAAAABgASAAAAAAD/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wAARCAABAAIDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD+/iiiigD/2Q==",h=null;a={checkIfBrowserExifAutoRotationEnabled:function(a){if(h!=null){a(h);return}var b=new Image();b.onload=function(){h=b.width!==2,a(h)};b.onerror=function(){h=!1,a(h)};b.src=g},hasLoaded:function(a){if(a.naturalWidth!==void 0)return a.complete&&a.width!==0;else if(a.height==20&&a.width==20&&a.complete)return!1;else if(a.complete===void 0&&b("UserAgent_DEPRECATED").webkit()<500){var c=new Image();c.src=a.src;return c.complete}return a.complete}};e.exports=a}),null);
__d("XmpHelper",["crc32","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=[137,80,78,71,13,10,26,10],j=[255,216],k="iTXt",l="XML:com.adobe.xmp\0\0\0\0\0",m="http://ns.adobe.com/xap/1.0/\0",n=-1;function b(a,b,d){a=x(a);if(c("gkx")("865")){var e=/<?GPano:CroppedAreaImage[A-Za-z]+.\"?\d+\"?(<\/GPano:CroppedAreaImage[A-Za-z]+>)?/gm,f=/<?GPano:FullPano[A-Za-z]+.\"?\d+\"?(<\/GPano:FullPano[A-Za-z]+>)?/gm,g=/<?GPano:ProjectionType.\"?.*\"?(\/GPano:ProjectionType)?/gm;e=b.replace(e,"").replace(f,"").replace(g,"")}else e=b;var h;u(a)?h=p(a,e):t(a)&&(h=o(a,e));if(h==null)return d(null);f=new Image();f.src=h;f.onerror=function(){return d(null)};f.onload=function(){return d(h)}}function o(a,b){b=s(m+b);if(b.length>65535)return null;var c=b.length+2;c=[a[0],a[1],255,225].concat(r(c),b,a.slice(2));return w(c)}function p(a,b){b=l+b;var d=s(b);b=q(c("crc32")(k+b));d=[].concat(a.slice(0,33),q(d.length),s(k),d,b,a.slice(33));return w(d)}function q(a){return[(a&4278190080)>>>24,(a&16711680)>>>16,(a&65280)>>>8,a&255]}function r(a){return[(a&65280)>>>8,a&255]}function s(a){var b=[],c=0;for(c=0;c<a.length;c++)b.push(a.charCodeAt(c));return b}function t(a){return v(a.slice(0,j.length),j)}function u(a){return v(a.slice(0,i.length),i)}function v(a,b){return a.toString()===b.toString()}function w(a){var b="",c,d,e,f,g,i,j=0;do c=a[j++],d=a[j++],e=a[j++],f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,i=e&63,isNaN(d)?g=i=64:isNaN(e)&&(i=64),b+=h.charAt(f)+h.charAt(c)+h.charAt(g)+h.charAt(i);while(j<a.length);u(a)?d="data:image/png;base64,":d="data:image/jpeg;base64,";return d+b}function x(a){var b,c,d,e,f,g=0,i=[];a=a.replace(/^data\:image\/(jpeg|png);base64,/,"");do c=h.indexOf(a.charAt(g++)),d=h.indexOf(a.charAt(g++)),e=h.indexOf(a.charAt(g++)),f=h.indexOf(a.charAt(g++)),c=c<<2|d>>4,d=(d&15)<<4|e>>2,b=(e&3)<<6|f,i.push(c),e!==64&&i.push(d),f!==64&&i.push(b);while(g<a.length);return i}function y(b,c){if(!a.FileReader)return c(null);var d=new FileReader();d.addEventListener("load",function(){c(d.result)},!1);a.DataView?d.readAsArrayBuffer(b):d.readAsBinaryString(b)}function d(a,b){try{y(a,function(a){if(a==null)return b(null);a=A(a);b(a)})}catch(a){b(null)}}function z(a,b,c){var d="<?xpacket",e=/<\?xpacket end=[\"\'][rw][\"\']\?>/,f=a;b=b;var g=0;a===n&&(f=c.indexOf(d));a=c.match(e);a!==null&&(b=a.index,g=a[0].length);return[f,b,g]}function A(a){var b=a instanceof ArrayBuffer?new DataView(a):a,c=1024*1024;a=a instanceof ArrayBuffer?a.byteLength:a.length;var d=0,e="",f=n,g=n,h=0;while(d<a){e+=B(b,d,c,a);d+=c;var i=z(f,g,e);f=i[0];g=i[1];h=i[2];if(f!==n&&g!==n)break;f===n&&(e="")}return f===n||g===n?null:e.slice(f,g+h)}function B(a,b,c,d){return typeof a==="string"?D(a,b,c,d):C(a,b,c,d)}function C(a,b,c,d){var e="";for(var f=b;f<b+c&&f<d;f++)e+=String.fromCharCode(a.getUint8(f));return e}function D(a,b,c,d){return a.substring(b,b+c)}g.ALPHABET=h;g.PNG_BYTES_SIGNATURE=i;g.JPG_BYTES_SIGNATURE=j;g.PNG_XMP_CHUNK_NAME=k;g.PNG_XMP_KEYWORD=l;g.JPG_XMP_KEYWORD=m;g.INDEX_NOT_FOUND=n;g.insertXmp=b;g.insertXmpForJpg=o;g.insertXmpForPng=p;g.intTo4ByteArray=q;g.intTo2ByteArray=r;g.stringToByteArray=s;g.isJpg=t;g.isPng=u;g.arrayEqual=v;g.encode64=w;g.decode64=x;g.convertFileToBuffer=y;g.readFromFile=d;g.findXmpIndexes=z;g.getXmp=A;g.getChunk=B;g.getChunkFromData=C;g.getChunkFromString=D}),98);
__d("applyExifOrientationToCanvas",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){var e=d.width;d=d.height;c>4&&(a.width=d,a.height=e,a.style.width=d+"px",a.style.height=e+"px");switch(c){case 2:b.translate(e,0);b.scale(-1,1);break;case 3:b.translate(e,d);b.rotate(Math.PI);break;case 4:b.translate(0,d);b.scale(1,-1);break;case 5:b.rotate(.5*Math.PI);b.scale(1,-1);break;case 6:b.rotate(.5*Math.PI);b.translate(0,-d);break;case 7:b.rotate(.5*Math.PI);b.translate(e,-d);b.scale(-1,1);break;case 8:b.rotate(-.5*Math.PI);b.translate(-e,0);break}return b}f["default"]=a}),66);
__d("ImageReader",["DOM","Event","ImageExif","ImageUtils","Promise","XmpHelper","applyExifOrientationToCanvas"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g,h,i,j){var k=new Image(),l=function(){b(null,0,0)};c("Event").listen(k,{load:function(){if(h){b(a,k.width,k.height);return}f=f||k.width;g=g||k.height;var l=k.width,m=k.height;if(l>f||m>g){var n=Math.max(l/f,m/g);l=l/n<<0;m=m/n<<0}var o=c("DOM").create("canvas",{css:"background-color: transparent;",width:l,height:m}),p=o.getContext("2d");d("ImageUtils").checkIfBrowserExifAutoRotationEnabled(function(f){!f&&i&&i>0&&c("applyExifOrientationToCanvas")(o,p,i,{width:o.width,height:o.height});p.drawImage(k,0,0,k.width,k.height,0,0,l,m);var g=a;try{e==="image/png"?g=o.toDataURL("image/png"):g=o.toDataURL("image/jpeg")}catch(c){b(a,k.width,k.height)}try{j?d("XmpHelper").insertXmp(g,j,function(a){b(a||g,k.width,k.height)}):b(g,k.width,k.height)}catch(a){b(g,k.width,k.height)}})},error:l,abort:l});k.src=a}function i(b,c,e,f,g){d("ImageExif").readFromFile(b,function(i){var j=i.Orientation,k=new a.FileReader();k.onloadend=function(){d("XmpHelper").readFromFile(b,function(a){h(k.result,c,b.type,e,f,g,j,a)})};k.readAsDataURL(b)})}function e(a,c,d,e){return new(b("Promise"))(function(b){i(a,function(a){return b(a)},c,d,e)})}g.resizeIfNeeded=h;g.read=i;g.promiseRead=e}),98);
__d("AdsImageUploadDataLoader",["invariant","AdsDaoGraph","AdsImageBatchLoadedDataAction","AdsImageUploadConstants","AdsImageUploadLoadFailDataAction","AdsImageUploadLoadSuccessDataAction","AdsImageUploadReadFailDataAction","AdsImageUploadReadSuccessDataAction","AdsImageUploadTypes","AdsImageUploadUploadFailDataAction","AdsImageUploadUploadSuccessDataAction","AdsImageValidation","ImageReader","Promise","SphericalImage","getDOMImageSize","gkx","isTruthy","promiseDone","regeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){c("gkx")("4688")?j(a):i(a)}function i(a){c("getDOMImageSize")(URL.createObjectURL(a.file),function(b,c){l(a,b,c)})}function j(a){c("promiseDone")(b("Promise").all([k(a),m(a)]).then(function(a){c("AdsImageUploadUploadSuccessDataAction").dispatch({imageData:a[1]},{line:"69",module:"AdsImageUploadDataLoader.js"})}))}function k(a){return new(b("Promise"))(function(b,d){c("getDOMImageSize")(URL.createObjectURL(a.file),function(c,e){l(a,c,e)?b():d()})})}function l(a,b,e){var f=b<a.minDimensions.width||e<a.minDimensions.height,g=c("AdsImageValidation").isValidFormat(a.file.type);if(b&&e&&g&&!f){c("AdsImageUploadLoadSuccessDataAction").dispatch({imageData:babelHelpers["extends"]({},a)},{line:"103",module:"AdsImageUploadDataLoader.js"});return!0}else{b=d("AdsImageUploadTypes").UploadFailedReason.DEFAULT;!g?b=d("AdsImageUploadTypes").UploadFailedReason.INVALID_FORMAT:f&&(b=d("AdsImageUploadTypes").UploadFailedReason.INVALID_SIZE);c("AdsImageUploadLoadFailDataAction").dispatch({imageData:babelHelpers["extends"]({},a,{reasonForFail:b})},{line:"118",module:"AdsImageUploadDataLoader.js"});return!1}}function m(a){var e,f=!1;return new(b("Promise"))(function(g,i){var j,k,l,m,o,p,q,r;return b("regeneratorRuntime").async(function(s){while(1)switch(s.prev=s.next){case 0:if(c("gkx")("865")){s.next=10;break}s.prev=1;s.next=4;return b("regeneratorRuntime").awrap(c("SphericalImage").createFromBlob(a.file));case 4:j=s.sent;j.isSpherical()&&(f=!0);s.next=10;break;case 8:s.prev=8,s.t0=s["catch"](1);case 10:s.prev=10;s.next=13;return b("regeneratorRuntime").awrap(d("ImageReader").promiseRead(a.file,c("AdsImageUploadConstants").maxWidth,c("AdsImageUploadConstants").maxHeight,f));case 13:e=s.sent;c("isTruthy")(e)||h(0,2651);s.next=22;break;case 17:s.prev=17;s.t1=s["catch"](10);c("AdsImageUploadReadFailDataAction").dispatch({imageData:a},{line:"168",module:"AdsImageUploadDataLoader.js"});i();return s.abrupt("return");case 22:k=babelHelpers["extends"]({},a,{dataURI:e}),c("AdsImageUploadReadSuccessDataAction").dispatch({imageData:k},{line:"178",module:"AdsImageUploadDataLoader.js"}),(l=k.dataURI.split(","),m=l[0],o=l[1]),p={encoding:m,bytes:o},q=function(a){a=n(k,a);g(a)},r=function(a,b){a=babelHelpers["extends"]({},k,{errorMessage:b.error});c("AdsImageUploadUploadFailDataAction").dispatch({imageData:a},{line:"208",module:"AdsImageUploadDataLoader.js"});i()},c("AdsDaoGraph").add.imageForAccount.one(q,babelHelpers["extends"]({accountId:a.accountID},p,{handleError:r,name:a.file.name}));case 29:case"end":return s.stop()}},null,this,[[1,8],[10,17]])})}function e(a){var e,f,g,i;return b("regeneratorRuntime").async(function(j){while(1)switch(j.prev=j.next){case 0:f=!1;if(c("gkx")("865")){j.next=11;break}j.prev=2;j.next=5;return b("regeneratorRuntime").awrap(c("SphericalImage").createFromBlob(a.file));case 5:g=j.sent;g.isSpherical()&&(f=!0);j.next=11;break;case 9:j.prev=9,j.t0=j["catch"](2);case 11:j.prev=11;j.next=14;return b("regeneratorRuntime").awrap(d("ImageReader").promiseRead(a.file,c("AdsImageUploadConstants").maxWidth,c("AdsImageUploadConstants").maxHeight,f));case 14:e=j.sent;c("isTruthy")(e)||h(0,2651);j.next=22;break;case 18:j.prev=18;j.t1=j["catch"](11);c("AdsImageUploadReadFailDataAction").dispatch({imageData:a},{line:"260",module:"AdsImageUploadDataLoader.js"});return j.abrupt("return");case 22:i=babelHelpers["extends"]({},a,{dataURI:e}),c("AdsImageUploadReadSuccessDataAction").dispatch({imageData:i},{line:"269",module:"AdsImageUploadDataLoader.js"});case 24:case"end":return j.stop()}},null,this,[[2,9],[11,18]])}function f(a,b){var d=function(a){a=n(b,a);c("AdsImageUploadUploadSuccessDataAction").dispatch({imageData:a},{line:"288",module:"AdsImageUploadDataLoader.js"})},e=function(a,d){a=babelHelpers["extends"]({},b,{errorMessage:d.error});c("AdsImageUploadUploadFailDataAction").dispatch({imageData:a},{line:"310",module:"AdsImageUploadDataLoader.js"})};c("AdsDaoGraph").add.imageForAccount.one(d,babelHelpers["extends"]({accountId:b.accountID},a,{handleError:e,name:b.file.name}))}function n(a,b){var d=b.images[a.file.name].hash,e={hash:d,url:b.images[a.file.name].url};e=babelHelpers["extends"]({},a,e);var f=new Map();f.set(d,b.images[a.file.name]);c("AdsImageBatchLoadedDataAction").dispatch({images:f},{line:"340",module:"AdsImageUploadDataLoader.js"});return e}g.startLoad=a;g.startLoadOld=i;g.startLoadExperimental=j;g.readDOMSize=k;g.checkImage=l;g.startReadAndUpload=m;g.startRead=e;g.startUpload=f}),98);
__d("AdsCreativeContainerImagePickerReducerPlugins",["AdsAccountImageDataSourcePlugin","AdsImageIDClasses","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=c("immutable").OrderedSet([]);a={reduce:function(a){return babelHelpers["extends"]({},a,{selectedItems:h})}};b={reduce:function(a,b){return babelHelpers["extends"]({},a,{source:b.source})}};e={reduce:function(a,b){return babelHelpers["extends"]({},a,{selectedItems:c("immutable").OrderedSet([b.imageID])})}};f={reduce:function(a){return babelHelpers["extends"]({},a,{source:c("AdsAccountImageDataSourcePlugin").source})}};var i={reduce:function(a){return babelHelpers["extends"]({},a,{source:c("AdsAccountImageDataSourcePlugin").source})}},j={reduce:function(a,b){b=b.imageData;if(b==null)return a;b=d("AdsImageIDClasses").AdsImageID.fromAcountAndHash(b.accountID,b.hash);return b?babelHelpers["extends"]({},a,{lastUploadedImageID:b,selectedItems:c("immutable").OrderedSet([b])}):a}},k={reduce:function(a){return babelHelpers["extends"]({},a,{selectedItems:h,source:c("AdsAccountImageDataSourcePlugin").source})}};g.resetImageAsset=a;g.setImageSource=b;g.setImageID=e;g.onApplyChanges=f;g.onCloseCreativeContainer=i;g.onUploadSuccess=j;g.onUpdateCarouselCardIndex=k}),98);
__d("AdsImageUploadLoadSuccessDataReducerPlugin",["AdsImageUploadDataLoader","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){b=b.imageData;c("gkx")("4688")||d("AdsImageUploadDataLoader").startRead(b);return a.set(b.id,babelHelpers["extends"]({status:"READING"},b))}a={reduce:function(a,b){return h(a,b)}};b=a;g["default"]=b}),98);
__d("AdsImageUploadReadSuccessDataReducerPlugin",["AdsImageUploadDataLoader","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){b=b.imageData;var e=b.dataURI.split(","),f=e[0];e=e[1];f={encoding:f,bytes:e};c("gkx")("4688")||d("AdsImageUploadDataLoader").startUpload(f,b);return a.set(b.id,babelHelpers["extends"]({status:"UPLOADING"},b))}a={reduce:function(a,b){return h(a,b)}};b=a;g["default"]=b}),98);
__d("AdsImageUploadStartDataReducerPlugin",["AdsImageUploadDataLoader"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c,e,f){var g=a;c.forEach(function(a){a={accountID:b,file:a,id:"image-upload-"+g.size,isAutoCropEligible:f,minDimensions:e};d("AdsImageUploadDataLoader").startLoad(a);g=g.set(a.id,babelHelpers["extends"]({status:"LOADING"},a))});return g}a={reduce:function(a,b){return b.files!=null&&b.minDimensions!=null&&b.accountID!=null?h(a,b.accountID,b.files,b.minDimensions,b.isAutoCropEligible):a}};b=a;g["default"]=b}),98);
__d("AdsAccountImageSourceUIStore",["AdsAccountImageSourceImageListProvider","AdsAccountImageSourceStateProvider","AdsDataAtom","AdsImageIDClasses","AdsImageInfoStore","AdsImageStore","FluxSimpleDerivedStore","LoadObject","immutable"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(c("immutable").Record({imagesLoadObject:c("LoadObject").empty(),query:null,queryValueLoadObject:c("LoadObject").empty()})),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(c("immutable").Record({isLoading:!0,query:null,queryValueLoadObject:c("LoadObject").empty()}));a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.__getStores=function(){return[c("AdsAccountImageSourceImageListProvider").toFluxStore(),c("AdsAccountImageSourceStateProvider").toFluxStore(),c("AdsImageInfoStore"),c("AdsImageStore")]};e.__getData=function(){var a=c("AdsAccountImageSourceStateProvider")();a=a.query;if(!a)return new h();var b=c("AdsAccountImageSourceImageListProvider")().get(a);if(b.hasValue()){var e=[];b.getValueEnforcing().imageIDs.forEach(function(a){a instanceof d("AdsImageIDClasses").AdsAccountImageID&&e.push(a.getHash())});c("AdsImageStore").getAllFor(a.accountID,e)}var f=b.map(function(a){return a.imageIDs.map(function(a){return c("AdsImageInfoStore").getFullSize(a)})});return new h({imagesLoadObject:f,query:a,queryValueLoadObject:b})};e.__areEqual=function(a,b){return c("immutable").is(a,b)};e.__computeResult=function(a,b){var d=a.get("query"),e=a.get("queryValueLoadObject");a=!!a.get("imagesLoadObject").map(function(a){return a.some(function(a){return!a.hasValue()})}).getValue();if(b){var f=c("immutable").is(b.get("query"),d);d=f?b.get("query"):d;e=a&&f?b.get("queryValueLoadObject"):e}f=a||!e.hasValue()||e.isUpdating()||e.isLoading();a=(b||new i()).merge({isLoading:f,query:d,queryValueLoadObject:e});return b&&c("immutable").is(b,a)?b:a};return b}(c("FluxSimpleDerivedStore"));a.__moduleID=f.id;b=new a(c("AdsDataAtom"));g["default"]=b}),98);
__d("AdsCreativeToolImageUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a==null)return null;var c=a.file;a=a.status;c=c==null?void 0:c.name;if(a==="UPLOADING"||a==="LOADING"||a==="READING")return{name:c,progress:0,status:"buffering"};else if(a==="INVALID_FORMAT"||a==="INVALID_SIZE"||a==="LOAD_FAILED"||a==="READ_FAILED"||a==="UPLOAD_FAILED")return{errorMessage:b,name:c,progress:0,status:"error"};return null}f.getImageUploadStatus=a}),66);
__d("AdsImageDataSourceUtils",[],(function(a,b,c,d,e,f){"use strict";a={ALL_IMAGE:0,ACCOUNT_IMAGE:10,AUTO_EXTRACT_IMAGE:20,DIVERSE_IMAGE:29,RECOMMENDED_IMAGE:30,BUSINESS_IMAGE:40,INSTAGRAM_IMAGE:50,PAGE_IMAGE:60};f.IMAGE_DATA_SOURCE_RANKS=a}),66);
__d("AdsImageUploadErrorMessagesUtils",["fbt","adsFormatErrorMessage","isFalsey"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=h._("Image too small.");a=h._({"*":{"*":"This image is too small. Try one that's at least {width} x {height} px."}},[h._param("width",a.minWarningWidth,[0]),h._param("height",a.minWarningHeight,[0])]);return{shortMessage:b,longMessage:a}}function b(a){var b=h._("Image format not supported.");a=c("isFalsey")(a)?h._("The image format isn't supported. Please use a different image."):h._("The {image format} image format isn't supported. Please use a different image.",[h._param("image format",a)]);return{shortMessage:b,longMessage:a}}function d(a){var b=h._("Upload Error");a=c("adsFormatErrorMessage")(a);return{shortMessage:b,longMessage:a}}g.getImageTooSmallErrorMessages=a;g.getImageNotSupportedErrorMessages=b;g.getAPIErrorMessages=d}),98);
__d("AdsImageUploadErrorStoreState",["immutable"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(c("immutable").Record({apiError:null,sizeError:null,formatError:null}));g["default"]=a}),98);
__d("AdsImageUploadRemoveErrorsDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGE_UPLOAD.REMOVE_ERRORS"}}),null);
__d("AdsImageUploadSizeErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"IMAGE_UPLOAD.SIZE_ERROR"}}),null);
__d("AdsImageUploadErrorStore",["AdsDataAtom","AdsImageUploadApiErrorDataActionFlux","AdsImageUploadErrorMessagesUtils","AdsImageUploadErrorStoreState","AdsImageUploadFormatErrorDataActionFlux","AdsImageUploadLoadFailDataActionFlux","AdsImageUploadRemoveErrorsDataActionFlux","AdsImageUploadSizeErrorDataActionFlux","AdsImageUploadTypes","AdsImageUploadUploadFailDataActionFlux","AdsImageUploadUploadSuccessDataActionFlux","FluxReduceStore"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.getInitialState=function(){return new(c("AdsImageUploadErrorStoreState"))()};e.__getActionTypes=function(){return[d("AdsImageUploadApiErrorDataActionFlux").actionType,d("AdsImageUploadFormatErrorDataActionFlux").actionType,d("AdsImageUploadLoadFailDataActionFlux").actionType,d("AdsImageUploadRemoveErrorsDataActionFlux").actionType,d("AdsImageUploadSizeErrorDataActionFlux").actionType,d("AdsImageUploadUploadFailDataActionFlux").actionType,d("AdsImageUploadUploadSuccessDataActionFlux").actionType]};e.reduce=function(a,b){b=b.action;switch(b.type){case d("AdsImageUploadFormatErrorDataActionFlux").actionType:return a.set("formatError",b.message);case d("AdsImageUploadSizeErrorDataActionFlux").actionType:return a.set("sizeError",b.message);case d("AdsImageUploadApiErrorDataActionFlux").actionType:return a.set("apiError",b.message);case d("AdsImageUploadLoadFailDataActionFlux").actionType:return this.$AdsImageUploadErrorStore1(a,b.imageData);case d("AdsImageUploadUploadFailDataActionFlux").actionType:return this.$AdsImageUploadErrorStore2(a,b.imageData.errorMessage);case d("AdsImageUploadUploadSuccessDataActionFlux").actionType:return b.imageData?this.$AdsImageUploadErrorStore3(a):a;case d("AdsImageUploadRemoveErrorsDataActionFlux").actionType:return this.$AdsImageUploadErrorStore3(a)}return a};e.getUploadErrors=function(){var a=[];this.getState().forEach(function(b){b&&a.push(b)});return a};e.$AdsImageUploadErrorStore1=function(a,b){if(b.reasonForFail===d("AdsImageUploadTypes").UploadFailedReason.INVALID_FORMAT)return a.set("formatError",d("AdsImageUploadErrorMessagesUtils").getImageNotSupportedErrorMessages(b.file.type));else if(b.reasonForFail===d("AdsImageUploadTypes").UploadFailedReason.INVALID_SIZE)return a.set("sizeError",d("AdsImageUploadErrorMessagesUtils").getImageTooSmallErrorMessages({minWarningWidth:b.minDimensions.width,minWarningHeight:b.minDimensions.height}));else return a};e.$AdsImageUploadErrorStore2=function(a,b){return a.set("apiError",d("AdsImageUploadErrorMessagesUtils").getAPIErrorMessages(b))};e.$AdsImageUploadErrorStore3=function(a){return a.merge({apiError:null,sizeError:null,formatError:null})};return b}(c("FluxReduceStore"));a.__moduleID=f.id;b=new a(c("AdsDataAtom"));g["default"]=b}),98);
__d("AdsAccountImageDataSourcePlugin",["fbt","ix","AdsAccountImageSourceImageListLoadMoreAction","AdsAccountImageSourceSetQueryAction","AdsAccountImageSourceStateProvider","AdsAccountImageSourceUIStore","AdsAccountImageSourceUploadedListProvider","AdsAccountImagesQuery","AdsCreativeToolImageUtils","AdsDiverseImageDataSourcePlugin","AdsImageDataSourceUtils","AdsImageDialogFilterFieldConfig","AdsImageInfoStore","AdsImageSelectorV2StateSelectors","AdsImageSelectorV2Types","AdsImageUploadErrorStore","AdsImageUploadProvider","AdsImageUploadStartDataAction","AdsMediaPickerPolicyCompliantOptions","AdsMediaPickerPolicyCompliantSelectedOptionProvider","emptyFunction","immutable","isTruthy"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=c("AdsAccountImageSourceStateProvider").toFluxStore(),k=c("AdsImageUploadProvider").toFluxStore(),l={key:"ACCOUNT_IMAGE",type:"imageDataSource",rank:d("AdsImageDataSourceUtils").IMAGE_DATA_SOURCE_RANKS.ACCOUNT_IMAGE,icon:function(a){return i("567239")},tabIcon:i("1219358"),filters:c("immutable").OrderedSet([d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.POLICY,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.ASPECT_RATIO,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.HEIGHT,d("AdsImageDialogFilterFieldConfig").AdsImageDialogFilterFieldNames.WIDTH]),label:function(a){return h._("Account images")},shortLabel:h._("Account"),searchPlaceholder:h._("Search media"),source:d("AdsImageSelectorV2Types").AdsImageSource.ACCOUNT_IMAGE,getQuery:function(a,b){a=j.getState();b=a.query;return b},getStores:function(){return[].concat(d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector.getStores(),[c("AdsAccountImageSourceUploadedListProvider").toFluxStore(),j,c("AdsAccountImageSourceUIStore"),k,c("AdsImageUploadErrorStore"),c("AdsImageInfoStore")])},getUploadStatus:function(){var a=k.getState().last(),b=null,e=c("AdsImageUploadErrorStore").getUploadErrors();e.length&&(b=e[0].longMessage);return{uploadFailReason:b,uploadStatus:d("AdsCreativeToolImageUtils").getImageUploadStatus(a,b)}},hasQuery:function(a){if(a instanceof c("AdsAccountImagesQuery")){a=a.toJS();a.accountID;a.sortBy;a=babelHelpers.objectWithoutPropertiesLoose(a,["accountID","sortBy"]);return Object.values(a).some(Boolean)}return!1},isEnabled:c("emptyFunction").thatReturnsTrue,load:function(a){var b=d("AdsImageSelectorV2StateSelectors").getMaxSelectedImageIDsSelector(),e=l.getQuery(a.account.account_id,a.pageID),f=c("AdsAccountImageSourceUIStore").getState(),g=f.queryValueLoadObject;f=f.isLoading;var h=g.map(function(a){return a.imageIDs});g=g.map(function(a){return a.after});var i=c("AdsAccountImageSourceUploadedListProvider")();i=i.uploadedImageIDs;i=m(i,e);var j;if(h.hasValue())j=i.union(h.getValueEnforcing());else{j=(h=(h=h.getValue())!=null?h:i)!=null?h:c("immutable").OrderedSet()}i=null;h=null;if(l.getUploadStatus){var k=l.getUploadStatus();i=k.uploadFailReason;h=k.uploadStatus}c("AdsDiverseImageDataSourcePlugin").isEnabled({account:a.account,placements:a.placements,isDCOAdgroup:!1})&&c("AdsDiverseImageDataSourcePlugin").load(a);return{imageIDs:j,isLoading:f,maxSelectedImageIDs:b,uploadFailReason:i,hasNextPage:!!g.getValue(),uploadStatus:h,query:e}},loadMore:function(a){a instanceof c("AdsAccountImagesQuery")&&c("AdsAccountImageSourceImageListLoadMoreAction").dispatch({query:a},{line:"192",module:"AdsAccountImageDataSourcePlugin.js"})},onUpload:function(a,b,d,e,f){if(c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState().selectedOption===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT){var g=j.getState();g=g.query;g==null&&(g=new(c("AdsAccountImagesQuery"))({accountID:e}));g=g.set("hasIntegrityViolation",!1);c("AdsAccountImageSourceSetQueryAction").dispatch({query:g},{line:"217",module:"AdsAccountImageDataSourcePlugin.js"})}c("AdsImageUploadStartDataAction").dispatch({accountID:e,files:Array.from(a),minDimensions:{height:b,width:d},perfInteractionComponent:f},{line:"222",module:"AdsAccountImageDataSourcePlugin.js"})},onSearch:function(a,b,d){d=d.query;if(d==null){b=b.account.account_id;var e=c("AdsMediaPickerPolicyCompliantSelectedOptionProvider").toFluxStore().getState();e=e.selectedOption;e=e===c("AdsMediaPickerPolicyCompliantOptions").NON_COMPLIANT;d=new(c("AdsAccountImagesQuery"))({accountID:b,hasIntegrityViolation:e})}d instanceof c("AdsAccountImagesQuery")&&(d=d.set("nameQuery",a),c("AdsAccountImageSourceSetQueryAction").dispatch({query:d},{line:"251",module:"AdsAccountImageDataSourcePlugin.js"}))},applyFilters:function(a,b,e){e=e;if(!(e instanceof c("AdsAccountImagesQuery")))return;a=d("AdsImageDialogFilterFieldConfig").parseApiFilters(a);var f=a.minWidth,g=a.minHeight,h=a.minAspectRatio,i=a.maxAspectRatio;a=a.hasIntegrityViolation;if(e==null){b=b.account.account_id;e=new(c("AdsAccountImagesQuery"))({accountID:b,hasIntegrityViolation:a})}e=e.set("minWidth",f).set("minHeight",g).set("minAspectRatio",h).set("maxAspectRatio",i).set("hasIntegrityViolation",a);c("AdsAccountImageSourceSetQueryAction").dispatch({query:e},{line:"290",module:"AdsAccountImageDataSourcePlugin.js"})},applyPolicyCompliantFilter:function(a,b,d){if(!(d instanceof c("AdsAccountImagesQuery")))return;d=d;if(d==null){b=b.account.account_id;d=new(c("AdsAccountImagesQuery"))({accountID:b})}d=d.set("hasIntegrityViolation",a);c("AdsAccountImageSourceSetQueryAction").dispatch({query:d},{line:"316",module:"AdsAccountImageDataSourcePlugin.js"})},reset:function(a){c("AdsAccountImageSourceSetQueryAction").dispatch({query:new(c("AdsAccountImagesQuery"))({accountID:a.account.account_id})},{line:"320",module:"AdsAccountImageDataSourcePlugin.js"})}};function m(a,b){return b!=null&&l.hasQuery(b)&&b instanceof c("AdsAccountImagesQuery")?a.filter(function(a){return n(a,b)}):a}function n(a,b){if(c("isTruthy")(b.nameQuery)){var d=c("AdsImageInfoStore").getName(a).getValue();if(d!=null&&!d.toLocaleLowerCase().includes(b.nameQuery.toLocaleLowerCase()))return!1}if(b.minHeight>0||b.minWidth>0){d=(d=c("AdsImageInfoStore").getFullSize(a).getValue())==null?void 0:d.getTyped();if(d!=null&&(d.height<b.minHeight||d.width<b.minWidth))return!1}if(b.minAspectRatio!=null||b.maxAspectRatio!=null){a=(d=c("AdsImageInfoStore").getFullSize(a).getValue())==null?void 0:d.getTyped();if(a!=null){d=a.width/a.height;if(b.minAspectRatio!=null&&b.minAspectRatio>d)return!1;if(b.maxAspectRatio!=null&&b.maxAspectRatio<d)return!1}}return!0}a=l;g["default"]=a}),98);
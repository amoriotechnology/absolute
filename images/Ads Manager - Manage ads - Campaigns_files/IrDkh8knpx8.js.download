if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("AdsDeliveryGrowthPostOptimizationChangeObjectiveUpsellShowSuccessMessageReducerPlugin",["AdsMutators","getByPath","mapObject","setByPath"],(function(a,b,c,d,e,f,g){"use strict";a={reduce:function(a,b){var e=b.changedAdObjects,f=e.campaignGroups,g=e.campaigns,i=e.adgroups,j=b.postOptimization;return d("AdsMutators").chain(function(a){return h(a,c("mapObject")(f,function(a){return babelHelpers["extends"]({},a,{postOptimization:j})}),"campaignGroups")},function(a){return h(a,g,"campaigns")},function(a){return h(a,i,"adgroups")})(babelHelpers["extends"]({},a))}};function h(a,b,d){d=["changedAdObjects",d];var e=c("getByPath")(a,d);c("setByPath")(a,d,babelHelpers["extends"]({},e,b));return a}b=a;g["default"]=b}),98);
__d("AdsUEditorAdgroupPostOptimizationChangeObjectiveAction",["AdsCFCampaignProvider","AdsDeliveryGrowthPostOptimizationChangeObjectiveUpsellShowSuccessMessageReducerPlugin","AdsDeliveryGrowthPostOptimizationChangeObjectiveUpsellSuccessMessageProvider","AdsUEditorCampaignPostOptimizationChangeObjectiveReducerPlugin","Laminar","ifRequired_FOR_LAMINAR_CODEGEN"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsDeliveryGrowthPostOptimizationChangeObjectiveUpsellShowSuccessMessageReducerPlugin"),b("AdsDeliveryGrowthPostOptimizationChangeObjectiveUpsellSuccessMessageProvider"),{},""),b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsUEditorCampaignGroupPostOptimizationChangeObjectiveReducerPlugin",function(a){return b("ifRequired_FOR_LAMINAR_CODEGEN")("AdsCFCampaignGroupRecordProvider",function(c){return b("Laminar").__createReducer(a,c,{},"")})}),b("Laminar").__createReducer(b("AdsUEditorCampaignPostOptimizationChangeObjectiveReducerPlugin"),b("AdsCFCampaignProvider"),{},"")]},function(){return[]},"ADS_ADGROUP_POST_OPTIMIZATION_CHANGE_OBJECTIVE");e.exports=a}),null);
__d("AdsVideoSafeZoneOverlapModal.react",["fbt","ix","GeoButton.react","GeoFlexbox.react","GeoHeading.react","GeoModal.react","GeoModalFooter.react","GeoModalHeader.react","Image.react","geoMargin","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={box:{backgroundColor:"xqi1l69",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c"}};function l(a){return j.jsx("div",babelHelpers["extends"]({className:c("stylex")(k.box)},a))}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=j.jsx(c("GeoModalHeader.react"),{description:h._("Consider leaving roughly 14\u0025 of the top (250 pixels) and 20\u0025 of the bottom (340 pixels) of the video free from text, logos, or other key creative elements to avoid covering them with the profile icon or call-to-action."),heading:h._("Safe zone on Stories and Reels")}),d=j.jsx(c("GeoButton.react"),{label:h._("Change Video"),variant:"primary",onClick:function(){a.onHide(),a.onChangeVideo()}}),e=j.jsx(c("GeoButton.react"),{label:h._("Close"),onClick:a.onHide});return j.jsx(c("GeoModal.react"),{footer:j.jsx(c("GeoModalFooter.react"),{primaryButton:d,secondaryButton:e}),header:b,isShown:a.isShown,label:"Ads safe zones education modal with good and bad safe zones examples",width:805,onHide:a.onHide,children:j.jsx(l,{children:j.jsxs(c("GeoFlexbox.react"),{justifyContent:"space-evenly",children:[j.jsxs("div",{children:[j.jsx(c("GeoHeading.react"),{level:3,xstyle:c("geoMargin").top24,children:h._("Example of overlays within safe zones")}),j.jsx(c("Image.react"),{alt:"safe-zones-education-example-good",className:c("stylex")(c("geoMargin").vert24),src:i("290863")})]}),j.jsxs("div",{children:[j.jsx(c("GeoHeading.react"),{level:3,xstyle:c("geoMargin").top24,children:h._("Example of overlays outside of safe zones")}),j.jsx(c("Image.react"),{alt:"safe-zone-education-example-bad",className:c("stylex")(c("geoMargin").vert24),src:i("290862")})]})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("AdsDeliveryExistingPostOptimizationUpsellLoggingEvents",["keyMirrorRecursive"],(function(a,b,c,d,e,f,g){"use strict";a=c("keyMirrorRecursive")({POST_OPTIMIZATION_UPSELL:{CHANGE_OBJECTIVE:"",DIMISS_SUCCESS_MESSAGE:"",DIMISS_TIP:"",UNDO_CHANGE:""}});b=a;g["default"]=b}),98);
__d("AdsDeliveryGrowthPostOptimizationUtils",["invariant","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsCampaignGroupRecordAccessors","AdsConvertCampaignByObjectiveUtils","AdsMutators","deleteByPath","firstx","immutable","nullthrows","objectKeys"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){return c("AdsCampaignGroupRecordAccessors").objective.set(j(b),a)}function b(a,b,e){var f,g,h=e.account,j=e.accountBlockLists,k=e.changedCampaignGroups,l=c("nullthrows")(a.campaign_id||c("firstx")(c("objectKeys")(k)));f=c("immutable").Map((f={},f[l]=k[l].newAdObject,f));k=c("immutable").Map((g={},g[l]=k[l].oldAdObject,g));return d("AdsConvertCampaignByObjectiveUtils").convertCampaign(h,a,i(b,e.hostID),f,k,j,c("immutable").Map(),c("immutable").Map(),!1)}function i(a,b){b={hostID:b,optimizationType:a,optimizationGoal:c("AdsAPIOptimizationGoals").NONE};switch(a){case"landing_page_views_optimization":case"landing_page_views_optimization_with_confidence":b.optimizationGoal=c("AdsAPIOptimizationGoals").LANDING_PAGE_VIEWS;break;default:h(0,11473,a)}return b}function j(a){switch(a){case"landing_page_views_optimization":case"landing_page_views_optimization_with_confidence":return c("AdsAPIObjectives").LINK_CLICKS;default:h(0,11473,a)}}function e(a,b,c,e){return d("AdsMutators").chain(function(a){return k(a,b,"campaignGroups")},function(a){return k(a,c,"campaigns")},function(a){return k(a,e,"adgroups")})(a)}function k(a,b,d){return b.reduce(function(a,b){c("deleteByPath")(a,["changedAdObjects",d,b]);return a},a)}g.mutateCampaignGroup=a;g.mutateCampaign=b;g.getTargetObjectiveForOptimization=j;g.resetSuccessMessageState=e}),98);
__d("AdsDynamicTargetingPackagePluginMetaDataList",["fbt","AHGHelpTrayLink2.react","AdsAudienceBehaviorUtils","AdsUniqueMetricsHelpID","AdsUniqueMetricsID","Link.react","immutable","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("react"),j=h._("Don't exclude people from the audience based on how they interact with products.");a=c("immutable").Map({ADDED_TO_CART_NOT_PURCHASED:{title:function(){return h._("Added to cart but not purchased")},renderDescription:function(a,b){return h._("Promote products from {promoted product set} to people who added those products to their cart in the last {days} days",[h._param("promoted product set",b),h._param("days",a)])},renderMixedDescription:function(a){return h._("Promote a product set to people who added those products to their cart in the last {days} days.",[h._param("days",a)])},defaultRetentionDays:d("AdsAudienceBehaviorUtils").DEFAULT_RETENTION_DAYS_ADDED_TO_CART_NOT_PURCHASED},CROSS_SELL:{title:function(){return h._("Cross-sell products")},renderDescription:function(a,b){return h._("Promote {promoted product set} to people who purchased from the product set below in the last {days} days",[h._param("promoted product set",b),h._param("days",a)])},renderMixedDescription:function(a){return null},defaultRetentionDays:d("AdsAudienceBehaviorUtils").DEFAULT_RETENTION_DAYS_CROSS_SELL},CUSTOM_COMBINATION:{title:function(){return h._("Custom combination")},renderDescription:function(a,b){return h._("Promote {promoted product set} to a custom audience based on how {=m3} interact with products",[h._param("promoted product set",b),h._implicitParam("=m3",i.jsx(c("AHGHelpTrayLink2.react"),{helpCenterID:d("AdsUniqueMetricsID").AdsUniqueMetricsHelpID,children:h._("people")}))])},renderMixedDescription:function(a){return null},defaultRetentionDays:d("AdsAudienceBehaviorUtils").DEFAULT_RETENTION_DAYS},EXCLUDE_CUSTOM:{title:function(){return h._("Create a custom exclusion")},renderDescription:function(a,b,e){return e===!0?h._("Limit showing ads to {=m1} from the audience for {promoted product set, e.g. Men Clothing} based on how they interact with products.",[h._param("promoted product set, e.g. Men Clothing",b),h._implicitParam("=m1",i.jsx(c("AHGHelpTrayLink2.react"),{helpCenterID:d("AdsUniqueMetricsID").AdsUniqueMetricsHelpID,children:h._("people")}))]):h._("Exclude people from the audience for {promoted product set} based on how they interact with products.",[h._param("promoted product set",b)])},renderMixedDescription:function(a){return null},defaultRetentionDays:d("AdsAudienceBehaviorUtils").DEFAULT_RETENTION_DAYS},EXCLUDE_PURCHASED:{title:function(a){return a===!0?h._("Exclude {=m1} who may have purchased",[h._implicitParam("=m1",i.jsx(c("AHGHelpTrayLink2.react"),{helpCenterID:d("AdsUniqueMetricsID").AdsUniqueMetricsHelpID,children:h._("people")}))]):h._("Exclude people who purchased")},renderDescription:function(a,b,e){return e===!0?h._("Limit showing ads to {=m1} who purchased products from {promoted product set, e.g. Men Clothing} in the last {days} days.",[h._param("promoted product set, e.g. Men Clothing",b),h._param("days",a),h._implicitParam("=m1",i.jsx(c("AHGHelpTrayLink2.react"),{helpCenterID:d("AdsUniqueMetricsID").AdsUniqueMetricsHelpID,children:h._("people")}))]):h._("Don't show ads to people who purchased products from {promoted product set} in the last {days} days",[h._param("promoted product set",b),h._param("days",a)])},renderMixedDescription:function(a,b){return b===!0?h._("Limit showing ads to {=m2} who purchased products from that product set in the last {days} days.",[h._param("days",a),h._implicitParam("=m2",i.jsx(c("Link.react"),{href:d("AdsUniqueMetricsHelpID").getUniqueMetricsHelpURL(),target:"_blank",children:h._("people")}))]):h._("Don't show ads to people who purchased products from that product set in the last {days} days",[h._param("days",a)])},defaultRetentionDays:d("AdsAudienceBehaviorUtils").DEFAULT_RETENTION_DAYS},NO_EXCLUSION:{title:function(){return h._("No exclusions")},renderDescription:function(){return j},renderMixedDescription:function(){return j},defaultRetentionDays:d("AdsAudienceBehaviorUtils").DEFAULT_RETENTION_DAYS},UP_SELL:{title:function(){return h._("Upsell products")},renderDescription:function(a,b){return h._("Promote {promoted product set} to {=m4} who viewed or added products to cart from the product set below within the last {days} days",[h._param("promoted product set",b),h._param("days",a),h._implicitParam("=m4",i.jsx(c("Link.react"),{href:d("AdsUniqueMetricsHelpID").getUniqueMetricsHelpURL(),target:"_blank",children:h._("people")}))])},renderMixedDescription:function(a){return h._("Promote a product set to {=m2} who viewed or added products to cart from that product set within the last {days} days",[h._param("days",a),h._implicitParam("=m2",i.jsx(c("Link.react"),{href:d("AdsUniqueMetricsHelpID").getUniqueMetricsHelpURL(),target:"_blank",children:h._("people")}))])},defaultRetentionDays:d("AdsAudienceBehaviorUtils").DEFAULT_RETENTION_DAYS_UP_SELL},VIEWED_ADDED_TO_CART_NOT_PURCHASED:{title:function(){return h._("Viewed or added to cart but not purchased")},renderDescription:function(a,b){return h._("Promote products from {promoted product set} to people who viewed or added those products to cart in the last {days} days",[h._param("promoted product set",b),h._param("days",a)])},renderMixedDescription:function(a){return h._("Promote a product set to people who viewed or added those products to their cart in the last {days} days",[h._param("days",a)])},defaultRetentionDays:d("AdsAudienceBehaviorUtils").DEFAULT_RETENTION_DAYS_VIEWED_ADDED_TO_CART_NOT_PURCHASED},COLLABORATIVE_ADS:{title:function(){return h._("Extended audience retargeting")},renderDescription:function(a,b){return h._("Promote your product set to {=m1} who viewed or added to cart items in the same categories as your product, in the last {days} days",[h._param("days",a),h._implicitParam("=m1",i.jsx(c("AHGHelpTrayLink2.react"),{helpCenterID:d("AdsUniqueMetricsID").AdsUniqueMetricsHelpID,children:h._("people")}))])},renderMixedDescription:function(a){return h._("Promote a product set to {=m2} who viewed specific categories on your partner's website or app in the last {days} days",[h._param("days",a),h._implicitParam("=m2",i.jsx(c("Link.react"),{href:d("AdsUniqueMetricsHelpID").getUniqueMetricsHelpURL(),target:"_blank",children:h._("people")}))])},defaultRetentionDays:d("AdsAudienceBehaviorUtils").DEFAULT_RETENTION_DAYS_COLLABORATIVE_ADS}});b=a;g["default"]=b}),98);
__d("AdsUEditorAdgroupExistingPostOptimizationUpsellField.react",["fbt","AdsIntelligentInlineNux.react","AdsInterfacesLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var d=b.prototype;d.render=function(){c("AdsInterfacesLogger").logOnce({eventName:"md_dead_code",data:{message:"AdsUEditorAdgroupExistingPostOptimizationUpsellField.react"}});return i.jsx(c("AdsIntelligentInlineNux.react"),{ccCardProps:{category:"RECOMMENDATION_BEST_PRACTICE",ctaData:[{type:"BUTTON_GROUP",data:{buttonsData:[{text:h._("Try landing page views"),onCallToAction:this.props.onChange}]}}],header:h._("Get better results for your post links"),textData:[{type:"PARAGRAPH",data:{text:h._("Since your post is using links, you can get better results by optimizing for landing page views in the traffic objective to see how many people wait for your entire webpage or Instant Experience to load.")}},{type:"SECTION_TITLE",data:{text:h._("What will change?")}},{type:"BULLETED_LIST",data:{listItems:[h._("Objective: post engagement will become traffic"),h._("Optimization: post engagement will become landing page views")]}}]},messageGroup:"CREATION_AND_EDITING_L1",messageID:"dg_ppe_to_traffic_lpv_upsell_tip",onCustomizedClose:this.props.onClose})};return b}(i.PureComponent);g["default"]=a}),98);
__d("AdsUEditorAdgroupExistingPostOptimizationUpsellFieldContainer.react",["AdAccountGraphIDUtils","AdsAccountStore","AdsAdAccountPublisherBlockListsProvider","AdsDeliveryExistingPostOptimizationUpsellLoggingEvents","AdsDeliveryGrowthPostOptimizationUtils","AdsFluxContainer","AdsInterfacesLogger","AdsSelectorUtils","AdsUEditorAdgroupExistingPostOptimizationUpsellField.react","AdsUEditorAdgroupPostOptimizationChangeObjectiveAction","AdsUEditorContextType","adsUEditorAdgroupExistingPostOptimizationSelector","adsUEditorAdgroupsForSelectedCampaignsSelector_SLOW","adsUEditorSelectedCampaignGroupsSelector","adsUEditorSelectedCampaignsSelector","compactArray","getByPath","nullthrows","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(){var a=e.state,b=a.account,f=a.accountBlockLists,g=a.adgroups,h=a.campaignGroups,i=a.campaigns,k=a.hostID;a=a.postOptimization;var l=j(h,d("AdsDeliveryGrowthPostOptimizationUtils").mutateCampaignGroup,a);g={adgroups:j(g,function(a){return a},a),campaignGroups:l,campaigns:j(i,d("AdsDeliveryGrowthPostOptimizationUtils").mutateCampaign,a,{account:b,accountBlockLists:f,changedCampaignGroups:l,hostID:k})};c("AdsInterfacesLogger").log({eventName:c("AdsDeliveryExistingPostOptimizationUpsellLoggingEvents").POST_OPTIMIZATION_UPSELL.CHANGE_OBJECTIVE});c("AdsUEditorAdgroupPostOptimizationChangeObjectiveAction").dispatch({campaignGroupIDs:h.map(function(a){return a.id}),campaignIDs:i.map(function(a){return a.id}),changedAdObjects:g,hostID:k,postOptimization:a},{line:"172",module:"AdsUEditorAdgroupExistingPostOptimizationUpsellFieldContainer.react.js"})},b)||babelHelpers.assertThisInitialized(e)}b.getStores=function(a,b){a=b.adgroupEditorContext;return[c("AdsAccountStore"),c("AdsAdAccountPublisherBlockListsProvider").toFluxStore()].concat(d("AdsSelectorUtils").getStores([c("adsUEditorAdgroupExistingPostOptimizationSelector"),c("adsUEditorAdgroupsForSelectedCampaignsSelector_SLOW"),c("adsUEditorSelectedCampaignGroupsSelector"),c("adsUEditorSelectedCampaignsSelector")],a))};b.calculateState=function(a,b,e){a=e.adgroupEditorContext;b=c("compactArray")(c("adsUEditorAdgroupsForSelectedCampaignsSelector_SLOW")(a).getValue()||[]);e=c("AdsAccountStore").getSelectedAccount().getValueEnforcing();var f=c("AdsAdAccountPublisherBlockListsProvider")().get(d("AdAccountGraphIDUtils").castGraphIDToString_useOnlyWhenMakingAPIRequests(e.id)).getValue()||[];return{account:e,accountBlockLists:f,adgroups:b,campaignGroups:c("adsUEditorSelectedCampaignGroupsSelector")(a),campaigns:c("adsUEditorSelectedCampaignsSelector")(a),hostID:a.hostID,postOptimization:c("nullthrows")(c("adsUEditorAdgroupExistingPostOptimizationSelector")(a))}};var e=b.prototype;e.render=function(){c("AdsInterfacesLogger").logOnce({eventName:"md_dead_code",data:{message:"AdsUEditorAdgroupExistingPostOptimizationUpsellFieldContainer.react"}});return h.jsx(c("AdsUEditorAdgroupExistingPostOptimizationUpsellField.react"),{onChange:this.$1,onClose:i})};return b}(h.PureComponent);a.contextTypes=c("AdsUEditorContextType").adgroup;function i(){c("AdsInterfacesLogger").log({eventName:c("AdsDeliveryExistingPostOptimizationUpsellLoggingEvents").POST_OPTIMIZATION_UPSELL.DIMISS_TIP})}function j(a,b,d,e){var f={};a.forEach(function(a){f[c("getByPath")(a,["id"])]={oldAdObject:a,newAdObject:b(a,d,e)}});return f}b=c("AdsFluxContainer").create(a,{withContext:!0,name:f.id});g["default"]=b}),98);
__d("AdsDynamicAudienceExcludePurchaseIOS14WarningContainer.react",["fbt","AdsFluxHooks","AdsInterfacesLogger","AdsLearnMore.react","GeoGuidanceCard.react","GeoGuidanceCardContent.react","GeoText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={guidanceCard:{marginBottom:"x12nagc",marginTop:"x1gslohp"}};function a(a){c("AdsInterfacesLogger").log({eventName:"targeting_dynamic_audience_ios14_warning_shown",data:{event_source:a.targetingCardID}});return i.jsx(c("GeoGuidanceCard.react"),{status:"warning",xstyle:j.guidanceCard,children:i.jsxs(c("GeoGuidanceCardContent.react"),{children:[i.jsx(c("GeoText.react"),{children:h._("Some people using iOS 14.5 or later devices may not be excluded from your audience. Read more about how iOS 14 may affect your ads.")}),i.jsx(c("AdsLearnMore.react"),{cmsID:"331612538028890"})]})})}a.displayName=a.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("DogCheckUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.length>0&&a.every(function(a){a=a.issues;return g(a,b)}))return"error";return a.some(function(a){a=a.issues;return h(a,b)})?"warning":"active"}function g(a,b){return i("every",a,b)}function h(a,b){return i("some",a,b)}function i(a,b,c){if(c.length===0)return!1;b=b.find(function(a){return a.key==="pixel_has_no_event_received"||a.key==="app_has_no_event_received"});if(b==null)return!1;var d=(b=(b=b.details.missing_event_data)==null?void 0:b.missing_events)!=null?b:[];b=function(a){return d.includes(a)};return a==="every"?c.every(b):c.some(b)}f.getAudienceStatus=a;f.eventSourceMissingAllCriticalEvents=g;f.eventSourceMissingSomeCriticalEvents=h}),66);
__d("AdsDynamicAudienceWarningEventSourceItem.react",["fbt","BUIStatusIndicator.react","DogCheckUtils","FDSLink.react","FDSText.react","ProductsSiteIdentifier.brands","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=k(a.data.issues,a.criticalEventsForRetargeting),e=d("ProductsSiteIdentifier.brands").getProductsEventsSourceURI(a.catalogID,a.data.eventSource.id);return i.jsxs("div",{className:"x1e558r4 xjkvuk6 x150jy0e x1iorvi4",children:[i.jsx(c("BUIStatusIndicator.react"),{margin:"_3-90",status:b}),i.jsx(c("FDSText.react"),{size:"meta1",children:i.jsx(c("FDSLink.react"),{href:e,target:"_blank",children:a.data.eventSource.name})}),i.jsx(c("FDSText.react"),{color:"secondary",display:"block",margin:"_3-9c",size:"meta1",children:i.jsx(j,{status:b})})]})}a.displayName=a.name+" [from "+f.id+"]";function j(a){a=a.status;switch(a){case"error":return h._("Not receiving any events");case"warning":return h._("Only receiving some events");case"active":return h._("Receiving all events");default:a;return null}}function k(a,b){if(d("DogCheckUtils").eventSourceMissingAllCriticalEvents(a,b))return"error";return d("DogCheckUtils").eventSourceMissingSomeCriticalEvents(a,b)?"warning":"active"}g["default"]=a}),98);
__d("AdsDynamicAudienceWarning.react",["fbt","ix","AdsDynamicAudienceWarningEventSourceItem.react","AdsInterfacesLogger","AdsLearnMore.react","BUIDivider.react","BUIPopover.react","DogCheckUtils","ExternalEventSourceTypes","FDSButton.react","Image.react","ProductsSiteIdentifier.brands","killswitch","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=i("390676"),l=i("401154");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$2=function(a){c.$1=a},c.$3=function(){return c.$1},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=d("DogCheckUtils").getAudienceStatus(this.props.eventSourceDatas,this.props.criticalEventsForRetargeting);if(a==="active")return null;m(a);return a==="warning"&&c("killswitch")("DYNAMIC_ADS_UI_WARN_ON_MISSING_SIGNAL")?null:j.jsxs("span",{className:"_3-9a",children:[j.jsx(c("Image.react"),{ref:this.$2,src:a==="error"?l:k}),j.jsx(c("BUIPopover.react"),{hoverContextRef:this.$3,children:j.jsx(n,babelHelpers["extends"]({},this.props,{status:a}))})]})};return b}(j.PureComponent);function m(a){c("AdsInterfacesLogger").log({eventName:"targeting_dynamic_audience_warning_shown",data:{warning_type:a}})}function n(a){return j.jsxs(j.Fragment,{children:[j.jsx(o,{eventSourceDatas:a.eventSourceDatas,status:a.status})," ",j.jsx(c("AdsLearnMore.react"),{cmsID:"946671458738854"}),j.jsx(c("BUIDivider.react"),{}),j.jsx("ul",{children:a.eventSourceDatas.map(function(b){return j.jsx("li",{children:j.jsx(c("AdsDynamicAudienceWarningEventSourceItem.react"),{catalogID:a.catalogID,criticalEventsForRetargeting:a.criticalEventsForRetargeting,data:b})},b.eventSource.id)})}),j.jsx(r,{catalogID:a.catalogID,status:a.status})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b="multi";if(a.eventSourceDatas.length===1){var d=a.eventSourceDatas[0].eventSource;d.source_type===c("ExternalEventSourceTypes").PIXEL?b="pixel":d.source_type===c("ExternalEventSourceTypes").APP&&(b="app")}return a.status==="warning"?j.jsx(q,{type:b}):j.jsx(p,{type:b})}o.displayName=o.name+" [from "+f.id+"]";function p(a){switch(a.type){case"pixel":return h._("Your products can't be retargeted because your pixel isn't receiving any events. Go to your catalog in Commerce Manager to fix your pixel, or choose a different retargeting option.");case"app":return h._("Your products can't be retargeted because your app isn't receiving any events. Go to your catalog in Commerce Manager to fix your app, or choose a different retargeting option.");case"multi":return h._("Your products can't be retargeted because your data sources aren't receiving any events. Go to your catalog in Commerce Manager to fix these data sources, or choose a different retargeting option.");default:a.type;return null}}function q(a){switch(a.type){case"pixel":return h._("Your pixel isn't receiving some events. This may affect your retargeting quality, so you should go to your catalog in Commerce Manager to fix your pixel.");case"app":return h._("Your app isn't receiving some events. This may affect your retargeting quality, so you should go to your catalog in Commerce Manager to fix your app.");case"multi":return h._("At least one of your data sources isn't receiving events. This may affect your retargeting quality, so you should go to your catalog in Commerce Manager to fix these data sources.")}}function r(a){var b=d("ProductsSiteIdentifier.brands").getProductsEventsSourcesURI(a.catalogID);a=a.status==="warning"?h._("Fix affected data sources"):h._("Fix data sources");return j.jsx(c("FDSButton.react"),{href:b,label:a,style:{marginLeft:16,marginTop:12},target:"_blank"})}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("adsUEditorCampaignProductAudienceEvents",["AdsAudienceBehaviorUtils","AdsUEditorSelectors","adsCreateSelector","adsGetProductAudienceSpecsFromCampaignRecord"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsUEditorSelectors").campaign.bulkByAccessor(c("adsGetProductAudienceSpecsFromCampaignRecord"))],function(a){var b=new Set();a.getValues().forEach(function(a){if(a==null)return;a.toJS().forEach(function(a){return a.inclusions.forEach(function(a){return b.add(d("AdsAudienceBehaviorUtils").getEventFromBehavior(a))})})});return Array.from(b)},{name:f.id+".adsUEditorCampaignProductAudienceEvents"});b=a;g["default"]=b}),98);
__d("adsUEditorCampaignProductCatalogEventSourceIssuesSelector",["AdsCampaignRecordAccessors","AdsLoadObjectUtils","AdsUEditorSelectors","DogIssuesDataProvider","ExternalEventSourceListStore","LoadObject","ProductSetDataProvider","adsCreateSelector","distinctArray","distinctArrayBy","filterNulls"],(function(a,b,c,d,e,f,g){"use strict";var h=["pixel_has_no_event_received"],i=["app_has_no_event_received"];function j(a,b){switch(a.source_type){case"APP":return b.get({objectType:"app",id:a.id,extraFilters:{checks:i,with_issue_only:!0}});case"PIXEL":return b.get({objectType:"pixel",id:a.id,extraFilters:{checks:h,with_issue_only:!0}});default:return c("LoadObject").withValue([])}}function k(a,b,c,e){return b.get(a).map(function(a){return c(a.catalogID)}).map(function(a){return a.filter(function(a){return a.source_type==="PIXEL"||a.source_type==="APP"}).map(function(a){return j(a,e).map(function(b){return{eventSource:a,issues:b}})})}).map(function(a){return d("AdsLoadObjectUtils").all(a.toArray())})}a=c("adsCreateSelector")([d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").promoted_object.product_set_id.get),c("ProductSetDataProvider").toFluxSelector(),c("ExternalEventSourceListStore").getSelector,c("DogIssuesDataProvider").toFluxSelector()],function(a,b,e,f){a=c("distinctArray")(c("filterNulls")(a.getValues()));a=a.map(function(a){return k(a,b,e,f)});return d("AdsLoadObjectUtils").all(a).map(function(a){var b;return(b=[]).concat.apply(b,a)}).map(function(a){return c("distinctArrayBy")(a,function(a){return a.eventSource.id})})},{name:f.id+".adsUEditorCampaignProductCatalogEventSourceIssuesSelector"});b=a;g["default"]=b}),98);
__d("adsUEditorDynamicAudienceWarningsSelector",["AdsCampaignRecordAccessors","AdsLoadObjectUtils","AdsUEditorSelectors","LoadObject","ProductSetDataProvider","adsCreateSelector","adsUEditorCampaignProductAudienceEvents","adsUEditorCampaignProductCatalogEventSourceIssuesSelector"],(function(a,b,c,d,e,f,g){"use strict";a=c("adsCreateSelector")([d("AdsUEditorSelectors").campaign.bulkByAccessor(c("AdsCampaignRecordAccessors").promoted_object.product_set_id.get),c("ProductSetDataProvider").toFluxSelector()],function(a,b){a=a.getValues().find(function(a){return a!=null});return a!=null?b.get(a).map(function(a){return a.catalogID}):c("LoadObject").empty()},{name:f.id+".catalogIDSelector"});b=c("adsCreateSelector")([c("adsUEditorCampaignProductAudienceEvents"),c("adsUEditorCampaignProductCatalogEventSourceIssuesSelector"),a],function(a,b,c){return{criticalEventsForRetargeting:a,loadData:d("AdsLoadObjectUtils").all([b,c]).map(function(a){var b=a[0];a=a[1];return{eventSourceDatas:b,catalogID:a}})}},{name:f.id+".adsUEditorDynamicAudienceWarningsSelector"});e=b;g["default"]=e}),98);
__d("AdsUEditorCampaignDynamicAudienceNoSignalNoticeContainer.react",["fbt","AdsFluxHooks","AdsStaticGuidanceCard.react","AdsUEditorHooks","DogCheckUtils","ProductsSiteIdentifier.brands","adsUEditorDynamicAudienceWarningsSelector","emptyFunction","loadObjectComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){var a=d("AdsUEditorHooks").useUEditorCampaignAdsSelector(c("adsUEditorDynamicAudienceWarningsSelector"));a=a.state;return i.jsx(j,{criticalEventsForRetargeting:a.criticalEventsForRetargeting,object:a.loadData})}a.displayName=a.name+" [from "+f.id+"]";var j=c("loadObjectComponent")({loaded:function(a,b){var c=a.catalogID;a=a.eventSourceDatas;b=b.criticalEventsForRetargeting;return i.jsx(k,{catalogID:c,criticalEventsForRetargeting:b,eventSourceDatas:a})},loading:function(){return null},error:function(){return null}});function k(a){var b=d("DogCheckUtils").getAudienceStatus(a.eventSourceDatas,a.criticalEventsForRetargeting);return b!=="error"?null:i.jsx("div",{className:"_3-8x",children:i.jsx(c("AdsStaticGuidanceCard.react"),{ccCardProps:{ctaData:[{type:"LEARN_MORE",data:{cmsID:"946671458738854"}},{type:"LINK",data:{text:h._("Fix data sources"),href:d("ProductsSiteIdentifier.brands").getProductsEventsSourcesURI(a.catalogID),onCallToAction:c("emptyFunction")}}],category:"ERROR",header:h._("Fix data sources to retarget your products"),messageID:"ads_dynamic_audience_no_signal",textData:[{type:"PARAGRAPH",data:{text:h._("Your data sources aren't receiving any events from your website or app. To use this retargeting option, go to your catalog in Commerce Manager and fix your data sources.")}}]}})})}k.displayName=k.name+" [from "+f.id+"]";b=d("AdsFluxHooks").adsFluxContainer(a,null,{containerName:f.id});g["default"]=b}),98);
__d("AdsUEditorCampaignDynamicAudienceWarningContainer.react",["AdsDynamicAudienceWarning.react","AdsUEditorContainer.react","adsUEditorDynamicAudienceWarningsSelector","loadObjectComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return h.jsx(i,{criticalEventsForRetargeting:this.props.criticalEventsForRetargeting,object:this.props.loadData})};return b}(h.PureComponent);var i=c("loadObjectComponent")({loaded:function(a,b){var d=a.catalogID;a=a.eventSourceDatas;b=b.criticalEventsForRetargeting;return h.jsx(c("AdsDynamicAudienceWarning.react"),{catalogID:d,criticalEventsForRetargeting:b,eventSourceDatas:a})},loading:function(){return null},error:function(){return null}});b=d("AdsUEditorContainer.react").createCampaignContainer(a,c("adsUEditorDynamicAudienceWarningsSelector"),f.id);g["default"]=b}),98);
__d("AdsDynamicTargetingCard.react",["cx","fbt","AdsAudienceBehaviorUtils","AdsBulkValueUtils","AdsDynamicAudienceExcludePurchaseIOS14WarningContainer.react","AdsDynamicTargetingPackagePluginMetaDataList","AdsErrorBoundary.react","AdsUEditorCampaignDynamicAudienceNoSignalNoticeContainer.react","AdsUEditorCampaignDynamicAudienceWarningContainer.react","BUIBaseNumericInput.react","DateConsts","FDSText.react","GeoGuidanceCard.react","GeoGuidanceCardContent.react","GeoGuidanceCardHeader.react","GeoSelector.react","GeoSelectorItem.react","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=50,l={guidanceCard:{marginBottom:"x12nagc",marginTop:"x1gslohp"},productSet:{fontWeight:"x117nqv4"}};function m(a){var b=Math.max.apply(Math,a.split(" ").map(function(a){return a.length}));return b<=k?a:a.substr(0,k)+"..."}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$4=function(a){var b=c.props,e=b.productAudienceSpecs;b=b.onChange;if(a==null||isNaN(a)||!e)return;b!=null&&b(d("AdsAudienceBehaviorUtils").getProductAudienceFieldsFromInput(String(a),e))},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.render=function(){var a=this.props.account!=null;return j.jsxs("div",{className:"_1hng"+(this.props.active?" _8xuw":""),"data-testid":void 0,children:[j.jsxs("div",{className:"_1hnh"+(this.props.isCustom?" _3-94":""),children:[j.jsx(c("FDSText.react"),{size:"body",children:c("AdsDynamicTargetingPackagePluginMetaDataList").get(this.props.id).title(a)}),this.props.titlePopover,j.jsx(n,{active:this.props.active})]}),this.$1(),j.jsx(o,{active:this.props.active}),this.props.active?this.props.content:null]})};e.$1=function(){var a;if(this.props.id==="COLLABORATIVE_ADS"){var b=[String(this.$2()),String(d("AdsAudienceBehaviorUtils").ALTERNATIVE_RETENTION_DAYS_COLLABORATIVE_ADS)];a=j.jsx("div",{className:"_9dd8",children:j.jsx(c("GeoSelector.react"),{"data-testid":void 0,isDisabled:!this.props.active,isLabelHidden:!0,label:"Retention Days",value:this.props.active?String(this.$3()):String(this.$2()),onChange:this.$4,children:b.map(function(a,b){return j.jsx(c("GeoSelectorItem.react"),{"data-testid":void 0,label:a,value:a},"extended-targeting-retention-days-"+b)})})})}else this.props.isCustom!==!0&&(a=j.jsx("div",{className:"_8xvv",children:j.jsx(c("BUIBaseNumericInput.react"),{hasError:this.$5()!=null,isDisabled:!this.props.active,max:null,min:d("AdsAudienceBehaviorUtils").MINIMUM_RETENTION_DAYS,placeholder:this.props.active?null:String(this.$2()),value:this.props.active?this.$3():null,onChange:this.$4})}));b=d("AdsBulkValueUtils").getUniformValueOrDefault(this.props.bulkPromotedProductSet);var e=c("AdsDynamicTargetingPackagePluginMetaDataList").get(this.props.id),f=this.props.account!=null;b=b!=null?e.renderDescription(a,j.jsx("span",{className:c("stylex")(l.productSet),children:m(b.name)}),f):e.renderMixedDescription(a,f);return j.jsxs("div",{className:"_1hnj",children:[j.jsx(c("FDSText.react"),{color:"secondary",size:"small",children:b}),this.props.isCustom!==!0&&this.$5()!=null&&j.jsx(c("GeoGuidanceCard.react"),{header:j.jsx(c("GeoGuidanceCardHeader.react"),{heading:i._("Inclusion or exclusion is too high")}),status:"error",xstyle:l.guidanceCard,children:j.jsx(c("GeoGuidanceCardContent.react"),{children:this.$5()})}),this.$6()]})};e.$3=function(){if(!this.props.productAudienceSpecs)return this.$2();var a=this.props.productAudienceSpecs[0].inclusions[0].retention_seconds;return Number(a)/d("DateConsts").SEC_PER_DAY};e.$2=function(){return c("AdsDynamicTargetingPackagePluginMetaDataList").get(this.props.id).defaultRetentionDays};e.$5=function(){if(!this.props.productAudienceSpecs||!this.props.active)return null;var a=this.props.productAudienceSpecs[0];a=a.inclusions[0];return d("AdsAudienceBehaviorUtils").hasInvalidRetention(a)?i._("Enter a number between {minimum number of days} and {maximum number of days}.",[i._param("minimum number of days",d("AdsAudienceBehaviorUtils").MINIMUM_RETENTION_DAYS),i._param("maximum number of days",d("AdsAudienceBehaviorUtils").MAXIMUM_RETENTION_DAYS)]):null};e.$6=function(){return this.props.active&&(this.props.id==="EXCLUDE_PURCHASED"||this.props.id==="EXCLUDE_CUSTOM")?j.jsx(c("AdsDynamicAudienceExcludePurchaseIOS14WarningContainer.react"),{targetingCardID:this.props.id}):null};return b}(j.Component);function n(a){return a.active===!1?null:j.jsx(c("AdsErrorBoundary.react"),{moduleName:"AdsUEditorCampaignDynamicAudienceWarningContainer",children:j.jsx(c("AdsUEditorCampaignDynamicAudienceWarningContainer.react"),{})})}n.displayName=n.name+" [from "+f.id+"]";function o(a){return a.active===!1?null:j.jsx(c("AdsErrorBoundary.react"),{moduleName:"AdsUEditorCampaignDynamicAudienceNoSignalNoticeContainer",children:j.jsx(c("AdsUEditorCampaignDynamicAudienceNoSignalNoticeContainer.react"),{})})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);